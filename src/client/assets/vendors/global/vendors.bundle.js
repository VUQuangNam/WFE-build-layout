function _classCallCheck(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } !function (t, e) { "use strict"; "object" == typeof module && "object" == typeof module.exports ? module.exports = t.document ? e(t, !0) : function (t) { if (!t.document) throw new Error("jQuery requires a window with a document"); return e(t) } : e(t) }("undefined" != typeof window ? window : this, function (t, e) { "use strict"; function n(t) { return null != t && t === t.window } var i = [], o = t.document, a = Object.getPrototypeOf, r = i.slice, s = i.concat, g = i.push, l = i.indexOf, c = {}, I = c.toString, u = c.hasOwnProperty, h = u.toString, d = h.call(Object), C = {}, A = function (t) { return "function" == typeof t && "number" != typeof t.nodeType }, p = { type: !0, src: !0, nonce: !0, noModule: !0 }; function m(t, e, n) { var i, a, r = (n = n || o).createElement("script"); if (r.text = t, e) for (i in p) (a = e[i] || e.getAttribute && e.getAttribute(i)) && r.setAttribute(i, a); n.head.appendChild(r).parentNode.removeChild(r) } function f(t) { return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? c[I.call(t)] || "object" : typeof t } var b = "3.4.0", B = function (t, e) { return new B.fn.init(t, e) }, y = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g; function v(t) { var e = !!t && "length" in t && t.length, i = f(t); return !A(t) && !n(t) && ("array" === i || 0 === e || "number" == typeof e && 0 < e && e - 1 in t) } B.fn = B.prototype = { jquery: b, constructor: B, length: 0, toArray: function () { return r.call(this) }, get: function (t) { return null == t ? r.call(this) : t < 0 ? this[t + this.length] : this[t] }, pushStack: function (t) { var e = B.merge(this.constructor(), t); return e.prevObject = this, e }, each: function (t) { return B.each(this, t) }, map: function (t) { return this.pushStack(B.map(this, function (e, n) { return t.call(e, n, e) })) }, slice: function () { return this.pushStack(r.apply(this, arguments)) }, first: function () { return this.eq(0) }, last: function () { return this.eq(-1) }, eq: function (t) { var e = this.length, n = +t + (t < 0 ? e : 0); return this.pushStack(0 <= n && n < e ? [this[n]] : []) }, end: function () { return this.prevObject || this.constructor() }, push: g, sort: i.sort, splice: i.splice }, B.extend = B.fn.extend = function () { var t, e, n, i, o, a, r = arguments[0] || {}, s = 1, g = arguments.length, l = !1; for ("boolean" == typeof r && (l = r, r = arguments[s] || {}, s++), "object" == typeof r || A(r) || (r = {}), s === g && (r = this, s--); s < g; s++)if (null != (t = arguments[s])) for (e in t) i = t[e], "__proto__" !== e && r !== i && (l && i && (B.isPlainObject(i) || (o = Array.isArray(i))) ? (n = r[e], a = o && !Array.isArray(n) ? [] : o || B.isPlainObject(n) ? n : {}, o = !1, r[e] = B.extend(l, a, i)) : void 0 !== i && (r[e] = i)); return r }, B.extend({ expando: "jQuery" + (b + Math.random()).replace(/\D/g, ""), isReady: !0, error: function (t) { throw new Error(t) }, noop: function () { }, isPlainObject: function (t) { var e, n; return !(!t || "[object Object]" !== I.call(t) || (e = a(t)) && ("function" != typeof (n = u.call(e, "constructor") && e.constructor) || h.call(n) !== d)) }, isEmptyObject: function (t) { var e; for (e in t) return !1; return !0 }, globalEval: function (t, e) { m(t, { nonce: e && e.nonce }) }, each: function (t, e) { var n, i = 0; if (v(t)) for (n = t.length; i < n && !1 !== e.call(t[i], i, t[i]); i++); else for (i in t) if (!1 === e.call(t[i], i, t[i])) break; return t }, trim: function (t) { return null == t ? "" : (t + "").replace(y, "") }, makeArray: function (t, e) { var n = e || []; return null != t && (v(Object(t)) ? B.merge(n, "string" == typeof t ? [t] : t) : g.call(n, t)), n }, inArray: function (t, e, n) { return null == e ? -1 : l.call(e, t, n) }, merge: function (t, e) { for (var n = +e.length, i = 0, o = t.length; i < n; i++)t[o++] = e[i]; return t.length = o, t }, grep: function (t, e, n) { for (var i = [], o = 0, a = t.length, r = !n; o < a; o++)!e(t[o], o) != r && i.push(t[o]); return i }, map: function (t, e, n) { var i, o, a = 0, r = []; if (v(t)) for (i = t.length; a < i; a++)null != (o = e(t[a], a, n)) && r.push(o); else for (a in t) null != (o = e(t[a], a, n)) && r.push(o); return s.apply([], r) }, guid: 1, support: C }), "function" == typeof Symbol && (B.fn[Symbol.iterator] = i[Symbol.iterator]), B.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function (t, e) { c["[object " + e + "]"] = e.toLowerCase() }); var x = function (t) { function e(t, e, n) { var i = "0x" + e - 65536; return i != i || n ? e : i < 0 ? String.fromCharCode(65536 + i) : String.fromCharCode(i >> 10 | 55296, 1023 & i | 56320) } function n() { d() } var i, o, a, r, s, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y = "sizzle" + 1 * new Date, v = t.document, x = 0, F = 0, Q = gt(), G = gt(), w = gt(), X = gt(), S = function (t, e) { return t === e && (h = !0), 0 }, k = {}.hasOwnProperty, D = [], Z = D.pop, U = D.push, W = D.push, T = D.slice, N = function (t, e) { for (var n = 0, i = t.length; n < i; n++)if (t[n] === e) return n; return -1 }, H = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped", E = "[\\x20\\t\\r\\n\\f]", R = "(?:\\\\.|[\\w-]|[^\0-\\xa0])+", Y = "\\[" + E + "*(" + R + ")(?:" + E + "*([*^$|!~]?=)" + E + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + R + "))|)" + E + "*\\]", O = ":(" + R + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + Y + ")*)|.*)\\)|)", _ = new RegExp(E + "+", "g"), V = new RegExp("^" + E + "+|((?:^|[^\\\\])(?:\\\\.)*)" + E + "+$", "g"), L = new RegExp("^" + E + "*," + E + "*"), M = new RegExp("^" + E + "*([>+~]|" + E + ")" + E + "*"), z = new RegExp(E + "|>"), P = new RegExp(O), K = new RegExp("^" + R + "$"), J = { ID: new RegExp("^#(" + R + ")"), CLASS: new RegExp("^\\.(" + R + ")"), TAG: new RegExp("^(" + R + "|[*])"), ATTR: new RegExp("^" + Y), PSEUDO: new RegExp("^" + O), CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + E + "*(even|odd|(([+-]|)(\\d*)n|)" + E + "*(?:([+-]|)" + E + "*(\\d+)|))" + E + "*\\)|)", "i"), bool: new RegExp("^(?:" + H + ")$", "i"), needsContext: new RegExp("^" + E + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + E + "*((?:-\\d)?\\d*)" + E + "*\\)|)(?=[^-]|$)", "i") }, j = /HTML$/i, $ = /^(?:input|select|textarea|button)$/i, q = /^h\d$/i, tt = /^[^{]+\{\s*\[native \w/, et = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/, nt = /[+~]/, it = new RegExp("\\\\([\\da-f]{1,6}" + E + "?|(" + E + ")|.)", "ig"), ot = /([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g, at = function (t, e) { return e ? "\0" === t ? "ï¿½" : t.slice(0, -1) + "\\" + t.charCodeAt(t.length - 1).toString(16) + " " : "\\" + t }, rt = bt(function (t) { return !0 === t.disabled && "fieldset" === t.nodeName.toLowerCase() }, { dir: "parentNode", next: "legend" }); try { W.apply(D = T.call(v.childNodes), v.childNodes), D[v.childNodes.length].nodeType } catch (i) { W = { apply: D.length ? function (t, e) { U.apply(t, T.call(e)) } : function (t, e) { for (var n = t.length, i = 0; t[n++] = e[i++];); t.length = n - 1 } } } function st(t, e, n, i) { var a, r, s, l, I, u, h, A = e && e.ownerDocument, f = e ? e.nodeType : 9; if (n = n || [], "string" != typeof t || !t || 1 !== f && 9 !== f && 11 !== f) return n; if (!i && ((e ? e.ownerDocument || e : v) !== C && d(e), e = e || C, p)) { if (11 !== f && (I = et.exec(t))) if (a = I[1]) { if (9 === f) { if (!(s = e.getElementById(a))) return n; if (s.id === a) return n.push(s), n } else if (A && (s = A.getElementById(a)) && B(e, s) && s.id === a) return n.push(s), n } else { if (I[2]) return W.apply(n, e.getElementsByTagName(t)), n; if ((a = I[3]) && o.getElementsByClassName && e.getElementsByClassName) return W.apply(n, e.getElementsByClassName(a)), n } if (o.qsa && !X[t + " "] && (!m || !m.test(t)) && (1 !== f || "object" !== e.nodeName.toLowerCase())) { if (h = t, A = e, 1 === f && z.test(t)) { for ((l = e.getAttribute("id")) ? l = l.replace(ot, at) : e.setAttribute("id", l = y), r = (u = g(t)).length; r--;)u[r] = "#" + l + " " + ft(u[r]); h = u.join(","), A = nt.test(t) && pt(e.parentNode) || e } try { return W.apply(n, A.querySelectorAll(h)), n } catch (e) { X(t, !0) } finally { l === y && e.removeAttribute("id") } } } return c(t.replace(V, "$1"), e, n, i) } function gt() { var t = []; return function e(n, i) { return t.push(n + " ") > a.cacheLength && delete e[t.shift()], e[n + " "] = i } } function lt(t) { return t[y] = !0, t } function ct(t) { var e = C.createElement("fieldset"); try { return !!t(e) } catch (t) { return !1 } finally { e.parentNode && e.parentNode.removeChild(e), e = null } } function It(t, e) { for (var n = t.split("|"), i = n.length; i--;)a.attrHandle[n[i]] = e } function ut(t, e) { var n = e && t, i = n && 1 === t.nodeType && 1 === e.nodeType && t.sourceIndex - e.sourceIndex; if (i) return i; if (n) for (; n = n.nextSibling;)if (n === e) return -1; return t ? 1 : -1 } function ht(t) { return function (e) { return "input" === e.nodeName.toLowerCase() && e.type === t } } function dt(t) { return function (e) { var n = e.nodeName.toLowerCase(); return ("input" === n || "button" === n) && e.type === t } } function Ct(t) { return function (e) { return "form" in e ? e.parentNode && !1 === e.disabled ? "label" in e ? "label" in e.parentNode ? e.parentNode.disabled === t : e.disabled === t : e.isDisabled === t || e.isDisabled !== !t && rt(e) === t : e.disabled === t : "label" in e && e.disabled === t } } function At(t) { return lt(function (e) { return e = +e, lt(function (n, i) { for (var o, a = t([], n.length, e), r = a.length; r--;)n[o = a[r]] && (n[o] = !(i[o] = n[o])) }) }) } function pt(t) { return t && void 0 !== t.getElementsByTagName && t } for (i in o = st.support = {}, s = st.isXML = function (t) { var e = t.namespaceURI, n = (t.ownerDocument || t).documentElement; return !j.test(e || n && n.nodeName || "HTML") }, d = st.setDocument = function (t) { var i, r, g = t ? t.ownerDocument || t : v; return g !== C && 9 === g.nodeType && g.documentElement && (A = (C = g).documentElement, p = !s(C), v !== C && (r = C.defaultView) && r.top !== r && (r.addEventListener ? r.addEventListener("unload", n, !1) : r.attachEvent && r.attachEvent("onunload", n)), o.attributes = ct(function (t) { return t.className = "i", !t.getAttribute("className") }), o.getElementsByTagName = ct(function (t) { return t.appendChild(C.createComment("")), !t.getElementsByTagName("*").length }), o.getElementsByClassName = tt.test(C.getElementsByClassName), o.getById = ct(function (t) { return A.appendChild(t).id = y, !C.getElementsByName || !C.getElementsByName(y).length }), o.getById ? (a.filter.ID = function (t) { var n = t.replace(it, e); return function (t) { return t.getAttribute("id") === n } }, a.find.ID = function (t, e) { if (void 0 !== e.getElementById && p) { var n = e.getElementById(t); return n ? [n] : [] } }) : (a.filter.ID = function (t) { var n = t.replace(it, e); return function (t) { var e = void 0 !== t.getAttributeNode && t.getAttributeNode("id"); return e && e.value === n } }, a.find.ID = function (t, e) { if (void 0 !== e.getElementById && p) { var n, i, o, a = e.getElementById(t); if (a) { if ((n = a.getAttributeNode("id")) && n.value === t) return [a]; for (o = e.getElementsByName(t), i = 0; a = o[i++];)if ((n = a.getAttributeNode("id")) && n.value === t) return [a] } return [] } }), a.find.TAG = o.getElementsByTagName ? function (t, e) { return void 0 !== e.getElementsByTagName ? e.getElementsByTagName(t) : o.qsa ? e.querySelectorAll(t) : void 0 } : function (t, e) { var n, i = [], o = 0, a = e.getElementsByTagName(t); if ("*" !== t) return a; for (; n = a[o++];)1 === n.nodeType && i.push(n); return i }, a.find.CLASS = o.getElementsByClassName && function (t, e) { if (void 0 !== e.getElementsByClassName && p) return e.getElementsByClassName(t) }, f = [], m = [], (o.qsa = tt.test(C.querySelectorAll)) && (ct(function (t) { A.appendChild(t).innerHTML = "<a id='" + y + "'></a><select id='" + y + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && m.push("[*^$]=" + E + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || m.push("\\[" + E + "*(?:value|" + H + ")"), t.querySelectorAll("[id~=" + y + "-]").length || m.push("~="), t.querySelectorAll(":checked").length || m.push(":checked"), t.querySelectorAll("a#" + y + "+*").length || m.push(".#.+[+~]") }), ct(function (t) { t.innerHTML = "<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>"; var e = C.createElement("input"); e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && m.push("name" + E + "*[*^$|!~]?="), 2 !== t.querySelectorAll(":enabled").length && m.push(":enabled", ":disabled"), A.appendChild(t).disabled = !0, 2 !== t.querySelectorAll(":disabled").length && m.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), m.push(",.*:") })), (o.matchesSelector = tt.test(b = A.matches || A.webkitMatchesSelector || A.mozMatchesSelector || A.oMatchesSelector || A.msMatchesSelector)) && ct(function (t) { o.disconnectedMatch = b.call(t, "*"), b.call(t, "[s!='']:x"), f.push("!=", O) }), m = m.length && new RegExp(m.join("|")), f = f.length && new RegExp(f.join("|")), i = tt.test(A.compareDocumentPosition), B = i || tt.test(A.contains) ? function (t, e) { var n = 9 === t.nodeType ? t.documentElement : t, i = e && e.parentNode; return t === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(i))) } : function (t, e) { if (e) for (; e = e.parentNode;)if (e === t) return !0; return !1 }, S = i ? function (t, e) { if (t === e) return h = !0, 0; var n = !t.compareDocumentPosition - !e.compareDocumentPosition; return n || (1 & (n = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1) || !o.sortDetached && e.compareDocumentPosition(t) === n ? t === C || t.ownerDocument === v && B(v, t) ? -1 : e === C || e.ownerDocument === v && B(v, e) ? 1 : u ? N(u, t) - N(u, e) : 0 : 4 & n ? -1 : 1) } : function (t, e) { if (t === e) return h = !0, 0; var n, i = 0, o = t.parentNode, a = e.parentNode, r = [t], s = [e]; if (!o || !a) return t === C ? -1 : e === C ? 1 : o ? -1 : a ? 1 : u ? N(u, t) - N(u, e) : 0; if (o === a) return ut(t, e); for (n = t; n = n.parentNode;)r.unshift(n); for (n = e; n = n.parentNode;)s.unshift(n); for (; r[i] === s[i];)i++; return i ? ut(r[i], s[i]) : r[i] === v ? -1 : s[i] === v ? 1 : 0 }), C }, st.matches = function (t, e) { return st(t, null, null, e) }, st.matchesSelector = function (t, e) { if ((t.ownerDocument || t) !== C && d(t), o.matchesSelector && p && !X[e + " "] && (!f || !f.test(e)) && (!m || !m.test(e))) try { var n = b.call(t, e); if (n || o.disconnectedMatch || t.document && 11 !== t.document.nodeType) return n } catch (t) { X(e, !0) } return 0 < st(e, C, null, [t]).length }, st.contains = function (t, e) { return (t.ownerDocument || t) !== C && d(t), B(t, e) }, st.attr = function (t, e) { (t.ownerDocument || t) !== C && d(t); var n = a.attrHandle[e.toLowerCase()], i = n && k.call(a.attrHandle, e.toLowerCase()) ? n(t, e, !p) : void 0; return void 0 !== i ? i : o.attributes || !p ? t.getAttribute(e) : (i = t.getAttributeNode(e)) && i.specified ? i.value : null }, st.escape = function (t) { return (t + "").replace(ot, at) }, st.error = function (t) { throw new Error("Syntax error, unrecognized expression: " + t) }, st.uniqueSort = function (t) { var e, n = [], i = 0, a = 0; if (h = !o.detectDuplicates, u = !o.sortStable && t.slice(0), t.sort(S), h) { for (; e = t[a++];)e === t[a] && (i = n.push(a)); for (; i--;)t.splice(n[i], 1) } return u = null, t }, r = st.getText = function (t) { var e, n = "", i = 0, o = t.nodeType; if (o) { if (1 === o || 9 === o || 11 === o) { if ("string" == typeof t.textContent) return t.textContent; for (t = t.firstChild; t; t = t.nextSibling)n += r(t) } else if (3 === o || 4 === o) return t.nodeValue } else for (; e = t[i++];)n += r(e); return n }, (a = st.selectors = { cacheLength: 50, createPseudo: lt, match: J, attrHandle: {}, find: {}, relative: { ">": { dir: "parentNode", first: !0 }, " ": { dir: "parentNode" }, "+": { dir: "previousSibling", first: !0 }, "~": { dir: "previousSibling" } }, preFilter: { ATTR: function (t) { return t[1] = t[1].replace(it, e), t[3] = (t[3] || t[4] || t[5] || "").replace(it, e), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4) }, CHILD: function (t) { return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || st.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && st.error(t[0]), t }, PSEUDO: function (t) { var e, n = !t[6] && t[2]; return J.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : n && P.test(n) && (e = g(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && (t[0] = t[0].slice(0, e), t[2] = n.slice(0, e)), t.slice(0, 3)) } }, filter: { TAG: function (t) { var n = t.replace(it, e).toLowerCase(); return "*" === t ? function () { return !0 } : function (t) { return t.nodeName && t.nodeName.toLowerCase() === n } }, CLASS: function (t) { var e = Q[t + " "]; return e || (e = new RegExp("(^|" + E + ")" + t + "(" + E + "|$)")) && Q(t, function (t) { return e.test("string" == typeof t.className && t.className || void 0 !== t.getAttribute && t.getAttribute("class") || "") }) }, ATTR: function (t, e, n) { return function (i) { var o = st.attr(i, t); return null == o ? "!=" === e : !e || (o += "", "=" === e ? o === n : "!=" === e ? o !== n : "^=" === e ? n && 0 === o.indexOf(n) : "*=" === e ? n && -1 < o.indexOf(n) : "$=" === e ? n && o.slice(-n.length) === n : "~=" === e ? -1 < (" " + o.replace(_, " ") + " ").indexOf(n) : "|=" === e && (o === n || o.slice(0, n.length + 1) === n + "-")) } }, CHILD: function (t, e, n, i, o) { var a = "nth" !== t.slice(0, 3), r = "last" !== t.slice(-4), s = "of-type" === e; return 1 === i && 0 === o ? function (t) { return !!t.parentNode } : function (e, n, g) { var l, c, I, u, h, d, C = a != r ? "nextSibling" : "previousSibling", A = e.parentNode, p = s && e.nodeName.toLowerCase(), m = !g && !s, f = !1; if (A) { if (a) { for (; C;) { for (u = e; u = u[C];)if (s ? u.nodeName.toLowerCase() === p : 1 === u.nodeType) return !1; d = C = "only" === t && !d && "nextSibling" } return !0 } if (d = [r ? A.firstChild : A.lastChild], r && m) { for (f = (h = (l = (c = (I = (u = A)[y] || (u[y] = {}))[u.uniqueID] || (I[u.uniqueID] = {}))[t] || [])[0] === x && l[1]) && l[2], u = h && A.childNodes[h]; u = ++h && u && u[C] || (f = h = 0) || d.pop();)if (1 === u.nodeType && ++f && u === e) { c[t] = [x, h, f]; break } } else if (m && (f = h = (l = (c = (I = (u = e)[y] || (u[y] = {}))[u.uniqueID] || (I[u.uniqueID] = {}))[t] || [])[0] === x && l[1]), !1 === f) for (; (u = ++h && u && u[C] || (f = h = 0) || d.pop()) && ((s ? u.nodeName.toLowerCase() !== p : 1 !== u.nodeType) || !++f || (m && ((c = (I = u[y] || (u[y] = {}))[u.uniqueID] || (I[u.uniqueID] = {}))[t] = [x, f]), u !== e));); return (f -= o) === i || f % i == 0 && 0 <= f / i } } }, PSEUDO: function (t, e) { var n, i = a.pseudos[t] || a.setFilters[t.toLowerCase()] || st.error("unsupported pseudo: " + t); return i[y] ? i(e) : 1 < i.length ? (n = [t, t, "", e], a.setFilters.hasOwnProperty(t.toLowerCase()) ? lt(function (t, n) { for (var o, a = i(t, e), r = a.length; r--;)t[o = N(t, a[r])] = !(n[o] = a[r]) }) : function (t) { return i(t, 0, n) }) : i } }, pseudos: { not: lt(function (t) { var e = [], n = [], i = l(t.replace(V, "$1")); return i[y] ? lt(function (t, e, n, o) { for (var a, r = i(t, null, o, []), s = t.length; s--;)(a = r[s]) && (t[s] = !(e[s] = a)) }) : function (t, o, a) { return e[0] = t, i(e, null, a, n), e[0] = null, !n.pop() } }), has: lt(function (t) { return function (e) { return 0 < st(t, e).length } }), contains: lt(function (t) { return t = t.replace(it, e), function (e) { return -1 < (e.textContent || r(e)).indexOf(t) } }), lang: lt(function (t) { return K.test(t || "") || st.error("unsupported lang: " + t), t = t.replace(it, e).toLowerCase(), function (e) { var n; do { if (n = p ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang")) return (n = n.toLowerCase()) === t || 0 === n.indexOf(t + "-") } while ((e = e.parentNode) && 1 === e.nodeType); return !1 } }), target: function (e) { var n = t.location && t.location.hash; return n && n.slice(1) === e.id }, root: function (t) { return t === A }, focus: function (t) { return t === C.activeElement && (!C.hasFocus || C.hasFocus()) && !!(t.type || t.href || ~t.tabIndex) }, enabled: Ct(!1), disabled: Ct(!0), checked: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && !!t.checked || "option" === e && !!t.selected }, selected: function (t) { return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected }, empty: function (t) { for (t = t.firstChild; t; t = t.nextSibling)if (t.nodeType < 6) return !1; return !0 }, parent: function (t) { return !a.pseudos.empty(t) }, header: function (t) { return q.test(t.nodeName) }, input: function (t) { return $.test(t.nodeName) }, button: function (t) { var e = t.nodeName.toLowerCase(); return "input" === e && "button" === t.type || "button" === e }, text: function (t) { var e; return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase()) }, first: At(function () { return [0] }), last: At(function (t, e) { return [e - 1] }), eq: At(function (t, e, n) { return [n < 0 ? n + e : n] }), even: At(function (t, e) { for (var n = 0; n < e; n += 2)t.push(n); return t }), odd: At(function (t, e) { for (var n = 1; n < e; n += 2)t.push(n); return t }), lt: At(function (t, e, n) { for (var i = n < 0 ? n + e : e < n ? e : n; 0 <= --i;)t.push(i); return t }), gt: At(function (t, e, n) { for (var i = n < 0 ? n + e : n; ++i < e;)t.push(i); return t }) } }).pseudos.nth = a.pseudos.eq, { radio: !0, checkbox: !0, file: !0, password: !0, image: !0 }) a.pseudos[i] = ht(i); for (i in { submit: !0, reset: !0 }) a.pseudos[i] = dt(i); function mt() { } function ft(t) { for (var e = 0, n = t.length, i = ""; e < n; e++)i += t[e].value; return i } function bt(t, e, n) { var i = e.dir, o = e.next, a = o || i, r = n && "parentNode" === a, s = F++; return e.first ? function (e, n, o) { for (; e = e[i];)if (1 === e.nodeType || r) return t(e, n, o); return !1 } : function (e, n, g) { var l, c, I, u = [x, s]; if (g) { for (; e = e[i];)if ((1 === e.nodeType || r) && t(e, n, g)) return !0 } else for (; e = e[i];)if (1 === e.nodeType || r) if (c = (I = e[y] || (e[y] = {}))[e.uniqueID] || (I[e.uniqueID] = {}), o && o === e.nodeName.toLowerCase()) e = e[i] || e; else { if ((l = c[a]) && l[0] === x && l[1] === s) return u[2] = l[2]; if ((c[a] = u)[2] = t(e, n, g)) return !0 } return !1 } } function Bt(t) { return 1 < t.length ? function (e, n, i) { for (var o = t.length; o--;)if (!t[o](e, n, i)) return !1; return !0 } : t[0] } function yt(t, e, n, i, o) { for (var a, r = [], s = 0, g = t.length, l = null != e; s < g; s++)(a = t[s]) && (n && !n(a, i, o) || (r.push(a), l && e.push(s))); return r } function vt(t, e, n, i, o, a) { return i && !i[y] && (i = vt(i)), o && !o[y] && (o = vt(o, a)), lt(function (a, r, s, g) { var l, c, I, u = [], h = [], d = r.length, C = a || function (t, e, n) { for (var i = 0, o = e.length; i < o; i++)st(t, e[i], n); return n }(e || "*", s.nodeType ? [s] : s, []), A = !t || !a && e ? C : yt(C, u, t, s, g), p = n ? o || (a ? t : d || i) ? [] : r : A; if (n && n(A, p, s, g), i) for (l = yt(p, h), i(l, [], s, g), c = l.length; c--;)(I = l[c]) && (p[h[c]] = !(A[h[c]] = I)); if (a) { if (o || t) { if (o) { for (l = [], c = p.length; c--;)(I = p[c]) && l.push(A[c] = I); o(null, p = [], l, g) } for (c = p.length; c--;)(I = p[c]) && -1 < (l = o ? N(a, I) : u[c]) && (a[l] = !(r[l] = I)) } } else p = yt(p === r ? p.splice(d, p.length) : p), o ? o(null, r, p, g) : W.apply(r, p) }) } function xt(t) { for (var e, n, i, o = t.length, r = a.relative[t[0].type], s = r || a.relative[" "], g = r ? 1 : 0, l = bt(function (t) { return t === e }, s, !0), c = bt(function (t) { return -1 < N(e, t) }, s, !0), u = [function (t, n, i) { var o = !r && (i || n !== I) || ((e = n).nodeType ? l(t, n, i) : c(t, n, i)); return e = null, o }]; g < o; g++)if (n = a.relative[t[g].type]) u = [bt(Bt(u), n)]; else { if ((n = a.filter[t[g].type].apply(null, t[g].matches))[y]) { for (i = ++g; i < o && !a.relative[t[i].type]; i++); return vt(1 < g && Bt(u), 1 < g && ft(t.slice(0, g - 1).concat({ value: " " === t[g - 2].type ? "*" : "" })).replace(V, "$1"), n, g < i && xt(t.slice(g, i)), i < o && xt(t = t.slice(i)), i < o && ft(t)) } u.push(n) } return Bt(u) } return mt.prototype = a.filters = a.pseudos, a.setFilters = new mt, g = st.tokenize = function (t, e) { var n, i, o, r, s, g, l, c = G[t + " "]; if (c) return e ? 0 : c.slice(0); for (s = t, g = [], l = a.preFilter; s;) { for (r in n && !(i = L.exec(s)) || (i && (s = s.slice(i[0].length) || s), g.push(o = [])), n = !1, (i = M.exec(s)) && (n = i.shift(), o.push({ value: n, type: i[0].replace(V, " ") }), s = s.slice(n.length)), a.filter) !(i = J[r].exec(s)) || l[r] && !(i = l[r](i)) || (n = i.shift(), o.push({ value: n, type: r, matches: i }), s = s.slice(n.length)); if (!n) break } return e ? s.length : s ? st.error(t) : G(t, g).slice(0) }, l = st.compile = function (t, e) { var n, i = [], o = [], r = w[t + " "]; if (!r) { for (e || (e = g(t)), n = e.length; n--;)(r = xt(e[n]))[y] ? i.push(r) : o.push(r); (r = w(t, function (t, e) { function n(n, r, s, g, l) { var c, u, h, A = 0, m = "0", f = n && [], b = [], B = I, y = n || o && a.find.TAG("*", l), v = x += null == B ? 1 : Math.random() || .1, F = y.length; for (l && (I = r === C || r || l); m !== F && null != (c = y[m]); m++) { if (o && c) { for (u = 0, r || c.ownerDocument === C || (d(c), s = !p); h = t[u++];)if (h(c, r || C, s)) { g.push(c); break } l && (x = v) } i && ((c = !h && c) && A--, n && f.push(c)) } if (A += m, i && m !== A) { for (u = 0; h = e[u++];)h(f, b, r, s); if (n) { if (0 < A) for (; m--;)f[m] || b[m] || (b[m] = Z.call(g)); b = yt(b) } W.apply(g, b), l && !n && 0 < b.length && 1 < A + e.length && st.uniqueSort(g) } return l && (x = v, I = B), f } var i = 0 < e.length, o = 0 < t.length; return i ? lt(n) : n }(o, i))).selector = t } return r }, c = st.select = function (t, n, i, o) { var r, s, c, I, u, h = "function" == typeof t && t, d = !o && g(t = h.selector || t); if (i = i || [], 1 === d.length) { if (2 < (s = d[0] = d[0].slice(0)).length && "ID" === (c = s[0]).type && 9 === n.nodeType && p && a.relative[s[1].type]) { if (!(n = (a.find.ID(c.matches[0].replace(it, e), n) || [])[0])) return i; h && (n = n.parentNode), t = t.slice(s.shift().value.length) } for (r = J.needsContext.test(t) ? 0 : s.length; r-- && (c = s[r], !a.relative[I = c.type]);)if ((u = a.find[I]) && (o = u(c.matches[0].replace(it, e), nt.test(s[0].type) && pt(n.parentNode) || n))) { if (s.splice(r, 1), !(t = o.length && ft(s))) return W.apply(i, o), i; break } } return (h || l(t, d))(o, n, !p, i, !n || nt.test(t) && pt(n.parentNode) || n), i }, o.sortStable = y.split("").sort(S).join("") === y, o.detectDuplicates = !!h, d(), o.sortDetached = ct(function (t) { return 1 & t.compareDocumentPosition(C.createElement("fieldset")) }), ct(function (t) { return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href") }) || It("type|href|height|width", function (t, e, n) { if (!n) return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2) }), o.attributes && ct(function (t) { return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value") }) || It("value", function (t, e, n) { if (!n && "input" === t.nodeName.toLowerCase()) return t.defaultValue }), ct(function (t) { return null == t.getAttribute("disabled") }) || It(H, function (t, e, n) { var i; if (!n) return !0 === t[e] ? e.toLowerCase() : (i = t.getAttributeNode(e)) && i.specified ? i.value : null }), st }(t); function F(t, e, n) { for (var i = [], o = void 0 !== n; (t = t[e]) && 9 !== t.nodeType;)if (1 === t.nodeType) { if (o && B(t).is(n)) break; i.push(t) } return i } function Q(t, e) { for (var n = []; t; t = t.nextSibling)1 === t.nodeType && t !== e && n.push(t); return n } B.find = x, B.expr = x.selectors, B.expr[":"] = B.expr.pseudos, B.uniqueSort = B.unique = x.uniqueSort, B.text = x.getText, B.isXMLDoc = x.isXML, B.contains = x.contains, B.escapeSelector = x.escape; var G = B.expr.match.needsContext; function w(t, e) { return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase() } var X = /^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i; function S(t, e, n) { return A(e) ? B.grep(t, function (t, i) { return !!e.call(t, i, t) !== n }) : e.nodeType ? B.grep(t, function (t) { return t === e !== n }) : "string" != typeof e ? B.grep(t, function (t) { return -1 < l.call(e, t) !== n }) : B.filter(e, t, n) } B.filter = function (t, e, n) { var i = e[0]; return n && (t = ":not(" + t + ")"), 1 === e.length && 1 === i.nodeType ? B.find.matchesSelector(i, t) ? [i] : [] : B.find.matches(t, B.grep(e, function (t) { return 1 === t.nodeType })) }, B.fn.extend({ find: function (t) { var e, n, i = this.length, o = this; if ("string" != typeof t) return this.pushStack(B(t).filter(function () { for (e = 0; e < i; e++)if (B.contains(o[e], this)) return !0 })); for (n = this.pushStack([]), e = 0; e < i; e++)B.find(t, o[e], n); return 1 < i ? B.uniqueSort(n) : n }, filter: function (t) { return this.pushStack(S(this, t || [], !1)) }, not: function (t) { return this.pushStack(S(this, t || [], !0)) }, is: function (t) { return !!S(this, "string" == typeof t && G.test(t) ? B(t) : t || [], !1).length } }); var k, D = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/; (B.fn.init = function (t, e, n) { var i, a; if (!t) return this; if (n = n || k, "string" != typeof t) return t.nodeType ? (this[0] = t, this.length = 1, this) : A(t) ? void 0 !== n.ready ? n.ready(t) : t(B) : B.makeArray(t, this); if (!(i = "<" === t[0] && ">" === t[t.length - 1] && 3 <= t.length ? [null, t, null] : D.exec(t)) || !i[1] && e) return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t); if (i[1]) { if (e = e instanceof B ? e[0] : e, B.merge(this, B.parseHTML(i[1], e && e.nodeType ? e.ownerDocument || e : o, !0)), X.test(i[1]) && B.isPlainObject(e)) for (i in e) A(this[i]) ? this[i](e[i]) : this.attr(i, e[i]); return this } return (a = o.getElementById(i[2])) && (this[0] = a, this.length = 1), this }).prototype = B.fn, k = B(o); var Z = /^(?:parents|prev(?:Until|All))/, U = { children: !0, contents: !0, next: !0, prev: !0 }; function W(t, e) { for (; (t = t[e]) && 1 !== t.nodeType;); return t } B.fn.extend({ has: function (t) { var e = B(t, this), n = e.length; return this.filter(function () { for (var t = 0; t < n; t++)if (B.contains(this, e[t])) return !0 }) }, closest: function (t, e) { var n, i = 0, o = this.length, a = [], r = "string" != typeof t && B(t); if (!G.test(t)) for (; i < o; i++)for (n = this[i]; n && n !== e; n = n.parentNode)if (n.nodeType < 11 && (r ? -1 < r.index(n) : 1 === n.nodeType && B.find.matchesSelector(n, t))) { a.push(n); break } return this.pushStack(1 < a.length ? B.uniqueSort(a) : a) }, index: function (t) { return t ? "string" == typeof t ? l.call(B(t), this[0]) : l.call(this, t.jquery ? t[0] : t) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1 }, add: function (t, e) { return this.pushStack(B.uniqueSort(B.merge(this.get(), B(t, e)))) }, addBack: function (t) { return this.add(null == t ? this.prevObject : this.prevObject.filter(t)) } }), B.each({ parent: function (t) { var e = t.parentNode; return e && 11 !== e.nodeType ? e : null }, parents: function (t) { return F(t, "parentNode") }, parentsUntil: function (t, e, n) { return F(t, "parentNode", n) }, next: function (t) { return W(t, "nextSibling") }, prev: function (t) { return W(t, "previousSibling") }, nextAll: function (t) { return F(t, "nextSibling") }, prevAll: function (t) { return F(t, "previousSibling") }, nextUntil: function (t, e, n) { return F(t, "nextSibling", n) }, prevUntil: function (t, e, n) { return F(t, "previousSibling", n) }, siblings: function (t) { return Q((t.parentNode || {}).firstChild, t) }, children: function (t) { return Q(t.firstChild) }, contents: function (t) { return void 0 !== t.contentDocument ? t.contentDocument : (w(t, "template") && (t = t.content || t), B.merge([], t.childNodes)) } }, function (t, e) { B.fn[t] = function (n, i) { var o = B.map(this, e, n); return "Until" !== t.slice(-5) && (i = n), i && "string" == typeof i && (o = B.filter(i, o)), 1 < this.length && (U[t] || B.uniqueSort(o), Z.test(t) && o.reverse()), this.pushStack(o) } }); var T = /[^\x20\t\r\n\f]+/g; function N(t) { return t } function H(t) { throw t } function E(t, e, n, i) { var o; try { t && A(o = t.promise) ? o.call(t).done(e).fail(n) : t && A(o = t.then) ? o.call(t, e, n) : e.apply(void 0, [t].slice(i)) } catch (t) { n.apply(void 0, [t]) } } B.Callbacks = function (t) { function e() { for (a = a || t.once, o = n = !0; s.length; g = -1)for (i = s.shift(); ++g < r.length;)!1 === r[g].apply(i[0], i[1]) && t.stopOnFalse && (g = r.length, i = !1); t.memory || (i = !1), n = !1, a && (r = i ? [] : "") } t = "string" == typeof t ? function (t) { var e = {}; return B.each(t.match(T) || [], function (t, n) { e[n] = !0 }), e }(t) : B.extend({}, t); var n, i, o, a, r = [], s = [], g = -1, l = { add: function () { return r && (i && !n && (g = r.length - 1, s.push(i)), function e(n) { B.each(n, function (n, i) { A(i) ? t.unique && l.has(i) || r.push(i) : i && i.length && "string" !== f(i) && e(i) }) }(arguments), i && !n && e()), this }, remove: function () { return B.each(arguments, function (t, e) { for (var n; -1 < (n = B.inArray(e, r, n));)r.splice(n, 1), n <= g && g-- }), this }, has: function (t) { return t ? -1 < B.inArray(t, r) : 0 < r.length }, empty: function () { return r && (r = []), this }, disable: function () { return a = s = [], r = i = "", this }, disabled: function () { return !r }, lock: function () { return a = s = [], i || n || (r = i = ""), this }, locked: function () { return !!a }, fireWith: function (t, i) { return a || (i = [t, (i = i || []).slice ? i.slice() : i], s.push(i), n || e()), this }, fire: function () { return l.fireWith(this, arguments), this }, fired: function () { return !!o } }; return l }, B.extend({ Deferred: function (e) { var n = [["notify", "progress", B.Callbacks("memory"), B.Callbacks("memory"), 2], ["resolve", "done", B.Callbacks("once memory"), B.Callbacks("once memory"), 0, "resolved"], ["reject", "fail", B.Callbacks("once memory"), B.Callbacks("once memory"), 1, "rejected"]], i = "pending", o = { state: function () { return i }, always: function () { return a.done(arguments).fail(arguments), this }, catch: function (t) { return o.then(null, t) }, pipe: function () { var t = arguments; return B.Deferred(function (e) { B.each(n, function (n, i) { var o = A(t[i[4]]) && t[i[4]]; a[i[1]](function () { var t = o && o.apply(this, arguments); t && A(t.promise) ? t.promise().progress(e.notify).done(e.resolve).fail(e.reject) : e[i[0] + "With"](this, o ? [t] : arguments) }) }), t = null }).promise() }, then: function (e, i, o) { var a = 0; function r(e, n, i, o) { return function () { function s() { var t, s; if (!(e < a)) { if ((t = i.apply(g, l)) === n.promise()) throw new TypeError("Thenable self-resolution"); s = t && ("object" == typeof t || "function" == typeof t) && t.then, A(s) ? o ? s.call(t, r(a, n, N, o), r(a, n, H, o)) : (a++, s.call(t, r(a, n, N, o), r(a, n, H, o), r(a, n, N, n.notifyWith))) : (i !== N && (g = void 0, l = [t]), (o || n.resolveWith)(g, l)) } } var g = this, l = arguments, c = o ? s : function () { try { s() } catch (t) { B.Deferred.exceptionHook && B.Deferred.exceptionHook(t, c.stackTrace), a <= e + 1 && (i !== H && (g = void 0, l = [t]), n.rejectWith(g, l)) } }; e ? c() : (B.Deferred.getStackHook && (c.stackTrace = B.Deferred.getStackHook()), t.setTimeout(c)) } } return B.Deferred(function (t) { n[0][3].add(r(0, t, A(o) ? o : N, t.notifyWith)), n[1][3].add(r(0, t, A(e) ? e : N)), n[2][3].add(r(0, t, A(i) ? i : H)) }).promise() }, promise: function (t) { return null != t ? B.extend(t, o) : o } }, a = {}; return B.each(n, function (t, e) { var r = e[2], s = e[5]; o[e[1]] = r.add, s && r.add(function () { i = s }, n[3 - t][2].disable, n[3 - t][3].disable, n[0][2].lock, n[0][3].lock), r.add(e[3].fire), a[e[0]] = function () { return a[e[0] + "With"](this === a ? void 0 : this, arguments), this }, a[e[0] + "With"] = r.fireWith }), o.promise(a), e && e.call(a, a), a }, when: function (t) { function e(t) { return function (e) { o[t] = this, a[t] = 1 < arguments.length ? r.call(arguments) : e, --n || s.resolveWith(o, a) } } var n = arguments.length, i = n, o = Array(i), a = r.call(arguments), s = B.Deferred(); if (n <= 1 && (E(t, s.done(e(i)).resolve, s.reject, !n), "pending" === s.state() || A(a[i] && a[i].then))) return s.then(); for (; i--;)E(a[i], e(i), s.reject); return s.promise() } }); var R = /^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/; B.Deferred.exceptionHook = function (e, n) { t.console && t.console.warn && e && R.test(e.name) && t.console.warn("jQuery.Deferred exception: " + e.message, e.stack, n) }, B.readyException = function (e) { t.setTimeout(function () { throw e }) }; var Y = B.Deferred(); function O() { o.removeEventListener("DOMContentLoaded", O), t.removeEventListener("load", O), B.ready() } B.fn.ready = function (t) { return Y.then(t).catch(function (t) { B.readyException(t) }), this }, B.extend({ isReady: !1, readyWait: 1, ready: function (t) { (!0 === t ? --B.readyWait : B.isReady) || (B.isReady = !0) !== t && 0 < --B.readyWait || Y.resolveWith(o, [B]) } }), B.ready.then = Y.then, "complete" === o.readyState || "loading" !== o.readyState && !o.documentElement.doScroll ? t.setTimeout(B.ready) : (o.addEventListener("DOMContentLoaded", O), t.addEventListener("load", O)); var _ = function (t, e, n, i, o, a, r) { var s = 0, g = t.length, l = null == n; if ("object" === f(n)) for (s in o = !0, n) _(t, e, s, n[s], !0, a, r); else if (void 0 !== i && (o = !0, A(i) || (r = !0), l && (e = r ? (e.call(t, i), null) : (l = e, function (t, e, n) { return l.call(B(t), n) })), e)) for (; s < g; s++)e(t[s], n, r ? i : i.call(t[s], s, e(t[s], n))); return o ? t : l ? e.call(t) : g ? e(t[0], n) : a }, V = /^-ms-/, L = /-([a-z])/g; function M(t, e) { return e.toUpperCase() } function z(t) { return t.replace(V, "ms-").replace(L, M) } function P(t) { return 1 === t.nodeType || 9 === t.nodeType || !+t.nodeType } function K() { this.expando = B.expando + K.uid++ } K.uid = 1, K.prototype = { cache: function (t) { var e = t[this.expando]; return e || (e = {}, P(t) && (t.nodeType ? t[this.expando] = e : Object.defineProperty(t, this.expando, { value: e, configurable: !0 }))), e }, set: function (t, e, n) { var i, o = this.cache(t); if ("string" == typeof e) o[z(e)] = n; else for (i in e) o[z(i)] = e[i]; return o }, get: function (t, e) { return void 0 === e ? this.cache(t) : t[this.expando] && t[this.expando][z(e)] }, access: function (t, e, n) { return void 0 === e || e && "string" == typeof e && void 0 === n ? this.get(t, e) : (this.set(t, e, n), void 0 !== n ? n : e) }, remove: function (t, e) { var n, i = t[this.expando]; if (void 0 !== i) { if (void 0 !== e) { n = (e = Array.isArray(e) ? e.map(z) : (e = z(e)) in i ? [e] : e.match(T) || []).length; for (; n--;)delete i[e[n]] } void 0 !== e && !B.isEmptyObject(i) || (t.nodeType ? t[this.expando] = void 0 : delete t[this.expando]) } }, hasData: function (t) { var e = t[this.expando]; return void 0 !== e && !B.isEmptyObject(e) } }; var J = new K, j = new K, $ = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/, q = /[A-Z]/g; function tt(t, e, n) { var i; if (void 0 === n && 1 === t.nodeType) if (i = "data-" + e.replace(q, "-$&").toLowerCase(), "string" == typeof (n = t.getAttribute(i))) { try { n = function (t) { return "true" === t || "false" !== t && ("null" === t ? null : t === +t + "" ? +t : $.test(t) ? JSON.parse(t) : t) }(n) } catch (t) { } j.set(t, e, n) } else n = void 0; return n } B.extend({ hasData: function (t) { return j.hasData(t) || J.hasData(t) }, data: function (t, e, n) { return j.access(t, e, n) }, removeData: function (t, e) { j.remove(t, e) }, _data: function (t, e, n) { return J.access(t, e, n) }, _removeData: function (t, e) { J.remove(t, e) } }), B.fn.extend({ data: function (t, e) { var n, i, o, a = this[0], r = a && a.attributes; if (void 0 !== t) return "object" == typeof t ? this.each(function () { j.set(this, t) }) : _(this, function (e) { var n; if (a && void 0 === e) return void 0 !== (n = j.get(a, t)) ? n : void 0 !== (n = tt(a, t)) ? n : void 0; this.each(function () { j.set(this, t, e) }) }, null, e, 1 < arguments.length, null, !0); if (this.length && (o = j.get(a), 1 === a.nodeType && !J.get(a, "hasDataAttrs"))) { for (n = r.length; n--;)r[n] && 0 === (i = r[n].name).indexOf("data-") && (i = z(i.slice(5)), tt(a, i, o[i])); J.set(a, "hasDataAttrs", !0) } return o }, removeData: function (t) { return this.each(function () { j.remove(this, t) }) } }), B.extend({ queue: function (t, e, n) { var i; if (t) return e = (e || "fx") + "queue", i = J.get(t, e), n && (!i || Array.isArray(n) ? i = J.access(t, e, B.makeArray(n)) : i.push(n)), i || [] }, dequeue: function (t, e) { e = e || "fx"; var n = B.queue(t, e), i = n.length, o = n.shift(), a = B._queueHooks(t, e); "inprogress" === o && (o = n.shift(), i--), o && ("fx" === e && n.unshift("inprogress"), delete a.stop, o.call(t, function () { B.dequeue(t, e) }, a)), !i && a && a.empty.fire() }, _queueHooks: function (t, e) { var n = e + "queueHooks"; return J.get(t, n) || J.access(t, n, { empty: B.Callbacks("once memory").add(function () { J.remove(t, [e + "queue", n]) }) }) } }), B.fn.extend({ queue: function (t, e) { var n = 2; return "string" != typeof t && (e = t, t = "fx", n--), arguments.length < n ? B.queue(this[0], t) : void 0 === e ? this : this.each(function () { var n = B.queue(this, t, e); B._queueHooks(this, t), "fx" === t && "inprogress" !== n[0] && B.dequeue(this, t) }) }, dequeue: function (t) { return this.each(function () { B.dequeue(this, t) }) }, clearQueue: function (t) { return this.queue(t || "fx", []) }, promise: function (t, e) { function n() { --o || a.resolveWith(r, [r]) } var i, o = 1, a = B.Deferred(), r = this, s = this.length; for ("string" != typeof t && (e = t, t = void 0), t = t || "fx"; s--;)(i = J.get(r[s], t + "queueHooks")) && i.empty && (o++, i.empty.add(n)); return n(), a.promise(e) } }); var et = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source, nt = new RegExp("^(?:([+-])=|)(" + et + ")([a-z%]*)$", "i"), it = ["Top", "Right", "Bottom", "Left"], ot = o.documentElement, at = function (t) { return B.contains(t.ownerDocument, t) }, rt = { composed: !0 }; function st(t, e, n, i) { var o, a, r = {}; for (a in e) r[a] = t.style[a], t.style[a] = e[a]; for (a in o = n.apply(t, i || []), e) t.style[a] = r[a]; return o } ot.attachShadow && (at = function (t) { return B.contains(t.ownerDocument, t) || t.getRootNode(rt) === t.ownerDocument }); var gt = function (t, e) { return "none" === (t = e || t).style.display || "" === t.style.display && at(t) && "none" === B.css(t, "display") }; function lt(t, e, n, i) { var o, a, r = 20, s = i ? function () { return i.cur() } : function () { return B.css(t, e, "") }, g = s(), l = n && n[3] || (B.cssNumber[e] ? "" : "px"), c = t.nodeType && (B.cssNumber[e] || "px" !== l && +g) && nt.exec(B.css(t, e)); if (c && c[3] !== l) { for (g /= 2, l = l || c[3], c = +g || 1; r--;)B.style(t, e, c + l), (1 - a) * (1 - (a = s() / g || .5)) <= 0 && (r = 0), c /= a; c *= 2, B.style(t, e, c + l), n = n || [] } return n && (c = +c || +g || 0, o = n[1] ? c + (n[1] + 1) * n[2] : +n[2], i && (i.unit = l, i.start = c, i.end = o)), o } var ct = {}; function It(t, e) { for (var n, i, o, a, r, s, g, l = [], c = 0, I = t.length; c < I; c++)(i = t[c]).style && (n = i.style.display, e ? ("none" === n && (l[c] = J.get(i, "display") || null, l[c] || (i.style.display = "")), "" === i.style.display && gt(i) && (l[c] = (g = r = a = void 0, r = (o = i).ownerDocument, s = o.nodeName, (g = ct[s]) || (a = r.body.appendChild(r.createElement(s)), g = B.css(a, "display"), a.parentNode.removeChild(a), "none" === g && (g = "block"), ct[s] = g)))) : "none" !== n && (l[c] = "none", J.set(i, "display", n))); for (c = 0; c < I; c++)null != l[c] && (t[c].style.display = l[c]); return t } B.fn.extend({ show: function () { return It(this, !0) }, hide: function () { return It(this) }, toggle: function (t) { return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function () { gt(this) ? B(this).show() : B(this).hide() }) } }); var ut = /^(?:checkbox|radio)$/i, ht = /<([a-z][^\/\0>\x20\t\r\n\f]*)/i, dt = /^$|^module$|\/(?:java|ecma)script/i, Ct = { option: [1, "<select multiple='multiple'>", "</select>"], thead: [1, "<table>", "</table>"], col: [2, "<table><colgroup>", "</colgroup></table>"], tr: [2, "<table><tbody>", "</tbody></table>"], td: [3, "<table><tbody><tr>", "</tr></tbody></table>"], _default: [0, "", ""] }; function At(t, e) { var n; return n = void 0 !== t.getElementsByTagName ? t.getElementsByTagName(e || "*") : void 0 !== t.querySelectorAll ? t.querySelectorAll(e || "*") : [], void 0 === e || e && w(t, e) ? B.merge([t], n) : n } function pt(t, e) { for (var n = 0, i = t.length; n < i; n++)J.set(t[n], "globalEval", !e || J.get(e[n], "globalEval")) } Ct.optgroup = Ct.option, Ct.tbody = Ct.tfoot = Ct.colgroup = Ct.caption = Ct.thead, Ct.th = Ct.td; var mt, ft, bt = /<|&#?\w+;/; function Bt(t, e, n, i, o) { for (var a, r, s, g, l, c, I = e.createDocumentFragment(), u = [], h = 0, d = t.length; h < d; h++)if ((a = t[h]) || 0 === a) if ("object" === f(a)) B.merge(u, a.nodeType ? [a] : a); else if (bt.test(a)) { for (r = r || I.appendChild(e.createElement("div")), s = (ht.exec(a) || ["", ""])[1].toLowerCase(), g = Ct[s] || Ct._default, r.innerHTML = g[1] + B.htmlPrefilter(a) + g[2], c = g[0]; c--;)r = r.lastChild; B.merge(u, r.childNodes), (r = I.firstChild).textContent = "" } else u.push(e.createTextNode(a)); for (I.textContent = "", h = 0; a = u[h++];)if (i && -1 < B.inArray(a, i)) o && o.push(a); else if (l = at(a), r = At(I.appendChild(a), "script"), l && pt(r), n) for (c = 0; a = r[c++];)dt.test(a.type || "") && n.push(a); return I } mt = o.createDocumentFragment().appendChild(o.createElement("div")), (ft = o.createElement("input")).setAttribute("type", "radio"), ft.setAttribute("checked", "checked"), ft.setAttribute("name", "t"), mt.appendChild(ft), C.checkClone = mt.cloneNode(!0).cloneNode(!0).lastChild.checked, mt.innerHTML = "<textarea>x</textarea>", C.noCloneChecked = !!mt.cloneNode(!0).lastChild.defaultValue; var yt = /^key/, vt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/, xt = /^([^.]*)(?:\.(.+)|)/; function Ft() { return !0 } function Qt() { return !1 } function Gt(t, e) { return t === function () { try { return o.activeElement } catch (t) { } }() == ("focus" === e) } function wt(t, e, n, i, o, a) { var r, s; if ("object" == typeof e) { for (s in "string" != typeof n && (i = i || n, n = void 0), e) wt(t, s, n, i, e[s], a); return t } if (null == i && null == o ? (o = n, i = n = void 0) : null == o && ("string" == typeof n ? (o = i, i = void 0) : (o = i, i = n, n = void 0)), !1 === o) o = Qt; else if (!o) return t; return 1 === a && (r = o, (o = function (t) { return B().off(t), r.apply(this, arguments) }).guid = r.guid || (r.guid = B.guid++)), t.each(function () { B.event.add(this, e, o, i, n) }) } function Xt(t, e, n) { n ? (J.set(t, e, !1), B.event.add(t, e, { namespace: !1, handler: function (t) { var i, o, a = J.get(this, e); if (1 & t.isTrigger && this[e]) { if (a) (B.event.special[e] || {}).delegateType && t.stopPropagation(); else if (a = r.call(arguments), J.set(this, e, a), i = n(this, e), this[e](), a !== (o = J.get(this, e)) || i ? J.set(this, e, !1) : o = void 0, a !== o) return t.stopImmediatePropagation(), t.preventDefault(), o } else a && (J.set(this, e, B.event.trigger(B.extend(a.shift(), B.Event.prototype), a, this)), t.stopImmediatePropagation()) } })) : B.event.add(t, e, Ft) } B.event = { global: {}, add: function (t, e, n, i, o) { var a, r, s, g, l, c, I, u, h, d, C, A = J.get(t); if (A) for (n.handler && (n = (a = n).handler, o = a.selector), o && B.find.matchesSelector(ot, o), n.guid || (n.guid = B.guid++), (g = A.events) || (g = A.events = {}), (r = A.handle) || (r = A.handle = function (e) { return void 0 !== B && B.event.triggered !== e.type ? B.event.dispatch.apply(t, arguments) : void 0 }), l = (e = (e || "").match(T) || [""]).length; l--;)h = C = (s = xt.exec(e[l]) || [])[1], d = (s[2] || "").split(".").sort(), h && (I = B.event.special[h] || {}, h = (o ? I.delegateType : I.bindType) || h, I = B.event.special[h] || {}, c = B.extend({ type: h, origType: C, data: i, handler: n, guid: n.guid, selector: o, needsContext: o && B.expr.match.needsContext.test(o), namespace: d.join(".") }, a), (u = g[h]) || ((u = g[h] = []).delegateCount = 0, I.setup && !1 !== I.setup.call(t, i, d, r) || t.addEventListener && t.addEventListener(h, r)), I.add && (I.add.call(t, c), c.handler.guid || (c.handler.guid = n.guid)), o ? u.splice(u.delegateCount++, 0, c) : u.push(c), B.event.global[h] = !0) }, remove: function (t, e, n, i, o) { var a, r, s, g, l, c, I, u, h, d, C, A = J.hasData(t) && J.get(t); if (A && (g = A.events)) { for (l = (e = (e || "").match(T) || [""]).length; l--;)if (h = C = (s = xt.exec(e[l]) || [])[1], d = (s[2] || "").split(".").sort(), h) { for (I = B.event.special[h] || {}, u = g[h = (i ? I.delegateType : I.bindType) || h] || [], s = s[2] && new RegExp("(^|\\.)" + d.join("\\.(?:.*\\.|)") + "(\\.|$)"), r = a = u.length; a--;)c = u[a], !o && C !== c.origType || n && n.guid !== c.guid || s && !s.test(c.namespace) || i && i !== c.selector && ("**" !== i || !c.selector) || (u.splice(a, 1), c.selector && u.delegateCount--, I.remove && I.remove.call(t, c)); r && !u.length && (I.teardown && !1 !== I.teardown.call(t, d, A.handle) || B.removeEvent(t, h, A.handle), delete g[h]) } else for (h in g) B.event.remove(t, h + e[l], n, i, !0); B.isEmptyObject(g) && J.remove(t, "handle events") } }, dispatch: function (t) { var e, n, i, o, a, r, s = B.event.fix(t), g = new Array(arguments.length), l = (J.get(this, "events") || {})[s.type] || [], c = B.event.special[s.type] || {}; for (g[0] = s, e = 1; e < arguments.length; e++)g[e] = arguments[e]; if (s.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, s)) { for (r = B.event.handlers.call(this, s, l), e = 0; (o = r[e++]) && !s.isPropagationStopped();)for (s.currentTarget = o.elem, n = 0; (a = o.handlers[n++]) && !s.isImmediatePropagationStopped();)s.rnamespace && !1 !== a.namespace && !s.rnamespace.test(a.namespace) || (s.handleObj = a, s.data = a.data, void 0 !== (i = ((B.event.special[a.origType] || {}).handle || a.handler).apply(o.elem, g)) && !1 === (s.result = i) && (s.preventDefault(), s.stopPropagation())); return c.postDispatch && c.postDispatch.call(this, s), s.result } }, handlers: function (t, e) { var n, i, o, a, r, s = [], g = e.delegateCount, l = t.target; if (g && l.nodeType && !("click" === t.type && 1 <= t.button)) for (; l !== this; l = l.parentNode || this)if (1 === l.nodeType && ("click" !== t.type || !0 !== l.disabled)) { for (a = [], r = {}, n = 0; n < g; n++)void 0 === r[o = (i = e[n]).selector + " "] && (r[o] = i.needsContext ? -1 < B(o, this).index(l) : B.find(o, this, null, [l]).length), r[o] && a.push(i); a.length && s.push({ elem: l, handlers: a }) } return l = this, g < e.length && s.push({ elem: l, handlers: e.slice(g) }), s }, addProp: function (t, e) { Object.defineProperty(B.Event.prototype, t, { enumerable: !0, configurable: !0, get: A(e) ? function () { if (this.originalEvent) return e(this.originalEvent) } : function () { if (this.originalEvent) return this.originalEvent[t] }, set: function (e) { Object.defineProperty(this, t, { enumerable: !0, configurable: !0, writable: !0, value: e }) } }) }, fix: function (t) { return t[B.expando] ? t : new B.Event(t) }, special: { load: { noBubble: !0 }, click: { setup: function (t) { var e = this || t; return ut.test(e.type) && e.click && w(e, "input") && void 0 === J.get(e, "click") && Xt(e, "click", Ft), !1 }, trigger: function (t) { var e = this || t; return ut.test(e.type) && e.click && w(e, "input") && void 0 === J.get(e, "click") && Xt(e, "click"), !0 }, _default: function (t) { var e = t.target; return ut.test(e.type) && e.click && w(e, "input") && J.get(e, "click") || w(e, "a") } }, beforeunload: { postDispatch: function (t) { void 0 !== t.result && t.originalEvent && (t.originalEvent.returnValue = t.result) } } } }, B.removeEvent = function (t, e, n) { t.removeEventListener && t.removeEventListener(e, n) }, B.Event = function (t, e) { if (!(this instanceof B.Event)) return new B.Event(t, e); t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || void 0 === t.defaultPrevented && !1 === t.returnValue ? Ft : Qt, this.target = t.target && 3 === t.target.nodeType ? t.target.parentNode : t.target, this.currentTarget = t.currentTarget, this.relatedTarget = t.relatedTarget) : this.type = t, e && B.extend(this, e), this.timeStamp = t && t.timeStamp || Date.now(), this[B.expando] = !0 }, B.Event.prototype = { constructor: B.Event, isDefaultPrevented: Qt, isPropagationStopped: Qt, isImmediatePropagationStopped: Qt, isSimulated: !1, preventDefault: function () { var t = this.originalEvent; this.isDefaultPrevented = Ft, t && !this.isSimulated && t.preventDefault() }, stopPropagation: function () { var t = this.originalEvent; this.isPropagationStopped = Ft, t && !this.isSimulated && t.stopPropagation() }, stopImmediatePropagation: function () { var t = this.originalEvent; this.isImmediatePropagationStopped = Ft, t && !this.isSimulated && t.stopImmediatePropagation(), this.stopPropagation() } }, B.each({ altKey: !0, bubbles: !0, cancelable: !0, changedTouches: !0, ctrlKey: !0, detail: !0, eventPhase: !0, metaKey: !0, pageX: !0, pageY: !0, shiftKey: !0, view: !0, char: !0, code: !0, charCode: !0, key: !0, keyCode: !0, button: !0, buttons: !0, clientX: !0, clientY: !0, offsetX: !0, offsetY: !0, pointerId: !0, pointerType: !0, screenX: !0, screenY: !0, targetTouches: !0, toElement: !0, touches: !0, which: function (t) { var e = t.button; return null == t.which && yt.test(t.type) ? null != t.charCode ? t.charCode : t.keyCode : !t.which && void 0 !== e && vt.test(t.type) ? 1 & e ? 1 : 2 & e ? 3 : 4 & e ? 2 : 0 : t.which } }, B.event.addProp), B.each({ focus: "focusin", blur: "focusout" }, function (t, e) { B.event.special[t] = { setup: function () { return Xt(this, t, Gt), !1 }, trigger: function () { return Xt(this, t), !0 }, delegateType: e } }), B.each({ mouseenter: "mouseover", mouseleave: "mouseout", pointerenter: "pointerover", pointerleave: "pointerout" }, function (t, e) { B.event.special[t] = { delegateType: e, bindType: e, handle: function (t) { var n, i = t.relatedTarget, o = t.handleObj; return i && (i === this || B.contains(this, i)) || (t.type = o.origType, n = o.handler.apply(this, arguments), t.type = e), n } } }), B.fn.extend({ on: function (t, e, n, i) { return wt(this, t, e, n, i) }, one: function (t, e, n, i) { return wt(this, t, e, n, i, 1) }, off: function (t, e, n) { var i, o; if (t && t.preventDefault && t.handleObj) return i = t.handleObj, B(t.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this; if ("object" != typeof t) return !1 !== e && "function" != typeof e || (n = e, e = void 0), !1 === n && (n = Qt), this.each(function () { B.event.remove(this, t, n, e) }); for (o in t) this.off(o, e, t[o]); return this } }); var St = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi, kt = /<script|<style|<link/i, Dt = /checked\s*(?:[^=]|=\s*.checked.)/i, Zt = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g; function Ut(t, e) { return w(t, "table") && w(11 !== e.nodeType ? e : e.firstChild, "tr") && B(t).children("tbody")[0] || t } function Wt(t) { return t.type = (null !== t.getAttribute("type")) + "/" + t.type, t } function Tt(t) { return "true/" === (t.type || "").slice(0, 5) ? t.type = t.type.slice(5) : t.removeAttribute("type"), t } function Nt(t, e) { var n, i, o, a, r, s, g, l; if (1 === e.nodeType) { if (J.hasData(t) && (a = J.access(t), r = J.set(e, a), l = a.events)) for (o in delete r.handle, r.events = {}, l) for (n = 0, i = l[o].length; n < i; n++)B.event.add(e, o, l[o][n]); j.hasData(t) && (s = j.access(t), g = B.extend({}, s), j.set(e, g)) } } function Ht(t, e, n, i) { e = s.apply([], e); var o, a, r, g, l, c, I = 0, u = t.length, h = u - 1, d = e[0], p = A(d); if (p || 1 < u && "string" == typeof d && !C.checkClone && Dt.test(d)) return t.each(function (o) { var a = t.eq(o); p && (e[0] = d.call(this, o, a.html())), Ht(a, e, n, i) }); if (u && (a = (o = Bt(e, t[0].ownerDocument, !1, t, i)).firstChild, 1 === o.childNodes.length && (o = a), a || i)) { for (g = (r = B.map(At(o, "script"), Wt)).length; I < u; I++)l = o, I !== h && (l = B.clone(l, !0, !0), g && B.merge(r, At(l, "script"))), n.call(t[I], l, I); if (g) for (c = r[r.length - 1].ownerDocument, B.map(r, Tt), I = 0; I < g; I++)l = r[I], dt.test(l.type || "") && !J.access(l, "globalEval") && B.contains(c, l) && (l.src && "module" !== (l.type || "").toLowerCase() ? B._evalUrl && !l.noModule && B._evalUrl(l.src, { nonce: l.nonce || l.getAttribute("nonce") }) : m(l.textContent.replace(Zt, ""), l, c)) } return t } function Et(t, e, n) { for (var i, o = e ? B.filter(e, t) : t, a = 0; null != (i = o[a]); a++)n || 1 !== i.nodeType || B.cleanData(At(i)), i.parentNode && (n && at(i) && pt(At(i, "script")), i.parentNode.removeChild(i)); return t } B.extend({ htmlPrefilter: function (t) { return t.replace(St, "<$1></$2>") }, clone: function (t, e, n) { var i, o, a, r, s, g, l, c = t.cloneNode(!0), I = at(t); if (!(C.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || B.isXMLDoc(t))) for (r = At(c), i = 0, o = (a = At(t)).length; i < o; i++)s = a[i], "input" === (l = (g = r[i]).nodeName.toLowerCase()) && ut.test(s.type) ? g.checked = s.checked : "input" !== l && "textarea" !== l || (g.defaultValue = s.defaultValue); if (e) if (n) for (a = a || At(t), r = r || At(c), i = 0, o = a.length; i < o; i++)Nt(a[i], r[i]); else Nt(t, c); return 0 < (r = At(c, "script")).length && pt(r, !I && At(t, "script")), c }, cleanData: function (t) { for (var e, n, i, o = B.event.special, a = 0; void 0 !== (n = t[a]); a++)if (P(n)) { if (e = n[J.expando]) { if (e.events) for (i in e.events) o[i] ? B.event.remove(n, i) : B.removeEvent(n, i, e.handle); n[J.expando] = void 0 } n[j.expando] && (n[j.expando] = void 0) } } }), B.fn.extend({ detach: function (t) { return Et(this, t, !0) }, remove: function (t) { return Et(this, t) }, text: function (t) { return _(this, function (t) { return void 0 === t ? B.text(this) : this.empty().each(function () { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || (this.textContent = t) }) }, null, t, arguments.length) }, append: function () { return Ht(this, arguments, function (t) { 1 !== this.nodeType && 11 !== this.nodeType && 9 !== this.nodeType || Ut(this, t).appendChild(t) }) }, prepend: function () { return Ht(this, arguments, function (t) { if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) { var e = Ut(this, t); e.insertBefore(t, e.firstChild) } }) }, before: function () { return Ht(this, arguments, function (t) { this.parentNode && this.parentNode.insertBefore(t, this) }) }, after: function () { return Ht(this, arguments, function (t) { this.parentNode && this.parentNode.insertBefore(t, this.nextSibling) }) }, empty: function () { for (var t, e = 0; null != (t = this[e]); e++)1 === t.nodeType && (B.cleanData(At(t, !1)), t.textContent = ""); return this }, clone: function (t, e) { return t = null != t && t, e = null == e ? t : e, this.map(function () { return B.clone(this, t, e) }) }, html: function (t) { return _(this, function (t) { var e = this[0] || {}, n = 0, i = this.length; if (void 0 === t && 1 === e.nodeType) return e.innerHTML; if ("string" == typeof t && !kt.test(t) && !Ct[(ht.exec(t) || ["", ""])[1].toLowerCase()]) { t = B.htmlPrefilter(t); try { for (; n < i; n++)1 === (e = this[n] || {}).nodeType && (B.cleanData(At(e, !1)), e.innerHTML = t); e = 0 } catch (t) { } } e && this.empty().append(t) }, null, t, arguments.length) }, replaceWith: function () { var t = []; return Ht(this, arguments, function (e) { var n = this.parentNode; B.inArray(this, t) < 0 && (B.cleanData(At(this)), n && n.replaceChild(e, this)) }, t) } }), B.each({ appendTo: "append", prependTo: "prepend", insertBefore: "before", insertAfter: "after", replaceAll: "replaceWith" }, function (t, e) { B.fn[t] = function (t) { for (var n, i = [], o = B(t), a = o.length - 1, r = 0; r <= a; r++)n = r === a ? this : this.clone(!0), B(o[r])[e](n), g.apply(i, n.get()); return this.pushStack(i) } }); var Rt, Yt, Ot, _t, Vt, Lt, Mt, zt = new RegExp("^(" + et + ")(?!px)[a-z%]+$", "i"), Pt = function (e) { var n = e.ownerDocument.defaultView; return n && n.opener || (n = t), n.getComputedStyle(e) }, Kt = new RegExp(it.join("|"), "i"); function Jt() { if (Mt) { Lt.style.cssText = "position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0", Mt.style.cssText = "position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%", ot.appendChild(Lt).appendChild(Mt); var e = t.getComputedStyle(Mt); Rt = "1%" !== e.top, Vt = 12 === jt(e.marginLeft), Mt.style.right = "60%", _t = 36 === jt(e.right), Yt = 36 === jt(e.width), Mt.style.position = "absolute", Ot = 12 === jt(Mt.offsetWidth / 3), ot.removeChild(Lt), Mt = null } } function jt(t) { return Math.round(parseFloat(t)) } function $t(t, e, n) { var i, o, a, r, s = t.style; return (n = n || Pt(t)) && ("" !== (r = n.getPropertyValue(e) || n[e]) || at(t) || (r = B.style(t, e)), !C.pixelBoxStyles() && zt.test(r) && Kt.test(e) && (i = s.width, o = s.minWidth, a = s.maxWidth, s.minWidth = s.maxWidth = s.width = r, r = n.width, s.width = i, s.minWidth = o, s.maxWidth = a)), void 0 !== r ? r + "" : r } function qt(t, e) { return { get: function () { if (!t()) return (this.get = e).apply(this, arguments); delete this.get } } } Lt = o.createElement("div"), (Mt = o.createElement("div")).style && (Mt.style.backgroundClip = "content-box", Mt.cloneNode(!0).style.backgroundClip = "", C.clearCloneStyle = "content-box" === Mt.style.backgroundClip, B.extend(C, { boxSizingReliable: function () { return Jt(), Yt }, pixelBoxStyles: function () { return Jt(), _t }, pixelPosition: function () { return Jt(), Rt }, reliableMarginLeft: function () { return Jt(), Vt }, scrollboxSize: function () { return Jt(), Ot } })); var te = ["Webkit", "Moz", "ms"], ee = o.createElement("div").style, ne = {}; function ie(t) { return B.cssProps[t] || ne[t] || (t in ee ? t : ne[t] = function (t) { for (var e = t[0].toUpperCase() + t.slice(1), n = te.length; n--;)if ((t = te[n] + e) in ee) return t }(t) || t) } var oe = /^(none|table(?!-c[ea]).+)/, ae = /^--/, re = { position: "absolute", visibility: "hidden", display: "block" }, se = { letterSpacing: "0", fontWeight: "400" }; function ge(t, e, n) { var i = nt.exec(e); return i ? Math.max(0, i[2] - (n || 0)) + (i[3] || "px") : e } function le(t, e, n, i, o, a) { var r = "width" === e ? 1 : 0, s = 0, g = 0; if (n === (i ? "border" : "content")) return 0; for (; r < 4; r += 2)"margin" === n && (g += B.css(t, n + it[r], !0, o)), i ? ("content" === n && (g -= B.css(t, "padding" + it[r], !0, o)), "margin" !== n && (g -= B.css(t, "border" + it[r] + "Width", !0, o))) : (g += B.css(t, "padding" + it[r], !0, o), "padding" !== n ? g += B.css(t, "border" + it[r] + "Width", !0, o) : s += B.css(t, "border" + it[r] + "Width", !0, o)); return !i && 0 <= a && (g += Math.max(0, Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - a - g - s - .5)) || 0), g } function ce(t, e, n) { var i = Pt(t), o = (!C.boxSizingReliable() || n) && "border-box" === B.css(t, "boxSizing", !1, i), a = o, r = $t(t, e, i), s = "offset" + e[0].toUpperCase() + e.slice(1); if (zt.test(r)) { if (!n) return r; r = "auto" } return (!C.boxSizingReliable() && o || "auto" === r || !parseFloat(r) && "inline" === B.css(t, "display", !1, i)) && t.getClientRects().length && (o = "border-box" === B.css(t, "boxSizing", !1, i), (a = s in t) && (r = t[s])), (r = parseFloat(r) || 0) + le(t, e, n || (o ? "border" : "content"), a, i, r) + "px" } function Ie(t, e, n, i, o) { return new Ie.prototype.init(t, e, n, i, o) } B.extend({ cssHooks: { opacity: { get: function (t, e) { if (e) { var n = $t(t, "opacity"); return "" === n ? "1" : n } } } }, cssNumber: { animationIterationCount: !0, columnCount: !0, fillOpacity: !0, flexGrow: !0, flexShrink: !0, fontWeight: !0, gridArea: !0, gridColumn: !0, gridColumnEnd: !0, gridColumnStart: !0, gridRow: !0, gridRowEnd: !0, gridRowStart: !0, lineHeight: !0, opacity: !0, order: !0, orphans: !0, widows: !0, zIndex: !0, zoom: !0 }, cssProps: {}, style: function (t, e, n, i) { if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) { var o, a, r, s = z(e), g = ae.test(e), l = t.style; if (g || (e = ie(s)), r = B.cssHooks[e] || B.cssHooks[s], void 0 === n) return r && "get" in r && void 0 !== (o = r.get(t, !1, i)) ? o : l[e]; "string" == (a = typeof n) && (o = nt.exec(n)) && o[1] && (n = lt(t, e, o), a = "number"), null != n && n == n && ("number" !== a || g || (n += o && o[3] || (B.cssNumber[s] ? "" : "px")), C.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (l[e] = "inherit"), r && "set" in r && void 0 === (n = r.set(t, n, i)) || (g ? l.setProperty(e, n) : l[e] = n)) } }, css: function (t, e, n, i) { var o, a, r, s = z(e); return ae.test(e) || (e = ie(s)), (r = B.cssHooks[e] || B.cssHooks[s]) && "get" in r && (o = r.get(t, !0, n)), void 0 === o && (o = $t(t, e, i)), "normal" === o && e in se && (o = se[e]), "" === n || n ? (a = parseFloat(o), !0 === n || isFinite(a) ? a || 0 : o) : o } }), B.each(["height", "width"], function (t, e) { B.cssHooks[e] = { get: function (t, n, i) { if (n) return !oe.test(B.css(t, "display")) || t.getClientRects().length && t.getBoundingClientRect().width ? ce(t, e, i) : st(t, re, function () { return ce(t, e, i) }) }, set: function (t, n, i) { var o, a = Pt(t), r = !C.scrollboxSize() && "absolute" === a.position, s = (r || i) && "border-box" === B.css(t, "boxSizing", !1, a), g = i ? le(t, e, i, s, a) : 0; return s && r && (g -= Math.ceil(t["offset" + e[0].toUpperCase() + e.slice(1)] - parseFloat(a[e]) - le(t, e, "border", !1, a) - .5)), g && (o = nt.exec(n)) && "px" !== (o[3] || "px") && (t.style[e] = n, n = B.css(t, e)), ge(0, n, g) } } }), B.cssHooks.marginLeft = qt(C.reliableMarginLeft, function (t, e) { if (e) return (parseFloat($t(t, "marginLeft")) || t.getBoundingClientRect().left - st(t, { marginLeft: 0 }, function () { return t.getBoundingClientRect().left })) + "px" }), B.each({ margin: "", padding: "", border: "Width" }, function (t, e) { B.cssHooks[t + e] = { expand: function (n) { for (var i = 0, o = {}, a = "string" == typeof n ? n.split(" ") : [n]; i < 4; i++)o[t + it[i] + e] = a[i] || a[i - 2] || a[0]; return o } }, "margin" !== t && (B.cssHooks[t + e].set = ge) }), B.fn.extend({ css: function (t, e) { return _(this, function (t, e, n) { var i, o, a = {}, r = 0; if (Array.isArray(e)) { for (i = Pt(t), o = e.length; r < o; r++)a[e[r]] = B.css(t, e[r], !1, i); return a } return void 0 !== n ? B.style(t, e, n) : B.css(t, e) }, t, e, 1 < arguments.length) } }), ((B.Tween = Ie).prototype = { constructor: Ie, init: function (t, e, n, i, o, a) { this.elem = t, this.prop = n, this.easing = o || B.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = i, this.unit = a || (B.cssNumber[n] ? "" : "px") }, cur: function () { var t = Ie.propHooks[this.prop]; return t && t.get ? t.get(this) : Ie.propHooks._default.get(this) }, run: function (t) { var e, n = Ie.propHooks[this.prop]; return this.options.duration ? this.pos = e = B.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : Ie.propHooks._default.set(this), this } }).init.prototype = Ie.prototype, (Ie.propHooks = { _default: { get: function (t) { var e; return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = B.css(t.elem, t.prop, "")) && "auto" !== e ? e : 0 }, set: function (t) { B.fx.step[t.prop] ? B.fx.step[t.prop](t) : 1 !== t.elem.nodeType || !B.cssHooks[t.prop] && null == t.elem.style[ie(t.prop)] ? t.elem[t.prop] = t.now : B.style(t.elem, t.prop, t.now + t.unit) } } }).scrollTop = Ie.propHooks.scrollLeft = { set: function (t) { t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now) } }, B.easing = { linear: function (t) { return t }, swing: function (t) { return .5 - Math.cos(t * Math.PI) / 2 }, _default: "swing" }, B.fx = Ie.prototype.init, B.fx.step = {}; var ue, he, de, Ce, Ae = /^(?:toggle|show|hide)$/, pe = /queueHooks$/; function me() { he && (!1 === o.hidden && t.requestAnimationFrame ? t.requestAnimationFrame(me) : t.setTimeout(me, B.fx.interval), B.fx.tick()) } function fe() { return t.setTimeout(function () { ue = void 0 }), ue = Date.now() } function be(t, e) { var n, i = 0, o = { height: t }; for (e = e ? 1 : 0; i < 4; i += 2 - e)o["margin" + (n = it[i])] = o["padding" + n] = t; return e && (o.opacity = o.width = t), o } function Be(t, e, n) { for (var i, o = (ye.tweeners[e] || []).concat(ye.tweeners["*"]), a = 0, r = o.length; a < r; a++)if (i = o[a].call(n, e, t)) return i } function ye(t, e, n) { var i, o, a = 0, r = ye.prefilters.length, s = B.Deferred().always(function () { delete g.elem }), g = function () { if (o) return !1; for (var e = ue || fe(), n = Math.max(0, l.startTime + l.duration - e), i = 1 - (n / l.duration || 0), a = 0, r = l.tweens.length; a < r; a++)l.tweens[a].run(i); return s.notifyWith(t, [l, i, n]), i < 1 && r ? n : (r || s.notifyWith(t, [l, 1, 0]), s.resolveWith(t, [l]), !1) }, l = s.promise({ elem: t, props: B.extend({}, e), opts: B.extend(!0, { specialEasing: {}, easing: B.easing._default }, n), originalProperties: e, originalOptions: n, startTime: ue || fe(), duration: n.duration, tweens: [], createTween: function (e, n) { var i = B.Tween(t, l.opts, e, n, l.opts.specialEasing[e] || l.opts.easing); return l.tweens.push(i), i }, stop: function (e) { var n = 0, i = e ? l.tweens.length : 0; if (o) return this; for (o = !0; n < i; n++)l.tweens[n].run(1); return e ? (s.notifyWith(t, [l, 1, 0]), s.resolveWith(t, [l, e])) : s.rejectWith(t, [l, e]), this } }), c = l.props; for (function (t, e) { var n, i, o, a, r; for (n in t) if (o = e[i = z(n)], a = t[n], Array.isArray(a) && (o = a[1], a = t[n] = a[0]), n !== i && (t[i] = a, delete t[n]), (r = B.cssHooks[i]) && "expand" in r) for (n in a = r.expand(a), delete t[i], a) n in t || (t[n] = a[n], e[n] = o); else e[i] = o }(c, l.opts.specialEasing); a < r; a++)if (i = ye.prefilters[a].call(l, t, c, l.opts)) return A(i.stop) && (B._queueHooks(l.elem, l.opts.queue).stop = i.stop.bind(i)), i; return B.map(c, Be, l), A(l.opts.start) && l.opts.start.call(t, l), l.progress(l.opts.progress).done(l.opts.done, l.opts.complete).fail(l.opts.fail).always(l.opts.always), B.fx.timer(B.extend(g, { elem: t, anim: l, queue: l.opts.queue })), l } B.Animation = B.extend(ye, { tweeners: { "*": [function (t, e) { var n = this.createTween(t, e); return lt(n.elem, t, nt.exec(e), n), n }] }, tweener: function (t, e) { for (var n, i = 0, o = (t = A(t) ? (e = t, ["*"]) : t.match(T)).length; i < o; i++)n = t[i], ye.tweeners[n] = ye.tweeners[n] || [], ye.tweeners[n].unshift(e) }, prefilters: [function (t, e, n) { var i, o, a, r, s, g, l, c, I = "width" in e || "height" in e, u = this, h = {}, d = t.style, C = t.nodeType && gt(t), A = J.get(t, "fxshow"); for (i in n.queue || (null == (r = B._queueHooks(t, "fx")).unqueued && (r.unqueued = 0, s = r.empty.fire, r.empty.fire = function () { r.unqueued || s() }), r.unqueued++, u.always(function () { u.always(function () { r.unqueued--, B.queue(t, "fx").length || r.empty.fire() }) })), e) if (o = e[i], Ae.test(o)) { if (delete e[i], a = a || "toggle" === o, o === (C ? "hide" : "show")) { if ("show" !== o || !A || void 0 === A[i]) continue; C = !0 } h[i] = A && A[i] || B.style(t, i) } if ((g = !B.isEmptyObject(e)) || !B.isEmptyObject(h)) for (i in I && 1 === t.nodeType && (n.overflow = [d.overflow, d.overflowX, d.overflowY], null == (l = A && A.display) && (l = J.get(t, "display")), "none" === (c = B.css(t, "display")) && (l ? c = l : (It([t], !0), l = t.style.display || l, c = B.css(t, "display"), It([t]))), ("inline" === c || "inline-block" === c && null != l) && "none" === B.css(t, "float") && (g || (u.done(function () { d.display = l }), null == l && (c = d.display, l = "none" === c ? "" : c)), d.display = "inline-block")), n.overflow && (d.overflow = "hidden", u.always(function () { d.overflow = n.overflow[0], d.overflowX = n.overflow[1], d.overflowY = n.overflow[2] })), g = !1, h) g || (A ? "hidden" in A && (C = A.hidden) : A = J.access(t, "fxshow", { display: l }), a && (A.hidden = !C), C && It([t], !0), u.done(function () { for (i in C || It([t]), J.remove(t, "fxshow"), h) B.style(t, i, h[i]) })), g = Be(C ? A[i] : 0, i, u), i in A || (A[i] = g.start, C && (g.end = g.start, g.start = 0)) }], prefilter: function (t, e) { e ? ye.prefilters.unshift(t) : ye.prefilters.push(t) } }), B.speed = function (t, e, n) { var i = t && "object" == typeof t ? B.extend({}, t) : { complete: n || !n && e || A(t) && t, duration: t, easing: n && e || e && !A(e) && e }; return B.fx.off ? i.duration = 0 : "number" != typeof i.duration && (i.duration in B.fx.speeds ? i.duration = B.fx.speeds[i.duration] : i.duration = B.fx.speeds._default), null != i.queue && !0 !== i.queue || (i.queue = "fx"), i.old = i.complete, i.complete = function () { A(i.old) && i.old.call(this), i.queue && B.dequeue(this, i.queue) }, i }, B.fn.extend({ fadeTo: function (t, e, n, i) { return this.filter(gt).css("opacity", 0).show().end().animate({ opacity: e }, t, n, i) }, animate: function (t, e, n, i) { function o() { var e = ye(this, B.extend({}, t), r); (a || J.get(this, "finish")) && e.stop(!0) } var a = B.isEmptyObject(t), r = B.speed(e, n, i); return o.finish = o, a || !1 === r.queue ? this.each(o) : this.queue(r.queue, o) }, stop: function (t, e, n) { function i(t) { var e = t.stop; delete t.stop, e(n) } return "string" != typeof t && (n = e, e = t, t = void 0), e && !1 !== t && this.queue(t || "fx", []), this.each(function () { var e = !0, o = null != t && t + "queueHooks", a = B.timers, r = J.get(this); if (o) r[o] && r[o].stop && i(r[o]); else for (o in r) r[o] && r[o].stop && pe.test(o) && i(r[o]); for (o = a.length; o--;)a[o].elem !== this || null != t && a[o].queue !== t || (a[o].anim.stop(n), e = !1, a.splice(o, 1)); !e && n || B.dequeue(this, t) }) }, finish: function (t) { return !1 !== t && (t = t || "fx"), this.each(function () { var e, n = J.get(this), i = n[t + "queue"], o = n[t + "queueHooks"], a = B.timers, r = i ? i.length : 0; for (n.finish = !0, B.queue(this, t, []), o && o.stop && o.stop.call(this, !0), e = a.length; e--;)a[e].elem === this && a[e].queue === t && (a[e].anim.stop(!0), a.splice(e, 1)); for (e = 0; e < r; e++)i[e] && i[e].finish && i[e].finish.call(this); delete n.finish }) } }), B.each(["toggle", "show", "hide"], function (t, e) { var n = B.fn[e]; B.fn[e] = function (t, i, o) { return null == t || "boolean" == typeof t ? n.apply(this, arguments) : this.animate(be(e, !0), t, i, o) } }), B.each({ slideDown: be("show"), slideUp: be("hide"), slideToggle: be("toggle"), fadeIn: { opacity: "show" }, fadeOut: { opacity: "hide" }, fadeToggle: { opacity: "toggle" } }, function (t, e) { B.fn[t] = function (t, n, i) { return this.animate(e, t, n, i) } }), B.timers = [], B.fx.tick = function () { var t, e = 0, n = B.timers; for (ue = Date.now(); e < n.length; e++)(t = n[e])() || n[e] !== t || n.splice(e--, 1); n.length || B.fx.stop(), ue = void 0 }, B.fx.timer = function (t) { B.timers.push(t), B.fx.start() }, B.fx.interval = 13, B.fx.start = function () { he || (he = !0, me()) }, B.fx.stop = function () { he = null }, B.fx.speeds = { slow: 600, fast: 200, _default: 400 }, B.fn.delay = function (e, n) { return e = B.fx && B.fx.speeds[e] || e, n = n || "fx", this.queue(n, function (n, i) { var o = t.setTimeout(n, e); i.stop = function () { t.clearTimeout(o) } }) }, de = o.createElement("input"), Ce = o.createElement("select").appendChild(o.createElement("option")), de.type = "checkbox", C.checkOn = "" !== de.value, C.optSelected = Ce.selected, (de = o.createElement("input")).value = "t", de.type = "radio", C.radioValue = "t" === de.value; var ve, xe = B.expr.attrHandle; B.fn.extend({ attr: function (t, e) { return _(this, B.attr, t, e, 1 < arguments.length) }, removeAttr: function (t) { return this.each(function () { B.removeAttr(this, t) }) } }), B.extend({ attr: function (t, e, n) { var i, o, a = t.nodeType; if (3 !== a && 8 !== a && 2 !== a) return void 0 === t.getAttribute ? B.prop(t, e, n) : (1 === a && B.isXMLDoc(t) || (o = B.attrHooks[e.toLowerCase()] || (B.expr.match.bool.test(e) ? ve : void 0)), void 0 !== n ? null === n ? void B.removeAttr(t, e) : o && "set" in o && void 0 !== (i = o.set(t, n, e)) ? i : (t.setAttribute(e, n + ""), n) : o && "get" in o && null !== (i = o.get(t, e)) ? i : null == (i = B.find.attr(t, e)) ? void 0 : i) }, attrHooks: { type: { set: function (t, e) { if (!C.radioValue && "radio" === e && w(t, "input")) { var n = t.value; return t.setAttribute("type", e), n && (t.value = n), e } } } }, removeAttr: function (t, e) { var n, i = 0, o = e && e.match(T); if (o && 1 === t.nodeType) for (; n = o[i++];)t.removeAttribute(n) } }), ve = { set: function (t, e, n) { return !1 === e ? B.removeAttr(t, n) : t.setAttribute(n, n), n } }, B.each(B.expr.match.bool.source.match(/\w+/g), function (t, e) { var n = xe[e] || B.find.attr; xe[e] = function (t, e, i) { var o, a, r = e.toLowerCase(); return i || (a = xe[r], xe[r] = o, o = null != n(t, e, i) ? r : null, xe[r] = a), o } }); var Fe = /^(?:input|select|textarea|button)$/i, Qe = /^(?:a|area)$/i; function Ge(t) { return (t.match(T) || []).join(" ") } function we(t) { return t.getAttribute && t.getAttribute("class") || "" } function Xe(t) { return Array.isArray(t) ? t : "string" == typeof t && t.match(T) || [] } B.fn.extend({ prop: function (t, e) { return _(this, B.prop, t, e, 1 < arguments.length) }, removeProp: function (t) { return this.each(function () { delete this[B.propFix[t] || t] }) } }), B.extend({ prop: function (t, e, n) { var i, o, a = t.nodeType; if (3 !== a && 8 !== a && 2 !== a) return 1 === a && B.isXMLDoc(t) || (e = B.propFix[e] || e, o = B.propHooks[e]), void 0 !== n ? o && "set" in o && void 0 !== (i = o.set(t, n, e)) ? i : t[e] = n : o && "get" in o && null !== (i = o.get(t, e)) ? i : t[e] }, propHooks: { tabIndex: { get: function (t) { var e = B.find.attr(t, "tabindex"); return e ? parseInt(e, 10) : Fe.test(t.nodeName) || Qe.test(t.nodeName) && t.href ? 0 : -1 } } }, propFix: { for: "htmlFor", class: "className" } }), C.optSelected || (B.propHooks.selected = { get: function (t) { var e = t.parentNode; return e && e.parentNode && e.parentNode.selectedIndex, null }, set: function (t) { var e = t.parentNode; e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex) } }), B.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function () { B.propFix[this.toLowerCase()] = this }), B.fn.extend({ addClass: function (t) { var e, n, i, o, a, r, s, g = 0; if (A(t)) return this.each(function (e) { B(this).addClass(t.call(this, e, we(this))) }); if ((e = Xe(t)).length) for (; n = this[g++];)if (o = we(n), i = 1 === n.nodeType && " " + Ge(o) + " ") { for (r = 0; a = e[r++];)i.indexOf(" " + a + " ") < 0 && (i += a + " "); o !== (s = Ge(i)) && n.setAttribute("class", s) } return this }, removeClass: function (t) { var e, n, i, o, a, r, s, g = 0; if (A(t)) return this.each(function (e) { B(this).removeClass(t.call(this, e, we(this))) }); if (!arguments.length) return this.attr("class", ""); if ((e = Xe(t)).length) for (; n = this[g++];)if (o = we(n), i = 1 === n.nodeType && " " + Ge(o) + " ") { for (r = 0; a = e[r++];)for (; -1 < i.indexOf(" " + a + " ");)i = i.replace(" " + a + " ", " "); o !== (s = Ge(i)) && n.setAttribute("class", s) } return this }, toggleClass: function (t, e) { var n = typeof t, i = "string" == n || Array.isArray(t); return "boolean" == typeof e && i ? e ? this.addClass(t) : this.removeClass(t) : A(t) ? this.each(function (n) { B(this).toggleClass(t.call(this, n, we(this), e), e) }) : this.each(function () { var e, o, a, r; if (i) for (o = 0, a = B(this), r = Xe(t); e = r[o++];)a.hasClass(e) ? a.removeClass(e) : a.addClass(e); else void 0 !== t && "boolean" != n || ((e = we(this)) && J.set(this, "__className__", e), this.setAttribute && this.setAttribute("class", e || !1 === t ? "" : J.get(this, "__className__") || "")) }) }, hasClass: function (t) { var e, n, i = 0; for (e = " " + t + " "; n = this[i++];)if (1 === n.nodeType && -1 < (" " + Ge(we(n)) + " ").indexOf(e)) return !0; return !1 } }); var Se = /\r/g; function ke(t) { t.stopPropagation() } B.fn.extend({ val: function (t) { var e, n, i, o = this[0]; return arguments.length ? (i = A(t), this.each(function (n) { var o; 1 === this.nodeType && (null == (o = i ? t.call(this, n, B(this).val()) : t) ? o = "" : "number" == typeof o ? o += "" : Array.isArray(o) && (o = B.map(o, function (t) { return null == t ? "" : t + "" })), (e = B.valHooks[this.type] || B.valHooks[this.nodeName.toLowerCase()]) && "set" in e && void 0 !== e.set(this, o, "value") || (this.value = o)) })) : o ? (e = B.valHooks[o.type] || B.valHooks[o.nodeName.toLowerCase()]) && "get" in e && void 0 !== (n = e.get(o, "value")) ? n : "string" == typeof (n = o.value) ? n.replace(Se, "") : null == n ? "" : n : void 0 } }), B.extend({ valHooks: { option: { get: function (t) { var e = B.find.attr(t, "value"); return null != e ? e : Ge(B.text(t)) } }, select: { get: function (t) { var e, n, i, o = t.options, a = t.selectedIndex, r = "select-one" === t.type, s = r ? null : [], g = r ? a + 1 : o.length; for (i = a < 0 ? g : r ? a : 0; i < g; i++)if (((n = o[i]).selected || i === a) && !n.disabled && (!n.parentNode.disabled || !w(n.parentNode, "optgroup"))) { if (e = B(n).val(), r) return e; s.push(e) } return s }, set: function (t, e) { for (var n, i, o = t.options, a = B.makeArray(e), r = o.length; r--;)((i = o[r]).selected = -1 < B.inArray(B.valHooks.option.get(i), a)) && (n = !0); return n || (t.selectedIndex = -1), a } } } }), B.each(["radio", "checkbox"], function () { B.valHooks[this] = { set: function (t, e) { if (Array.isArray(e)) return t.checked = -1 < B.inArray(B(t).val(), e) } }, C.checkOn || (B.valHooks[this].get = function (t) { return null === t.getAttribute("value") ? "on" : t.value }) }), C.focusin = "onfocusin" in t; var De = /^(?:focusinfocus|focusoutblur)$/; B.extend(B.event, { trigger: function (e, i, a, r) { var s, g, l, c, I, h, d, C, p = [a || o], m = u.call(e, "type") ? e.type : e, f = u.call(e, "namespace") ? e.namespace.split(".") : []; if (g = C = l = a = a || o, 3 !== a.nodeType && 8 !== a.nodeType && !De.test(m + B.event.triggered) && (-1 < m.indexOf(".") && (m = (f = m.split(".")).shift(), f.sort()), I = m.indexOf(":") < 0 && "on" + m, (e = e[B.expando] ? e : new B.Event(m, "object" == typeof e && e)).isTrigger = r ? 2 : 3, e.namespace = f.join("."), e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + f.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, e.result = void 0, e.target || (e.target = a), i = null == i ? [e] : B.makeArray(i, [e]), d = B.event.special[m] || {}, r || !d.trigger || !1 !== d.trigger.apply(a, i))) { if (!r && !d.noBubble && !n(a)) { for (c = d.delegateType || m, De.test(c + m) || (g = g.parentNode); g; g = g.parentNode)p.push(g), l = g; l === (a.ownerDocument || o) && p.push(l.defaultView || l.parentWindow || t) } for (s = 0; (g = p[s++]) && !e.isPropagationStopped();)C = g, e.type = 1 < s ? c : d.bindType || m, (h = (J.get(g, "events") || {})[e.type] && J.get(g, "handle")) && h.apply(g, i), (h = I && g[I]) && h.apply && P(g) && (e.result = h.apply(g, i), !1 === e.result && e.preventDefault()); return e.type = m, r || e.isDefaultPrevented() || d._default && !1 !== d._default.apply(p.pop(), i) || !P(a) || I && A(a[m]) && !n(a) && ((l = a[I]) && (a[I] = null), B.event.triggered = m, e.isPropagationStopped() && C.addEventListener(m, ke), a[m](), e.isPropagationStopped() && C.removeEventListener(m, ke), B.event.triggered = void 0, l && (a[I] = l)), e.result } }, simulate: function (t, e, n) { var i = B.extend(new B.Event, n, { type: t, isSimulated: !0 }); B.event.trigger(i, null, e) } }), B.fn.extend({ trigger: function (t, e) { return this.each(function () { B.event.trigger(t, e, this) }) }, triggerHandler: function (t, e) { var n = this[0]; if (n) return B.event.trigger(t, e, n, !0) } }), C.focusin || B.each({ focus: "focusin", blur: "focusout" }, function (t, e) { function n(t) { B.event.simulate(e, t.target, B.event.fix(t)) } B.event.special[e] = { setup: function () { var i = this.ownerDocument || this, o = J.access(i, e); o || i.addEventListener(t, n, !0), J.access(i, e, (o || 0) + 1) }, teardown: function () { var i = this.ownerDocument || this, o = J.access(i, e) - 1; o ? J.access(i, e, o) : (i.removeEventListener(t, n, !0), J.remove(i, e)) } } }); var Ze = t.location, Ue = Date.now(), We = /\?/; B.parseXML = function (e) { var n; if (!e || "string" != typeof e) return null; try { n = (new t.DOMParser).parseFromString(e, "text/xml") } catch (e) { n = void 0 } return n && !n.getElementsByTagName("parsererror").length || B.error("Invalid XML: " + e), n }; var Te = /\[\]$/, Ne = /\r?\n/g, He = /^(?:submit|button|image|reset|file)$/i, Ee = /^(?:input|select|textarea|keygen)/i; function Re(t, e, n, i) { var o; if (Array.isArray(e)) B.each(e, function (e, o) { n || Te.test(t) ? i(t, o) : Re(t + "[" + ("object" == typeof o && null != o ? e : "") + "]", o, n, i) }); else if (n || "object" !== f(e)) i(t, e); else for (o in e) Re(t + "[" + o + "]", e[o], n, i) } B.param = function (t, e) { function n(t, e) { var n = A(e) ? e() : e; o[o.length] = encodeURIComponent(t) + "=" + encodeURIComponent(null == n ? "" : n) } var i, o = []; if (null == t) return ""; if (Array.isArray(t) || t.jquery && !B.isPlainObject(t)) B.each(t, function () { n(this.name, this.value) }); else for (i in t) Re(i, t[i], e, n); return o.join("&") }, B.fn.extend({ serialize: function () { return B.param(this.serializeArray()) }, serializeArray: function () { return this.map(function () { var t = B.prop(this, "elements"); return t ? B.makeArray(t) : this }).filter(function () { var t = this.type; return this.name && !B(this).is(":disabled") && Ee.test(this.nodeName) && !He.test(t) && (this.checked || !ut.test(t)) }).map(function (t, e) { var n = B(this).val(); return null == n ? null : Array.isArray(n) ? B.map(n, function (t) { return { name: e.name, value: t.replace(Ne, "\r\n") } }) : { name: e.name, value: n.replace(Ne, "\r\n") } }).get() } }); var Ye = /%20/g, Oe = /#.*$/, _e = /([?&])_=[^&]*/, Ve = /^(.*?):[ \t]*([^\r\n]*)$/gm, Le = /^(?:GET|HEAD)$/, Me = /^\/\//, ze = {}, Pe = {}, Ke = "*/".concat("*"), Je = o.createElement("a"); function je(t) { return function (e, n) { "string" != typeof e && (n = e, e = "*"); var i, o = 0, a = e.toLowerCase().match(T) || []; if (A(n)) for (; i = a[o++];)"+" === i[0] ? (i = i.slice(1) || "*", (t[i] = t[i] || []).unshift(n)) : (t[i] = t[i] || []).push(n) } } function $e(t, e, n, i) { var o = {}, a = t === Pe; function r(s) { var g; return o[s] = !0, B.each(t[s] || [], function (t, s) { var l = s(e, n, i); return "string" != typeof l || a || o[l] ? a ? !(g = l) : void 0 : (e.dataTypes.unshift(l), r(l), !1) }), g } return r(e.dataTypes[0]) || !o["*"] && r("*") } function qe(t, e) { var n, i, o = B.ajaxSettings.flatOptions || {}; for (n in e) void 0 !== e[n] && ((o[n] ? t : i || (i = {}))[n] = e[n]); return i && B.extend(!0, t, i), t } Je.href = Ze.href, B.extend({ active: 0, lastModified: {}, etag: {}, ajaxSettings: { url: Ze.href, type: "GET", isLocal: /^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ze.protocol), global: !0, processData: !0, async: !0, contentType: "application/x-www-form-urlencoded; charset=UTF-8", accepts: { "*": Ke, text: "text/plain", html: "text/html", xml: "application/xml, text/xml", json: "application/json, text/javascript" }, contents: { xml: /\bxml\b/, html: /\bhtml/, json: /\bjson\b/ }, responseFields: { xml: "responseXML", text: "responseText", json: "responseJSON" }, converters: { "* text": String, "text html": !0, "text json": JSON.parse, "text xml": B.parseXML }, flatOptions: { url: !0, context: !0 } }, ajaxSetup: function (t, e) { return e ? qe(qe(t, B.ajaxSettings), e) : qe(B.ajaxSettings, t) }, ajaxPrefilter: je(ze), ajaxTransport: je(Pe), ajax: function (e, n) { "object" == typeof e && (n = e, e = void 0), n = n || {}; var i, a, r, s, g, l, c, I, u, h, d = B.ajaxSetup({}, n), C = d.context || d, A = d.context && (C.nodeType || C.jquery) ? B(C) : B.event, p = B.Deferred(), m = B.Callbacks("once memory"), f = d.statusCode || {}, b = {}, y = {}, v = "canceled", x = { readyState: 0, getResponseHeader: function (t) { var e; if (c) { if (!s) for (s = {}; e = Ve.exec(r);)s[e[1].toLowerCase() + " "] = (s[e[1].toLowerCase() + " "] || []).concat(e[2]); e = s[t.toLowerCase() + " "] } return null == e ? null : e.join(", ") }, getAllResponseHeaders: function () { return c ? r : null }, setRequestHeader: function (t, e) { return null == c && (t = y[t.toLowerCase()] = y[t.toLowerCase()] || t, b[t] = e), this }, overrideMimeType: function (t) { return null == c && (d.mimeType = t), this }, statusCode: function (t) { var e; if (t) if (c) x.always(t[x.status]); else for (e in t) f[e] = [f[e], t[e]]; return this }, abort: function (t) { var e = t || v; return i && i.abort(e), F(0, e), this } }; if (p.promise(x), d.url = ((e || d.url || Ze.href) + "").replace(Me, Ze.protocol + "//"), d.type = n.method || n.type || d.method || d.type, d.dataTypes = (d.dataType || "*").toLowerCase().match(T) || [""], null == d.crossDomain) { l = o.createElement("a"); try { l.href = d.url, l.href = l.href, d.crossDomain = Je.protocol + "//" + Je.host != l.protocol + "//" + l.host } catch (e) { d.crossDomain = !0 } } if (d.data && d.processData && "string" != typeof d.data && (d.data = B.param(d.data, d.traditional)), $e(ze, d, n, x), c) return x; for (u in (I = B.event && d.global) && 0 == B.active++ && B.event.trigger("ajaxStart"), d.type = d.type.toUpperCase(), d.hasContent = !Le.test(d.type), a = d.url.replace(Oe, ""), d.hasContent ? d.data && d.processData && 0 === (d.contentType || "").indexOf("application/x-www-form-urlencoded") && (d.data = d.data.replace(Ye, "+")) : (h = d.url.slice(a.length), d.data && (d.processData || "string" == typeof d.data) && (a += (We.test(a) ? "&" : "?") + d.data, delete d.data), !1 === d.cache && (a = a.replace(_e, "$1"), h = (We.test(a) ? "&" : "?") + "_=" + Ue++ + h), d.url = a + h), d.ifModified && (B.lastModified[a] && x.setRequestHeader("If-Modified-Since", B.lastModified[a]), B.etag[a] && x.setRequestHeader("If-None-Match", B.etag[a])), (d.data && d.hasContent && !1 !== d.contentType || n.contentType) && x.setRequestHeader("Content-Type", d.contentType), x.setRequestHeader("Accept", d.dataTypes[0] && d.accepts[d.dataTypes[0]] ? d.accepts[d.dataTypes[0]] + ("*" !== d.dataTypes[0] ? ", " + Ke + "; q=0.01" : "") : d.accepts["*"]), d.headers) x.setRequestHeader(u, d.headers[u]); if (d.beforeSend && (!1 === d.beforeSend.call(C, x, d) || c)) return x.abort(); if (v = "abort", m.add(d.complete), x.done(d.success), x.fail(d.error), i = $e(Pe, d, n, x)) { if (x.readyState = 1, I && A.trigger("ajaxSend", [x, d]), c) return x; d.async && 0 < d.timeout && (g = t.setTimeout(function () { x.abort("timeout") }, d.timeout)); try { c = !1, i.send(b, F) } catch (e) { if (c) throw e; F(-1, e) } } else F(-1, "No Transport"); function F(e, n, o, s) { var l, u, h, b, y, v = n; c || (c = !0, g && t.clearTimeout(g), i = void 0, r = s || "", x.readyState = 0 < e ? 4 : 0, l = 200 <= e && e < 300 || 304 === e, o && (b = function (t, e, n) { for (var i, o, a, r, s = t.contents, g = t.dataTypes; "*" === g[0];)g.shift(), void 0 === i && (i = t.mimeType || e.getResponseHeader("Content-Type")); if (i) for (o in s) if (s[o] && s[o].test(i)) { g.unshift(o); break } if (g[0] in n) a = g[0]; else { for (o in n) { if (!g[0] || t.converters[o + " " + g[0]]) { a = o; break } r || (r = o) } a = a || r } if (a) return a !== g[0] && g.unshift(a), n[a] }(d, x, o)), b = function (t, e, n, i) { var o, a, r, s, g, l = {}, c = t.dataTypes.slice(); if (c[1]) for (r in t.converters) l[r.toLowerCase()] = t.converters[r]; for (a = c.shift(); a;)if (t.responseFields[a] && (n[t.responseFields[a]] = e), !g && i && t.dataFilter && (e = t.dataFilter(e, t.dataType)), g = a, a = c.shift()) if ("*" === a) a = g; else if ("*" !== g && g !== a) { if (!(r = l[g + " " + a] || l["* " + a])) for (o in l) if ((s = o.split(" "))[1] === a && (r = l[g + " " + s[0]] || l["* " + s[0]])) { !0 === r ? r = l[o] : !0 !== l[o] && (a = s[0], c.unshift(s[1])); break } if (!0 !== r) if (r && t.throws) e = r(e); else try { e = r(e) } catch (t) { return { state: "parsererror", error: r ? t : "No conversion from " + g + " to " + a } } } return { state: "success", data: e } }(d, b, x, l), l ? (d.ifModified && ((y = x.getResponseHeader("Last-Modified")) && (B.lastModified[a] = y), (y = x.getResponseHeader("etag")) && (B.etag[a] = y)), 204 === e || "HEAD" === d.type ? v = "nocontent" : 304 === e ? v = "notmodified" : (v = b.state, u = b.data, l = !(h = b.error))) : (h = v, !e && v || (v = "error", e < 0 && (e = 0))), x.status = e, x.statusText = (n || v) + "", l ? p.resolveWith(C, [u, v, x]) : p.rejectWith(C, [x, v, h]), x.statusCode(f), f = void 0, I && A.trigger(l ? "ajaxSuccess" : "ajaxError", [x, d, l ? u : h]), m.fireWith(C, [x, v]), I && (A.trigger("ajaxComplete", [x, d]), --B.active || B.event.trigger("ajaxStop"))) } return x }, getJSON: function (t, e, n) { return B.get(t, e, n, "json") }, getScript: function (t, e) { return B.get(t, void 0, e, "script") } }), B.each(["get", "post"], function (t, e) { B[e] = function (t, n, i, o) { return A(n) && (o = o || i, i = n, n = void 0), B.ajax(B.extend({ url: t, type: e, dataType: o, data: n, success: i }, B.isPlainObject(t) && t)) } }), B._evalUrl = function (t, e) { return B.ajax({ url: t, type: "GET", dataType: "script", cache: !0, async: !1, global: !1, converters: { "text script": function () { } }, dataFilter: function (t) { B.globalEval(t, e) } }) }, B.fn.extend({ wrapAll: function (t) { var e; return this[0] && (A(t) && (t = t.call(this[0])), e = B(t, this[0].ownerDocument).eq(0).clone(!0), this[0].parentNode && e.insertBefore(this[0]), e.map(function () { for (var t = this; t.firstElementChild;)t = t.firstElementChild; return t }).append(this)), this }, wrapInner: function (t) { return A(t) ? this.each(function (e) { B(this).wrapInner(t.call(this, e)) }) : this.each(function () { var e = B(this), n = e.contents(); n.length ? n.wrapAll(t) : e.append(t) }) }, wrap: function (t) { var e = A(t); return this.each(function (n) { B(this).wrapAll(e ? t.call(this, n) : t) }) }, unwrap: function (t) { return this.parent(t).not("body").each(function () { B(this).replaceWith(this.childNodes) }), this } }), B.expr.pseudos.hidden = function (t) { return !B.expr.pseudos.visible(t) }, B.expr.pseudos.visible = function (t) { return !!(t.offsetWidth || t.offsetHeight || t.getClientRects().length) }, B.ajaxSettings.xhr = function () { try { return new t.XMLHttpRequest } catch (t) { } }; var tn = { 0: 200, 1223: 204 }, en = B.ajaxSettings.xhr(); C.cors = !!en && "withCredentials" in en, C.ajax = en = !!en, B.ajaxTransport(function (e) { var n, i; if (C.cors || en && !e.crossDomain) return { send: function (o, a) { var r, s = e.xhr(); if (s.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields) for (r in e.xhrFields) s[r] = e.xhrFields[r]; for (r in e.mimeType && s.overrideMimeType && s.overrideMimeType(e.mimeType), e.crossDomain || o["X-Requested-With"] || (o["X-Requested-With"] = "XMLHttpRequest"), o) s.setRequestHeader(r, o[r]); n = function (t) { return function () { n && (n = i = s.onload = s.onerror = s.onabort = s.ontimeout = s.onreadystatechange = null, "abort" === t ? s.abort() : "error" === t ? "number" != typeof s.status ? a(0, "error") : a(s.status, s.statusText) : a(tn[s.status] || s.status, s.statusText, "text" !== (s.responseType || "text") || "string" != typeof s.responseText ? { binary: s.response } : { text: s.responseText }, s.getAllResponseHeaders())) } }, s.onload = n(), i = s.onerror = s.ontimeout = n("error"), void 0 !== s.onabort ? s.onabort = i : s.onreadystatechange = function () { 4 === s.readyState && t.setTimeout(function () { n && i() }) }, n = n("abort"); try { s.send(e.hasContent && e.data || null) } catch (o) { if (n) throw o } }, abort: function () { n && n() } } }), B.ajaxPrefilter(function (t) { t.crossDomain && (t.contents.script = !1) }), B.ajaxSetup({ accepts: { script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript" }, contents: { script: /\b(?:java|ecma)script\b/ }, converters: { "text script": function (t) { return B.globalEval(t), t } } }), B.ajaxPrefilter("script", function (t) { void 0 === t.cache && (t.cache = !1), t.crossDomain && (t.type = "GET") }), B.ajaxTransport("script", function (t) { var e, n; if (t.crossDomain || t.scriptAttrs) return { send: function (i, a) { e = B("<script>").attr(t.scriptAttrs || {}).prop({ charset: t.scriptCharset, src: t.url }).on("load error", n = function (t) { e.remove(), n = null, t && a("error" === t.type ? 404 : 200, t.type) }), o.head.appendChild(e[0]) }, abort: function () { n && n() } } }); var nn, on = [], an = /(=)\?(?=&|$)|\?\?/; B.ajaxSetup({ jsonp: "callback", jsonpCallback: function () { var t = on.pop() || B.expando + "_" + Ue++; return this[t] = !0, t } }), B.ajaxPrefilter("json jsonp", function (e, n, i) { var o, a, r, s = !1 !== e.jsonp && (an.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && an.test(e.data) && "data"); if (s || "jsonp" === e.dataTypes[0]) return o = e.jsonpCallback = A(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback, s ? e[s] = e[s].replace(an, "$1" + o) : !1 !== e.jsonp && (e.url += (We.test(e.url) ? "&" : "?") + e.jsonp + "=" + o), e.converters["script json"] = function () { return r || B.error(o + " was not called"), r[0] }, e.dataTypes[0] = "json", a = t[o], t[o] = function () { r = arguments }, i.always(function () { void 0 === a ? B(t).removeProp(o) : t[o] = a, e[o] && (e.jsonpCallback = n.jsonpCallback, on.push(o)), r && A(a) && a(r[0]), r = a = void 0 }), "script" }), C.createHTMLDocument = ((nn = o.implementation.createHTMLDocument("").body).innerHTML = "<form></form><form></form>", 2 === nn.childNodes.length), B.parseHTML = function (t, e, n) { return "string" != typeof t ? [] : ("boolean" == typeof e && (n = e, e = !1), e || (C.createHTMLDocument ? ((i = (e = o.implementation.createHTMLDocument("")).createElement("base")).href = o.location.href, e.head.appendChild(i)) : e = o), r = !n && [], (a = X.exec(t)) ? [e.createElement(a[1])] : (a = Bt([t], e, r), r && r.length && B(r).remove(), B.merge([], a.childNodes))); var i, a, r }, B.fn.load = function (t, e, n) { var i, o, a, r = this, s = t.indexOf(" "); return -1 < s && (i = Ge(t.slice(s)), t = t.slice(0, s)), A(e) ? (n = e, e = void 0) : e && "object" == typeof e && (o = "POST"), 0 < r.length && B.ajax({ url: t, type: o || "GET", dataType: "html", data: e }).done(function (t) { a = arguments, r.html(i ? B("<div>").append(B.parseHTML(t)).find(i) : t) }).always(n && function (t, e) { r.each(function () { n.apply(this, a || [t.responseText, e, t]) }) }), this }, B.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function (t, e) { B.fn[e] = function (t) { return this.on(e, t) } }), B.expr.pseudos.animated = function (t) { return B.grep(B.timers, function (e) { return t === e.elem }).length }, B.offset = { setOffset: function (t, e, n) { var i, o, a, r, s, g, l = B.css(t, "position"), c = B(t), I = {}; "static" === l && (t.style.position = "relative"), s = c.offset(), a = B.css(t, "top"), g = B.css(t, "left"), o = ("absolute" === l || "fixed" === l) && -1 < (a + g).indexOf("auto") ? (r = (i = c.position()).top, i.left) : (r = parseFloat(a) || 0, parseFloat(g) || 0), A(e) && (e = e.call(t, n, B.extend({}, s))), null != e.top && (I.top = e.top - s.top + r), null != e.left && (I.left = e.left - s.left + o), "using" in e ? e.using.call(t, I) : c.css(I) } }, B.fn.extend({ offset: function (t) { if (arguments.length) return void 0 === t ? this : this.each(function (e) { B.offset.setOffset(this, t, e) }); var e, n, i = this[0]; return i ? i.getClientRects().length ? (e = i.getBoundingClientRect(), n = i.ownerDocument.defaultView, { top: e.top + n.pageYOffset, left: e.left + n.pageXOffset }) : { top: 0, left: 0 } : void 0 }, position: function () { if (this[0]) { var t, e, n, i = this[0], o = { top: 0, left: 0 }; if ("fixed" === B.css(i, "position")) e = i.getBoundingClientRect(); else { for (e = this.offset(), n = i.ownerDocument, t = i.offsetParent || n.documentElement; t && (t === n.body || t === n.documentElement) && "static" === B.css(t, "position");)t = t.parentNode; t && t !== i && 1 === t.nodeType && ((o = B(t).offset()).top += B.css(t, "borderTopWidth", !0), o.left += B.css(t, "borderLeftWidth", !0)) } return { top: e.top - o.top - B.css(i, "marginTop", !0), left: e.left - o.left - B.css(i, "marginLeft", !0) } } }, offsetParent: function () { return this.map(function () { for (var t = this.offsetParent; t && "static" === B.css(t, "position");)t = t.offsetParent; return t || ot }) } }), B.each({ scrollLeft: "pageXOffset", scrollTop: "pageYOffset" }, function (t, e) { var i = "pageYOffset" === e; B.fn[t] = function (o) { return _(this, function (t, o, a) { var r; if (n(t) ? r = t : 9 === t.nodeType && (r = t.defaultView), void 0 === a) return r ? r[e] : t[o]; r ? r.scrollTo(i ? r.pageXOffset : a, i ? a : r.pageYOffset) : t[o] = a }, t, o, arguments.length) } }), B.each(["top", "left"], function (t, e) { B.cssHooks[e] = qt(C.pixelPosition, function (t, n) { if (n) return n = $t(t, e), zt.test(n) ? B(t).position()[e] + "px" : n }) }), B.each({ Height: "height", Width: "width" }, function (t, e) { B.each({ padding: "inner" + t, content: e, "": "outer" + t }, function (i, o) { B.fn[o] = function (a, r) { var s = arguments.length && (i || "boolean" != typeof a), g = i || (!0 === a || !0 === r ? "margin" : "border"); return _(this, function (e, i, a) { var r; return n(e) ? 0 === o.indexOf("outer") ? e["inner" + t] : e.document.documentElement["client" + t] : 9 === e.nodeType ? (r = e.documentElement, Math.max(e.body["scroll" + t], r["scroll" + t], e.body["offset" + t], r["offset" + t], r["client" + t])) : void 0 === a ? B.css(e, i, g) : B.style(e, i, a, g) }, e, s ? a : void 0, s) } }) }), B.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "), function (t, e) { B.fn[e] = function (t, n) { return 0 < arguments.length ? this.on(e, null, t, n) : this.trigger(e) } }), B.fn.extend({ hover: function (t, e) { return this.mouseenter(t).mouseleave(e || t) } }), B.fn.extend({ bind: function (t, e, n) { return this.on(t, null, e, n) }, unbind: function (t, e) { return this.off(t, null, e) }, delegate: function (t, e, n, i) { return this.on(e, t, n, i) }, undelegate: function (t, e, n) { return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n) } }), B.proxy = function (t, e) { var n, i, o; if ("string" == typeof e && (n = t[e], e = t, t = n), A(t)) return i = r.call(arguments, 2), (o = function () { return t.apply(e || this, i.concat(r.call(arguments))) }).guid = t.guid = t.guid || B.guid++, o }, B.holdReady = function (t) { t ? B.readyWait++ : B.ready(!0) }, B.isArray = Array.isArray, B.parseJSON = JSON.parse, B.nodeName = w, B.isFunction = A, B.isWindow = n, B.camelCase = z, B.type = f, B.now = Date.now, B.isNumeric = function (t) { var e = B.type(t); return ("number" === e || "string" === e) && !isNaN(t - parseFloat(t)) }, "function" == typeof define && define.amd && define("jquery", [], function () { return B }); var rn = t.jQuery, sn = t.$; return B.noConflict = function (e) { return t.$ === B && (t.$ = sn), e && t.jQuery === B && (t.jQuery = rn), B }, e || (t.jQuery = t.$ = B), B }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Popper = e() }(this, function () { "use strict"; for (var t = "undefined" != typeof window && "undefined" != typeof document, e = ["Edge", "Trident", "Firefox"], n = 0, i = 0; i < e.length; i += 1)if (t && 0 <= navigator.userAgent.indexOf(e[i])) { n = 1; break } var o = t && window.Promise ? function (t) { var e = !1; return function () { e || (e = !0, window.Promise.resolve().then(function () { e = !1, t() })) } } : function (t) { var e = !1; return function () { e || (e = !0, setTimeout(function () { e = !1, t() }, n)) } }; function a(t) { return t && "[object Function]" === {}.toString.call(t) } function r(t, e) { if (1 !== t.nodeType) return []; var n = t.ownerDocument.defaultView.getComputedStyle(t, null); return e ? n[e] : n } function s(t) { return "HTML" === t.nodeName ? t : t.parentNode || t.host } function g(t) { if (!t) return document.body; switch (t.nodeName) { case "HTML": case "BODY": return t.ownerDocument.body; case "#document": return t.body }var e = r(t), n = e.overflow, i = e.overflowX, o = e.overflowY; return /(auto|scroll|overlay)/.test(n + o + i) ? t : g(s(t)) } var l = t && !(!window.MSInputMethodContext || !document.documentMode), c = t && /MSIE 10/.test(navigator.userAgent); function I(t) { return 11 === t ? l : 10 === t ? c : l || c } function u(t) { if (!t) return document.documentElement; for (var e = I(10) ? document.body : null, n = t.offsetParent || null; n === e && t.nextElementSibling;)n = (t = t.nextElementSibling).offsetParent; var i = n && n.nodeName; return i && "BODY" !== i && "HTML" !== i ? -1 !== ["TH", "TD", "TABLE"].indexOf(n.nodeName) && "static" === r(n, "position") ? u(n) : n : t ? t.ownerDocument.documentElement : document.documentElement } function h(t) { return null !== t.parentNode ? h(t.parentNode) : t } function d(t, e) { if (!(t && t.nodeType && e && e.nodeType)) return document.documentElement; var n = t.compareDocumentPosition(e) & Node.DOCUMENT_POSITION_FOLLOWING, i = n ? t : e, o = n ? e : t, a = document.createRange(); a.setStart(i, 0), a.setEnd(o, 0); var r = a.commonAncestorContainer; if (t !== r && e !== r || i.contains(o)) return function (t) { var e = t.nodeName; return "BODY" !== e && ("HTML" === e || u(t.firstElementChild) === t) }(r) ? r : u(r); var s = h(t); return s.host ? d(s.host, e) : d(t, h(e).host) } function C(t, e) { var n = "top" === (1 < arguments.length && void 0 !== e ? e : "top") ? "scrollTop" : "scrollLeft", i = t.nodeName; if ("BODY" !== i && "HTML" !== i) return t[n]; var o = t.ownerDocument.documentElement; return (t.ownerDocument.scrollingElement || o)[n] } function A(t, e) { var n = "x" === e ? "Left" : "Top", i = "Left" == n ? "Right" : "Bottom"; return parseFloat(t["border" + n + "Width"], 10) + parseFloat(t["border" + i + "Width"], 10) } function p(t, e, n, i) { return Math.max(e["offset" + t], e["scroll" + t], n["client" + t], n["offset" + t], n["scroll" + t], I(10) ? parseInt(n["offset" + t]) + parseInt(i["margin" + ("Height" === t ? "Top" : "Left")]) + parseInt(i["margin" + ("Height" === t ? "Bottom" : "Right")]) : 0) } function m(t) { var e = t.body, n = t.documentElement, i = I(10) && getComputedStyle(n); return { height: p("Height", e, n, i), width: p("Width", e, n, i) } } function f(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function b(t, e, n) { return e in t ? Object.defineProperty(t, e, { value: n, enumerable: !0, configurable: !0, writable: !0 }) : t[e] = n, t } var B = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }; function y(t) { return B({}, t, { right: t.left + t.width, bottom: t.top + t.height }) } function v(t) { var e = {}; try { if (I(10)) { e = t.getBoundingClientRect(); var n = C(t, "top"), i = C(t, "left"); e.top += n, e.left += i, e.bottom += n, e.right += i } else e = t.getBoundingClientRect() } catch (t) { } var o = { left: e.left, top: e.top, width: e.right - e.left, height: e.bottom - e.top }, a = "HTML" === t.nodeName ? m(t.ownerDocument) : {}, s = a.width || t.clientWidth || o.right - o.left, g = a.height || t.clientHeight || o.bottom - o.top, l = t.offsetWidth - s, c = t.offsetHeight - g; if (l || c) { var u = r(t); l -= A(u, "x"), c -= A(u, "y"), o.width -= l, o.height -= c } return y(o) } function x(t, e, n) { var i = 2 < arguments.length && void 0 !== n && n, o = I(10), a = "HTML" === e.nodeName, s = v(t), l = v(e), c = g(t), u = r(e), h = parseFloat(u.borderTopWidth, 10), d = parseFloat(u.borderLeftWidth, 10); i && a && (l.top = Math.max(l.top, 0), l.left = Math.max(l.left, 0)); var A = y({ top: s.top - l.top - h, left: s.left - l.left - d, width: s.width, height: s.height }); if (A.marginTop = 0, A.marginLeft = 0, !o && a) { var p = parseFloat(u.marginTop, 10), m = parseFloat(u.marginLeft, 10); A.top -= h - p, A.bottom -= h - p, A.left -= d - m, A.right -= d - m, A.marginTop = p, A.marginLeft = m } return (o && !i ? e.contains(c) : e === c && "BODY" !== c.nodeName) && (A = function (t, e, n) { var i = 2 < arguments.length && !1, o = C(e, "top"), a = C(e, "left"), r = i ? -1 : 1; return t.top += o * r, t.bottom += o * r, t.left += a * r, t.right += a * r, t }(A, e)), A } function F(t) { if (!t || !t.parentElement || I()) return document.documentElement; for (var e = t.parentElement; e && "none" === r(e, "transform");)e = e.parentElement; return e || document.documentElement } function Q(t, e, n, i, o) { var a = 4 < arguments.length && void 0 !== o && o, l = { top: 0, left: 0 }, c = a ? F(t) : d(t, e); if ("viewport" === i) l = function (t, e) { var n = 1 < arguments.length && void 0 !== e && e, i = t.ownerDocument.documentElement, o = x(t, i), a = Math.max(i.clientWidth, window.innerWidth || 0), r = Math.max(i.clientHeight, window.innerHeight || 0), s = n ? 0 : C(i), g = n ? 0 : C(i, "left"); return y({ top: s - o.top + o.marginTop, left: g - o.left + o.marginLeft, width: a, height: r }) }(c, a); else { var I = void 0; "scrollParent" === i ? "BODY" === (I = g(s(e))).nodeName && (I = t.ownerDocument.documentElement) : I = "window" === i ? t.ownerDocument.documentElement : i; var u = x(I, c, a); if ("HTML" !== I.nodeName || function t(e) { var n = e.nodeName; if ("BODY" === n || "HTML" === n) return !1; if ("fixed" === r(e, "position")) return !0; var i = s(e); return !!i && t(i) }(c)) l = u; else { var h = m(t.ownerDocument), A = h.height, p = h.width; l.top += u.top - u.marginTop, l.bottom = A + u.top, l.left += u.left - u.marginLeft, l.right = p + u.left } } var f = "number" == typeof (n = n || 0); return l.left += f ? n : n.left || 0, l.top += f ? n : n.top || 0, l.right -= f ? n : n.right || 0, l.bottom -= f ? n : n.bottom || 0, l } function G(t, e, n, i, o, a) { var r = 5 < arguments.length && void 0 !== a ? a : 0; if (-1 === t.indexOf("auto")) return t; var s = Q(n, i, r, o), g = { top: { width: s.width, height: e.top - s.top }, right: { width: s.right - e.right, height: s.height }, bottom: { width: s.width, height: s.bottom - e.bottom }, left: { width: e.left - s.left, height: s.height } }, l = Object.keys(g).map(function (t) { return B({ key: t }, g[t], { area: function (t) { return t.width * t.height }(g[t]) }) }).sort(function (t, e) { return e.area - t.area }), c = l.filter(function (t) { var e = t.width, i = t.height; return e >= n.clientWidth && i >= n.clientHeight }), I = 0 < c.length ? c[0].key : l[0].key, u = t.split("-")[1]; return I + (u ? "-" + u : "") } function w(t, e, n, i) { var o = 3 < arguments.length && void 0 !== i ? i : null; return x(n, o ? F(e) : d(e, n), o) } function X(t) { var e = t.ownerDocument.defaultView.getComputedStyle(t), n = parseFloat(e.marginTop || 0) + parseFloat(e.marginBottom || 0), i = parseFloat(e.marginLeft || 0) + parseFloat(e.marginRight || 0); return { width: t.offsetWidth + i, height: t.offsetHeight + n } } function S(t) { var e = { left: "right", right: "left", bottom: "top", top: "bottom" }; return t.replace(/left|right|bottom|top/g, function (t) { return e[t] }) } function k(t, e, n) { n = n.split("-")[0]; var i = X(t), o = { width: i.width, height: i.height }, a = -1 !== ["right", "left"].indexOf(n), r = a ? "top" : "left", s = a ? "left" : "top", g = a ? "height" : "width", l = a ? "width" : "height"; return o[r] = e[r] + e[g] / 2 - i[g] / 2, o[s] = n === s ? e[s] - i[l] : e[S(s)], o } function D(t, e) { return Array.prototype.find ? t.find(e) : t.filter(e)[0] } function Z(t, e, n) { return (void 0 === n ? t : t.slice(0, function (t, e, n) { if (Array.prototype.findIndex) return t.findIndex(function (t) { return t[e] === n }); var i = D(t, function (t) { return t[e] === n }); return t.indexOf(i) }(t, "name", n))).forEach(function (t) { t.function && console.warn("`modifier.function` is deprecated, use `modifier.fn`!"); var n = t.function || t.fn; t.enabled && a(n) && (e.offsets.popper = y(e.offsets.popper), e.offsets.reference = y(e.offsets.reference), e = n(e, t)) }), e } function U(t, e) { return t.some(function (t) { var n = t.name; return t.enabled && n === e }) } function W(t) { for (var e = [!1, "ms", "Webkit", "Moz", "O"], n = t.charAt(0).toUpperCase() + t.slice(1), i = 0; i < e.length; i++) { var o = e[i], a = o ? "" + o + n : t; if (void 0 !== document.body.style[a]) return a } return null } function T(t) { var e = t.ownerDocument; return e ? e.defaultView : window } function N(t) { return "" !== t && !isNaN(parseFloat(t)) && isFinite(t) } function H(t, e) { Object.keys(e).forEach(function (n) { var i = ""; -1 !== ["width", "height", "top", "right", "bottom", "left"].indexOf(n) && N(e[n]) && (i = "px"), t.style[n] = e[n] + i }) } var E = t && /Firefox/i.test(navigator.userAgent); function R(t, e, n) { var i = D(t, function (t) { return t.name === e }), o = !!i && t.some(function (t) { return t.name === n && t.enabled && t.order < i.order }); if (!o) { var a = "`" + e + "`", r = "`" + n + "`"; console.warn(r + " modifier is required by " + a + " modifier in order to work, be sure to include it before " + a + "!") } return o } var Y = ["auto-start", "auto", "auto-end", "top-start", "top", "top-end", "right-start", "right", "right-end", "bottom-end", "bottom", "bottom-start", "left-end", "left", "left-start"], O = Y.slice(3); function _(t, e) { var n = 1 < arguments.length && void 0 !== e && e, i = O.indexOf(t), o = O.slice(i + 1).concat(O.slice(0, i)); return n ? o.reverse() : o } var V = { placement: "bottom", positionFixed: !1, eventsEnabled: !0, removeOnDestroy: !1, onCreate: function () { }, onUpdate: function () { }, modifiers: { shift: { order: 100, enabled: !0, fn: function (t) { var e = t.placement, n = e.split("-")[0], i = e.split("-")[1]; if (i) { var o = t.offsets, a = o.reference, r = o.popper, s = -1 !== ["bottom", "top"].indexOf(n), g = s ? "left" : "top", l = s ? "width" : "height", c = { start: b({}, g, a[g]), end: b({}, g, a[g] + a[l] - r[l]) }; t.offsets.popper = B({}, r, c[i]) } return t } }, offset: { order: 200, enabled: !0, fn: function (t, e) { var n, i = e.offset, o = t.placement, a = t.offsets, r = a.popper, s = a.reference, g = o.split("-")[0]; return n = N(+i) ? [+i, 0] : function (t, e, n, i) { var o = [0, 0], a = -1 !== ["right", "left"].indexOf(i), r = t.split(/(\+|\-)/).map(function (t) { return t.trim() }), s = r.indexOf(D(r, function (t) { return -1 !== t.search(/,|\s/) })); r[s] && -1 === r[s].indexOf(",") && console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."); var g = /\s*,\s*|\s+/, l = -1 !== s ? [r.slice(0, s).concat([r[s].split(g)[0]]), [r[s].split(g)[1]].concat(r.slice(s + 1))] : [r]; return (l = l.map(function (t, i) { var o = (1 === i ? !a : a) ? "height" : "width", r = !1; return t.reduce(function (t, e) { return "" === t[t.length - 1] && -1 !== ["+", "-"].indexOf(e) ? (t[t.length - 1] = e, r = !0, t) : r ? (t[t.length - 1] += e, r = !1, t) : t.concat(e) }, []).map(function (t) { return function (t, e, n, i) { var o = t.match(/((?:\-|\+)?\d*\.?\d*)(.*)/), a = +o[1], r = o[2]; if (!a) return t; if (0 !== r.indexOf("%")) return "vh" !== r && "vw" !== r ? a : ("vh" === r ? Math.max(document.documentElement.clientHeight, window.innerHeight || 0) : Math.max(document.documentElement.clientWidth, window.innerWidth || 0)) / 100 * a; var s = void 0; switch (r) { case "%p": s = n; break; case "%": case "%r": default: s = i }return y(s)[e] / 100 * a }(t, o, e, n) }) })).forEach(function (t, e) { t.forEach(function (n, i) { N(n) && (o[e] += n * ("-" === t[i - 1] ? -1 : 1)) }) }), o }(i, r, s, g), "left" === g ? (r.top += n[0], r.left -= n[1]) : "right" === g ? (r.top += n[0], r.left += n[1]) : "top" === g ? (r.left += n[0], r.top -= n[1]) : "bottom" === g && (r.left += n[0], r.top += n[1]), t.popper = r, t }, offset: 0 }, preventOverflow: { order: 300, enabled: !0, fn: function (t, e) { var n = e.boundariesElement || u(t.instance.popper); t.instance.reference === n && (n = u(n)); var i = W("transform"), o = t.instance.popper.style, a = o.top, r = o.left, s = o[i]; o.top = "", o.left = "", o[i] = ""; var g = Q(t.instance.popper, t.instance.reference, e.padding, n, t.positionFixed); o.top = a, o.left = r, o[i] = s, e.boundaries = g; var l = e.priority, c = t.offsets.popper, I = { primary: function (t) { var n = c[t]; return c[t] < g[t] && !e.escapeWithReference && (n = Math.max(c[t], g[t])), b({}, t, n) }, secondary: function (t) { var n = "right" === t ? "left" : "top", i = c[n]; return c[t] > g[t] && !e.escapeWithReference && (i = Math.min(c[n], g[t] - ("right" === t ? c.width : c.height))), b({}, n, i) } }; return l.forEach(function (t) { var e = -1 !== ["left", "top"].indexOf(t) ? "primary" : "secondary"; c = B({}, c, I[e](t)) }), t.offsets.popper = c, t }, priority: ["left", "right", "top", "bottom"], padding: 5, boundariesElement: "scrollParent" }, keepTogether: { order: 400, enabled: !0, fn: function (t) { var e = t.offsets, n = e.popper, i = e.reference, o = t.placement.split("-")[0], a = Math.floor, r = -1 !== ["top", "bottom"].indexOf(o), s = r ? "right" : "bottom", g = r ? "left" : "top", l = r ? "width" : "height"; return n[s] < a(i[g]) && (t.offsets.popper[g] = a(i[g]) - n[l]), n[g] > a(i[s]) && (t.offsets.popper[g] = a(i[s])), t } }, arrow: { order: 500, enabled: !0, fn: function (t, e) { var n; if (!R(t.instance.modifiers, "arrow", "keepTogether")) return t; var i = e.element; if ("string" == typeof i) { if (!(i = t.instance.popper.querySelector(i))) return t } else if (!t.instance.popper.contains(i)) return console.warn("WARNING: `arrow.element` must be child of its popper element!"), t; var o = t.placement.split("-")[0], a = t.offsets, s = a.popper, g = a.reference, l = -1 !== ["left", "right"].indexOf(o), c = l ? "height" : "width", I = l ? "Top" : "Left", u = I.toLowerCase(), h = l ? "left" : "top", d = l ? "bottom" : "right", C = X(i)[c]; g[d] - C < s[u] && (t.offsets.popper[u] -= s[u] - (g[d] - C)), g[u] + C > s[d] && (t.offsets.popper[u] += g[u] + C - s[d]), t.offsets.popper = y(t.offsets.popper); var A = g[u] + g[c] / 2 - C / 2, p = r(t.instance.popper), m = parseFloat(p["margin" + I], 10), f = parseFloat(p["border" + I + "Width"], 10), B = A - t.offsets.popper[u] - m - f; return B = Math.max(Math.min(s[c] - C, B), 0), t.arrowElement = i, t.offsets.arrow = (b(n = {}, u, Math.round(B)), b(n, h, ""), n), t }, element: "[x-arrow]" }, flip: { order: 600, enabled: !0, fn: function (t, e) { if (U(t.instance.modifiers, "inner")) return t; if (t.flipped && t.placement === t.originalPlacement) return t; var n = Q(t.instance.popper, t.instance.reference, e.padding, e.boundariesElement, t.positionFixed), i = t.placement.split("-")[0], o = S(i), a = t.placement.split("-")[1] || "", r = []; switch (e.behavior) { case "flip": r = [i, o]; break; case "clockwise": r = _(i); break; case "counterclockwise": r = _(i, !0); break; default: r = e.behavior }return r.forEach(function (s, g) { if (i !== s || r.length === g + 1) return t; i = t.placement.split("-")[0], o = S(i); var l = t.offsets.popper, c = t.offsets.reference, I = Math.floor, u = "left" === i && I(l.right) > I(c.left) || "right" === i && I(l.left) < I(c.right) || "top" === i && I(l.bottom) > I(c.top) || "bottom" === i && I(l.top) < I(c.bottom), h = I(l.left) < I(n.left), d = I(l.right) > I(n.right), C = I(l.top) < I(n.top), A = I(l.bottom) > I(n.bottom), p = "left" === i && h || "right" === i && d || "top" === i && C || "bottom" === i && A, m = -1 !== ["top", "bottom"].indexOf(i), f = !!e.flipVariations && (m && "start" === a && h || m && "end" === a && d || !m && "start" === a && C || !m && "end" === a && A), b = !!e.flipVariationsByContent && (m && "start" === a && d || m && "end" === a && h || !m && "start" === a && A || !m && "end" === a && C), y = f || b; (u || p || y) && (t.flipped = !0, (u || p) && (i = r[g + 1]), y && (a = "end" === a ? "start" : "start" === a ? "end" : a), t.placement = i + (a ? "-" + a : ""), t.offsets.popper = B({}, t.offsets.popper, k(t.instance.popper, t.offsets.reference, t.placement)), t = Z(t.instance.modifiers, t, "flip")) }), t }, behavior: "flip", padding: 5, boundariesElement: "viewport", flipVariations: !1, flipVariationsByContent: !1 }, inner: { order: 700, enabled: !1, fn: function (t) { var e = t.placement, n = e.split("-")[0], i = t.offsets, o = i.popper, a = i.reference, r = -1 !== ["left", "right"].indexOf(n), s = -1 === ["top", "left"].indexOf(n); return o[r ? "left" : "top"] = a[n] - (s ? o[r ? "width" : "height"] : 0), t.placement = S(e), t.offsets.popper = y(o), t } }, hide: { order: 800, enabled: !0, fn: function (t) { if (!R(t.instance.modifiers, "hide", "preventOverflow")) return t; var e = t.offsets.reference, n = D(t.instance.modifiers, function (t) { return "preventOverflow" === t.name }).boundaries; if (e.bottom < n.top || e.left > n.right || e.top > n.bottom || e.right < n.left) { if (!0 === t.hide) return t; t.hide = !0, t.attributes["x-out-of-boundaries"] = "" } else { if (!1 === t.hide) return t; t.hide = !1, t.attributes["x-out-of-boundaries"] = !1 } return t } }, computeStyle: { order: 850, enabled: !0, fn: function (t, e) { var n = e.x, i = e.y, o = t.offsets.popper, a = D(t.instance.modifiers, function (t) { return "applyStyle" === t.name }).gpuAcceleration; void 0 !== a && console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!"); var r, s, g = void 0 !== a ? a : e.gpuAcceleration, l = u(t.instance.popper), c = v(l), I = { position: o.position }, h = function (t, e) { function n(t) { return t } var i = t.offsets, o = i.popper, a = i.reference, r = Math.round, s = Math.floor, g = r(a.width), l = r(o.width), c = -1 !== ["left", "right"].indexOf(t.placement), I = -1 !== t.placement.indexOf("-"), u = e ? c || I || g % 2 == l % 2 ? r : s : n, h = e ? r : n; return { left: u(g % 2 == 1 && l % 2 == 1 && !I && e ? o.left - 1 : o.left), top: h(o.top), bottom: h(o.bottom), right: u(o.right) } }(t, window.devicePixelRatio < 2 || !E), d = "bottom" === n ? "top" : "bottom", C = "right" === i ? "left" : "right", A = W("transform"); if (s = "bottom" == d ? "HTML" === l.nodeName ? -l.clientHeight + h.bottom : -c.height + h.bottom : h.top, r = "right" == C ? "HTML" === l.nodeName ? -l.clientWidth + h.right : -c.width + h.right : h.left, g && A) I[A] = "translate3d(" + r + "px, " + s + "px, 0)", I[d] = 0, I[C] = 0, I.willChange = "transform"; else { var p = "bottom" == d ? -1 : 1, m = "right" == C ? -1 : 1; I[d] = s * p, I[C] = r * m, I.willChange = d + ", " + C } var f = { "x-placement": t.placement }; return t.attributes = B({}, f, t.attributes), t.styles = B({}, I, t.styles), t.arrowStyles = B({}, t.offsets.arrow, t.arrowStyles), t }, gpuAcceleration: !0, x: "bottom", y: "right" }, applyStyle: { order: 900, enabled: !0, fn: function (t) { return H(t.instance.popper, t.styles), e = t.instance.popper, n = t.attributes, Object.keys(n).forEach(function (t) { !1 !== n[t] ? e.setAttribute(t, n[t]) : e.removeAttribute(t) }), t.arrowElement && Object.keys(t.arrowStyles).length && H(t.arrowElement, t.arrowStyles), t; var e, n }, onLoad: function (t, e, n, i, o) { var a = w(o, e, t, n.positionFixed), r = G(n.placement, a, e, t, n.modifiers.flip.boundariesElement, n.modifiers.flip.padding); return e.setAttribute("x-placement", r), H(e, { position: n.positionFixed ? "fixed" : "absolute" }), n }, gpuAcceleration: void 0 } } }, L = (function (t, e, n) { e && f(t.prototype, e), n && f(t, n) }(M, [{ key: "update", value: function () { return function () { if (!this.state.isDestroyed) { var t = { instance: this, styles: {}, arrowStyles: {}, attributes: {}, flipped: !1, offsets: {} }; t.offsets.reference = w(this.state, this.popper, this.reference, this.options.positionFixed), t.placement = G(this.options.placement, t.offsets.reference, this.popper, this.reference, this.options.modifiers.flip.boundariesElement, this.options.modifiers.flip.padding), t.originalPlacement = t.placement, t.positionFixed = this.options.positionFixed, t.offsets.popper = k(this.popper, t.offsets.reference, t.placement), t.offsets.popper.position = this.options.positionFixed ? "fixed" : "absolute", t = Z(this.modifiers, t), this.state.isCreated ? this.options.onUpdate(t) : (this.state.isCreated = !0, this.options.onCreate(t)) } }.call(this) } }, { key: "destroy", value: function () { return function () { return this.state.isDestroyed = !0, U(this.modifiers, "applyStyle") && (this.popper.removeAttribute("x-placement"), this.popper.style.position = "", this.popper.style.top = "", this.popper.style.left = "", this.popper.style.right = "", this.popper.style.bottom = "", this.popper.style.willChange = "", this.popper.style[W("transform")] = ""), this.disableEventListeners(), this.options.removeOnDestroy && this.popper.parentNode.removeChild(this.popper), this }.call(this) } }, { key: "enableEventListeners", value: function () { return function () { this.state.eventsEnabled || (this.state = function (t, e, n, i) { n.updateBound = i, T(t).addEventListener("resize", n.updateBound, { passive: !0 }); var o = g(t); return function t(e, n, i, o) { var a = "BODY" === e.nodeName, r = a ? e.ownerDocument.defaultView : e; r.addEventListener(n, i, { passive: !0 }), a || t(g(r.parentNode), n, i, o), o.push(r) }(o, "scroll", n.updateBound, n.scrollParents), n.scrollElement = o, n.eventsEnabled = !0, n }(this.reference, this.options, this.state, this.scheduleUpdate)) }.call(this) } }, { key: "disableEventListeners", value: function () { return function () { var t, e; this.state.eventsEnabled && (cancelAnimationFrame(this.scheduleUpdate), this.state = (t = this.reference, e = this.state, T(t).removeEventListener("resize", e.updateBound), e.scrollParents.forEach(function (t) { t.removeEventListener("scroll", e.updateBound) }), e.updateBound = null, e.scrollParents = [], e.scrollElement = null, e.eventsEnabled = !1, e)) }.call(this) } }]), M); function M(t, e) { var n = this, i = 2 < arguments.length && void 0 !== arguments[2] ? arguments[2] : {}; !function (t, e) { if (!(t instanceof M)) throw new TypeError("Cannot call a class as a function") }(this), this.scheduleUpdate = function () { return requestAnimationFrame(n.update) }, this.update = o(this.update.bind(this)), this.options = B({}, M.Defaults, i), this.state = { isDestroyed: !1, isCreated: !1, scrollParents: [] }, this.reference = t && t.jquery ? t[0] : t, this.popper = e && e.jquery ? e[0] : e, this.options.modifiers = {}, Object.keys(B({}, M.Defaults.modifiers, i.modifiers)).forEach(function (t) { n.options.modifiers[t] = B({}, M.Defaults.modifiers[t] || {}, i.modifiers ? i.modifiers[t] : {}) }), this.modifiers = Object.keys(this.options.modifiers).map(function (t) { return B({ name: t }, n.options.modifiers[t]) }).sort(function (t, e) { return t.order - e.order }), this.modifiers.forEach(function (t) { t.enabled && a(t.onLoad) && t.onLoad(n.reference, n.popper, n.options, t, n.state) }), this.update(); var r = this.options.eventsEnabled; r && this.enableEventListeners(), this.state.eventsEnabled = r } return L.Utils = ("undefined" != typeof window ? window : global).PopperUtils, L.placements = Y, L.Defaults = V, L }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? e(exports, require("jquery"), require("popper.js")) : "function" == typeof define && define.amd ? define(["exports", "jquery", "popper.js"], e) : e((t = t || self).bootstrap = {}, t.jQuery, t.Popper) }(this, function (t, e, n) { "use strict"; function i(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function o(t, e, n) { return e && i(t.prototype, e), n && i(t, n), t } function a(t) { for (var e = 1; e < arguments.length; e++) { var n = null != arguments[e] ? arguments[e] : {}, i = Object.keys(n); "function" == typeof Object.getOwnPropertySymbols && (i = i.concat(Object.getOwnPropertySymbols(n).filter(function (t) { return Object.getOwnPropertyDescriptor(n, t).enumerable }))), i.forEach(function (e) { var i, o, a; i = t, a = n[o = e], o in i ? Object.defineProperty(i, o, { value: a, enumerable: !0, configurable: !0, writable: !0 }) : i[o] = a }) } return t } e = e && e.hasOwnProperty("default") ? e.default : e, n = n && n.hasOwnProperty("default") ? n.default : n; var r = "transitionend", s = { TRANSITION_END: "bsTransitionEnd", getUID: function (t) { for (; t += ~~(1e6 * Math.random()), document.getElementById(t);); return t }, getSelectorFromElement: function (t) { var e = t.getAttribute("data-target"); if (!e || "#" === e) { var n = t.getAttribute("href"); e = n && "#" !== n ? n.trim() : "" } try { return document.querySelector(e) ? e : null } catch (t) { return null } }, getTransitionDurationFromElement: function (t) { if (!t) return 0; var n = e(t).css("transition-duration"), i = e(t).css("transition-delay"), o = parseFloat(n), a = parseFloat(i); return o || a ? (n = n.split(",")[0], i = i.split(",")[0], 1e3 * (parseFloat(n) + parseFloat(i))) : 0 }, reflow: function (t) { return t.offsetHeight }, triggerTransitionEnd: function (t) { e(t).trigger(r) }, supportsTransitionEnd: function () { return Boolean(r) }, isElement: function (t) { return (t[0] || t).nodeType }, typeCheckConfig: function (t, e, n) { for (var i in n) if (Object.prototype.hasOwnProperty.call(n, i)) { var o = n[i], a = e[i], r = a && s.isElement(a) ? "element" : (g = a, {}.toString.call(g).match(/\s([a-z]+)/i)[1].toLowerCase()); if (!new RegExp(o).test(r)) throw new Error(t.toUpperCase() + ': Option "' + i + '" provided type "' + r + '" but expected type "' + o + '".') } var g }, findShadowRoot: function (t) { if (!document.documentElement.attachShadow) return null; if ("function" != typeof t.getRootNode) return t instanceof ShadowRoot ? t : t.parentNode ? s.findShadowRoot(t.parentNode) : null; var e = t.getRootNode(); return e instanceof ShadowRoot ? e : null } }; e.fn.emulateTransitionEnd = function (t) { var n = this, i = !1; return e(this).one(s.TRANSITION_END, function () { i = !0 }), setTimeout(function () { i || s.triggerTransitionEnd(n) }, t), this }, e.event.special[s.TRANSITION_END] = { bindType: r, delegateType: r, handle: function (t) { if (e(t.target).is(this)) return t.handleObj.handler.apply(this, arguments) } }; var g, l = "alert", c = "bs.alert", I = "." + c, u = e.fn[l], h = { CLOSE: "close" + I, CLOSED: "closed" + I, CLICK_DATA_API: "click" + I + ".data-api" }, d = ((g = C.prototype).close = function (t) { var e = this._element; t && (e = this._getRootElement(t)), this._triggerCloseEvent(e).isDefaultPrevented() || this._removeElement(e) }, g.dispose = function () { e.removeData(this._element, c), this._element = null }, g._getRootElement = function (t) { var n = s.getSelectorFromElement(t), i = !1; return n && (i = document.querySelector(n)), i || (i = e(t).closest(".alert")[0]), i }, g._triggerCloseEvent = function (t) { var n = e.Event(h.CLOSE); return e(t).trigger(n), n }, g._removeElement = function (t) { var n = this; if (e(t).removeClass("show"), e(t).hasClass("fade")) { var i = s.getTransitionDurationFromElement(t); e(t).one(s.TRANSITION_END, function (e) { return n._destroyElement(t, e) }).emulateTransitionEnd(i) } else this._destroyElement(t) }, g._destroyElement = function (t) { e(t).detach().trigger(h.CLOSED).remove() }, C._jQueryInterface = function (t) { return this.each(function () { var n = e(this), i = n.data(c); i || (i = new C(this), n.data(c, i)), "close" === t && i[t](this) }) }, C._handleDismiss = function (t) { return function (e) { e && e.preventDefault(), t.close(this) } }, o(C, null, [{ key: "VERSION", get: function () { return "4.3.1" } }]), C); function C(t) { this._element = t } e(document).on(h.CLICK_DATA_API, '[data-dismiss="alert"]', d._handleDismiss(new d)), e.fn[l] = d._jQueryInterface, e.fn[l].Constructor = d, e.fn[l].noConflict = function () { return e.fn[l] = u, d._jQueryInterface }; var A, p = "button", m = "bs.button", f = "." + m, b = ".data-api", B = e.fn[p], y = "active", v = '[data-toggle^="button"]', x = { CLICK_DATA_API: "click" + f + b, FOCUS_BLUR_DATA_API: "focus" + f + b + " blur" + f + b }, F = ((A = Q.prototype).toggle = function () { var t = !0, n = !0, i = e(this._element).closest('[data-toggle="buttons"]')[0]; if (i) { var o = this._element.querySelector('input:not([type="hidden"])'); if (o) { if ("radio" === o.type) if (o.checked && this._element.classList.contains(y)) t = !1; else { var a = i.querySelector(".active"); a && e(a).removeClass(y) } if (t) { if (o.hasAttribute("disabled") || i.hasAttribute("disabled") || o.classList.contains("disabled") || i.classList.contains("disabled")) return; o.checked = !this._element.classList.contains(y), e(o).trigger("change") } o.focus(), n = !1 } } n && this._element.setAttribute("aria-pressed", !this._element.classList.contains(y)), t && e(this._element).toggleClass(y) }, A.dispose = function () { e.removeData(this._element, m), this._element = null }, Q._jQueryInterface = function (t) { return this.each(function () { var n = e(this).data(m); n || (n = new Q(this), e(this).data(m, n)), "toggle" === t && n[t]() }) }, o(Q, null, [{ key: "VERSION", get: function () { return "4.3.1" } }]), Q); function Q(t) { this._element = t } e(document).on(x.CLICK_DATA_API, v, function (t) { t.preventDefault(); var n = t.target; e(n).hasClass("btn") || (n = e(n).closest(".btn")), F._jQueryInterface.call(e(n), "toggle") }).on(x.FOCUS_BLUR_DATA_API, v, function (t) { var n = e(t.target).closest(".btn")[0]; e(n).toggleClass("focus", /^focus(in)?$/.test(t.type)) }), e.fn[p] = F._jQueryInterface, e.fn[p].Constructor = F, e.fn[p].noConflict = function () { return e.fn[p] = B, F._jQueryInterface }; var G, w = "carousel", X = "bs.carousel", S = "." + X, k = ".data-api", D = e.fn[w], Z = { interval: 5e3, keyboard: !0, slide: !1, pause: "hover", wrap: !0, touch: !0 }, U = { interval: "(number|boolean)", keyboard: "boolean", slide: "(boolean|string)", pause: "(string|boolean)", wrap: "boolean", touch: "boolean" }, W = "next", T = "prev", N = { SLIDE: "slide" + S, SLID: "slid" + S, KEYDOWN: "keydown" + S, MOUSEENTER: "mouseenter" + S, MOUSELEAVE: "mouseleave" + S, TOUCHSTART: "touchstart" + S, TOUCHMOVE: "touchmove" + S, TOUCHEND: "touchend" + S, POINTERDOWN: "pointerdown" + S, POINTERUP: "pointerup" + S, DRAG_START: "dragstart" + S, LOAD_DATA_API: "load" + S + k, CLICK_DATA_API: "click" + S + k }, H = "active", E = ".active.carousel-item", R = { TOUCH: "touch", PEN: "pen" }, Y = ((G = O.prototype).next = function () { this._isSliding || this._slide(W) }, G.nextWhenVisible = function () { !document.hidden && e(this._element).is(":visible") && "hidden" !== e(this._element).css("visibility") && this.next() }, G.prev = function () { this._isSliding || this._slide(T) }, G.pause = function (t) { t || (this._isPaused = !0), this._element.querySelector(".carousel-item-next, .carousel-item-prev") && (s.triggerTransitionEnd(this._element), this.cycle(!0)), clearInterval(this._interval), this._interval = null }, G.cycle = function (t) { t || (this._isPaused = !1), this._interval && (clearInterval(this._interval), this._interval = null), this._config.interval && !this._isPaused && (this._interval = setInterval((document.visibilityState ? this.nextWhenVisible : this.next).bind(this), this._config.interval)) }, G.to = function (t) { var n = this; this._activeElement = this._element.querySelector(E); var i = this._getItemIndex(this._activeElement); if (!(t > this._items.length - 1 || t < 0)) if (this._isSliding) e(this._element).one(N.SLID, function () { return n.to(t) }); else { if (i === t) return this.pause(), void this.cycle(); var o = i < t ? W : T; this._slide(o, this._items[t]) } }, G.dispose = function () { e(this._element).off(S), e.removeData(this._element, X), this._items = null, this._config = null, this._element = null, this._interval = null, this._isPaused = null, this._isSliding = null, this._activeElement = null, this._indicatorsElement = null }, G._getConfig = function (t) { return t = a({}, Z, t), s.typeCheckConfig(w, t, U), t }, G._handleSwipe = function () { var t = Math.abs(this.touchDeltaX); if (!(t <= 40)) { var e = t / this.touchDeltaX; 0 < e && this.prev(), e < 0 && this.next() } }, G._addEventListeners = function () { var t = this; this._config.keyboard && e(this._element).on(N.KEYDOWN, function (e) { return t._keydown(e) }), "hover" === this._config.pause && e(this._element).on(N.MOUSEENTER, function (e) { return t.pause(e) }).on(N.MOUSELEAVE, function (e) { return t.cycle(e) }), this._config.touch && this._addTouchEventListeners() }, G._addTouchEventListeners = function () { var t = this; if (this._touchSupported) { var n = function (e) { t._pointerEvent && R[e.originalEvent.pointerType.toUpperCase()] ? t.touchStartX = e.originalEvent.clientX : t._pointerEvent || (t.touchStartX = e.originalEvent.touches[0].clientX) }, i = function (e) { t._pointerEvent && R[e.originalEvent.pointerType.toUpperCase()] && (t.touchDeltaX = e.originalEvent.clientX - t.touchStartX), t._handleSwipe(), "hover" === t._config.pause && (t.pause(), t.touchTimeout && clearTimeout(t.touchTimeout), t.touchTimeout = setTimeout(function (e) { return t.cycle(e) }, 500 + t._config.interval)) }; e(this._element.querySelectorAll(".carousel-item img")).on(N.DRAG_START, function (t) { return t.preventDefault() }), this._pointerEvent ? (e(this._element).on(N.POINTERDOWN, function (t) { return n(t) }), e(this._element).on(N.POINTERUP, function (t) { return i(t) }), this._element.classList.add("pointer-event")) : (e(this._element).on(N.TOUCHSTART, function (t) { return n(t) }), e(this._element).on(N.TOUCHMOVE, function (e) { var n; (n = e).originalEvent.touches && 1 < n.originalEvent.touches.length ? t.touchDeltaX = 0 : t.touchDeltaX = n.originalEvent.touches[0].clientX - t.touchStartX }), e(this._element).on(N.TOUCHEND, function (t) { return i(t) })) } }, G._keydown = function (t) { if (!/input|textarea/i.test(t.target.tagName)) switch (t.which) { case 37: t.preventDefault(), this.prev(); break; case 39: t.preventDefault(), this.next() } }, G._getItemIndex = function (t) { return this._items = t && t.parentNode ? [].slice.call(t.parentNode.querySelectorAll(".carousel-item")) : [], this._items.indexOf(t) }, G._getItemByDirection = function (t, e) { var n = t === W, i = t === T, o = this._getItemIndex(e), a = this._items.length - 1; if ((i && 0 === o || n && o === a) && !this._config.wrap) return e; var r = (o + (t === T ? -1 : 1)) % this._items.length; return -1 == r ? this._items[this._items.length - 1] : this._items[r] }, G._triggerSlideEvent = function (t, n) { var i = this._getItemIndex(t), o = this._getItemIndex(this._element.querySelector(E)), a = e.Event(N.SLIDE, { relatedTarget: t, direction: n, from: o, to: i }); return e(this._element).trigger(a), a }, G._setActiveIndicatorElement = function (t) { if (this._indicatorsElement) { var n = [].slice.call(this._indicatorsElement.querySelectorAll(".active")); e(n).removeClass(H); var i = this._indicatorsElement.children[this._getItemIndex(t)]; i && e(i).addClass(H) } }, G._slide = function (t, n) { var i, o, a, r = this, g = this._element.querySelector(E), l = this._getItemIndex(g), c = n || g && this._getItemByDirection(t, g), I = this._getItemIndex(c), u = Boolean(this._interval); if (a = t === W ? (i = "carousel-item-left", o = "carousel-item-next", "left") : (i = "carousel-item-right", o = "carousel-item-prev", "right"), c && e(c).hasClass(H)) this._isSliding = !1; else if (!this._triggerSlideEvent(c, a).isDefaultPrevented() && g && c) { this._isSliding = !0, u && this.pause(), this._setActiveIndicatorElement(c); var h = e.Event(N.SLID, { relatedTarget: c, direction: a, from: l, to: I }); if (e(this._element).hasClass("slide")) { e(c).addClass(o), s.reflow(c), e(g).addClass(i), e(c).addClass(i); var d = parseInt(c.getAttribute("data-interval"), 10); this._config.interval = d ? (this._config.defaultInterval = this._config.defaultInterval || this._config.interval, d) : this._config.defaultInterval || this._config.interval; var C = s.getTransitionDurationFromElement(g); e(g).one(s.TRANSITION_END, function () { e(c).removeClass(i + " " + o).addClass(H), e(g).removeClass(H + " " + o + " " + i), r._isSliding = !1, setTimeout(function () { return e(r._element).trigger(h) }, 0) }).emulateTransitionEnd(C) } else e(g).removeClass(H), e(c).addClass(H), this._isSliding = !1, e(this._element).trigger(h); u && this.cycle() } }, O._jQueryInterface = function (t) { return this.each(function () { var n = e(this).data(X), i = a({}, Z, e(this).data()); "object" == typeof t && (i = a({}, i, t)); var o = "string" == typeof t ? t : i.slide; if (n || (n = new O(this, i), e(this).data(X, n)), "number" == typeof t) n.to(t); else if ("string" == typeof o) { if (void 0 === n[o]) throw new TypeError('No method named "' + o + '"'); n[o]() } else i.interval && i.ride && (n.pause(), n.cycle()) }) }, O._dataApiClickHandler = function (t) { var n = s.getSelectorFromElement(this); if (n) { var i = e(n)[0]; if (i && e(i).hasClass("carousel")) { var o = a({}, e(i).data(), e(this).data()), r = this.getAttribute("data-slide-to"); r && (o.interval = !1), O._jQueryInterface.call(e(i), o), r && e(i).data(X).to(r), t.preventDefault() } } }, o(O, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return Z } }]), O); function O(t, e) { this._items = null, this._interval = null, this._activeElement = null, this._isPaused = !1, this._isSliding = !1, this.touchTimeout = null, this.touchStartX = 0, this.touchDeltaX = 0, this._config = this._getConfig(e), this._element = t, this._indicatorsElement = this._element.querySelector(".carousel-indicators"), this._touchSupported = "ontouchstart" in document.documentElement || 0 < navigator.maxTouchPoints, this._pointerEvent = Boolean(window.PointerEvent || window.MSPointerEvent), this._addEventListeners() } e(document).on(N.CLICK_DATA_API, "[data-slide], [data-slide-to]", Y._dataApiClickHandler), e(window).on(N.LOAD_DATA_API, function () { for (var t = [].slice.call(document.querySelectorAll('[data-ride="carousel"]')), n = 0, i = t.length; n < i; n++) { var o = e(t[n]); Y._jQueryInterface.call(o, o.data()) } }), e.fn[w] = Y._jQueryInterface, e.fn[w].Constructor = Y, e.fn[w].noConflict = function () { return e.fn[w] = D, Y._jQueryInterface }; var _, V = "collapse", L = "bs.collapse", M = "." + L, z = e.fn[V], P = { toggle: !0, parent: "" }, K = { toggle: "boolean", parent: "(string|element)" }, J = { SHOW: "show" + M, SHOWN: "shown" + M, HIDE: "hide" + M, HIDDEN: "hidden" + M, CLICK_DATA_API: "click" + M + ".data-api" }, j = "show", $ = "collapse", q = "collapsing", tt = "collapsed", et = '[data-toggle="collapse"]', nt = ((_ = it.prototype).toggle = function () { e(this._element).hasClass(j) ? this.hide() : this.show() }, _.show = function () { var t, n, i = this; if (!(this._isTransitioning || e(this._element).hasClass(j) || (this._parent && 0 === (t = [].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function (t) { return "string" == typeof i._config.parent ? t.getAttribute("data-parent") === i._config.parent : t.classList.contains($) })).length && (t = null), t && (n = e(t).not(this._selector).data(L)) && n._isTransitioning))) { var o = e.Event(J.SHOW); if (e(this._element).trigger(o), !o.isDefaultPrevented()) { t && (it._jQueryInterface.call(e(t).not(this._selector), "hide"), n || e(t).data(L, null)); var a = this._getDimension(); e(this._element).removeClass($).addClass(q), this._element.style[a] = 0, this._triggerArray.length && e(this._triggerArray).removeClass(tt).attr("aria-expanded", !0), this.setTransitioning(!0); var r = "scroll" + (a[0].toUpperCase() + a.slice(1)), g = s.getTransitionDurationFromElement(this._element); e(this._element).one(s.TRANSITION_END, function () { e(i._element).removeClass(q).addClass($).addClass(j), i._element.style[a] = "", i.setTransitioning(!1), e(i._element).trigger(J.SHOWN) }).emulateTransitionEnd(g), this._element.style[a] = this._element[r] + "px" } } }, _.hide = function () { var t = this; if (!this._isTransitioning && e(this._element).hasClass(j)) { var n = e.Event(J.HIDE); if (e(this._element).trigger(n), !n.isDefaultPrevented()) { var i = this._getDimension(); this._element.style[i] = this._element.getBoundingClientRect()[i] + "px", s.reflow(this._element), e(this._element).addClass(q).removeClass($).removeClass(j); var o = this._triggerArray.length; if (0 < o) for (var a = 0; a < o; a++) { var r = this._triggerArray[a], g = s.getSelectorFromElement(r); null !== g && (e([].slice.call(document.querySelectorAll(g))).hasClass(j) || e(r).addClass(tt).attr("aria-expanded", !1)) } this.setTransitioning(!0), this._element.style[i] = ""; var l = s.getTransitionDurationFromElement(this._element); e(this._element).one(s.TRANSITION_END, function () { t.setTransitioning(!1), e(t._element).removeClass(q).addClass($).trigger(J.HIDDEN) }).emulateTransitionEnd(l) } } }, _.setTransitioning = function (t) { this._isTransitioning = t }, _.dispose = function () { e.removeData(this._element, L), this._config = null, this._parent = null, this._element = null, this._triggerArray = null, this._isTransitioning = null }, _._getConfig = function (t) { return (t = a({}, P, t)).toggle = Boolean(t.toggle), s.typeCheckConfig(V, t, K), t }, _._getDimension = function () { return e(this._element).hasClass("width") ? "width" : "height" }, _._getParent = function () { var t, n = this; s.isElement(this._config.parent) ? (t = this._config.parent, void 0 !== this._config.parent.jquery && (t = this._config.parent[0])) : t = document.querySelector(this._config.parent); var i = '[data-toggle="collapse"][data-parent="' + this._config.parent + '"]', o = [].slice.call(t.querySelectorAll(i)); return e(o).each(function (t, e) { n._addAriaAndCollapsedClass(it._getTargetFromElement(e), [e]) }), t }, _._addAriaAndCollapsedClass = function (t, n) { var i = e(t).hasClass(j); n.length && e(n).toggleClass(tt, !i).attr("aria-expanded", i) }, it._getTargetFromElement = function (t) { var e = s.getSelectorFromElement(t); return e ? document.querySelector(e) : null }, it._jQueryInterface = function (t) { return this.each(function () { var n = e(this), i = n.data(L), o = a({}, P, n.data(), "object" == typeof t && t ? t : {}); if (!i && o.toggle && /show|hide/.test(t) && (o.toggle = !1), i || (i = new it(this, o), n.data(L, i)), "string" == typeof t) { if (void 0 === i[t]) throw new TypeError('No method named "' + t + '"'); i[t]() } }) }, o(it, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return P } }]), it); function it(t, e) { this._isTransitioning = !1, this._element = t, this._config = this._getConfig(e), this._triggerArray = [].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#' + t.id + '"],[data-toggle="collapse"][data-target="#' + t.id + '"]')); for (var n = [].slice.call(document.querySelectorAll(et)), i = 0, o = n.length; i < o; i++) { var a = n[i], r = s.getSelectorFromElement(a), g = [].slice.call(document.querySelectorAll(r)).filter(function (e) { return e === t }); null !== r && 0 < g.length && (this._selector = r, this._triggerArray.push(a)) } this._parent = this._config.parent ? this._getParent() : null, this._config.parent || this._addAriaAndCollapsedClass(this._element, this._triggerArray), this._config.toggle && this.toggle() } e(document).on(J.CLICK_DATA_API, et, function (t) { "A" === t.currentTarget.tagName && t.preventDefault(); var n = e(this), i = s.getSelectorFromElement(this), o = [].slice.call(document.querySelectorAll(i)); e(o).each(function () { var t = e(this), i = t.data(L) ? "toggle" : n.data(); nt._jQueryInterface.call(t, i) }) }), e.fn[V] = nt._jQueryInterface, e.fn[V].Constructor = nt, e.fn[V].noConflict = function () { return e.fn[V] = z, nt._jQueryInterface }; var ot, at = "dropdown", rt = "bs.dropdown", st = "." + rt, gt = ".data-api", lt = e.fn[at], ct = new RegExp("38|40|27"), It = { HIDE: "hide" + st, HIDDEN: "hidden" + st, SHOW: "show" + st, SHOWN: "shown" + st, CLICK: "click" + st, CLICK_DATA_API: "click" + st + gt, KEYDOWN_DATA_API: "keydown" + st + gt, KEYUP_DATA_API: "keyup" + st + gt }, ut = "disabled", ht = "show", dt = "dropdown-menu-right", Ct = '[data-toggle="dropdown"]', At = ".dropdown-menu", pt = { offset: 0, flip: !0, boundary: "scrollParent", reference: "toggle", display: "dynamic" }, mt = { offset: "(number|string|function)", flip: "boolean", boundary: "(string|element)", reference: "(string|element)", display: "string" }, ft = ((ot = bt.prototype).toggle = function () { if (!this._element.disabled && !e(this._element).hasClass(ut)) { var t = bt._getParentFromElement(this._element), i = e(this._menu).hasClass(ht); if (bt._clearMenus(), !i) { var o = { relatedTarget: this._element }, a = e.Event(It.SHOW, o); if (e(t).trigger(a), !a.isDefaultPrevented()) { if (!this._inNavbar) { if (void 0 === n) throw new TypeError("Bootstrap's dropdowns require Popper.js (https://popper.js.org/)"); var r = this._element; "parent" === this._config.reference ? r = t : s.isElement(this._config.reference) && (r = this._config.reference, void 0 !== this._config.reference.jquery && (r = this._config.reference[0])), "scrollParent" !== this._config.boundary && e(t).addClass("position-static"), this._popper = new n(r, this._menu, this._getPopperConfig()) } "ontouchstart" in document.documentElement && 0 === e(t).closest(".navbar-nav").length && e(document.body).children().on("mouseover", null, e.noop), this._element.focus(), this._element.setAttribute("aria-expanded", !0), e(this._menu).toggleClass(ht), e(t).toggleClass(ht).trigger(e.Event(It.SHOWN, o)) } } } }, ot.show = function () { if (!(this._element.disabled || e(this._element).hasClass(ut) || e(this._menu).hasClass(ht))) { var t = { relatedTarget: this._element }, n = e.Event(It.SHOW, t), i = bt._getParentFromElement(this._element); e(i).trigger(n), n.isDefaultPrevented() || (e(this._menu).toggleClass(ht), e(i).toggleClass(ht).trigger(e.Event(It.SHOWN, t))) } }, ot.hide = function () { if (!this._element.disabled && !e(this._element).hasClass(ut) && e(this._menu).hasClass(ht)) { var t = { relatedTarget: this._element }, n = e.Event(It.HIDE, t), i = bt._getParentFromElement(this._element); e(i).trigger(n), n.isDefaultPrevented() || (e(this._menu).toggleClass(ht), e(i).toggleClass(ht).trigger(e.Event(It.HIDDEN, t))) } }, ot.dispose = function () { e.removeData(this._element, rt), e(this._element).off(st), this._element = null, (this._menu = null) !== this._popper && (this._popper.destroy(), this._popper = null) }, ot.update = function () { this._inNavbar = this._detectNavbar(), null !== this._popper && this._popper.scheduleUpdate() }, ot._addEventListeners = function () { var t = this; e(this._element).on(It.CLICK, function (e) { e.preventDefault(), e.stopPropagation(), t.toggle() }) }, ot._getConfig = function (t) { return t = a({}, this.constructor.Default, e(this._element).data(), t), s.typeCheckConfig(at, t, this.constructor.DefaultType), t }, ot._getMenuElement = function () { if (!this._menu) { var t = bt._getParentFromElement(this._element); t && (this._menu = t.querySelector(At)) } return this._menu }, ot._getPlacement = function () { var t = e(this._element.parentNode), n = "bottom-start"; return t.hasClass("dropup") ? (n = "top-start", e(this._menu).hasClass(dt) && (n = "top-end")) : t.hasClass("dropright") ? n = "right-start" : t.hasClass("dropleft") ? n = "left-start" : e(this._menu).hasClass(dt) && (n = "bottom-end"), n }, ot._detectNavbar = function () { return 0 < e(this._element).closest(".navbar").length }, ot._getOffset = function () { var t = this, e = {}; return "function" == typeof this._config.offset ? e.fn = function (e) { return e.offsets = a({}, e.offsets, t._config.offset(e.offsets, t._element) || {}), e } : e.offset = this._config.offset, e }, ot._getPopperConfig = function () { var t = { placement: this._getPlacement(), modifiers: { offset: this._getOffset(), flip: { enabled: this._config.flip }, preventOverflow: { boundariesElement: this._config.boundary } } }; return "static" === this._config.display && (t.modifiers.applyStyle = { enabled: !1 }), t }, bt._jQueryInterface = function (t) { return this.each(function () { var n = e(this).data(rt); if (n || (n = new bt(this, "object" == typeof t ? t : null), e(this).data(rt, n)), "string" == typeof t) { if (void 0 === n[t]) throw new TypeError('No method named "' + t + '"'); n[t]() } }) }, bt._clearMenus = function (t) { if (!t || 3 !== t.which && ("keyup" !== t.type || 9 === t.which)) for (var n = [].slice.call(document.querySelectorAll(Ct)), i = 0, o = n.length; i < o; i++) { var a = bt._getParentFromElement(n[i]), r = e(n[i]).data(rt), s = { relatedTarget: n[i] }; if (t && "click" === t.type && (s.clickEvent = t), r) { var g = r._menu; if (e(a).hasClass(ht) && !(t && ("click" === t.type && /input|textarea/i.test(t.target.tagName) || "keyup" === t.type && 9 === t.which) && e.contains(a, t.target))) { var l = e.Event(It.HIDE, s); e(a).trigger(l), l.isDefaultPrevented() || ("ontouchstart" in document.documentElement && e(document.body).children().off("mouseover", null, e.noop), n[i].setAttribute("aria-expanded", "false"), e(g).removeClass(ht), e(a).removeClass(ht).trigger(e.Event(It.HIDDEN, s))) } } } }, bt._getParentFromElement = function (t) { var e, n = s.getSelectorFromElement(t); return n && (e = document.querySelector(n)), e || t.parentNode }, bt._dataApiKeydownHandler = function (t) { if ((/input|textarea/i.test(t.target.tagName) ? !(32 === t.which || 27 !== t.which && (40 !== t.which && 38 !== t.which || e(t.target).closest(At).length)) : ct.test(t.which)) && (t.preventDefault(), t.stopPropagation(), !this.disabled && !e(this).hasClass(ut))) { var n = bt._getParentFromElement(this), i = e(n).hasClass(ht); if (i && (!i || 27 !== t.which && 32 !== t.which)) { var o = [].slice.call(n.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")); if (0 !== o.length) { var a = o.indexOf(t.target); 38 === t.which && 0 < a && a--, 40 === t.which && a < o.length - 1 && a++, a < 0 && (a = 0), o[a].focus() } } else { if (27 === t.which) { var r = n.querySelector(Ct); e(r).trigger("focus") } e(this).trigger("click") } } }, o(bt, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return pt } }, { key: "DefaultType", get: function () { return mt } }]), bt); function bt(t, e) { this._element = t, this._popper = null, this._config = this._getConfig(e), this._menu = this._getMenuElement(), this._inNavbar = this._detectNavbar(), this._addEventListeners() } e(document).on(It.KEYDOWN_DATA_API, Ct, ft._dataApiKeydownHandler).on(It.KEYDOWN_DATA_API, At, ft._dataApiKeydownHandler).on(It.CLICK_DATA_API + " " + It.KEYUP_DATA_API, ft._clearMenus).on(It.CLICK_DATA_API, Ct, function (t) { t.preventDefault(), t.stopPropagation(), ft._jQueryInterface.call(e(this), "toggle") }).on(It.CLICK_DATA_API, ".dropdown form", function (t) { t.stopPropagation() }), e.fn[at] = ft._jQueryInterface, e.fn[at].Constructor = ft, e.fn[at].noConflict = function () { return e.fn[at] = lt, ft._jQueryInterface }; var Bt, yt = "modal", vt = "bs.modal", xt = "." + vt, Ft = e.fn[yt], Qt = { backdrop: !0, keyboard: !0, focus: !0, show: !0 }, Gt = { backdrop: "(boolean|string)", keyboard: "boolean", focus: "boolean", show: "boolean" }, wt = { HIDE: "hide" + xt, HIDDEN: "hidden" + xt, SHOW: "show" + xt, SHOWN: "shown" + xt, FOCUSIN: "focusin" + xt, RESIZE: "resize" + xt, CLICK_DISMISS: "click.dismiss" + xt, KEYDOWN_DISMISS: "keydown.dismiss" + xt, MOUSEUP_DISMISS: "mouseup.dismiss" + xt, MOUSEDOWN_DISMISS: "mousedown.dismiss" + xt, CLICK_DATA_API: "click" + xt + ".data-api" }, Xt = "modal-open", St = "fade", kt = "show", Dt = ".fixed-top, .fixed-bottom, .is-fixed, .sticky-top", Zt = ".sticky-top", Ut = ((Bt = Wt.prototype).toggle = function (t) { return this._isShown ? this.hide() : this.show(t) }, Bt.show = function (t) { var n = this; if (!this._isShown && !this._isTransitioning) { e(this._element).hasClass(St) && (this._isTransitioning = !0); var i = e.Event(wt.SHOW, { relatedTarget: t }); e(this._element).trigger(i), this._isShown || i.isDefaultPrevented() || (this._isShown = !0, this._checkScrollbar(), this._setScrollbar(), this._adjustDialog(), this._setEscapeEvent(), this._setResizeEvent(), e(this._element).on(wt.CLICK_DISMISS, '[data-dismiss="modal"]', function (t) { return n.hide(t) }), e(this._dialog).on(wt.MOUSEDOWN_DISMISS, function () { e(n._element).one(wt.MOUSEUP_DISMISS, function (t) { e(t.target).is(n._element) && (n._ignoreBackdropClick = !0) }) }), this._showBackdrop(function () { return n._showElement(t) })) } }, Bt.hide = function (t) { var n = this; if (t && t.preventDefault(), this._isShown && !this._isTransitioning) { var i = e.Event(wt.HIDE); if (e(this._element).trigger(i), this._isShown && !i.isDefaultPrevented()) { this._isShown = !1; var o = e(this._element).hasClass(St); if (o && (this._isTransitioning = !0), this._setEscapeEvent(), this._setResizeEvent(), e(document).off(wt.FOCUSIN), e(this._element).removeClass(kt), e(this._element).off(wt.CLICK_DISMISS), e(this._dialog).off(wt.MOUSEDOWN_DISMISS), o) { var a = s.getTransitionDurationFromElement(this._element); e(this._element).one(s.TRANSITION_END, function (t) { return n._hideModal(t) }).emulateTransitionEnd(a) } else this._hideModal() } } }, Bt.dispose = function () { [window, this._element, this._dialog].forEach(function (t) { return e(t).off(xt) }), e(document).off(wt.FOCUSIN), e.removeData(this._element, vt), this._config = null, this._element = null, this._dialog = null, this._backdrop = null, this._isShown = null, this._isBodyOverflowing = null, this._ignoreBackdropClick = null, this._isTransitioning = null, this._scrollbarWidth = null }, Bt.handleUpdate = function () { this._adjustDialog() }, Bt._getConfig = function (t) { return t = a({}, Qt, t), s.typeCheckConfig(yt, t, Gt), t }, Bt._showElement = function (t) { var n = this, i = e(this._element).hasClass(St); function o() { n._config.focus && n._element.focus(), n._isTransitioning = !1, e(n._element).trigger(a) } this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE || document.body.appendChild(this._element), this._element.style.display = "block", this._element.removeAttribute("aria-hidden"), this._element.setAttribute("aria-modal", !0), e(this._dialog).hasClass("modal-dialog-scrollable") ? this._dialog.querySelector(".modal-body").scrollTop = 0 : this._element.scrollTop = 0, i && s.reflow(this._element), e(this._element).addClass(kt), this._config.focus && this._enforceFocus(); var a = e.Event(wt.SHOWN, { relatedTarget: t }); if (i) { var r = s.getTransitionDurationFromElement(this._dialog); e(this._dialog).one(s.TRANSITION_END, o).emulateTransitionEnd(r) } else o() }, Bt._enforceFocus = function () { var t = this; e(document).off(wt.FOCUSIN).on(wt.FOCUSIN, function (n) { document !== n.target && t._element !== n.target && 0 === e(t._element).has(n.target).length && t._element.focus() }) }, Bt._setEscapeEvent = function () { var t = this; this._isShown && this._config.keyboard ? e(this._element).on(wt.KEYDOWN_DISMISS, function (e) { 27 === e.which && (e.preventDefault(), t.hide()) }) : this._isShown || e(this._element).off(wt.KEYDOWN_DISMISS) }, Bt._setResizeEvent = function () { var t = this; this._isShown ? e(window).on(wt.RESIZE, function (e) { return t.handleUpdate(e) }) : e(window).off(wt.RESIZE) }, Bt._hideModal = function () { var t = this; this._element.style.display = "none", this._element.setAttribute("aria-hidden", !0), this._element.removeAttribute("aria-modal"), this._isTransitioning = !1, this._showBackdrop(function () { e(document.body).removeClass(Xt), t._resetAdjustments(), t._resetScrollbar(), e(t._element).trigger(wt.HIDDEN) }) }, Bt._removeBackdrop = function () { this._backdrop && (e(this._backdrop).remove(), this._backdrop = null) }, Bt._showBackdrop = function (t) { var n = this, i = e(this._element).hasClass(St) ? St : ""; if (this._isShown && this._config.backdrop) { if (this._backdrop = document.createElement("div"), this._backdrop.className = "modal-backdrop", i && this._backdrop.classList.add(i), e(this._backdrop).appendTo(document.body), e(this._element).on(wt.CLICK_DISMISS, function (t) { n._ignoreBackdropClick ? n._ignoreBackdropClick = !1 : t.target === t.currentTarget && ("static" === n._config.backdrop ? n._element.focus() : n.hide()) }), i && s.reflow(this._backdrop), e(this._backdrop).addClass(kt), !t) return; if (!i) return void t(); var o = s.getTransitionDurationFromElement(this._backdrop); e(this._backdrop).one(s.TRANSITION_END, t).emulateTransitionEnd(o) } else if (!this._isShown && this._backdrop) { e(this._backdrop).removeClass(kt); var a = function () { n._removeBackdrop(), t && t() }; if (e(this._element).hasClass(St)) { var r = s.getTransitionDurationFromElement(this._backdrop); e(this._backdrop).one(s.TRANSITION_END, a).emulateTransitionEnd(r) } else a() } else t && t() }, Bt._adjustDialog = function () { var t = this._element.scrollHeight > document.documentElement.clientHeight; !this._isBodyOverflowing && t && (this._element.style.paddingLeft = this._scrollbarWidth + "px"), this._isBodyOverflowing && !t && (this._element.style.paddingRight = this._scrollbarWidth + "px") }, Bt._resetAdjustments = function () { this._element.style.paddingLeft = "", this._element.style.paddingRight = "" }, Bt._checkScrollbar = function () { var t = document.body.getBoundingClientRect(); this._isBodyOverflowing = t.left + t.right < window.innerWidth, this._scrollbarWidth = this._getScrollbarWidth() }, Bt._setScrollbar = function () { var t = this; if (this._isBodyOverflowing) { var n = [].slice.call(document.querySelectorAll(Dt)), i = [].slice.call(document.querySelectorAll(Zt)); e(n).each(function (n, i) { var o = i.style.paddingRight, a = e(i).css("padding-right"); e(i).data("padding-right", o).css("padding-right", parseFloat(a) + t._scrollbarWidth + "px") }), e(i).each(function (n, i) { var o = i.style.marginRight, a = e(i).css("margin-right"); e(i).data("margin-right", o).css("margin-right", parseFloat(a) - t._scrollbarWidth + "px") }); var o = document.body.style.paddingRight, a = e(document.body).css("padding-right"); e(document.body).data("padding-right", o).css("padding-right", parseFloat(a) + this._scrollbarWidth + "px") } e(document.body).addClass(Xt) }, Bt._resetScrollbar = function () { var t = [].slice.call(document.querySelectorAll(Dt)); e(t).each(function (t, n) { var i = e(n).data("padding-right"); e(n).removeData("padding-right"), n.style.paddingRight = i || "" }); var n = [].slice.call(document.querySelectorAll(Zt)); e(n).each(function (t, n) { var i = e(n).data("margin-right"); void 0 !== i && e(n).css("margin-right", i).removeData("margin-right") }); var i = e(document.body).data("padding-right"); e(document.body).removeData("padding-right"), document.body.style.paddingRight = i || "" }, Bt._getScrollbarWidth = function () { var t = document.createElement("div"); t.className = "modal-scrollbar-measure", document.body.appendChild(t); var e = t.getBoundingClientRect().width - t.clientWidth; return document.body.removeChild(t), e }, Wt._jQueryInterface = function (t, n) { return this.each(function () { var i = e(this).data(vt), o = a({}, Qt, e(this).data(), "object" == typeof t && t ? t : {}); if (i || (i = new Wt(this, o), e(this).data(vt, i)), "string" == typeof t) { if (void 0 === i[t]) throw new TypeError('No method named "' + t + '"'); i[t](n) } else o.show && i.show(n) }) }, o(Wt, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return Qt } }]), Wt); function Wt(t, e) { this._config = this._getConfig(e), this._element = t, this._dialog = t.querySelector(".modal-dialog"), this._backdrop = null, this._isShown = !1, this._isBodyOverflowing = !1, this._ignoreBackdropClick = !1, this._isTransitioning = !1, this._scrollbarWidth = 0 } e(document).on(wt.CLICK_DATA_API, '[data-toggle="modal"]', function (t) { var n, i = this, o = s.getSelectorFromElement(this); o && (n = document.querySelector(o)); var r = e(n).data(vt) ? "toggle" : a({}, e(n).data(), e(this).data()); "A" !== this.tagName && "AREA" !== this.tagName || t.preventDefault(); var g = e(n).one(wt.SHOW, function (t) { t.isDefaultPrevented() || g.one(wt.HIDDEN, function () { e(i).is(":visible") && i.focus() }) }); Ut._jQueryInterface.call(e(n), r, this) }), e.fn[yt] = Ut._jQueryInterface, e.fn[yt].Constructor = Ut, e.fn[yt].noConflict = function () { return e.fn[yt] = Ft, Ut._jQueryInterface }; var Tt = ["background", "cite", "href", "itemtype", "longdesc", "poster", "src", "xlink:href"], Nt = /^(?:(?:https?|mailto|ftp|tel|file):|[^&:\/?#]*(?:[\/?#]|$))/gi, Ht = /^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i; function Et(t, e, n) { if (0 === t.length) return t; if (n && "function" == typeof n) return n(t); for (var i = (new window.DOMParser).parseFromString(t, "text/html"), o = Object.keys(e), a = [].slice.call(i.body.querySelectorAll("*")), r = function (t, n) { var i = a[t], r = i.nodeName.toLowerCase(); if (-1 === o.indexOf(i.nodeName.toLowerCase())) return i.parentNode.removeChild(i), "continue"; var s = [].slice.call(i.attributes), g = [].concat(e["*"] || [], e[r] || []); s.forEach(function (t) { !function (t, e) { var n = t.nodeName.toLowerCase(); if (-1 !== e.indexOf(n)) return -1 === Tt.indexOf(n) || Boolean(t.nodeValue.match(Nt) || t.nodeValue.match(Ht)); for (var i = e.filter(function (t) { return t instanceof RegExp }), o = 0, a = i.length; o < a; o++)if (n.match(i[o])) return !0; return !1 }(t, g) && i.removeAttribute(t.nodeName) }) }, s = 0, g = a.length; s < g; s++)r(s); return i.body.innerHTML } var Rt, Yt = "tooltip", Ot = "bs.tooltip", _t = "." + Ot, Vt = e.fn[Yt], Lt = "bs-tooltip", Mt = new RegExp("(^|\\s)" + Lt + "\\S+", "g"), zt = ["sanitize", "whiteList", "sanitizeFn"], Pt = { animation: "boolean", template: "string", title: "(string|element|function)", trigger: "string", delay: "(number|object)", html: "boolean", selector: "(string|boolean)", placement: "(string|function)", offset: "(number|string|function)", container: "(string|element|boolean)", fallbackPlacement: "(string|array)", boundary: "(string|element)", sanitize: "boolean", sanitizeFn: "(null|function)", whiteList: "object" }, Kt = { AUTO: "auto", TOP: "top", RIGHT: "right", BOTTOM: "bottom", LEFT: "left" }, Jt = { animation: !0, template: '<div class="tooltip" role="tooltip"><div class="arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", title: "", delay: 0, html: !1, selector: !1, placement: "top", offset: 0, container: !1, fallbackPlacement: "flip", boundary: "scrollParent", sanitize: !0, sanitizeFn: null, whiteList: { "*": ["class", "dir", "id", "lang", "role", /^aria-[\w-]*$/i], a: ["target", "href", "title", "rel"], area: [], b: [], br: [], col: [], code: [], div: [], em: [], hr: [], h1: [], h2: [], h3: [], h4: [], h5: [], h6: [], i: [], img: ["src", "alt", "title", "width", "height"], li: [], ol: [], p: [], pre: [], s: [], small: [], span: [], sub: [], sup: [], strong: [], u: [], ul: [] } }, jt = "show", $t = { HIDE: "hide" + _t, HIDDEN: "hidden" + _t, SHOW: "show" + _t, SHOWN: "shown" + _t, INSERTED: "inserted" + _t, CLICK: "click" + _t, FOCUSIN: "focusin" + _t, FOCUSOUT: "focusout" + _t, MOUSEENTER: "mouseenter" + _t, MOUSELEAVE: "mouseleave" + _t }, qt = "fade", te = "show", ee = "hover", ne = "focus", ie = ((Rt = oe.prototype).enable = function () { this._isEnabled = !0 }, Rt.disable = function () { this._isEnabled = !1 }, Rt.toggleEnabled = function () { this._isEnabled = !this._isEnabled }, Rt.toggle = function (t) { if (this._isEnabled) if (t) { var n = this.constructor.DATA_KEY, i = e(t.currentTarget).data(n); i || (i = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(n, i)), i._activeTrigger.click = !i._activeTrigger.click, i._isWithActiveTrigger() ? i._enter(null, i) : i._leave(null, i) } else { if (e(this.getTipElement()).hasClass(te)) return void this._leave(null, this); this._enter(null, this) } }, Rt.dispose = function () { clearTimeout(this._timeout), e.removeData(this.element, this.constructor.DATA_KEY), e(this.element).off(this.constructor.EVENT_KEY), e(this.element).closest(".modal").off("hide.bs.modal"), this.tip && e(this.tip).remove(), this._isEnabled = null, this._timeout = null, this._hoverState = null, (this._activeTrigger = null) !== this._popper && this._popper.destroy(), this._popper = null, this.element = null, this.config = null, this.tip = null }, Rt.show = function () { var t = this; if ("none" === e(this.element).css("display")) throw new Error("Please use show on visible elements"); var i = e.Event(this.constructor.Event.SHOW); if (this.isWithContent() && this._isEnabled) { e(this.element).trigger(i); var o = s.findShadowRoot(this.element), a = e.contains(null !== o ? o : this.element.ownerDocument.documentElement, this.element); if (i.isDefaultPrevented() || !a) return; var r = this.getTipElement(), g = s.getUID(this.constructor.NAME); r.setAttribute("id", g), this.element.setAttribute("aria-describedby", g), this.setContent(), this.config.animation && e(r).addClass(qt); var l = "function" == typeof this.config.placement ? this.config.placement.call(this, r, this.element) : this.config.placement, c = this._getAttachment(l); this.addAttachmentClass(c); var I = this._getContainer(); e(r).data(this.constructor.DATA_KEY, this), e.contains(this.element.ownerDocument.documentElement, this.tip) || e(r).appendTo(I), e(this.element).trigger(this.constructor.Event.INSERTED), this._popper = new n(this.element, r, { placement: c, modifiers: { offset: this._getOffset(), flip: { behavior: this.config.fallbackPlacement }, arrow: { element: ".arrow" }, preventOverflow: { boundariesElement: this.config.boundary } }, onCreate: function (e) { e.originalPlacement !== e.placement && t._handlePopperPlacementChange(e) }, onUpdate: function (e) { return t._handlePopperPlacementChange(e) } }), e(r).addClass(te), "ontouchstart" in document.documentElement && e(document.body).children().on("mouseover", null, e.noop); var u = function () { t.config.animation && t._fixTransition(); var n = t._hoverState; t._hoverState = null, e(t.element).trigger(t.constructor.Event.SHOWN), "out" === n && t._leave(null, t) }; if (e(this.tip).hasClass(qt)) { var h = s.getTransitionDurationFromElement(this.tip); e(this.tip).one(s.TRANSITION_END, u).emulateTransitionEnd(h) } else u() } }, Rt.hide = function (t) { function n() { i._hoverState !== jt && o.parentNode && o.parentNode.removeChild(o), i._cleanTipClass(), i.element.removeAttribute("aria-describedby"), e(i.element).trigger(i.constructor.Event.HIDDEN), null !== i._popper && i._popper.destroy(), t && t() } var i = this, o = this.getTipElement(), a = e.Event(this.constructor.Event.HIDE); if (e(this.element).trigger(a), !a.isDefaultPrevented()) { if (e(o).removeClass(te), "ontouchstart" in document.documentElement && e(document.body).children().off("mouseover", null, e.noop), this._activeTrigger.click = !1, this._activeTrigger[ne] = !1, this._activeTrigger[ee] = !1, e(this.tip).hasClass(qt)) { var r = s.getTransitionDurationFromElement(o); e(o).one(s.TRANSITION_END, n).emulateTransitionEnd(r) } else n(); this._hoverState = "" } }, Rt.update = function () { null !== this._popper && this._popper.scheduleUpdate() }, Rt.isWithContent = function () { return Boolean(this.getTitle()) }, Rt.addAttachmentClass = function (t) { e(this.getTipElement()).addClass(Lt + "-" + t) }, Rt.getTipElement = function () { return this.tip = this.tip || e(this.config.template)[0], this.tip }, Rt.setContent = function () { var t = this.getTipElement(); this.setElementContent(e(t.querySelectorAll(".tooltip-inner")), this.getTitle()), e(t).removeClass(qt + " " + te) }, Rt.setElementContent = function (t, n) { "object" != typeof n || !n.nodeType && !n.jquery ? this.config.html ? (this.config.sanitize && (n = Et(n, this.config.whiteList, this.config.sanitizeFn)), t.html(n)) : t.text(n) : this.config.html ? e(n).parent().is(t) || t.empty().append(n) : t.text(e(n).text()) }, Rt.getTitle = function () { var t = this.element.getAttribute("data-original-title"); return t || (t = "function" == typeof this.config.title ? this.config.title.call(this.element) : this.config.title), t }, Rt._getOffset = function () { var t = this, e = {}; return "function" == typeof this.config.offset ? e.fn = function (e) { return e.offsets = a({}, e.offsets, t.config.offset(e.offsets, t.element) || {}), e } : e.offset = this.config.offset, e }, Rt._getContainer = function () { return !1 === this.config.container ? document.body : s.isElement(this.config.container) ? e(this.config.container) : e(document).find(this.config.container) }, Rt._getAttachment = function (t) { return Kt[t.toUpperCase()] }, Rt._setListeners = function () { var t = this; this.config.trigger.split(" ").forEach(function (n) { if ("click" === n) e(t.element).on(t.constructor.Event.CLICK, t.config.selector, function (e) { return t.toggle(e) }); else if ("manual" !== n) { var i = n === ee ? t.constructor.Event.MOUSEENTER : t.constructor.Event.FOCUSIN, o = n === ee ? t.constructor.Event.MOUSELEAVE : t.constructor.Event.FOCUSOUT; e(t.element).on(i, t.config.selector, function (e) { return t._enter(e) }).on(o, t.config.selector, function (e) { return t._leave(e) }) } }), e(this.element).closest(".modal").on("hide.bs.modal", function () { t.element && t.hide() }), this.config.selector ? this.config = a({}, this.config, { trigger: "manual", selector: "" }) : this._fixTitle() }, Rt._fixTitle = function () { var t = typeof this.element.getAttribute("data-original-title"); !this.element.getAttribute("title") && "string" == t || (this.element.setAttribute("data-original-title", this.element.getAttribute("title") || ""), this.element.setAttribute("title", "")) }, Rt._enter = function (t, n) { var i = this.constructor.DATA_KEY; (n = n || e(t.currentTarget).data(i)) || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(i, n)), t && (n._activeTrigger["focusin" === t.type ? ne : ee] = !0), e(n.getTipElement()).hasClass(te) || n._hoverState === jt ? n._hoverState = jt : (clearTimeout(n._timeout), n._hoverState = jt, n.config.delay && n.config.delay.show ? n._timeout = setTimeout(function () { n._hoverState === jt && n.show() }, n.config.delay.show) : n.show()) }, Rt._leave = function (t, n) { var i = this.constructor.DATA_KEY; (n = n || e(t.currentTarget).data(i)) || (n = new this.constructor(t.currentTarget, this._getDelegateConfig()), e(t.currentTarget).data(i, n)), t && (n._activeTrigger["focusout" === t.type ? ne : ee] = !1), n._isWithActiveTrigger() || (clearTimeout(n._timeout), n._hoverState = "out", n.config.delay && n.config.delay.hide ? n._timeout = setTimeout(function () { "out" === n._hoverState && n.hide() }, n.config.delay.hide) : n.hide()) }, Rt._isWithActiveTrigger = function () { for (var t in this._activeTrigger) if (this._activeTrigger[t]) return !0; return !1 }, Rt._getConfig = function (t) { var n = e(this.element).data(); return Object.keys(n).forEach(function (t) { -1 !== zt.indexOf(t) && delete n[t] }), "number" == typeof (t = a({}, this.constructor.Default, n, "object" == typeof t && t ? t : {})).delay && (t.delay = { show: t.delay, hide: t.delay }), "number" == typeof t.title && (t.title = t.title.toString()), "number" == typeof t.content && (t.content = t.content.toString()), s.typeCheckConfig(Yt, t, this.constructor.DefaultType), t.sanitize && (t.template = Et(t.template, t.whiteList, t.sanitizeFn)), t }, Rt._getDelegateConfig = function () { var t = {}; if (this.config) for (var e in this.config) this.constructor.Default[e] !== this.config[e] && (t[e] = this.config[e]); return t }, Rt._cleanTipClass = function () { var t = e(this.getTipElement()), n = t.attr("class").match(Mt); null !== n && n.length && t.removeClass(n.join("")) }, Rt._handlePopperPlacementChange = function (t) { var e = t.instance; this.tip = e.popper, this._cleanTipClass(), this.addAttachmentClass(this._getAttachment(t.placement)) }, Rt._fixTransition = function () { var t = this.getTipElement(), n = this.config.animation; null === t.getAttribute("x-placement") && (e(t).removeClass(qt), this.config.animation = !1, this.hide(), this.show(), this.config.animation = n) }, oe._jQueryInterface = function (t) { return this.each(function () { var n = e(this).data(Ot), i = "object" == typeof t && t; if ((n || !/dispose|hide/.test(t)) && (n || (n = new oe(this, i), e(this).data(Ot, n)), "string" == typeof t)) { if (void 0 === n[t]) throw new TypeError('No method named "' + t + '"'); n[t]() } }) }, o(oe, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return Jt } }, { key: "NAME", get: function () { return Yt } }, { key: "DATA_KEY", get: function () { return Ot } }, { key: "Event", get: function () { return $t } }, { key: "EVENT_KEY", get: function () { return _t } }, { key: "DefaultType", get: function () { return Pt } }]), oe); function oe(t, e) { if (void 0 === n) throw new TypeError("Bootstrap's tooltips require Popper.js (https://popper.js.org/)"); this._isEnabled = !0, this._timeout = 0, this._hoverState = "", this._activeTrigger = {}, this._popper = null, this.element = t, this.config = this._getConfig(e), this.tip = null, this._setListeners() } e.fn[Yt] = ie._jQueryInterface, e.fn[Yt].Constructor = ie, e.fn[Yt].noConflict = function () { return e.fn[Yt] = Vt, ie._jQueryInterface }; var ae = "popover", re = "bs.popover", se = "." + re, ge = e.fn[ae], le = "bs-popover", ce = new RegExp("(^|\\s)" + le + "\\S+", "g"), Ie = a({}, ie.Default, { placement: "right", trigger: "click", content: "", template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>' }), ue = a({}, ie.DefaultType, { content: "(string|element|function)" }), he = { HIDE: "hide" + se, HIDDEN: "hidden" + se, SHOW: "show" + se, SHOWN: "shown" + se, INSERTED: "inserted" + se, CLICK: "click" + se, FOCUSIN: "focusin" + se, FOCUSOUT: "focusout" + se, MOUSEENTER: "mouseenter" + se, MOUSELEAVE: "mouseleave" + se }, de = function (t) { var n, i; function a() { return t.apply(this, arguments) || this } i = t, (n = a).prototype = Object.create(i.prototype), (n.prototype.constructor = n).__proto__ = i; var r = a.prototype; return r.isWithContent = function () { return this.getTitle() || this._getContent() }, r.addAttachmentClass = function (t) { e(this.getTipElement()).addClass(le + "-" + t) }, r.getTipElement = function () { return this.tip = this.tip || e(this.config.template)[0], this.tip }, r.setContent = function () { var t = e(this.getTipElement()); this.setElementContent(t.find(".popover-header"), this.getTitle()); var n = this._getContent(); "function" == typeof n && (n = n.call(this.element)), this.setElementContent(t.find(".popover-body"), n), t.removeClass("fade show") }, r._getContent = function () { return this.element.getAttribute("data-content") || this.config.content }, r._cleanTipClass = function () { var t = e(this.getTipElement()), n = t.attr("class").match(ce); null !== n && 0 < n.length && t.removeClass(n.join("")) }, a._jQueryInterface = function (t) { return this.each(function () { var n = e(this).data(re), i = "object" == typeof t ? t : null; if ((n || !/dispose|hide/.test(t)) && (n || (n = new a(this, i), e(this).data(re, n)), "string" == typeof t)) { if (void 0 === n[t]) throw new TypeError('No method named "' + t + '"'); n[t]() } }) }, o(a, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return Ie } }, { key: "NAME", get: function () { return ae } }, { key: "DATA_KEY", get: function () { return re } }, { key: "Event", get: function () { return he } }, { key: "EVENT_KEY", get: function () { return se } }, { key: "DefaultType", get: function () { return ue } }]), a }(ie); e.fn[ae] = de._jQueryInterface, e.fn[ae].Constructor = de, e.fn[ae].noConflict = function () { return e.fn[ae] = ge, de._jQueryInterface }; var Ce, Ae = "scrollspy", pe = "bs.scrollspy", me = "." + pe, fe = e.fn[Ae], be = { offset: 10, method: "auto", target: "" }, Be = { offset: "number", method: "string", target: "(string|element)" }, ye = { ACTIVATE: "activate" + me, SCROLL: "scroll" + me, LOAD_DATA_API: "load" + me + ".data-api" }, ve = "active", xe = ".nav, .list-group", Fe = ".nav-link", Qe = ".list-group-item", Ge = "position", we = ((Ce = Xe.prototype).refresh = function () { var t = this, n = this._scrollElement === this._scrollElement.window ? "offset" : Ge, i = "auto" === this._config.method ? n : this._config.method, o = i === Ge ? this._getScrollTop() : 0; this._offsets = [], this._targets = [], this._scrollHeight = this._getScrollHeight(), [].slice.call(document.querySelectorAll(this._selector)).map(function (t) { var n, a = s.getSelectorFromElement(t); if (a && (n = document.querySelector(a)), n) { var r = n.getBoundingClientRect(); if (r.width || r.height) return [e(n)[i]().top + o, a] } return null }).filter(function (t) { return t }).sort(function (t, e) { return t[0] - e[0] }).forEach(function (e) { t._offsets.push(e[0]), t._targets.push(e[1]) }) }, Ce.dispose = function () { e.removeData(this._element, pe), e(this._scrollElement).off(me), this._element = null, this._scrollElement = null, this._config = null, this._selector = null, this._offsets = null, this._targets = null, this._activeTarget = null, this._scrollHeight = null }, Ce._getConfig = function (t) { if ("string" != typeof (t = a({}, be, "object" == typeof t && t ? t : {})).target) { var n = e(t.target).attr("id"); n || (n = s.getUID(Ae), e(t.target).attr("id", n)), t.target = "#" + n } return s.typeCheckConfig(Ae, t, Be), t }, Ce._getScrollTop = function () { return this._scrollElement === window ? this._scrollElement.pageYOffset : this._scrollElement.scrollTop }, Ce._getScrollHeight = function () { return this._scrollElement.scrollHeight || Math.max(document.body.scrollHeight, document.documentElement.scrollHeight) }, Ce._getOffsetHeight = function () { return this._scrollElement === window ? window.innerHeight : this._scrollElement.getBoundingClientRect().height }, Ce._process = function () { var t = this._getScrollTop() + this._config.offset, e = this._getScrollHeight(), n = this._config.offset + e - this._getOffsetHeight(); if (this._scrollHeight !== e && this.refresh(), n <= t) { var i = this._targets[this._targets.length - 1]; this._activeTarget !== i && this._activate(i) } else { if (this._activeTarget && t < this._offsets[0] && 0 < this._offsets[0]) return this._activeTarget = null, void this._clear(); for (var o = this._offsets.length; o--;)this._activeTarget !== this._targets[o] && t >= this._offsets[o] && (void 0 === this._offsets[o + 1] || t < this._offsets[o + 1]) && this._activate(this._targets[o]) } }, Ce._activate = function (t) { this._activeTarget = t, this._clear(); var n = this._selector.split(",").map(function (e) { return e + '[data-target="' + t + '"],' + e + '[href="' + t + '"]' }), i = e([].slice.call(document.querySelectorAll(n.join(",")))); i.hasClass("dropdown-item") ? (i.closest(".dropdown").find(".dropdown-toggle").addClass(ve), i.addClass(ve)) : (i.addClass(ve), i.parents(xe).prev(Fe + ", " + Qe).addClass(ve), i.parents(xe).prev(".nav-item").children(Fe).addClass(ve)), e(this._scrollElement).trigger(ye.ACTIVATE, { relatedTarget: t }) }, Ce._clear = function () { [].slice.call(document.querySelectorAll(this._selector)).filter(function (t) { return t.classList.contains(ve) }).forEach(function (t) { return t.classList.remove(ve) }) }, Xe._jQueryInterface = function (t) { return this.each(function () { var n = e(this).data(pe); if (n || (n = new Xe(this, "object" == typeof t && t), e(this).data(pe, n)), "string" == typeof t) { if (void 0 === n[t]) throw new TypeError('No method named "' + t + '"'); n[t]() } }) }, o(Xe, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "Default", get: function () { return be } }]), Xe); function Xe(t, n) { var i = this; this._element = t, this._scrollElement = "BODY" === t.tagName ? window : t, this._config = this._getConfig(n), this._selector = this._config.target + " " + Fe + "," + this._config.target + " " + Qe + "," + this._config.target + " .dropdown-item", this._offsets = [], this._targets = [], this._activeTarget = null, this._scrollHeight = 0, e(this._scrollElement).on(ye.SCROLL, function (t) { return i._process(t) }), this.refresh(), this._process() } e(window).on(ye.LOAD_DATA_API, function () { for (var t = [].slice.call(document.querySelectorAll('[data-spy="scroll"]')), n = t.length; n--;) { var i = e(t[n]); we._jQueryInterface.call(i, i.data()) } }), e.fn[Ae] = we._jQueryInterface, e.fn[Ae].Constructor = we, e.fn[Ae].noConflict = function () { return e.fn[Ae] = fe, we._jQueryInterface }; var Se, ke = "bs.tab", De = "." + ke, Ze = e.fn.tab, Ue = { HIDE: "hide" + De, HIDDEN: "hidden" + De, SHOW: "show" + De, SHOWN: "shown" + De, CLICK_DATA_API: "click" + De + ".data-api" }, We = "active", Te = ".active", Ne = "> li > .active", He = ((Se = Ee.prototype).show = function () { var t = this; if (!(this._element.parentNode && this._element.parentNode.nodeType === Node.ELEMENT_NODE && e(this._element).hasClass(We) || e(this._element).hasClass("disabled"))) { var n, i, o = e(this._element).closest(".nav, .list-group")[0], a = s.getSelectorFromElement(this._element); if (o) { var r = "UL" === o.nodeName || "OL" === o.nodeName ? Ne : Te; i = (i = e.makeArray(e(o).find(r)))[i.length - 1] } var g = e.Event(Ue.HIDE, { relatedTarget: this._element }), l = e.Event(Ue.SHOW, { relatedTarget: i }); if (i && e(i).trigger(g), e(this._element).trigger(l), !l.isDefaultPrevented() && !g.isDefaultPrevented()) { a && (n = document.querySelector(a)), this._activate(this._element, o); var c = function () { var n = e.Event(Ue.HIDDEN, { relatedTarget: t._element }), o = e.Event(Ue.SHOWN, { relatedTarget: i }); e(i).trigger(n), e(t._element).trigger(o) }; n ? this._activate(n, n.parentNode, c) : c() } } }, Se.dispose = function () { e.removeData(this._element, ke), this._element = null }, Se._activate = function (t, n, i) { function o() { return a._transitionComplete(t, r, i) } var a = this, r = (!n || "UL" !== n.nodeName && "OL" !== n.nodeName ? e(n).children(Te) : e(n).find(Ne))[0], g = i && r && e(r).hasClass("fade"); if (r && g) { var l = s.getTransitionDurationFromElement(r); e(r).removeClass("show").one(s.TRANSITION_END, o).emulateTransitionEnd(l) } else o() }, Se._transitionComplete = function (t, n, i) { if (n) { e(n).removeClass(We); var o = e(n.parentNode).find("> .dropdown-menu .active")[0]; o && e(o).removeClass(We), "tab" === n.getAttribute("role") && n.setAttribute("aria-selected", !1) } if (e(t).addClass(We), "tab" === t.getAttribute("role") && t.setAttribute("aria-selected", !0), s.reflow(t), t.classList.contains("fade") && t.classList.add("show"), t.parentNode && e(t.parentNode).hasClass("dropdown-menu")) { var a = e(t).closest(".dropdown")[0]; if (a) { var r = [].slice.call(a.querySelectorAll(".dropdown-toggle")); e(r).addClass(We) } t.setAttribute("aria-expanded", !0) } i && i() }, Ee._jQueryInterface = function (t) { return this.each(function () { var n = e(this), i = n.data(ke); if (i || (i = new Ee(this), n.data(ke, i)), "string" == typeof t) { if (void 0 === i[t]) throw new TypeError('No method named "' + t + '"'); i[t]() } }) }, o(Ee, null, [{ key: "VERSION", get: function () { return "4.3.1" } }]), Ee); function Ee(t) { this._element = t } e(document).on(Ue.CLICK_DATA_API, '[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]', function (t) { t.preventDefault(), He._jQueryInterface.call(e(this), "show") }), e.fn.tab = He._jQueryInterface, e.fn.tab.Constructor = He, e.fn.tab.noConflict = function () { return e.fn.tab = Ze, He._jQueryInterface }; var Re, Ye = "toast", Oe = "bs.toast", _e = "." + Oe, Ve = e.fn[Ye], Le = { CLICK_DISMISS: "click.dismiss" + _e, HIDE: "hide" + _e, HIDDEN: "hidden" + _e, SHOW: "show" + _e, SHOWN: "shown" + _e }, Me = "show", ze = "showing", Pe = { animation: "boolean", autohide: "boolean", delay: "number" }, Ke = { animation: !0, autohide: !0, delay: 500 }, Je = ((Re = je.prototype).show = function () { var t = this; function n() { t._element.classList.remove(ze), t._element.classList.add(Me), e(t._element).trigger(Le.SHOWN), t._config.autohide && t.hide() } if (e(this._element).trigger(Le.SHOW), this._config.animation && this._element.classList.add("fade"), this._element.classList.remove("hide"), this._element.classList.add(ze), this._config.animation) { var i = s.getTransitionDurationFromElement(this._element); e(this._element).one(s.TRANSITION_END, n).emulateTransitionEnd(i) } else n() }, Re.hide = function (t) { var n = this; this._element.classList.contains(Me) && (e(this._element).trigger(Le.HIDE), t ? this._close() : this._timeout = setTimeout(function () { n._close() }, this._config.delay)) }, Re.dispose = function () { clearTimeout(this._timeout), this._timeout = null, this._element.classList.contains(Me) && this._element.classList.remove(Me), e(this._element).off(Le.CLICK_DISMISS), e.removeData(this._element, Oe), this._element = null, this._config = null }, Re._getConfig = function (t) { return t = a({}, Ke, e(this._element).data(), "object" == typeof t && t ? t : {}), s.typeCheckConfig(Ye, t, this.constructor.DefaultType), t }, Re._setListeners = function () { var t = this; e(this._element).on(Le.CLICK_DISMISS, '[data-dismiss="toast"]', function () { return t.hide(!0) }) }, Re._close = function () { function t() { n._element.classList.add("hide"), e(n._element).trigger(Le.HIDDEN) } var n = this; if (this._element.classList.remove(Me), this._config.animation) { var i = s.getTransitionDurationFromElement(this._element); e(this._element).one(s.TRANSITION_END, t).emulateTransitionEnd(i) } else t() }, je._jQueryInterface = function (t) { return this.each(function () { var n = e(this), i = n.data(Oe); if (i || (i = new je(this, "object" == typeof t && t), n.data(Oe, i)), "string" == typeof t) { if (void 0 === i[t]) throw new TypeError('No method named "' + t + '"'); i[t](this) } }) }, o(je, null, [{ key: "VERSION", get: function () { return "4.3.1" } }, { key: "DefaultType", get: function () { return Pe } }, { key: "Default", get: function () { return Ke } }]), je); function je(t, e) { this._element = t, this._config = this._getConfig(e), this._timeout = null, this._setListeners() } e.fn[Ye] = Je._jQueryInterface, e.fn[Ye].Constructor = Je, e.fn[Ye].noConflict = function () { return e.fn[Ye] = Ve, Je._jQueryInterface }, function () { if (void 0 === e) throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript."); var t = e.fn.jquery.split(" ")[0].split("."); if (t[0] < 2 && t[1] < 9 || 1 === t[0] && 9 === t[1] && t[2] < 1 || 4 <= t[0]) throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0") }(), t.Util = s, t.Alert = d, t.Button = F, t.Carousel = Y, t.Collapse = nt, t.Dropdown = ft, t.Modal = Ut, t.Popover = de, t.Scrollspy = we, t.Tab = He, t.Toast = Je, t.Tooltip = ie, Object.defineProperty(t, "__esModule", { value: !0 }) }), function (t) { var e = !1; if ("function" == typeof define && define.amd && (define(t), e = !0), "object" == typeof exports && (module.exports = t(), e = !0), !e) { var n = window.Cookies, i = window.Cookies = t(); i.noConflict = function () { return window.Cookies = n, i } } }(function () { function t() { for (var t = 0, e = {}; t < arguments.length; t++) { var n = arguments[t]; for (var i in n) e[i] = n[i] } return e } return function e(n) { function i(e, o, a) { var r; if ("undefined" != typeof document) { if (1 < arguments.length) { if ("number" == typeof (a = t({ path: "/" }, i.defaults, a)).expires) { var s = new Date; s.setMilliseconds(s.getMilliseconds() + 864e5 * a.expires), a.expires = s } a.expires = a.expires ? a.expires.toUTCString() : ""; try { r = JSON.stringify(o), /^[\{\[]/.test(r) && (o = r) } catch (e) { } o = n.write ? n.write(o, e) : encodeURIComponent(String(o)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g, decodeURIComponent), e = (e = (e = encodeURIComponent(String(e))).replace(/%(23|24|26|2B|5E|60|7C)/g, decodeURIComponent)).replace(/[\(\)]/g, escape); var g = ""; for (var l in a) a[l] && (g += "; " + l, !0 !== a[l] && (g += "=" + a[l])); return document.cookie = e + "=" + o + g } e || (r = {}); for (var c = document.cookie ? document.cookie.split("; ") : [], I = /(%[0-9A-Z]{2})+/g, u = 0; u < c.length; u++) { var h = c[u].split("="), d = h.slice(1).join("="); this.json || '"' !== d.charAt(0) || (d = d.slice(1, -1)); try { var C = h[0].replace(I, decodeURIComponent); if (d = n.read ? n.read(d, C) : n(d, C) || d.replace(I, decodeURIComponent), this.json) try { d = JSON.parse(d) } catch (e) { } if (e === C) { r = d; break } e || (r[C] = d) } catch (e) { } } return r } } return (i.set = i).get = function (t) { return i.call(i, t) }, i.getJSON = function () { return i.apply({ json: !0 }, [].slice.call(arguments)) }, i.defaults = {}, i.remove = function (e, n) { i(e, "", t(n, { expires: -1 })) }, i.withConverter = e, i }(function () { }) }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.moment = e() }(this, function () { "use strict"; var t, e; function n() { return t.apply(null, arguments) } function i(t) { return t instanceof Array || "[object Array]" === Object.prototype.toString.call(t) } function o(t) { return null != t && "[object Object]" === Object.prototype.toString.call(t) } function a(t) { return void 0 === t } function r(t) { return "number" == typeof t || "[object Number]" === Object.prototype.toString.call(t) } function s(t) { return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t) } function g(t, e) { var n, i = []; for (n = 0; n < t.length; ++n)i.push(e(t[n], n)); return i } function l(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function c(t, e) { for (var n in e) l(e, n) && (t[n] = e[n]); return l(e, "toString") && (t.toString = e.toString), l(e, "valueOf") && (t.valueOf = e.valueOf), t } function I(t, e, n, i) { return Fe(t, e, n, i, !0).utc() } function u(t) { return null == t._pf && (t._pf = { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], meridiem: null, rfc2822: !1, weekdayMismatch: !1 }), t._pf } function h(t) { if (null == t._isValid) { var n = u(t), i = e.call(n.parsedDateParts, function (t) { return null != t }), o = !isNaN(t._d.getTime()) && n.overflow < 0 && !n.empty && !n.invalidMonth && !n.invalidWeekday && !n.weekdayMismatch && !n.nullInput && !n.invalidFormat && !n.userInvalidated && (!n.meridiem || n.meridiem && i); if (t._strict && (o = o && 0 === n.charsLeftOver && 0 === n.unusedTokens.length && void 0 === n.bigHour), null != Object.isFrozen && Object.isFrozen(t)) return o; t._isValid = o } return t._isValid } function d(t) { var e = I(NaN); return null != t ? c(u(e), t) : u(e).userInvalidated = !0, e } e = Array.prototype.some ? Array.prototype.some : function (t) { for (var e = Object(this), n = e.length >>> 0, i = 0; i < n; i++)if (i in e && t.call(this, e[i], i, e)) return !0; return !1 }; var C = n.momentProperties = []; function A(t, e) { var n, i, o; if (a(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject), a(e._i) || (t._i = e._i), a(e._f) || (t._f = e._f), a(e._l) || (t._l = e._l), a(e._strict) || (t._strict = e._strict), a(e._tzm) || (t._tzm = e._tzm), a(e._isUTC) || (t._isUTC = e._isUTC), a(e._offset) || (t._offset = e._offset), a(e._pf) || (t._pf = u(e)), a(e._locale) || (t._locale = e._locale), 0 < C.length) for (n = 0; n < C.length; n++)a(o = e[i = C[n]]) || (t[i] = o); return t } var p = !1; function m(t) { A(this, t), this._d = new Date(null != t._d ? t._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === p && (p = !0, n.updateOffset(this), p = !1) } function f(t) { return t instanceof m || null != t && null != t._isAMomentObject } function b(t) { return t < 0 ? Math.ceil(t) || 0 : Math.floor(t) } function B(t) { var e = +t, n = 0; return 0 != e && isFinite(e) && (n = b(e)), n } function y(t, e, n) { var i, o = Math.min(t.length, e.length), a = Math.abs(t.length - e.length), r = 0; for (i = 0; i < o; i++)(n && t[i] !== e[i] || !n && B(t[i]) !== B(e[i])) && r++; return r + a } function v(t) { !1 === n.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t) } function x(t, e) { var i = !0; return c(function () { if (null != n.deprecationHandler && n.deprecationHandler(null, t), i) { for (var o, a = [], r = 0; r < arguments.length; r++) { if (o = "", "object" == typeof arguments[r]) { for (var s in o += "\n[" + r + "] ", arguments[0]) o += s + ": " + arguments[0][s] + ", "; o = o.slice(0, -2) } else o = arguments[r]; a.push(o) } v(t + "\nArguments: " + Array.prototype.slice.call(a).join("") + "\n" + (new Error).stack), i = !1 } return e.apply(this, arguments) }, e) } var F, Q = {}; function G(t, e) { null != n.deprecationHandler && n.deprecationHandler(t, e), Q[t] || (v(e), Q[t] = !0) } function w(t) { return t instanceof Function || "[object Function]" === Object.prototype.toString.call(t) } function X(t, e) { var n, i = c({}, t); for (n in e) l(e, n) && (o(t[n]) && o(e[n]) ? (i[n] = {}, c(i[n], t[n]), c(i[n], e[n])) : null != e[n] ? i[n] = e[n] : delete i[n]); for (n in t) l(t, n) && !l(e, n) && o(t[n]) && (i[n] = c({}, i[n])); return i } function S(t) { null != t && this.set(t) } n.suppressDeprecationWarnings = !1, n.deprecationHandler = null, F = Object.keys ? Object.keys : function (t) { var e, n = []; for (e in t) l(t, e) && n.push(e); return n }; var k = {}; function D(t, e) { var n = t.toLowerCase(); k[n] = k[n + "s"] = k[e] = t } function Z(t) { return "string" == typeof t ? k[t] || k[t.toLowerCase()] : void 0 } function U(t) { var e, n, i = {}; for (n in t) l(t, n) && (e = Z(n)) && (i[e] = t[n]); return i } var W = {}; function T(t, e) { W[t] = e } function N(t, e, n) { var i = "" + Math.abs(t), o = e - i.length; return (0 <= t ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, o)).toString().substr(1) + i } var H = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, E = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, R = {}, Y = {}; function O(t, e, n, i) { var o = i; "string" == typeof i && (o = function () { return this[i]() }), t && (Y[t] = o), e && (Y[e[0]] = function () { return N(o.apply(this, arguments), e[1], e[2]) }), n && (Y[n] = function () { return this.localeData().ordinal(o.apply(this, arguments), t) }) } function _(t, e) { return t.isValid() ? (e = V(e, t.localeData()), R[e] = R[e] || function (t) { var e, n, i, o = t.match(H); for (e = 0, n = o.length; e < n; e++)Y[o[e]] ? o[e] = Y[o[e]] : o[e] = (i = o[e]).match(/\[[\s\S]/) ? i.replace(/^\[|\]$/g, "") : i.replace(/\\/g, ""); return function (e) { var i, a = ""; for (i = 0; i < n; i++)a += w(o[i]) ? o[i].call(e, t) : o[i]; return a } }(e), R[e](t)) : t.localeData().invalidDate() } function V(t, e) { var n = 5; function i(t) { return e.longDateFormat(t) || t } for (E.lastIndex = 0; 0 <= n && E.test(t);)t = t.replace(E, i), E.lastIndex = 0, n -= 1; return t } var L = /\d/, M = /\d\d/, z = /\d{3}/, P = /\d{4}/, K = /[+-]?\d{6}/, J = /\d\d?/, j = /\d\d\d\d?/, $ = /\d\d\d\d\d\d?/, q = /\d{1,3}/, tt = /\d{1,4}/, et = /[+-]?\d{1,6}/, nt = /\d+/, it = /[+-]?\d+/, ot = /Z|[+-]\d\d:?\d\d/gi, at = /Z|[+-]\d\d(?::?\d\d)?/gi, rt = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, st = {}; function gt(t, e, n) { st[t] = w(e) ? e : function (t, i) { return t && n ? n : e } } function lt(t) { return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } var ct = {}; function It(t, e) { var n, i = e; for ("string" == typeof t && (t = [t]), r(e) && (i = function (t, n) { n[e] = B(t) }), n = 0; n < t.length; n++)ct[t[n]] = i } function ut(t, e) { It(t, function (t, n, i, o) { i._w = i._w || {}, e(t, i._w, i, o) }) } var ht = 0, dt = 1, Ct = 2, At = 3, pt = 4, mt = 5, ft = 6, bt = 7, Bt = 8; function yt(t) { return vt(t) ? 366 : 365 } function vt(t) { return t % 4 == 0 && t % 100 != 0 || t % 400 == 0 } O("Y", 0, 0, function () { var t = this.year(); return t <= 9999 ? "" + t : "+" + t }), O(0, ["YY", 2], 0, function () { return this.year() % 100 }), O(0, ["YYYY", 4], 0, "year"), O(0, ["YYYYY", 5], 0, "year"), O(0, ["YYYYYY", 6, !0], 0, "year"), D("year", "y"), T("year", 1), gt("Y", it), gt("YY", J, M), gt("YYYY", tt, P), gt("YYYYY", et, K), gt("YYYYYY", et, K), It(["YYYYY", "YYYYYY"], ht), It("YYYY", function (t, e) { e[ht] = 2 === t.length ? n.parseTwoDigitYear(t) : B(t) }), It("YY", function (t, e) { e[ht] = n.parseTwoDigitYear(t) }), It("Y", function (t, e) { e[ht] = parseInt(t, 10) }), n.parseTwoDigitYear = function (t) { return B(t) + (68 < B(t) ? 1900 : 2e3) }; var xt, Ft = Qt("FullYear", !0); function Qt(t, e) { return function (i) { return null != i ? (wt(this, t, i), n.updateOffset(this, e), this) : Gt(this, t) } } function Gt(t, e) { return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN } function wt(t, e, n) { t.isValid() && !isNaN(n) && ("FullYear" === e && vt(t.year()) && 1 === t.month() && 29 === t.date() ? t._d["set" + (t._isUTC ? "UTC" : "") + e](n, t.month(), Xt(n, t.month())) : t._d["set" + (t._isUTC ? "UTC" : "") + e](n)) } function Xt(t, e) { if (isNaN(t) || isNaN(e)) return NaN; var n = (e % 12 + 12) % 12; return t += (e - n) / 12, 1 == n ? vt(t) ? 29 : 28 : 31 - n % 7 % 2 } xt = Array.prototype.indexOf ? Array.prototype.indexOf : function (t) { var e; for (e = 0; e < this.length; ++e)if (this[e] === t) return e; return -1 }, O("M", ["MM", 2], "Mo", function () { return this.month() + 1 }), O("MMM", 0, 0, function (t) { return this.localeData().monthsShort(this, t) }), O("MMMM", 0, 0, function (t) { return this.localeData().months(this, t) }), D("month", "M"), T("month", 8), gt("M", J), gt("MM", J, M), gt("MMM", function (t, e) { return e.monthsShortRegex(t) }), gt("MMMM", function (t, e) { return e.monthsRegex(t) }), It(["M", "MM"], function (t, e) { e[dt] = B(t) - 1 }), It(["MMM", "MMMM"], function (t, e, n, i) { var o = n._locale.monthsParse(t, i, n._strict); null != o ? e[dt] = o : u(n).invalidMonth = t }); var St = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, kt = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), Dt = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"); function Zt(t, e) { var n; if (!t.isValid()) return t; if ("string" == typeof e) if (/^\d+$/.test(e)) e = B(e); else if (!r(e = t.localeData().monthsParse(e))) return t; return n = Math.min(t.date(), Xt(t.year(), e)), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, n), t } function Ut(t) { return null != t ? (Zt(this, t), n.updateOffset(this, !0), this) : Gt(this, "Month") } var Wt = rt, Tt = rt; function Nt() { function t(t, e) { return e.length - t.length } var e, n, i = [], o = [], a = []; for (e = 0; e < 12; e++)n = I([2e3, e]), i.push(this.monthsShort(n, "")), o.push(this.months(n, "")), a.push(this.months(n, "")), a.push(this.monthsShort(n, "")); for (i.sort(t), o.sort(t), a.sort(t), e = 0; e < 12; e++)i[e] = lt(i[e]), o[e] = lt(o[e]); for (e = 0; e < 24; e++)a[e] = lt(a[e]); this._monthsRegex = new RegExp("^(" + a.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + i.join("|") + ")", "i") } function Ht(t) { var e; if (t < 100 && 0 <= t) { var n = Array.prototype.slice.call(arguments); n[0] = t + 400, e = new Date(Date.UTC.apply(null, n)), isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t) } else e = new Date(Date.UTC.apply(null, arguments)); return e } function Et(t, e, n) { var i = 7 + e - n; return -(7 + Ht(t, 0, i).getUTCDay() - e) % 7 + i - 1 } function Rt(t, e, n, i, o) { var a, r, s = 1 + 7 * (e - 1) + (7 + n - i) % 7 + Et(t, i, o); return r = s <= 0 ? yt(a = t - 1) + s : s > yt(t) ? (a = t + 1, s - yt(t)) : (a = t, s), { year: a, dayOfYear: r } } function Yt(t, e, n) { var i, o, a = Et(t.year(), e, n), r = Math.floor((t.dayOfYear() - a - 1) / 7) + 1; return r < 1 ? i = r + Ot(o = t.year() - 1, e, n) : r > Ot(t.year(), e, n) ? (i = r - Ot(t.year(), e, n), o = t.year() + 1) : (o = t.year(), i = r), { week: i, year: o } } function Ot(t, e, n) { var i = Et(t, e, n), o = Et(t + 1, e, n); return (yt(t) - i + o) / 7 } function _t(t, e) { return t.slice(e, 7).concat(t.slice(0, e)) } O("w", ["ww", 2], "wo", "week"), O("W", ["WW", 2], "Wo", "isoWeek"), D("week", "w"), D("isoWeek", "W"), T("week", 5), T("isoWeek", 5), gt("w", J), gt("ww", J, M), gt("W", J), gt("WW", J, M), ut(["w", "ww", "W", "WW"], function (t, e, n, i) { e[i.substr(0, 1)] = B(t) }), O("d", 0, "do", "day"), O("dd", 0, 0, function (t) { return this.localeData().weekdaysMin(this, t) }), O("ddd", 0, 0, function (t) { return this.localeData().weekdaysShort(this, t) }), O("dddd", 0, 0, function (t) { return this.localeData().weekdays(this, t) }), O("e", 0, 0, "weekday"), O("E", 0, 0, "isoWeekday"), D("day", "d"), D("weekday", "e"), D("isoWeekday", "E"), T("day", 11), T("weekday", 11), T("isoWeekday", 11), gt("d", J), gt("e", J), gt("E", J), gt("dd", function (t, e) { return e.weekdaysMinRegex(t) }), gt("ddd", function (t, e) { return e.weekdaysShortRegex(t) }), gt("dddd", function (t, e) { return e.weekdaysRegex(t) }), ut(["dd", "ddd", "dddd"], function (t, e, n, i) { var o = n._locale.weekdaysParse(t, i, n._strict); null != o ? e.d = o : u(n).invalidWeekday = t }), ut(["d", "e", "E"], function (t, e, n, i) { e[i] = B(t) }); var Vt = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), Lt = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), Mt = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"), zt = rt, Pt = rt, Kt = rt; function Jt() { function t(t, e) { return e.length - t.length } var e, n, i, o, a, r = [], s = [], g = [], l = []; for (e = 0; e < 7; e++)n = I([2e3, 1]).day(e), i = this.weekdaysMin(n, ""), o = this.weekdaysShort(n, ""), a = this.weekdays(n, ""), r.push(i), s.push(o), g.push(a), l.push(i), l.push(o), l.push(a); for (r.sort(t), s.sort(t), g.sort(t), l.sort(t), e = 0; e < 7; e++)s[e] = lt(s[e]), g[e] = lt(g[e]), l[e] = lt(l[e]); this._weekdaysRegex = new RegExp("^(" + l.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + g.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + s.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + r.join("|") + ")", "i") } function jt() { return this.hours() % 12 || 12 } function $t(t, e) { O(t, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), e) }) } function qt(t, e) { return e._meridiemParse } O("H", ["HH", 2], 0, "hour"), O("h", ["hh", 2], 0, jt), O("k", ["kk", 2], 0, function () { return this.hours() || 24 }), O("hmm", 0, 0, function () { return "" + jt.apply(this) + N(this.minutes(), 2) }), O("hmmss", 0, 0, function () { return "" + jt.apply(this) + N(this.minutes(), 2) + N(this.seconds(), 2) }), O("Hmm", 0, 0, function () { return "" + this.hours() + N(this.minutes(), 2) }), O("Hmmss", 0, 0, function () { return "" + this.hours() + N(this.minutes(), 2) + N(this.seconds(), 2) }), $t("a", !0), $t("A", !1), D("hour", "h"), T("hour", 13), gt("a", qt), gt("A", qt), gt("H", J), gt("h", J), gt("k", J), gt("HH", J, M), gt("hh", J, M), gt("kk", J, M), gt("hmm", j), gt("hmmss", $), gt("Hmm", j), gt("Hmmss", $), It(["H", "HH"], At), It(["k", "kk"], function (t, e, n) { var i = B(t); e[At] = 24 === i ? 0 : i }), It(["a", "A"], function (t, e, n) { n._isPm = n._locale.isPM(t), n._meridiem = t }), It(["h", "hh"], function (t, e, n) { e[At] = B(t), u(n).bigHour = !0 }), It("hmm", function (t, e, n) { var i = t.length - 2; e[At] = B(t.substr(0, i)), e[pt] = B(t.substr(i)), u(n).bigHour = !0 }), It("hmmss", function (t, e, n) { var i = t.length - 4, o = t.length - 2; e[At] = B(t.substr(0, i)), e[pt] = B(t.substr(i, 2)), e[mt] = B(t.substr(o)), u(n).bigHour = !0 }), It("Hmm", function (t, e, n) { var i = t.length - 2; e[At] = B(t.substr(0, i)), e[pt] = B(t.substr(i)) }), It("Hmmss", function (t, e, n) { var i = t.length - 4, o = t.length - 2; e[At] = B(t.substr(0, i)), e[pt] = B(t.substr(i, 2)), e[mt] = B(t.substr(o)) }); var te, ee = Qt("Hours", !0), ne = { calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, longDateFormat: { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, invalidDate: "Invalid date", ordinal: "%d", dayOfMonthOrdinalParse: /\d{1,2}/, relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, months: kt, monthsShort: Dt, week: { dow: 0, doy: 6 }, weekdays: Vt, weekdaysMin: Mt, weekdaysShort: Lt, meridiemParse: /[ap]\.?m?\.?/i }, ie = {}, oe = {}; function ae(t) { return t ? t.toLowerCase().replace("_", "-") : t } function re(t) { var e = null; if (!ie[t] && "undefined" != typeof module && module && module.exports) try { e = te._abbr, require("./locale/" + t), se(e) } catch (t) { } return ie[t] } function se(t, e) { var n; return t && ((n = a(e) ? le(t) : ge(t, e)) ? te = n : "undefined" != typeof console && console.warn && console.warn("Locale " + t + " not found. Did you forget to load it?")), te._abbr } function ge(t, e) { if (null === e) return delete ie[t], null; var n, i = ne; if (e.abbr = t, null != ie[t]) G("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), i = ie[t]._config; else if (null != e.parentLocale) if (null != ie[e.parentLocale]) i = ie[e.parentLocale]._config; else { if (null == (n = re(e.parentLocale))) return oe[e.parentLocale] || (oe[e.parentLocale] = []), oe[e.parentLocale].push({ name: t, config: e }), null; i = n._config } return ie[t] = new S(X(i, e)), oe[t] && oe[t].forEach(function (t) { ge(t.name, t.config) }), se(t), ie[t] } function le(t) { var e; if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t) return te; if (!i(t)) { if (e = re(t)) return e; t = [t] } return function (t) { for (var e, n, i, o, a = 0; a < t.length;) { for (e = (o = ae(t[a]).split("-")).length, n = (n = ae(t[a + 1])) ? n.split("-") : null; 0 < e;) { if (i = re(o.slice(0, e).join("-"))) return i; if (n && n.length >= e && y(o, n, !0) >= e - 1) break; e-- } a++ } return te }(t) } function ce(t) { var e, n = t._a; return n && -2 === u(t).overflow && (e = n[dt] < 0 || 11 < n[dt] ? dt : n[Ct] < 1 || n[Ct] > Xt(n[ht], n[dt]) ? Ct : n[At] < 0 || 24 < n[At] || 24 === n[At] && (0 !== n[pt] || 0 !== n[mt] || 0 !== n[ft]) ? At : n[pt] < 0 || 59 < n[pt] ? pt : n[mt] < 0 || 59 < n[mt] ? mt : n[ft] < 0 || 999 < n[ft] ? ft : -1, u(t)._overflowDayOfYear && (e < ht || Ct < e) && (e = Ct), u(t)._overflowWeeks && -1 === e && (e = bt), u(t)._overflowWeekday && -1 === e && (e = Bt), u(t).overflow = e), t } function Ie(t, e, n) { return null != t ? t : null != e ? e : n } function ue(t) { var e, i, o, a, r, s = []; if (!t._d) { var g, l; for (g = t, l = new Date(n.now()), o = g._useUTC ? [l.getUTCFullYear(), l.getUTCMonth(), l.getUTCDate()] : [l.getFullYear(), l.getMonth(), l.getDate()], t._w && null == t._a[Ct] && null == t._a[dt] && function (t) { var e, n, i, o, a, r, s, g; if (null != (e = t._w).GG || null != e.W || null != e.E) a = 1, r = 4, n = Ie(e.GG, t._a[ht], Yt(Qe(), 1, 4).year), i = Ie(e.W, 1), ((o = Ie(e.E, 1)) < 1 || 7 < o) && (g = !0); else { a = t._locale._week.dow, r = t._locale._week.doy; var l = Yt(Qe(), a, r); n = Ie(e.gg, t._a[ht], l.year), i = Ie(e.w, l.week), null != e.d ? ((o = e.d) < 0 || 6 < o) && (g = !0) : null != e.e ? (o = e.e + a, (e.e < 0 || 6 < e.e) && (g = !0)) : o = a } i < 1 || i > Ot(n, a, r) ? u(t)._overflowWeeks = !0 : null != g ? u(t)._overflowWeekday = !0 : (s = Rt(n, i, o, a, r), t._a[ht] = s.year, t._dayOfYear = s.dayOfYear) }(t), null != t._dayOfYear && (r = Ie(t._a[ht], o[ht]), (t._dayOfYear > yt(r) || 0 === t._dayOfYear) && (u(t)._overflowDayOfYear = !0), i = Ht(r, 0, t._dayOfYear), t._a[dt] = i.getUTCMonth(), t._a[Ct] = i.getUTCDate()), e = 0; e < 3 && null == t._a[e]; ++e)t._a[e] = s[e] = o[e]; for (; e < 7; e++)t._a[e] = s[e] = null == t._a[e] ? 2 === e ? 1 : 0 : t._a[e]; 24 === t._a[At] && 0 === t._a[pt] && 0 === t._a[mt] && 0 === t._a[ft] && (t._nextDay = !0, t._a[At] = 0), t._d = (t._useUTC ? Ht : function (t, e, n, i, o, a, r) { var s; return t < 100 && 0 <= t ? (s = new Date(t + 400, e, n, i, o, a, r), isFinite(s.getFullYear()) && s.setFullYear(t)) : s = new Date(t, e, n, i, o, a, r), s }).apply(null, s), a = t._useUTC ? t._d.getUTCDay() : t._d.getDay(), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[At] = 24), t._w && void 0 !== t._w.d && t._w.d !== a && (u(t).weekdayMismatch = !0) } } var he = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, de = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, Ce = /Z|[+-]\d\d(?::?\d\d)?/, Ae = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], pe = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], me = /^\/?Date\((\-?\d+)/i; function fe(t) { var e, n, i, o, a, r, s = t._i, g = he.exec(s) || de.exec(s); if (g) { for (u(t).iso = !0, e = 0, n = Ae.length; e < n; e++)if (Ae[e][1].exec(g[1])) { o = Ae[e][0], i = !1 !== Ae[e][2]; break } if (null == o) return void (t._isValid = !1); if (g[3]) { for (e = 0, n = pe.length; e < n; e++)if (pe[e][1].exec(g[3])) { a = (g[2] || " ") + pe[e][0]; break } if (null == a) return void (t._isValid = !1) } if (!i && null != a) return void (t._isValid = !1); if (g[4]) { if (!Ce.exec(g[4])) return void (t._isValid = !1); r = "Z" } t._f = o + (a || "") + (r || ""), ve(t) } else t._isValid = !1 } var be = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/, Be = { UT: 0, GMT: 0, EDT: -240, EST: -300, CDT: -300, CST: -360, MDT: -360, MST: -420, PDT: -420, PST: -480 }; function ye(t) { var e, n, i, o = be.exec(t._i.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "")); if (o) { var a = function (t, e, n, i, o, a) { var r, s = [(r = parseInt(t, 10), r <= 49 ? 2e3 + r : r <= 999 ? 1900 + r : r), Dt.indexOf(e), parseInt(n, 10), parseInt(i, 10), parseInt(o, 10)]; return a && s.push(parseInt(a, 10)), s }(o[4], o[3], o[2], o[5], o[6], o[7]); if (n = a, i = t, (e = o[1]) && Lt.indexOf(e) !== new Date(n[0], n[1], n[2]).getDay() && (u(i).weekdayMismatch = !0, !(i._isValid = !1))) return; t._a = a, t._tzm = function (t, e, n) { if (t) return Be[t]; if (e) return 0; var i = parseInt(n, 10), o = i % 100; return (i - o) / 100 * 60 + o }(o[8], o[9], o[10]), t._d = Ht.apply(null, t._a), t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), u(t).rfc2822 = !0 } else t._isValid = !1 } function ve(t) { if (t._f !== n.ISO_8601) if (t._f !== n.RFC_2822) { t._a = [], u(t).empty = !0; var e, i, o, a, r, s, g, c, I = "" + t._i, h = I.length, d = 0; for (o = V(t._f, t._locale).match(H) || [], e = 0; e < o.length; e++)a = o[e], (i = (I.match((b = t, l(st, f = a) ? st[f](b._strict, b._locale) : new RegExp(lt(f.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (t, e, n, i, o) { return e || n || i || o }))))) || [])[0]) && (0 < (r = I.substr(0, I.indexOf(i))).length && u(t).unusedInput.push(r), I = I.slice(I.indexOf(i) + i.length), d += i.length), Y[a] ? (i ? u(t).empty = !1 : u(t).unusedTokens.push(a), s = a, c = t, null != (g = i) && l(ct, s) && ct[s](g, c._a, c, s)) : t._strict && !i && u(t).unusedTokens.push(a); u(t).charsLeftOver = h - d, 0 < I.length && u(t).unusedInput.push(I), t._a[At] <= 12 && !0 === u(t).bigHour && 0 < t._a[At] && (u(t).bigHour = void 0), u(t).parsedDateParts = t._a.slice(0), u(t).meridiem = t._meridiem, t._a[At] = (C = t._locale, A = t._a[At], null == (p = t._meridiem) ? A : null != C.meridiemHour ? C.meridiemHour(A, p) : (null != C.isPM && ((m = C.isPM(p)) && A < 12 && (A += 12), m || 12 !== A || (A = 0)), A)), ue(t), ce(t) } else ye(t); else fe(t); var C, A, p, m, f, b } function xe(t) { var e, l, I, C, p = t._i, b = t._f; return t._locale = t._locale || le(t._l), null === p || void 0 === b && "" === p ? d({ nullInput: !0 }) : ("string" == typeof p && (t._i = p = t._locale.preparse(p)), f(p) ? new m(ce(p)) : (s(p) ? t._d = p : i(b) ? function (t) { var e, n, i, o, a; if (0 === t._f.length) return u(t).invalidFormat = !0, t._d = new Date(NaN); for (o = 0; o < t._f.length; o++)a = 0, e = A({}, t), null != t._useUTC && (e._useUTC = t._useUTC), e._f = t._f[o], ve(e), h(e) && (a += u(e).charsLeftOver, a += 10 * u(e).unusedTokens.length, u(e).score = a, (null == i || a < i) && (i = a, n = e)); c(t, n || e) }(t) : b ? ve(t) : a(l = (e = t)._i) ? e._d = new Date(n.now()) : s(l) ? e._d = new Date(l.valueOf()) : "string" == typeof l ? (I = e, null === (C = me.exec(I._i)) ? (fe(I), !1 === I._isValid && (delete I._isValid, ye(I), !1 === I._isValid && (delete I._isValid, n.createFromInputFallback(I)))) : I._d = new Date(+C[1])) : i(l) ? (e._a = g(l.slice(0), function (t) { return parseInt(t, 10) }), ue(e)) : o(l) ? function (t) { if (!t._d) { var e = U(t._i); t._a = g([e.year, e.month, e.day || e.date, e.hour, e.minute, e.second, e.millisecond], function (t) { return t && parseInt(t, 10) }), ue(t) } }(e) : r(l) ? e._d = new Date(l) : n.createFromInputFallback(e), h(t) || (t._d = null), t)) } function Fe(t, e, n, a, r) { var s, g = {}; return !0 !== n && !1 !== n || (a = n, n = void 0), (o(t) && function (t) { if (Object.getOwnPropertyNames) return 0 === Object.getOwnPropertyNames(t).length; var e; for (e in t) if (t.hasOwnProperty(e)) return !1; return !0 }(t) || i(t) && 0 === t.length) && (t = void 0), g._isAMomentObject = !0, g._useUTC = g._isUTC = r, g._l = n, g._i = t, g._f = e, g._strict = a, (s = new m(ce(xe(g))))._nextDay && (s.add(1, "d"), s._nextDay = void 0), s } function Qe(t, e, n, i) { return Fe(t, e, n, i, !1) } n.createFromInputFallback = x("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (t) { t._d = new Date(t._i + (t._useUTC ? " UTC" : "")) }), n.ISO_8601 = function () { }, n.RFC_2822 = function () { }; var Ge = x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var t = Qe.apply(null, arguments); return this.isValid() && t.isValid() ? t < this ? this : t : d() }), we = x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var t = Qe.apply(null, arguments); return this.isValid() && t.isValid() ? this < t ? this : t : d() }); function Xe(t, e) { var n, o; if (1 === e.length && i(e[0]) && (e = e[0]), !e.length) return Qe(); for (n = e[0], o = 1; o < e.length; ++o)e[o].isValid() && !e[o][t](n) || (n = e[o]); return n } var Se = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"]; function ke(t) { var e = U(t), n = e.year || 0, i = e.quarter || 0, o = e.month || 0, a = e.week || e.isoWeek || 0, r = e.day || 0, s = e.hour || 0, g = e.minute || 0, l = e.second || 0, c = e.millisecond || 0; this._isValid = function (t) { for (var e in t) if (-1 === xt.call(Se, e) || null != t[e] && isNaN(t[e])) return !1; for (var n = !1, i = 0; i < Se.length; ++i)if (t[Se[i]]) { if (n) return !1; parseFloat(t[Se[i]]) !== B(t[Se[i]]) && (n = !0) } return !0 }(e), this._milliseconds = +c + 1e3 * l + 6e4 * g + 1e3 * s * 60 * 60, this._days = +r + 7 * a, this._months = +o + 3 * i + 12 * n, this._data = {}, this._locale = le(), this._bubble() } function De(t) { return t instanceof ke } function Ze(t) { return t < 0 ? -1 * Math.round(-1 * t) : Math.round(t) } function Ue(t, e) { O(t, 0, 0, function () { var t = this.utcOffset(), n = "+"; return t < 0 && (t = -t, n = "-"), n + N(~~(t / 60), 2) + e + N(~~t % 60, 2) }) } Ue("Z", ":"), Ue("ZZ", ""), gt("Z", at), gt("ZZ", at), It(["Z", "ZZ"], function (t, e, n) { n._useUTC = !0, n._tzm = Te(at, t) }); var We = /([\+\-]|\d\d)/gi; function Te(t, e) { var n = (e || "").match(t); if (null === n) return null; var i = ((n[n.length - 1] || []) + "").match(We) || ["-", 0, 0], o = 60 * i[1] + B(i[2]); return 0 === o ? 0 : "+" === i[0] ? o : -o } function Ne(t, e) { var i, o; return e._isUTC ? (i = e.clone(), o = (f(t) || s(t) ? t.valueOf() : Qe(t).valueOf()) - i.valueOf(), i._d.setTime(i._d.valueOf() + o), n.updateOffset(i, !1), i) : Qe(t).local() } function He(t) { return 15 * -Math.round(t._d.getTimezoneOffset() / 15) } function Ee() { return !!this.isValid() && this._isUTC && 0 === this._offset } n.updateOffset = function () { }; var Re = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, Ye = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/; function Oe(t, e) { var n, i, o, a, s, g, c = t, I = null; return De(t) ? c = { ms: t._milliseconds, d: t._days, M: t._months } : r(t) ? (c = {}, e ? c[e] = t : c.milliseconds = t) : (I = Re.exec(t)) ? (n = "-" === I[1] ? -1 : 1, c = { y: 0, d: B(I[Ct]) * n, h: B(I[At]) * n, m: B(I[pt]) * n, s: B(I[mt]) * n, ms: B(Ze(1e3 * I[ft])) * n }) : (I = Ye.exec(t)) ? (n = "-" === I[1] ? -1 : 1, c = { y: _e(I[2], n), M: _e(I[3], n), w: _e(I[4], n), d: _e(I[5], n), h: _e(I[6], n), m: _e(I[7], n), s: _e(I[8], n) }) : null == c ? c = {} : "object" == typeof c && ("from" in c || "to" in c) && (a = Qe(c.from), s = Qe(c.to), o = a.isValid() && s.isValid() ? (s = Ne(s, a), a.isBefore(s) ? g = Ve(a, s) : ((g = Ve(s, a)).milliseconds = -g.milliseconds, g.months = -g.months), g) : { milliseconds: 0, months: 0 }, (c = {}).ms = o.milliseconds, c.M = o.months), i = new ke(c), De(t) && l(t, "_locale") && (i._locale = t._locale), i } function _e(t, e) { var n = t && parseFloat(t.replace(",", ".")); return (isNaN(n) ? 0 : n) * e } function Ve(t, e) { var n = {}; return n.months = e.month() - t.month() + 12 * (e.year() - t.year()), t.clone().add(n.months, "M").isAfter(e) && --n.months, n.milliseconds = +e - +t.clone().add(n.months, "M"), n } function Le(t, e) { return function (n, i) { var o; return null === i || isNaN(+i) || (G(e, "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), o = n, n = i, i = o), Me(this, Oe(n = "string" == typeof n ? +n : n, i), t), this } } function Me(t, e, i, o) { var a = e._milliseconds, r = Ze(e._days), s = Ze(e._months); t.isValid() && (o = null == o || o, s && Zt(t, Gt(t, "Month") + s * i), r && wt(t, "Date", Gt(t, "Date") + r * i), a && t._d.setTime(t._d.valueOf() + a * i), o && n.updateOffset(t, r || s)) } Oe.fn = ke.prototype, Oe.invalid = function () { return Oe(NaN) }; var ze = Le(1, "add"), Pe = Le(-1, "subtract"); function Ke(t, e) { var n = 12 * (e.year() - t.year()) + (e.month() - t.month()), i = t.clone().add(n, "months"); return -(n + (e - i < 0 ? (e - i) / (i - t.clone().add(n - 1, "months")) : (e - i) / (t.clone().add(1 + n, "months") - i))) || 0 } function Je(t) { var e; return void 0 === t ? this._locale._abbr : (null != (e = le(t)) && (this._locale = e), this) } n.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", n.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; var je = x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (t) { return void 0 === t ? this.localeData() : this.locale(t) }); function $e() { return this._locale } var qe = 126227808e5; function tn(t, e) { return (t % e + e) % e } function en(t, e, n) { return t < 100 && 0 <= t ? new Date(t + 400, e, n) - qe : new Date(t, e, n).valueOf() } function nn(t, e, n) { return t < 100 && 0 <= t ? Date.UTC(t + 400, e, n) - qe : Date.UTC(t, e, n) } function on(t, e) { O(0, [t, t.length], 0, e) } function an(t, e, n, i, o) { var a; return null == t ? Yt(this, i, o).year : ((a = Ot(t, i, o)) < e && (e = a), function (t, e, n, i, o) { var a = Rt(t, e, n, i, o), r = Ht(a.year, 0, a.dayOfYear); return this.year(r.getUTCFullYear()), this.month(r.getUTCMonth()), this.date(r.getUTCDate()), this }.call(this, t, e, n, i, o)) } O(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), O(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }), on("gggg", "weekYear"), on("ggggg", "weekYear"), on("GGGG", "isoWeekYear"), on("GGGGG", "isoWeekYear"), D("weekYear", "gg"), D("isoWeekYear", "GG"), T("weekYear", 1), T("isoWeekYear", 1), gt("G", it), gt("g", it), gt("GG", J, M), gt("gg", J, M), gt("GGGG", tt, P), gt("gggg", tt, P), gt("GGGGG", et, K), gt("ggggg", et, K), ut(["gggg", "ggggg", "GGGG", "GGGGG"], function (t, e, n, i) { e[i.substr(0, 2)] = B(t) }), ut(["gg", "GG"], function (t, e, i, o) { e[o] = n.parseTwoDigitYear(t) }), O("Q", 0, "Qo", "quarter"), D("quarter", "Q"), T("quarter", 7), gt("Q", L), It("Q", function (t, e) { e[dt] = 3 * (B(t) - 1) }), O("D", ["DD", 2], "Do", "date"), D("date", "D"), T("date", 9), gt("D", J), gt("DD", J, M), gt("Do", function (t, e) { return t ? e._dayOfMonthOrdinalParse || e._ordinalParse : e._dayOfMonthOrdinalParseLenient }), It(["D", "DD"], Ct), It("Do", function (t, e) { e[Ct] = B(t.match(J)[0]) }); var rn = Qt("Date", !0); O("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), D("dayOfYear", "DDD"), T("dayOfYear", 4), gt("DDD", q), gt("DDDD", z), It(["DDD", "DDDD"], function (t, e, n) { n._dayOfYear = B(t) }), O("m", ["mm", 2], 0, "minute"), D("minute", "m"), T("minute", 14), gt("m", J), gt("mm", J, M), It(["m", "mm"], pt); var sn = Qt("Minutes", !1); O("s", ["ss", 2], 0, "second"), D("second", "s"), T("second", 15), gt("s", J), gt("ss", J, M), It(["s", "ss"], mt); var gn, ln = Qt("Seconds", !1); for (O("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), O(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), O(0, ["SSS", 3], 0, "millisecond"), O(0, ["SSSS", 4], 0, function () { return 10 * this.millisecond() }), O(0, ["SSSSS", 5], 0, function () { return 100 * this.millisecond() }), O(0, ["SSSSSS", 6], 0, function () { return 1e3 * this.millisecond() }), O(0, ["SSSSSSS", 7], 0, function () { return 1e4 * this.millisecond() }), O(0, ["SSSSSSSS", 8], 0, function () { return 1e5 * this.millisecond() }), O(0, ["SSSSSSSSS", 9], 0, function () { return 1e6 * this.millisecond() }), D("millisecond", "ms"), T("millisecond", 16), gt("S", q, L), gt("SS", q, M), gt("SSS", q, z), gn = "SSSS"; gn.length <= 9; gn += "S")gt(gn, nt); function cn(t, e) { e[ft] = B(1e3 * ("0." + t)) } for (gn = "S"; gn.length <= 9; gn += "S")It(gn, cn); var In = Qt("Milliseconds", !1); O("z", 0, 0, "zoneAbbr"), O("zz", 0, 0, "zoneName"); var un = m.prototype; function hn(t) { return t } un.add = ze, un.calendar = function (t, e) { var i = t || Qe(), o = Ne(i, this).startOf("day"), a = n.calendarFormat(this, o) || "sameElse", r = e && (w(e[a]) ? e[a].call(this, i) : e[a]); return this.format(r || this.localeData().calendar(a, this, Qe(i))) }, un.clone = function () { return new m(this) }, un.diff = function (t, e, n) { var i, o, a; if (!this.isValid()) return NaN; if (!(i = Ne(t, this)).isValid()) return NaN; switch (o = 6e4 * (i.utcOffset() - this.utcOffset()), e = Z(e)) { case "year": a = Ke(this, i) / 12; break; case "month": a = Ke(this, i); break; case "quarter": a = Ke(this, i) / 3; break; case "second": a = (this - i) / 1e3; break; case "minute": a = (this - i) / 6e4; break; case "hour": a = (this - i) / 36e5; break; case "day": a = (this - i - o) / 864e5; break; case "week": a = (this - i - o) / 6048e5; break; default: a = this - i }return n ? a : b(a) }, un.endOf = function (t) { var e; if (void 0 === (t = Z(t)) || "millisecond" === t || !this.isValid()) return this; var i = this._isUTC ? nn : en; switch (t) { case "year": e = i(this.year() + 1, 0, 1) - 1; break; case "quarter": e = i(this.year(), this.month() - this.month() % 3 + 3, 1) - 1; break; case "month": e = i(this.year(), this.month() + 1, 1) - 1; break; case "week": e = i(this.year(), this.month(), this.date() - this.weekday() + 7) - 1; break; case "isoWeek": e = i(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1; break; case "day": case "date": e = i(this.year(), this.month(), this.date() + 1) - 1; break; case "hour": e = this._d.valueOf(), e += 36e5 - tn(e + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5) - 1; break; case "minute": e = this._d.valueOf(), e += 6e4 - tn(e, 6e4) - 1; break; case "second": e = this._d.valueOf(), e += 1e3 - tn(e, 1e3) - 1 }return this._d.setTime(e), n.updateOffset(this, !0), this }, un.format = function (t) { t || (t = this.isUtc() ? n.defaultFormatUtc : n.defaultFormat); var e = _(this, t); return this.localeData().postformat(e) }, un.from = function (t, e) { return this.isValid() && (f(t) && t.isValid() || Qe(t).isValid()) ? Oe({ to: this, from: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() }, un.fromNow = function (t) { return this.from(Qe(), t) }, un.to = function (t, e) { return this.isValid() && (f(t) && t.isValid() || Qe(t).isValid()) ? Oe({ from: this, to: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() }, un.toNow = function (t) { return this.to(Qe(), t) }, un.get = function (t) { return w(this[t = Z(t)]) ? this[t]() : this }, un.invalidAt = function () { return u(this).overflow }, un.isAfter = function (t, e) { var n = f(t) ? t : Qe(t); return !(!this.isValid() || !n.isValid()) && ("millisecond" === (e = Z(e) || "millisecond") ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(e).valueOf()) }, un.isBefore = function (t, e) { var n = f(t) ? t : Qe(t); return !(!this.isValid() || !n.isValid()) && ("millisecond" === (e = Z(e) || "millisecond") ? this.valueOf() < n.valueOf() : this.clone().endOf(e).valueOf() < n.valueOf()) }, un.isBetween = function (t, e, n, i) { var o = f(t) ? t : Qe(t), a = f(e) ? e : Qe(e); return !!(this.isValid() && o.isValid() && a.isValid()) && ("(" === (i = i || "()")[0] ? this.isAfter(o, n) : !this.isBefore(o, n)) && (")" === i[1] ? this.isBefore(a, n) : !this.isAfter(a, n)) }, un.isSame = function (t, e) { var n, i = f(t) ? t : Qe(t); return !(!this.isValid() || !i.isValid()) && ("millisecond" === (e = Z(e) || "millisecond") ? this.valueOf() === i.valueOf() : (n = i.valueOf(), this.clone().startOf(e).valueOf() <= n && n <= this.clone().endOf(e).valueOf())) }, un.isSameOrAfter = function (t, e) { return this.isSame(t, e) || this.isAfter(t, e) }, un.isSameOrBefore = function (t, e) { return this.isSame(t, e) || this.isBefore(t, e) }, un.isValid = function () { return h(this) }, un.lang = je, un.locale = Je, un.localeData = $e, un.max = we, un.min = Ge, un.parsingFlags = function () { return c({}, u(this)) }, un.set = function (t, e) { if ("object" == typeof t) for (var n = function (t) { var e = []; for (var n in t) e.push({ unit: n, priority: W[n] }); return e.sort(function (t, e) { return t.priority - e.priority }), e }(t = U(t)), i = 0; i < n.length; i++)this[n[i].unit](t[n[i].unit]); else if (w(this[t = Z(t)])) return this[t](e); return this }, un.startOf = function (t) { var e; if (void 0 === (t = Z(t)) || "millisecond" === t || !this.isValid()) return this; var i = this._isUTC ? nn : en; switch (t) { case "year": e = i(this.year(), 0, 1); break; case "quarter": e = i(this.year(), this.month() - this.month() % 3, 1); break; case "month": e = i(this.year(), this.month(), 1); break; case "week": e = i(this.year(), this.month(), this.date() - this.weekday()); break; case "isoWeek": e = i(this.year(), this.month(), this.date() - (this.isoWeekday() - 1)); break; case "day": case "date": e = i(this.year(), this.month(), this.date()); break; case "hour": e = this._d.valueOf(), e -= tn(e + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5); break; case "minute": e = this._d.valueOf(), e -= tn(e, 6e4); break; case "second": e = this._d.valueOf(), e -= tn(e, 1e3) }return this._d.setTime(e), n.updateOffset(this, !0), this }, un.subtract = Pe, un.toArray = function () { return [this.year(), this.month(), this.date(), this.hour(), this.minute(), this.second(), this.millisecond()] }, un.toObject = function () { return { years: this.year(), months: this.month(), date: this.date(), hours: this.hours(), minutes: this.minutes(), seconds: this.seconds(), milliseconds: this.milliseconds() } }, un.toDate = function () { return new Date(this.valueOf()) }, un.toISOString = function (t) { if (!this.isValid()) return null; var e = !0 !== t, n = e ? this.clone().utc() : this; return n.year() < 0 || 9999 < n.year() ? _(n, e ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : w(Date.prototype.toISOString) ? e ? this.toDate().toISOString() : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", _(n, "Z")) : _(n, e ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ") }, un.inspect = function () { if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)"; var t = "moment", e = ""; this.isLocal() || (t = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", e = "Z"); var n = "[" + t + '("]', i = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", o = e + '[")]'; return this.format(n + i + "-MM-DD[T]HH:mm:ss.SSS" + o) }, un.toJSON = function () { return this.isValid() ? this.toISOString() : null }, un.toString = function () { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") }, un.unix = function () { return Math.floor(this.valueOf() / 1e3) }, un.valueOf = function () { return this._d.valueOf() - 6e4 * (this._offset || 0) }, un.creationData = function () { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } }, un.year = Ft, un.isLeapYear = function () { return vt(this.year()) }, un.weekYear = function (t) { return an.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy) }, un.isoWeekYear = function (t) { return an.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4) }, un.quarter = un.quarters = function (t) { return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + this.month() % 3) }, un.month = Ut, un.daysInMonth = function () { return Xt(this.year(), this.month()) }, un.week = un.weeks = function (t) { var e = this.localeData().week(this); return null == t ? e : this.add(7 * (t - e), "d") }, un.isoWeek = un.isoWeeks = function (t) { var e = Yt(this, 1, 4).week; return null == t ? e : this.add(7 * (t - e), "d") }, un.weeksInYear = function () { var t = this.localeData()._week; return Ot(this.year(), t.dow, t.doy) }, un.isoWeeksInYear = function () { return Ot(this.year(), 1, 4) }, un.date = rn, un.day = un.days = function (t) { if (!this.isValid()) return null != t ? this : NaN; var e, n, i = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != t ? (e = t, n = this.localeData(), t = "string" != typeof e ? e : isNaN(e) ? "number" == typeof (e = n.weekdaysParse(e)) ? e : null : parseInt(e, 10), this.add(t - i, "d")) : i }, un.weekday = function (t) { if (!this.isValid()) return null != t ? this : NaN; var e = (this.day() + 7 - this.localeData()._week.dow) % 7; return null == t ? e : this.add(t - e, "d") }, un.isoWeekday = function (t) { if (!this.isValid()) return null != t ? this : NaN; if (null == t) return this.day() || 7; var e, n, i = (e = t, n = this.localeData(), "string" == typeof e ? n.weekdaysParse(e) % 7 || 7 : isNaN(e) ? null : e); return this.day(this.day() % 7 ? i : i - 7) }, un.dayOfYear = function (t) { var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return null == t ? e : this.add(t - e, "d") }, un.hour = un.hours = ee, un.minute = un.minutes = sn, un.second = un.seconds = ln, un.millisecond = un.milliseconds = In, un.utcOffset = function (t, e, i) { var o, a = this._offset || 0; if (!this.isValid()) return null != t ? this : NaN; if (null == t) return this._isUTC ? a : He(this); if ("string" == typeof t) { if (null === (t = Te(at, t))) return this } else Math.abs(t) < 16 && !i && (t *= 60); return !this._isUTC && e && (o = He(this)), this._offset = t, this._isUTC = !0, null != o && this.add(o, "m"), a !== t && (!e || this._changeInProgress ? Me(this, Oe(t - a, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, n.updateOffset(this, !0), this._changeInProgress = null)), this }, un.utc = function (t) { return this.utcOffset(0, t) }, un.local = function (t) { return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(He(this), "m")), this }, un.parseZone = function () { if (null != this._tzm) this.utcOffset(this._tzm, !1, !0); else if ("string" == typeof this._i) { var t = Te(ot, this._i); null != t ? this.utcOffset(t) : this.utcOffset(0, !0) } return this }, un.hasAlignedHourOffset = function (t) { return !!this.isValid() && (t = t ? Qe(t).utcOffset() : 0, (this.utcOffset() - t) % 60 == 0) }, un.isDST = function () { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() }, un.isLocal = function () { return !!this.isValid() && !this._isUTC }, un.isUtcOffset = function () { return !!this.isValid() && this._isUTC }, un.isUtc = Ee, un.isUTC = Ee, un.zoneAbbr = function () { return this._isUTC ? "UTC" : "" }, un.zoneName = function () { return this._isUTC ? "Coordinated Universal Time" : "" }, un.dates = x("dates accessor is deprecated. Use date instead.", rn), un.months = x("months accessor is deprecated. Use month instead", Ut), un.years = x("years accessor is deprecated. Use year instead", Ft), un.zone = x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function (t, e) { return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset() }), un.isDSTShifted = x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function () { if (!a(this._isDSTShifted)) return this._isDSTShifted; var t = {}; if (A(t, this), (t = xe(t))._a) { var e = t._isUTC ? I(t._a) : Qe(t._a); this._isDSTShifted = this.isValid() && 0 < y(t._a, e.toArray()) } else this._isDSTShifted = !1; return this._isDSTShifted }); var dn = S.prototype; function Cn(t, e, n, i) { var o = le(), a = I().set(i, e); return o[n](a, t) } function An(t, e, n) { if (r(t) && (e = t, t = void 0), t = t || "", null != e) return Cn(t, e, n, "month"); var i, o = []; for (i = 0; i < 12; i++)o[i] = Cn(t, i, n, "month"); return o } function pn(t, e, n, i) { "boolean" == typeof t ? r(e) && (n = e, e = void 0) : (e = t, t = !1, r(n = e) && (n = e, e = void 0)), e = e || ""; var o, a = le(), s = t ? a._week.dow : 0; if (null != n) return Cn(e, (n + s) % 7, i, "day"); var g = []; for (o = 0; o < 7; o++)g[o] = Cn(e, (o + s) % 7, i, "day"); return g } dn.calendar = function (t, e, n) { var i = this._calendar[t] || this._calendar.sameElse; return w(i) ? i.call(e, n) : i }, dn.longDateFormat = function (t) { var e = this._longDateFormat[t], n = this._longDateFormat[t.toUpperCase()]; return e || !n ? e : (this._longDateFormat[t] = n.replace(/MMMM|MM|DD|dddd/g, function (t) { return t.slice(1) }), this._longDateFormat[t]) }, dn.invalidDate = function () { return this._invalidDate }, dn.ordinal = function (t) { return this._ordinal.replace("%d", t) }, dn.preparse = hn, dn.postformat = hn, dn.relativeTime = function (t, e, n, i) { var o = this._relativeTime[n]; return w(o) ? o(t, e, n, i) : o.replace(/%d/i, t) }, dn.pastFuture = function (t, e) { var n = this._relativeTime[0 < t ? "future" : "past"]; return w(n) ? n(e) : n.replace(/%s/i, e) }, dn.set = function (t) { var e, n; for (n in t) w(e = t[n]) ? this[n] = e : this["_" + n] = e; this._config = t, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source) }, dn.months = function (t, e) { return t ? i(this._months) ? this._months[t.month()] : this._months[(this._months.isFormat || St).test(e) ? "format" : "standalone"][t.month()] : i(this._months) ? this._months : this._months.standalone }, dn.monthsShort = function (t, e) { return t ? i(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[St.test(e) ? "format" : "standalone"][t.month()] : i(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone }, dn.monthsParse = function (t, e, n) { var i, o, a; if (this._monthsParseExact) return function (t, e, n) { var i, o, a, r = t.toLocaleLowerCase(); if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], i = 0; i < 12; ++i)a = I([2e3, i]), this._shortMonthsParse[i] = this.monthsShort(a, "").toLocaleLowerCase(), this._longMonthsParse[i] = this.months(a, "").toLocaleLowerCase(); return n ? "MMM" === e ? -1 !== (o = xt.call(this._shortMonthsParse, r)) ? o : null : -1 !== (o = xt.call(this._longMonthsParse, r)) ? o : null : "MMM" === e ? -1 !== (o = xt.call(this._shortMonthsParse, r)) ? o : -1 !== (o = xt.call(this._longMonthsParse, r)) ? o : null : -1 !== (o = xt.call(this._longMonthsParse, r)) ? o : -1 !== (o = xt.call(this._shortMonthsParse, r)) ? o : null }.call(this, t, e, n); for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; i < 12; i++) { if (o = I([2e3, i]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(o, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(o, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (a = "^" + this.months(o, "") + "|^" + this.monthsShort(o, ""), this._monthsParse[i] = new RegExp(a.replace(".", ""), "i")), n && "MMMM" === e && this._longMonthsParse[i].test(t)) return i; if (n && "MMM" === e && this._shortMonthsParse[i].test(t)) return i; if (!n && this._monthsParse[i].test(t)) return i } }, dn.monthsRegex = function (t) { return this._monthsParseExact ? (l(this, "_monthsRegex") || Nt.call(this), t ? this._monthsStrictRegex : this._monthsRegex) : (l(this, "_monthsRegex") || (this._monthsRegex = Tt), this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex) }, dn.monthsShortRegex = function (t) { return this._monthsParseExact ? (l(this, "_monthsRegex") || Nt.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex) : (l(this, "_monthsShortRegex") || (this._monthsShortRegex = Wt), this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex) }, dn.week = function (t) { return Yt(t, this._week.dow, this._week.doy).week }, dn.firstDayOfYear = function () { return this._week.doy }, dn.firstDayOfWeek = function () { return this._week.dow }, dn.weekdays = function (t, e) { var n = i(this._weekdays) ? this._weekdays : this._weekdays[t && !0 !== t && this._weekdays.isFormat.test(e) ? "format" : "standalone"]; return !0 === t ? _t(n, this._week.dow) : t ? n[t.day()] : n }, dn.weekdaysMin = function (t) { return !0 === t ? _t(this._weekdaysMin, this._week.dow) : t ? this._weekdaysMin[t.day()] : this._weekdaysMin }, dn.weekdaysShort = function (t) { return !0 === t ? _t(this._weekdaysShort, this._week.dow) : t ? this._weekdaysShort[t.day()] : this._weekdaysShort }, dn.weekdaysParse = function (t, e, n) { var i, o, a; if (this._weekdaysParseExact) return function (t, e, n) { var i, o, a, r = t.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], i = 0; i < 7; ++i)a = I([2e3, 1]).day(i), this._minWeekdaysParse[i] = this.weekdaysMin(a, "").toLocaleLowerCase(), this._shortWeekdaysParse[i] = this.weekdaysShort(a, "").toLocaleLowerCase(), this._weekdaysParse[i] = this.weekdays(a, "").toLocaleLowerCase(); return n ? "dddd" === e ? -1 !== (o = xt.call(this._weekdaysParse, r)) ? o : null : "ddd" === e ? -1 !== (o = xt.call(this._shortWeekdaysParse, r)) ? o : null : -1 !== (o = xt.call(this._minWeekdaysParse, r)) ? o : null : "dddd" === e ? -1 !== (o = xt.call(this._weekdaysParse, r)) ? o : -1 !== (o = xt.call(this._shortWeekdaysParse, r)) ? o : -1 !== (o = xt.call(this._minWeekdaysParse, r)) ? o : null : "ddd" === e ? -1 !== (o = xt.call(this._shortWeekdaysParse, r)) ? o : -1 !== (o = xt.call(this._weekdaysParse, r)) ? o : -1 !== (o = xt.call(this._minWeekdaysParse, r)) ? o : null : -1 !== (o = xt.call(this._minWeekdaysParse, r)) ? o : -1 !== (o = xt.call(this._weekdaysParse, r)) ? o : -1 !== (o = xt.call(this._shortWeekdaysParse, r)) ? o : null }.call(this, t, e, n); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), i = 0; i < 7; i++) { if (o = I([2e3, 1]).day(i), n && !this._fullWeekdaysParse[i] && (this._fullWeekdaysParse[i] = new RegExp("^" + this.weekdays(o, "").replace(".", "\\.?") + "$", "i"), this._shortWeekdaysParse[i] = new RegExp("^" + this.weekdaysShort(o, "").replace(".", "\\.?") + "$", "i"), this._minWeekdaysParse[i] = new RegExp("^" + this.weekdaysMin(o, "").replace(".", "\\.?") + "$", "i")), this._weekdaysParse[i] || (a = "^" + this.weekdays(o, "") + "|^" + this.weekdaysShort(o, "") + "|^" + this.weekdaysMin(o, ""), this._weekdaysParse[i] = new RegExp(a.replace(".", ""), "i")), n && "dddd" === e && this._fullWeekdaysParse[i].test(t)) return i; if (n && "ddd" === e && this._shortWeekdaysParse[i].test(t)) return i; if (n && "dd" === e && this._minWeekdaysParse[i].test(t)) return i; if (!n && this._weekdaysParse[i].test(t)) return i } }, dn.weekdaysRegex = function (t) { return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || Jt.call(this), t ? this._weekdaysStrictRegex : this._weekdaysRegex) : (l(this, "_weekdaysRegex") || (this._weekdaysRegex = zt), this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex) }, dn.weekdaysShortRegex = function (t) { return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || Jt.call(this), t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (l(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = Pt), this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) }, dn.weekdaysMinRegex = function (t) { return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || Jt.call(this), t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (l(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Kt), this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) }, dn.isPM = function (t) { return "p" === (t + "").toLowerCase().charAt(0) }, dn.meridiem = function (t, e, n) { return 11 < t ? n ? "pm" : "PM" : n ? "am" : "AM" }, se("en", { dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (t) { var e = t % 10; return t + (1 === B(t % 100 / 10) ? "th" : 1 == e ? "st" : 2 == e ? "nd" : 3 == e ? "rd" : "th") } }), n.lang = x("moment.lang is deprecated. Use moment.locale instead.", se), n.langData = x("moment.langData is deprecated. Use moment.localeData instead.", le); var mn = Math.abs; function fn(t, e, n, i) { var o = Oe(e, n); return t._milliseconds += i * o._milliseconds, t._days += i * o._days, t._months += i * o._months, t._bubble() } function bn(t) { return t < 0 ? Math.floor(t) : Math.ceil(t) } function Bn(t) { return 4800 * t / 146097 } function yn(t) { return 146097 * t / 4800 } function vn(t) { return function () { return this.as(t) } } var xn = vn("ms"), Fn = vn("s"), Qn = vn("m"), Gn = vn("h"), wn = vn("d"), Xn = vn("w"), Sn = vn("M"), kn = vn("Q"), Dn = vn("y"); function Zn(t) { return function () { return this.isValid() ? this._data[t] : NaN } } var Un = Zn("milliseconds"), Wn = Zn("seconds"), Tn = Zn("minutes"), Nn = Zn("hours"), Hn = Zn("days"), En = Zn("months"), Rn = Zn("years"), Yn = Math.round, On = { ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11 }, _n = Math.abs; function Vn(t) { return (0 < t) - (t < 0) || +t } function Ln() { if (!this.isValid()) return this.localeData().invalidDate(); var t, e, n = _n(this._milliseconds) / 1e3, i = _n(this._days), o = _n(this._months); e = b((t = b(n / 60)) / 60), n %= 60, t %= 60; var a = b(o / 12), r = o %= 12, s = i, g = e, l = t, c = n ? n.toFixed(3).replace(/\.?0+$/, "") : "", I = this.asSeconds(); if (!I) return "P0D"; var u = I < 0 ? "-" : "", h = Vn(this._months) !== Vn(I) ? "-" : "", d = Vn(this._days) !== Vn(I) ? "-" : "", C = Vn(this._milliseconds) !== Vn(I) ? "-" : ""; return u + "P" + (a ? h + a + "Y" : "") + (r ? h + r + "M" : "") + (s ? d + s + "D" : "") + (g || l || c ? "T" : "") + (g ? C + g + "H" : "") + (l ? C + l + "M" : "") + (c ? C + c + "S" : "") } var Mn = ke.prototype; return Mn.isValid = function () { return this._isValid }, Mn.abs = function () { var t = this._data; return this._milliseconds = mn(this._milliseconds), this._days = mn(this._days), this._months = mn(this._months), t.milliseconds = mn(t.milliseconds), t.seconds = mn(t.seconds), t.minutes = mn(t.minutes), t.hours = mn(t.hours), t.months = mn(t.months), t.years = mn(t.years), this }, Mn.add = function (t, e) { return fn(this, t, e, 1) }, Mn.subtract = function (t, e) { return fn(this, t, e, -1) }, Mn.as = function (t) { if (!this.isValid()) return NaN; var e, n, i = this._milliseconds; if ("month" === (t = Z(t)) || "quarter" === t || "year" === t) switch (e = this._days + i / 864e5, n = this._months + Bn(e), t) { case "month": return n; case "quarter": return n / 3; case "year": return n / 12 } else switch (e = this._days + Math.round(yn(this._months)), t) { case "week": return e / 7 + i / 6048e5; case "day": return e + i / 864e5; case "hour": return 24 * e + i / 36e5; case "minute": return 1440 * e + i / 6e4; case "second": return 86400 * e + i / 1e3; case "millisecond": return Math.floor(864e5 * e) + i; default: throw new Error("Unknown unit " + t) } }, Mn.asMilliseconds = xn, Mn.asSeconds = Fn, Mn.asMinutes = Qn, Mn.asHours = Gn, Mn.asDays = wn, Mn.asWeeks = Xn, Mn.asMonths = Sn, Mn.asQuarters = kn, Mn.asYears = Dn, Mn.valueOf = function () { return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * B(this._months / 12) : NaN }, Mn._bubble = function () { var t, e, n, i, o, a = this._milliseconds, r = this._days, s = this._months, g = this._data; return 0 <= a && 0 <= r && 0 <= s || a <= 0 && r <= 0 && s <= 0 || (a += 864e5 * bn(yn(s) + r), s = r = 0), g.milliseconds = a % 1e3, t = b(a / 1e3), g.seconds = t % 60, e = b(t / 60), g.minutes = e % 60, n = b(e / 60), g.hours = n % 24, s += o = b(Bn(r += b(n / 24))), r -= bn(yn(o)), i = b(s / 12), s %= 12, g.days = r, g.months = s, g.years = i, this }, Mn.clone = function () { return Oe(this) }, Mn.get = function (t) { return t = Z(t), this.isValid() ? this[t + "s"]() : NaN }, Mn.milliseconds = Un, Mn.seconds = Wn, Mn.minutes = Tn, Mn.hours = Nn, Mn.days = Hn, Mn.weeks = function () { return b(this.days() / 7) }, Mn.months = En, Mn.years = Rn, Mn.humanize = function (t) { if (!this.isValid()) return this.localeData().invalidDate(); var e, n, i, o, a, r, s, g, l, c, I = this.localeData(), u = (e = !t, n = I, i = Oe(this).abs(), o = Yn(i.as("s")), a = Yn(i.as("m")), r = Yn(i.as("h")), s = Yn(i.as("d")), g = Yn(i.as("M")), l = Yn(i.as("y")), (c = o <= On.ss && ["s", o] || o < On.s && ["ss", o] || a <= 1 && ["m"] || a < On.m && ["mm", a] || r <= 1 && ["h"] || r < On.h && ["hh", r] || s <= 1 && ["d"] || s < On.d && ["dd", s] || g <= 1 && ["M"] || g < On.M && ["MM", g] || l <= 1 && ["y"] || ["yy", l])[2] = e, c[3] = 0 < +this, c[4] = n, function (t, e, n, i, o) { return o.relativeTime(e || 1, !!n, t, i) }.apply(null, c)); return t && (u = I.pastFuture(+this, u)), I.postformat(u) }, Mn.toISOString = Ln, Mn.toString = Ln, Mn.toJSON = Ln, Mn.locale = Je, Mn.localeData = $e, Mn.toIsoString = x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Ln), Mn.lang = je, O("X", 0, 0, "unix"), O("x", 0, 0, "valueOf"), gt("x", it), gt("X", /[+-]?\d+(\.\d{1,3})?/), It("X", function (t, e, n) { n._d = new Date(1e3 * parseFloat(t, 10)) }), It("x", function (t, e, n) { n._d = new Date(B(t)) }), n.version = "2.24.0", t = Qe, n.fn = un, n.min = function () { return Xe("isBefore", [].slice.call(arguments, 0)) }, n.max = function () { return Xe("isAfter", [].slice.call(arguments, 0)) }, n.now = function () { return Date.now ? Date.now() : +new Date }, n.utc = I, n.unix = function (t) { return Qe(1e3 * t) }, n.months = function (t, e) { return An(t, e, "months") }, n.isDate = s, n.locale = se, n.invalid = d, n.duration = Oe, n.isMoment = f, n.weekdays = function (t, e, n) { return pn(t, e, n, "weekdays") }, n.parseZone = function () { return Qe.apply(null, arguments).parseZone() }, n.localeData = le, n.isDuration = De, n.monthsShort = function (t, e) { return An(t, e, "monthsShort") }, n.weekdaysMin = function (t, e, n) { return pn(t, e, n, "weekdaysMin") }, n.defineLocale = ge, n.updateLocale = function (t, e) { if (null != e) { var n, i, o = ne; null != (i = re(t)) && (o = i._config), (n = new S(e = X(o, e))).parentLocale = ie[t], ie[t] = n, se(t) } else null != ie[t] && (null != ie[t].parentLocale ? ie[t] = ie[t].parentLocale : null != ie[t] && delete ie[t]); return ie[t] }, n.locales = function () { return F(ie) }, n.weekdaysShort = function (t, e, n) { return pn(t, e, n, "weekdaysShort") }, n.normalizeUnits = Z, n.relativeTimeRounding = function (t) { return void 0 === t ? Yn : "function" == typeof t && (Yn = t, !0) }, n.relativeTimeThreshold = function (t, e) { return void 0 !== On[t] && (void 0 === e ? On[t] : (On[t] = e, "s" === t && (On.ss = e - 1), !0)) }, n.calendarFormat = function (t, e) { var n = t.diff(e, "days", !0); return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse" }, n.prototype = un, n.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }, n }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e(require("popper.js")) : "function" == typeof define && define.amd ? define(["popper.js"], e) : t.Tooltip = e(t.Popper) }(this, function (t) { "use strict"; t = t && t.hasOwnProperty("default") ? t.default : t; var e = Object.assign || function (t) { for (var e, n = 1; n < arguments.length; n++)for (var i in e = arguments[n]) Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]); return t }, n = { container: !1, delay: 0, html: !1, placement: "top", title: "", template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>', trigger: "hover focus", offset: 0, arrowSelector: ".tooltip-arrow, .tooltip__arrow", innerSelector: ".tooltip-inner, .tooltip__inner" }, i = (function (t, e, n) { e && r(t.prototype, e), n && r(t, n) }(a, [{ key: "_create", value: function (t, e, n, i) { var o = window.document.createElement("div"); o.innerHTML = e.trim(); var a = o.childNodes[0]; a.id = "tooltip_" + Math.random().toString(36).substr(2, 10), a.setAttribute("aria-hidden", "false"); var r = o.querySelector(this.options.innerSelector); return this._addTitleContent(t, n, i, r), a } }, { key: "_addTitleContent", value: function (t, e, n, i) { if (1 === e.nodeType || 11 === e.nodeType) n && i.appendChild(e); else if (function (t) { return t && "[object Function]" === {}.toString.call(t) }(e)) { var o = e.call(t); n ? i.innerHTML = o : i.textContent = o } else n ? i.innerHTML = e : i.textContent = e } }, { key: "_show", value: function (n, i) { if (this._isOpen && !this._isOpening) return this; if (this._isOpen = !0, this._tooltipNode) return this._tooltipNode.style.visibility = "visible", this._tooltipNode.setAttribute("aria-hidden", "false"), this.popperInstance.update(), this; var o = n.getAttribute("title") || i.title; if (!o) return this; var a = this._create(n, i.template, o, i.html); n.setAttribute("aria-describedby", a.id); var r = this._findContainer(i.container, n); return this._append(a, r), this._popperOptions = e({}, i.popperOptions, { placement: i.placement }), this._popperOptions.modifiers = e({}, this._popperOptions.modifiers, { arrow: e({}, this._popperOptions.modifiers && this._popperOptions.modifiers.arrow, { element: i.arrowSelector }), offset: e({}, this._popperOptions.modifiers && this._popperOptions.modifiers.offset, { offset: i.offset }) }), i.boundariesElement && (this._popperOptions.modifiers.preventOverflow = { boundariesElement: i.boundariesElement }), this.popperInstance = new t(n, a, this._popperOptions), this._tooltipNode = a, this } }, { key: "_hide", value: function () { return this._isOpen && (this._isOpen = !1, this._tooltipNode.style.visibility = "hidden", this._tooltipNode.setAttribute("aria-hidden", "true")), this } }, { key: "_dispose", value: function () { var t = this; return this._events.forEach(function (e) { var n = e.func, i = e.event; t.reference.removeEventListener(i, n) }), this._events = [], this._tooltipNode && (this._hide(), this.popperInstance.destroy(), this.popperInstance.options.removeOnDestroy || (this._tooltipNode.parentNode.removeChild(this._tooltipNode), this._tooltipNode = null)), this } }, { key: "_findContainer", value: function (t, e) { return "string" == typeof t ? t = window.document.querySelector(t) : !1 === t && (t = e.parentNode), t } }, { key: "_append", value: function (t, e) { e.appendChild(t) } }, { key: "_setEventListeners", value: function (t, e, n) { var i = this, o = [], a = []; e.forEach(function (t) { "hover" === t ? (o.push("mouseenter"), a.push("mouseleave")) : "focus" === t ? (o.push("focus"), a.push("blur")) : "click" === t && (o.push("click"), a.push("click")) }), o.forEach(function (e) { function o(e) { !0 === i._isOpening || (e.usedByTooltip = !0, i._scheduleShow(t, n.delay, n, e)) } i._events.push({ event: e, func: o }), t.addEventListener(e, o) }), a.forEach(function (e) { function o(e) { !0 === e.usedByTooltip || i._scheduleHide(t, n.delay, n, e) } i._events.push({ event: e, func: o }), t.addEventListener(e, o), "click" === e && n.closeOnClickOutside && document.addEventListener("mousedown", function (e) { if (i._isOpening) { var n = i.popperInstance.popper; t.contains(e.target) || n.contains(e.target) || o(e) } }, !0) }) } }, { key: "_scheduleShow", value: function (t, e, n) { var i = this; this._isOpening = !0; var o = e && e.show || e || 0; this._showTimeout = window.setTimeout(function () { return i._show(t, n) }, o) } }, { key: "_scheduleHide", value: function (t, e, n, i) { var o = this; this._isOpening = !1; var a = e && e.hide || e || 0; window.clearTimeout(this._showTimeout), window.setTimeout(function () { if (!1 !== o._isOpen && document.body.contains(o._tooltipNode)) { if ("mouseleave" === i.type && o._setTooltipNodeEvent(i, t, e, n)) return; o._hide(t, n) } }, a) } }, { key: "_updateTitleContent", value: function (t) { if (void 0 !== this._tooltipNode) { var e = this._tooltipNode.querySelector(this.options.innerSelector); this._clearTitleContent(e, this.options.html, this.reference.getAttribute("title") || this.options.title), this._addTitleContent(this.reference, t, this.options.html, e), this.options.title = t, this.popperInstance.update() } else void 0 !== this.options.title && (this.options.title = t) } }, { key: "_clearTitleContent", value: function (t, e, n) { 1 === n.nodeType || 11 === n.nodeType ? e && t.removeChild(n) : e ? t.innerHTML = "" : t.textContent = "" } }]), a), o = function () { var t = this; this.show = function () { return t._show(t.reference, t.options) }, this.hide = function () { return t._hide() }, this.dispose = function () { return t._dispose() }, this.toggle = function () { return t._isOpen ? t.hide() : t.show() }, this.updateTitleContent = function (e) { return t._updateTitleContent(e) }, this._events = [], this._setTooltipNodeEvent = function (e, n, i, o) { var a = e.relatedreference || e.toElement || e.relatedTarget; return !!t._tooltipNode.contains(a) && (t._tooltipNode.addEventListener(e.type, function i(a) { var r = a.relatedreference || a.toElement || a.relatedTarget; t._tooltipNode.removeEventListener(e.type, i), n.contains(r) || t._scheduleHide(n, o.delay, o, a) }), !0) } }; function a(t, i) { (function (t, e) { if (!(t instanceof a)) throw new TypeError("Cannot call a class as a function") })(this), o.call(this), i = e({}, n, i), t.jquery && (t = t[0]), this.reference = t; var r = "string" == typeof (this.options = i).trigger ? i.trigger.split(" ").filter(function (t) { return -1 !== ["click", "hover", "focus"].indexOf(t) }) : []; this._isOpen = !1, this._popperOptions = {}, this._setEventListeners(t, r, i) } function r(t, e) { for (var n, i = 0; i < e.length; i++)(n = e[i]).enumerable = n.enumerable || !1, n.configurable = !0, "value" in n && (n.writable = !0), Object.defineProperty(t, n.key, n) } return i }), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.PerfectScrollbar = e() }(this, function () { "use strict"; function t(t) { return getComputedStyle(t) } function e(t, e) { for (var n in e) { var i = e[n]; "number" == typeof i && (i += "px"), t.style[n] = i } return t } function n(t) { var e = document.createElement("div"); return e.className = t, e } var i = "undefined" != typeof Element && (Element.prototype.matches || Element.prototype.webkitMatchesSelector || Element.prototype.mozMatchesSelector || Element.prototype.msMatchesSelector); function o(t, e) { if (!i) throw new Error("No element matching method supported"); return i.call(t, e) } function a(t) { t.remove ? t.remove() : t.parentNode && t.parentNode.removeChild(t) } function r(t, e) { return Array.prototype.filter.call(t.children, function (t) { return o(t, e) }) } var s = { main: "ps", element: { thumb: function (t) { return "ps__thumb-" + t }, rail: function (t) { return "ps__rail-" + t }, consuming: "ps__child--consume" }, state: { focus: "ps--focus", clicking: "ps--clicking", active: function (t) { return "ps--active-" + t }, scrolling: function (t) { return "ps--scrolling-" + t } } }, g = { x: null, y: null }; function l(t, e) { var n = t.element.classList, i = s.state.scrolling(e); n.contains(i) ? clearTimeout(g[e]) : n.add(i) } function c(t, e) { g[e] = setTimeout(function () { return t.isAlive && t.element.classList.remove(s.state.scrolling(e)) }, t.settings.scrollingThreshold) } function I(t) { this.element = t, this.handlers = {} } var u = { isEmpty: { configurable: !0 } }; function h() { this.eventElements = [] } function d(t) { if ("function" == typeof window.CustomEvent) return new CustomEvent(t); var e = document.createEvent("CustomEvent"); return e.initCustomEvent(t, !1, !1, void 0), e } function C(t, e, n, i, o) { var a; if (void 0 === i && (i = !0), void 0 === o && (o = !1), "top" === e) a = ["contentHeight", "containerHeight", "scrollTop", "y", "up", "down"]; else { if ("left" !== e) throw new Error("A proper axis should be provided"); a = ["contentWidth", "containerWidth", "scrollLeft", "x", "left", "right"] } !function (t, e, n, i, o) { var a = n[0], r = n[1], s = n[2], g = n[3], I = n[4], u = n[5]; void 0 === i && (i = !0), void 0 === o && (o = !1); var h = t.element; t.reach[g] = null, h[s] < 1 && (t.reach[g] = "start"), h[s] > t[a] - t[r] - 1 && (t.reach[g] = "end"), e && (h.dispatchEvent(d("ps-scroll-" + g)), e < 0 ? h.dispatchEvent(d("ps-scroll-" + I)) : 0 < e && h.dispatchEvent(d("ps-scroll-" + u)), i && function (t, e) { l(t, e), c(t, e) }(t, g)), t.reach[g] && (e || o) && h.dispatchEvent(d("ps-" + g + "-reach-" + t.reach[g])) }(t, n, a, i, o) } function A(t) { return parseInt(t, 10) || 0 } function p(t) { var n = t.element, i = Math.floor(n.scrollTop); t.containerWidth = n.clientWidth, t.containerHeight = n.clientHeight, t.contentWidth = n.scrollWidth, t.contentHeight = n.scrollHeight, n.contains(t.scrollbarXRail) || (r(n, s.element.rail("x")).forEach(function (t) { return a(t) }), n.appendChild(t.scrollbarXRail)), n.contains(t.scrollbarYRail) || (r(n, s.element.rail("y")).forEach(function (t) { return a(t) }), n.appendChild(t.scrollbarYRail)), !t.settings.suppressScrollX && t.containerWidth + t.settings.scrollXMarginOffset < t.contentWidth ? (t.scrollbarXActive = !0, t.railXWidth = t.containerWidth - t.railXMarginWidth, t.railXRatio = t.containerWidth / t.railXWidth, t.scrollbarXWidth = f(t, A(t.railXWidth * t.containerWidth / t.contentWidth)), t.scrollbarXLeft = A((t.negativeScrollAdjustment + n.scrollLeft) * (t.railXWidth - t.scrollbarXWidth) / (t.contentWidth - t.containerWidth))) : t.scrollbarXActive = !1, !t.settings.suppressScrollY && t.containerHeight + t.settings.scrollYMarginOffset < t.contentHeight ? (t.scrollbarYActive = !0, t.railYHeight = t.containerHeight - t.railYMarginHeight, t.railYRatio = t.containerHeight / t.railYHeight, t.scrollbarYHeight = f(t, A(t.railYHeight * t.containerHeight / t.contentHeight)), t.scrollbarYTop = A(i * (t.railYHeight - t.scrollbarYHeight) / (t.contentHeight - t.containerHeight))) : t.scrollbarYActive = !1, t.scrollbarXLeft >= t.railXWidth - t.scrollbarXWidth && (t.scrollbarXLeft = t.railXWidth - t.scrollbarXWidth), t.scrollbarYTop >= t.railYHeight - t.scrollbarYHeight && (t.scrollbarYTop = t.railYHeight - t.scrollbarYHeight), function (t, n) { var i = { width: n.railXWidth }, o = Math.floor(t.scrollTop); n.isRtl ? i.left = n.negativeScrollAdjustment + t.scrollLeft + n.containerWidth - n.contentWidth : i.left = t.scrollLeft, n.isScrollbarXUsingBottom ? i.bottom = n.scrollbarXBottom - o : i.top = n.scrollbarXTop + o, e(n.scrollbarXRail, i); var a = { top: o, height: n.railYHeight }; n.isScrollbarYUsingRight ? n.isRtl ? a.right = n.contentWidth - (n.negativeScrollAdjustment + t.scrollLeft) - n.scrollbarYRight - n.scrollbarYOuterWidth : a.right = n.scrollbarYRight - t.scrollLeft : n.isRtl ? a.left = n.negativeScrollAdjustment + t.scrollLeft + 2 * n.containerWidth - n.contentWidth - n.scrollbarYLeft - n.scrollbarYOuterWidth : a.left = n.scrollbarYLeft + t.scrollLeft, e(n.scrollbarYRail, a), e(n.scrollbarX, { left: n.scrollbarXLeft, width: n.scrollbarXWidth - n.railBorderXWidth }), e(n.scrollbarY, { top: n.scrollbarYTop, height: n.scrollbarYHeight - n.railBorderYWidth }) }(n, t), t.scrollbarXActive ? n.classList.add(s.state.active("x")) : (n.classList.remove(s.state.active("x")), t.scrollbarXWidth = 0, t.scrollbarXLeft = 0, n.scrollLeft = 0), t.scrollbarYActive ? n.classList.add(s.state.active("y")) : (n.classList.remove(s.state.active("y")), t.scrollbarYHeight = 0, t.scrollbarYTop = 0, n.scrollTop = 0) } I.prototype.bind = function (t, e) { void 0 === this.handlers[t] && (this.handlers[t] = []), this.handlers[t].push(e), this.element.addEventListener(t, e, !1) }, I.prototype.unbind = function (t, e) { var n = this; this.handlers[t] = this.handlers[t].filter(function (i) { return !(!e || i === e) || (n.element.removeEventListener(t, i, !1), !1) }) }, I.prototype.unbindAll = function () { for (var t in this.handlers) this.unbind(t) }, u.isEmpty.get = function () { var t = this; return Object.keys(this.handlers).every(function (e) { return 0 === t.handlers[e].length }) }, Object.defineProperties(I.prototype, u), h.prototype.eventElement = function (t) { var e = this.eventElements.filter(function (e) { return e.element === t })[0]; return e || (e = new I(t), this.eventElements.push(e)), e }, h.prototype.bind = function (t, e, n) { this.eventElement(t).bind(e, n) }, h.prototype.unbind = function (t, e, n) { var i = this.eventElement(t); i.unbind(e, n), i.isEmpty && this.eventElements.splice(this.eventElements.indexOf(i), 1) }, h.prototype.unbindAll = function () { this.eventElements.forEach(function (t) { return t.unbindAll() }), this.eventElements = [] }, h.prototype.once = function (t, e, n) { var i = this.eventElement(t), o = function (t) { i.unbind(e, o), n(t) }; i.bind(e, o) }; var m = { isWebKit: "undefined" != typeof document && "WebkitAppearance" in document.documentElement.style, supportsTouch: "undefined" != typeof window && ("ontouchstart" in window || window.DocumentTouch && document instanceof window.DocumentTouch), supportsIePointer: "undefined" != typeof navigator && navigator.msMaxTouchPoints, isChrome: "undefined" != typeof navigator && /Chrome/i.test(navigator && navigator.userAgent) }; function f(t, e) { return t.settings.minScrollbarLength && (e = Math.max(e, t.settings.minScrollbarLength)), t.settings.maxScrollbarLength && (e = Math.min(e, t.settings.maxScrollbarLength)), e } function b(t, e) { var n = e[0], i = e[1], o = e[2], a = e[3], r = e[4], g = e[5], I = e[6], u = e[7], h = e[8], d = t.element, C = null, A = null, m = null; function f(e) { d[I] = C + m * (e[o] - A), l(t, u), p(t), e.stopPropagation(), e.preventDefault() } function b() { c(t, u), t[h].classList.remove(s.state.clicking), t.event.unbind(t.ownerDocument, "mousemove", f) } t.event.bind(t[r], "mousedown", function (e) { C = d[I], A = e[o], m = (t[i] - t[n]) / (t[a] - t[g]), t.event.bind(t.ownerDocument, "mousemove", f), t.event.once(t.ownerDocument, "mouseup", b), t[h].classList.add(s.state.clicking), e.stopPropagation(), e.preventDefault() }) } function B(i, o) { var a, r, g = this; if (void 0 === o && (o = {}), "string" == typeof i && (i = document.querySelector(i)), !i || !i.nodeName) throw new Error("no element is specified to initialize PerfectScrollbar"); for (var l in (this.element = i).classList.add(s.main), this.settings = { handlers: ["click-rail", "drag-thumb", "keyboard", "wheel", "touch"], maxScrollbarLength: null, minScrollbarLength: null, scrollingThreshold: 1e3, scrollXMarginOffset: 0, scrollYMarginOffset: 0, suppressScrollX: !1, suppressScrollY: !1, swipeEasing: !0, useBothWheelAxes: !1, wheelPropagation: !0, wheelSpeed: 1 }, o) g.settings[l] = o[l]; function c() { return i.classList.add(s.state.focus) } function I() { return i.classList.remove(s.state.focus) } this.containerWidth = null, this.containerHeight = null, this.contentWidth = null, this.contentHeight = null, this.isRtl = "rtl" === t(i).direction, this.isNegativeScroll = (r = i.scrollLeft, i.scrollLeft = -1, a = i.scrollLeft < 0, i.scrollLeft = r, a), this.negativeScrollAdjustment = this.isNegativeScroll ? i.scrollWidth - i.clientWidth : 0, this.event = new h, this.ownerDocument = i.ownerDocument || document, this.scrollbarXRail = n(s.element.rail("x")), i.appendChild(this.scrollbarXRail), this.scrollbarX = n(s.element.thumb("x")), this.scrollbarXRail.appendChild(this.scrollbarX), this.scrollbarX.setAttribute("tabindex", 0), this.event.bind(this.scrollbarX, "focus", c), this.event.bind(this.scrollbarX, "blur", I), this.scrollbarXActive = null, this.scrollbarXWidth = null, this.scrollbarXLeft = null; var u = t(this.scrollbarXRail); this.scrollbarXBottom = parseInt(u.bottom, 10), isNaN(this.scrollbarXBottom) ? (this.isScrollbarXUsingBottom = !1, this.scrollbarXTop = A(u.top)) : this.isScrollbarXUsingBottom = !0, this.railBorderXWidth = A(u.borderLeftWidth) + A(u.borderRightWidth), e(this.scrollbarXRail, { display: "block" }), this.railXMarginWidth = A(u.marginLeft) + A(u.marginRight), e(this.scrollbarXRail, { display: "" }), this.railXWidth = null, this.railXRatio = null, this.scrollbarYRail = n(s.element.rail("y")), i.appendChild(this.scrollbarYRail), this.scrollbarY = n(s.element.thumb("y")), this.scrollbarYRail.appendChild(this.scrollbarY), this.scrollbarY.setAttribute("tabindex", 0), this.event.bind(this.scrollbarY, "focus", c), this.event.bind(this.scrollbarY, "blur", I), this.scrollbarYActive = null, this.scrollbarYHeight = null, this.scrollbarYTop = null; var d = t(this.scrollbarYRail); this.scrollbarYRight = parseInt(d.right, 10), isNaN(this.scrollbarYRight) ? (this.isScrollbarYUsingRight = !1, this.scrollbarYLeft = A(d.left)) : this.isScrollbarYUsingRight = !0, this.scrollbarYOuterWidth = this.isRtl ? function (e) { var n = t(e); return A(n.width) + A(n.paddingLeft) + A(n.paddingRight) + A(n.borderLeftWidth) + A(n.borderRightWidth) }(this.scrollbarY) : null, this.railBorderYWidth = A(d.borderTopWidth) + A(d.borderBottomWidth), e(this.scrollbarYRail, { display: "block" }), this.railYMarginHeight = A(d.marginTop) + A(d.marginBottom), e(this.scrollbarYRail, { display: "" }), this.railYHeight = null, this.railYRatio = null, this.reach = { x: i.scrollLeft <= 0 ? "start" : i.scrollLeft >= this.contentWidth - this.containerWidth ? "end" : null, y: i.scrollTop <= 0 ? "start" : i.scrollTop >= this.contentHeight - this.containerHeight ? "end" : null }, this.isAlive = !0, this.settings.handlers.forEach(function (t) { return y[t](g) }), this.lastScrollTop = Math.floor(i.scrollTop), this.lastScrollLeft = i.scrollLeft, this.event.bind(this.element, "scroll", function (t) { return g.onScroll(t) }), p(this) } var y = { "click-rail": function (t) { t.event.bind(t.scrollbarY, "mousedown", function (t) { return t.stopPropagation() }), t.event.bind(t.scrollbarYRail, "mousedown", function (e) { var n = e.pageY - window.pageYOffset - t.scrollbarYRail.getBoundingClientRect().top > t.scrollbarYTop ? 1 : -1; t.element.scrollTop += n * t.containerHeight, p(t), e.stopPropagation() }), t.event.bind(t.scrollbarX, "mousedown", function (t) { return t.stopPropagation() }), t.event.bind(t.scrollbarXRail, "mousedown", function (e) { var n = e.pageX - window.pageXOffset - t.scrollbarXRail.getBoundingClientRect().left > t.scrollbarXLeft ? 1 : -1; t.element.scrollLeft += n * t.containerWidth, p(t), e.stopPropagation() }) }, "drag-thumb": function (t) { b(t, ["containerWidth", "contentWidth", "pageX", "railXWidth", "scrollbarX", "scrollbarXWidth", "scrollLeft", "x", "scrollbarXRail"]), b(t, ["containerHeight", "contentHeight", "pageY", "railYHeight", "scrollbarY", "scrollbarYHeight", "scrollTop", "y", "scrollbarYRail"]) }, keyboard: function (t) { var e = t.element; t.event.bind(t.ownerDocument, "keydown", function (n) { if (!(n.isDefaultPrevented && n.isDefaultPrevented() || n.defaultPrevented) && (o(e, ":hover") || o(t.scrollbarX, ":focus") || o(t.scrollbarY, ":focus"))) { var i = document.activeElement ? document.activeElement : t.ownerDocument.activeElement; if (i) { if ("IFRAME" === i.tagName) i = i.contentDocument.activeElement; else for (; i.shadowRoot;)i = i.shadowRoot.activeElement; if (function (t) { return o(t, "input,[contenteditable]") || o(t, "select,[contenteditable]") || o(t, "textarea,[contenteditable]") || o(t, "button,[contenteditable]") }(i)) return } var a = 0, r = 0; switch (n.which) { case 37: a = n.metaKey ? -t.contentWidth : n.altKey ? -t.containerWidth : -30; break; case 38: r = n.metaKey ? t.contentHeight : n.altKey ? t.containerHeight : 30; break; case 39: a = n.metaKey ? t.contentWidth : n.altKey ? t.containerWidth : 30; break; case 40: r = n.metaKey ? -t.contentHeight : n.altKey ? -t.containerHeight : -30; break; case 32: r = n.shiftKey ? t.containerHeight : -t.containerHeight; break; case 33: r = t.containerHeight; break; case 34: r = -t.containerHeight; break; case 36: r = t.contentHeight; break; case 35: r = -t.contentHeight; break; default: return }t.settings.suppressScrollX && 0 !== a || t.settings.suppressScrollY && 0 !== r || (e.scrollTop -= r, e.scrollLeft += a, p(t), function (n, i) { var o = Math.floor(e.scrollTop); if (0 === n) { if (!t.scrollbarYActive) return !1; if (0 === o && 0 < i || o >= t.contentHeight - t.containerHeight && i < 0) return !t.settings.wheelPropagation } var a = e.scrollLeft; if (0 === i) { if (!t.scrollbarXActive) return !1; if (0 === a && n < 0 || a >= t.contentWidth - t.containerWidth && 0 < n) return !t.settings.wheelPropagation } return !0 }(a, r) && n.preventDefault()) } }) }, wheel: function (e) { var n = e.element; function i(i) { var o = function (t) { var e = t.deltaX, n = -1 * t.deltaY; return void 0 !== e && void 0 !== n || (e = -1 * t.wheelDeltaX / 6, n = t.wheelDeltaY / 6), t.deltaMode && 1 === t.deltaMode && (e *= 10, n *= 10), e != e && n != n && (e = 0, n = t.wheelDelta), t.shiftKey ? [-n, -e] : [e, n] }(i), a = o[0], r = o[1]; if (!function (e, i, o) { if (!m.isWebKit && n.querySelector("select:focus")) return !0; if (!n.contains(e)) return !1; for (var a = e; a && a !== n;) { if (a.classList.contains(s.element.consuming)) return !0; var r = t(a); if ([r.overflow, r.overflowX, r.overflowY].join("").match(/(scroll|auto)/)) { var g = a.scrollHeight - a.clientHeight; if (0 < g && !(0 === a.scrollTop && 0 < o || a.scrollTop === g && o < 0)) return !0; var l = a.scrollWidth - a.clientWidth; if (0 < l && !(0 === a.scrollLeft && i < 0 || a.scrollLeft === l && 0 < i)) return !0 } a = a.parentNode } return !1 }(i.target, a, r)) { var g = !1; e.settings.useBothWheelAxes ? e.scrollbarYActive && !e.scrollbarXActive ? (r ? n.scrollTop -= r * e.settings.wheelSpeed : n.scrollTop += a * e.settings.wheelSpeed, g = !0) : e.scrollbarXActive && !e.scrollbarYActive && (a ? n.scrollLeft += a * e.settings.wheelSpeed : n.scrollLeft -= r * e.settings.wheelSpeed, g = !0) : (n.scrollTop -= r * e.settings.wheelSpeed, n.scrollLeft += a * e.settings.wheelSpeed), p(e), (g = g || function (t, i) { var o = Math.floor(n.scrollTop), a = 0 === n.scrollTop, r = o + n.offsetHeight === n.scrollHeight, s = 0 === n.scrollLeft, g = n.scrollLeft + n.offsetWidth === n.scrollWidth; return !(Math.abs(i) > Math.abs(t) ? a || r : s || g) || !e.settings.wheelPropagation }(a, r)) && !i.ctrlKey && (i.stopPropagation(), i.preventDefault()) } } void 0 !== window.onwheel ? e.event.bind(n, "wheel", i) : void 0 !== window.onmousewheel && e.event.bind(n, "mousewheel", i) }, touch: function (e) { if (m.supportsTouch || m.supportsIePointer) { var n = e.element, i = {}, o = 0, a = {}, r = null; m.supportsTouch ? (e.event.bind(n, "touchstart", I), e.event.bind(n, "touchmove", u), e.event.bind(n, "touchend", h)) : m.supportsIePointer && (window.PointerEvent ? (e.event.bind(n, "pointerdown", I), e.event.bind(n, "pointermove", u), e.event.bind(n, "pointerup", h)) : window.MSPointerEvent && (e.event.bind(n, "MSPointerDown", I), e.event.bind(n, "MSPointerMove", u), e.event.bind(n, "MSPointerUp", h))) } function g(t, i) { n.scrollTop -= i, n.scrollLeft -= t, p(e) } function l(t) { return t.targetTouches ? t.targetTouches[0] : t } function c(t) { return !(t.pointerType && "pen" === t.pointerType && 0 === t.buttons || (!t.targetTouches || 1 !== t.targetTouches.length) && (!t.pointerType || "mouse" === t.pointerType || t.pointerType === t.MSPOINTER_TYPE_MOUSE)) } function I(t) { if (c(t)) { var e = l(t); i.pageX = e.pageX, i.pageY = e.pageY, o = (new Date).getTime(), null !== r && clearInterval(r) } } function u(r) { if (c(r)) { var I = l(r), u = { pageX: I.pageX, pageY: I.pageY }, h = u.pageX - i.pageX, d = u.pageY - i.pageY; if (function (e, i, o) { if (!n.contains(e)) return !1; for (var a = e; a && a !== n;) { if (a.classList.contains(s.element.consuming)) return !0; var r = t(a); if ([r.overflow, r.overflowX, r.overflowY].join("").match(/(scroll|auto)/)) { var g = a.scrollHeight - a.clientHeight; if (0 < g && !(0 === a.scrollTop && 0 < o || a.scrollTop === g && o < 0)) return !0; var l = a.scrollLeft - a.clientWidth; if (0 < l && !(0 === a.scrollLeft && i < 0 || a.scrollLeft === l && 0 < i)) return !0 } a = a.parentNode } return !1 }(r.target, h, d)) return; g(h, d), i = u; var C = (new Date).getTime(), A = C - o; 0 < A && (a.x = h / A, a.y = d / A, o = C), function (t, i) { var o = Math.floor(n.scrollTop), a = n.scrollLeft, r = Math.abs(t), s = Math.abs(i); if (r < s) { if (i < 0 && o === e.contentHeight - e.containerHeight || 0 < i && 0 === o) return 0 === window.scrollY && 0 < i && m.isChrome } else if (s < r && (t < 0 && a === e.contentWidth - e.containerWidth || 0 < t && 0 === a)) return !0; return !0 }(h, d) && r.preventDefault() } } function h() { e.settings.swipeEasing && (clearInterval(r), r = setInterval(function () { e.isInitialized ? clearInterval(r) : a.x || a.y ? Math.abs(a.x) < .01 && Math.abs(a.y) < .01 ? clearInterval(r) : (g(30 * a.x, 30 * a.y), a.x *= .8, a.y *= .8) : clearInterval(r) }, 10)) } } }; return B.prototype.update = function () { this.isAlive && (this.negativeScrollAdjustment = this.isNegativeScroll ? this.element.scrollWidth - this.element.clientWidth : 0, e(this.scrollbarXRail, { display: "block" }), e(this.scrollbarYRail, { display: "block" }), this.railXMarginWidth = A(t(this.scrollbarXRail).marginLeft) + A(t(this.scrollbarXRail).marginRight), this.railYMarginHeight = A(t(this.scrollbarYRail).marginTop) + A(t(this.scrollbarYRail).marginBottom), e(this.scrollbarXRail, { display: "none" }), e(this.scrollbarYRail, { display: "none" }), p(this), C(this, "top", 0, !1, !0), C(this, "left", 0, !1, !0), e(this.scrollbarXRail, { display: "" }), e(this.scrollbarYRail, { display: "" })) }, B.prototype.onScroll = function (t) { this.isAlive && (p(this), C(this, "top", this.element.scrollTop - this.lastScrollTop), C(this, "left", this.element.scrollLeft - this.lastScrollLeft), this.lastScrollTop = Math.floor(this.element.scrollTop), this.lastScrollLeft = this.element.scrollLeft) }, B.prototype.destroy = function () { this.isAlive && (this.event.unbindAll(), a(this.scrollbarX), a(this.scrollbarY), a(this.scrollbarXRail), a(this.scrollbarYRail), this.removePsClasses(), this.element = null, this.scrollbarX = null, this.scrollbarY = null, this.scrollbarXRail = null, this.scrollbarYRail = null, this.isAlive = !1) }, B.prototype.removePsClasses = function () { this.element.className = this.element.className.split(" ").filter(function (t) { return !t.match(/^ps([-_].+|)$/) }).join(" ") }, B }); var Sticky = function () { function t() { var e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "", n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; _classCallCheck(this, t), this.selector = e, this.elements = [], this.version = "1.2.0", this.vp = this.getViewportSize(), this.body = document.querySelector("body"), this.options = { wrap: n.wrap || !1, marginTop: n.marginTop || 0, stickyFor: n.stickyFor || 0, stickyClass: n.stickyClass || null, stickyContainer: n.stickyContainer || "body" }, this.updateScrollTopPosition = this.updateScrollTopPosition.bind(this), this.updateScrollTopPosition(), window.addEventListener("load", this.updateScrollTopPosition), window.addEventListener("scroll", this.updateScrollTopPosition), this.run() } return t.prototype.run = function () { var t = this, e = setInterval(function () { if ("complete" === document.readyState) { clearInterval(e); var n = document.querySelectorAll(t.selector); t.forEach(n, function (e) { return t.renderElement(e) }) } }, 10) }, t.prototype.renderElement = function (t) { var e = this; t.sticky = {}, t.sticky.active = !1, t.sticky.marginTop = parseInt(t.getAttribute("data-margin-top")) || this.options.marginTop, t.sticky.stickyFor = parseInt(t.getAttribute("data-sticky-for")) || this.options.stickyFor, t.sticky.stickyClass = t.getAttribute("data-sticky-class") || this.options.stickyClass, t.sticky.wrap = !!t.hasAttribute("data-sticky-wrap") || this.options.wrap, t.sticky.stickyContainer = this.options.stickyContainer, t.sticky.container = this.getStickyContainer(t), t.sticky.container.rect = this.getRectangle(t.sticky.container), t.sticky.rect = this.getRectangle(t), "img" === t.tagName.toLowerCase() && (t.onload = function () { return t.sticky.rect = e.getRectangle(t) }), t.sticky.wrap && this.wrapElement(t), this.activate(t) }, t.prototype.wrapElement = function (t) { t.insertAdjacentHTML("beforebegin", "<span></span>"), t.previousSibling.appendChild(t) }, t.prototype.activate = function (t) { t.sticky.rect.top + t.sticky.rect.height < t.sticky.container.rect.top + t.sticky.container.rect.height && t.sticky.stickyFor < this.vp.width && !t.sticky.active && (t.sticky.active = !0), this.elements.indexOf(t) < 0 && this.elements.push(t), t.sticky.resizeEvent || (this.initResizeEvents(t), t.sticky.resizeEvent = !0), t.sticky.scrollEvent || (this.initScrollEvents(t), t.sticky.scrollEvent = !0), this.setPosition(t) }, t.prototype.initResizeEvents = function (t) { var e = this; t.sticky.resizeListener = function () { return e.onResizeEvents(t) }, window.addEventListener("resize", t.sticky.resizeListener) }, t.prototype.destroyResizeEvents = function (t) { window.removeEventListener("resize", t.sticky.resizeListener) }, t.prototype.onResizeEvents = function (t) { this.vp = this.getViewportSize(), t.sticky.rect = this.getRectangle(t), t.sticky.container.rect = this.getRectangle(t.sticky.container), t.sticky.rect.top + t.sticky.rect.height < t.sticky.container.rect.top + t.sticky.container.rect.height && t.sticky.stickyFor < this.vp.width && !t.sticky.active ? t.sticky.active = !0 : (t.sticky.rect.top + t.sticky.rect.height >= t.sticky.container.rect.top + t.sticky.container.rect.height || t.sticky.stickyFor >= this.vp.width && t.sticky.active) && (t.sticky.active = !1), this.setPosition(t) }, t.prototype.initScrollEvents = function (t) { var e = this; t.sticky.scrollListener = function () { return e.onScrollEvents(t) }, window.addEventListener("scroll", t.sticky.scrollListener) }, t.prototype.destroyScrollEvents = function (t) { window.removeEventListener("scroll", t.sticky.scrollListener) }, t.prototype.onScrollEvents = function (t) { t.sticky.active && this.setPosition(t) }, t.prototype.setPosition = function (t) { this.css(t, { position: "", width: "", top: "", left: "" }), this.vp.height < t.sticky.rect.height || !t.sticky.active || (t.sticky.rect.width || (t.sticky.rect = this.getRectangle(t)), t.sticky.wrap && this.css(t.parentNode, { display: "block", width: t.sticky.rect.width + "px", height: t.sticky.rect.height + "px" }), 0 === t.sticky.rect.top && t.sticky.container === this.body ? this.css(t, { position: "fixed", top: t.sticky.rect.top + "px", left: t.sticky.rect.left + "px", width: t.sticky.rect.width + "px" }) : this.scrollTop > t.sticky.rect.top - t.sticky.marginTop ? (this.css(t, { position: "fixed", width: t.sticky.rect.width + "px", left: t.sticky.rect.left + "px" }), this.scrollTop + t.sticky.rect.height + t.sticky.marginTop > t.sticky.container.rect.top + t.sticky.container.offsetHeight ? (t.sticky.stickyClass && t.classList.remove(t.sticky.stickyClass), this.css(t, { top: t.sticky.container.rect.top + t.sticky.container.offsetHeight - (this.scrollTop + t.sticky.rect.height) + "px" })) : (t.sticky.stickyClass && t.classList.add(t.sticky.stickyClass), this.css(t, { top: t.sticky.marginTop + "px" }))) : (t.sticky.stickyClass && t.classList.remove(t.sticky.stickyClass), this.css(t, { position: "", width: "", top: "", left: "" }), t.sticky.wrap && this.css(t.parentNode, { display: "", width: "", height: "" }))) }, t.prototype.update = function () { var t = this; this.forEach(this.elements, function (e) { e.sticky.rect = t.getRectangle(e), e.sticky.container.rect = t.getRectangle(e.sticky.container), t.activate(e), t.setPosition(e) }) }, t.prototype.destroy = function () { var t = this; this.forEach(this.elements, function (e) { t.destroyResizeEvents(e), t.destroyScrollEvents(e), delete e.sticky }) }, t.prototype.getStickyContainer = function (t) { for (var e = t.parentNode; !e.hasAttribute("data-sticky-container") && !e.parentNode.querySelector(t.sticky.stickyContainer) && e !== this.body;)e = e.parentNode; return e }, t.prototype.getRectangle = function (t) { this.css(t, { position: "", width: "", top: "", left: "" }); for (var e = Math.max(t.offsetWidth, t.clientWidth, t.scrollWidth), n = Math.max(t.offsetHeight, t.clientHeight, t.scrollHeight), i = 0, o = 0; i += t.offsetTop || 0, o += t.offsetLeft || 0, t = t.offsetParent;); return { top: i, left: o, width: e, height: n } }, t.prototype.getViewportSize = function () { return { width: Math.max(document.documentElement.clientWidth, window.innerWidth || 0), height: Math.max(document.documentElement.clientHeight, window.innerHeight || 0) } }, t.prototype.updateScrollTopPosition = function () { this.scrollTop = (window.pageYOffset || document.scrollTop) - (document.clientTop || 0) || 0 }, t.prototype.forEach = function (t, e) { for (var n = 0, i = t.length; n < i; n++)e(t[n]) }, t.prototype.css = function (t, e) { for (var n in e) e.hasOwnProperty(n) && (t.style[n] = e[n]) }, t }(); !function (t, e) { "undefined" != typeof exports ? module.exports = e : "function" == typeof define && define.amd ? define([], e) : t.Sticky = e }(this, Sticky), function (t) { "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? module.exports = t() : window.wNumb = t() }(function () { "use strict"; var t = ["decimals", "thousand", "mark", "prefix", "suffix", "encoder", "decoder", "negativeBefore", "negative", "edit", "undo"]; function e(t) { return t.split("").reverse().join("") } function n(t, e) { return t.substring(0, e.length) === e } function i(t, e, n) { if ((t[e] || t[n]) && t[e] === t[n]) throw new Error(e) } function o(t) { return "number" == typeof t && isFinite(t) } function a(t, n, i, a, r, s, g, l, c, I, u, h) { var d, C, A, p = h, m = "", f = ""; return s && (h = s(h)), !!o(h) && (!1 !== t && 0 === parseFloat(h.toFixed(t)) && (h = 0), h < 0 && (d = !0, h = Math.abs(h)), !1 !== t && (h = function (t, e) { return t = t.toString().split("e"), (+((t = (t = Math.round(+(t[0] + "e" + (t[1] ? +t[1] + e : e)))).toString().split("e"))[0] + "e" + (t[1] ? +t[1] - e : -e))).toFixed(e) }(h, t)), -1 !== (h = h.toString()).indexOf(".") ? (A = (C = h.split("."))[0], i && (m = i + C[1])) : A = h, n && (A = e((A = e(A).match(/.{1,3}/g)).join(e(n)))), d && l && (f += l), a && (f += a), d && c && (f += c), f += A, f += m, r && (f += r), I && (f = I(f, p)), f) } function r(t, e, i, a, r, s, g, l, c, I, u, h) { var d, C = ""; return u && (h = u(h)), !(!h || "string" != typeof h) && (l && n(h, l) && (h = h.replace(l, ""), d = !0), a && n(h, a) && (h = h.replace(a, "")), c && n(h, c) && (h = h.replace(c, ""), d = !0), r && function (t, e) { return h.slice(-1 * e.length) === e }(0, r) && (h = h.slice(0, -1 * r.length)), e && (h = h.split(e).join("")), i && (h = h.replace(i, ".")), d && (C += "-"), "" !== (C = (C += h).replace(/[^0-9\.\-.]/g, "")) && (C = Number(C), g && (C = g(C)), !!o(C) && C)) } function s(e, n, i) { var o, a = []; for (o = 0; o < t.length; o += 1)a.push(e[t[o]]); return a.push(i), n.apply("", a) } return function e(n) { if (!(this instanceof e)) return new e(n); "object" == typeof n && (n = function (e) { var n, o, a, r = {}; for (void 0 === e.suffix && (e.suffix = e.postfix), n = 0; n < t.length; n += 1)if (void 0 === (a = e[o = t[n]])) "negative" !== o || r.negativeBefore ? "mark" === o && "." !== r.thousand ? r[o] = "." : r[o] = !1 : r[o] = "-"; else if ("decimals" === o) { if (!(0 <= a && a < 8)) throw new Error(o); r[o] = a } else if ("encoder" === o || "decoder" === o || "edit" === o || "undo" === o) { if ("function" != typeof a) throw new Error(o); r[o] = a } else { if ("string" != typeof a) throw new Error(o); r[o] = a } return i(r, "mark", "thousand"), i(r, "prefix", "negative"), i(r, "prefix", "negativeBefore"), r }(n), this.to = function (t) { return s(n, a, t) }, this.from = function (t) { return s(n, r, t) }) } }), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? module.exports = function (e, n) { return void 0 === n && (n = "undefined" != typeof window ? require("jquery") : require("jquery")(e)), t(n), n } : t(jQuery) }(function (t) { "use strict"; function e(e) { var n = e.data; e.isDefaultPrevented() || (e.preventDefault(), t(e.target).closest("form").ajaxSubmit(n)) } function n(e) { var n = e.target, i = t(n); if (!i.is("[type=submit],[type=image]")) { var o = i.closest("[type=submit]"); if (0 === o.length) return; n = o[0] } var a = n.form; if ("image" === (a.clk = n).type) if (void 0 !== e.offsetX) a.clk_x = e.offsetX, a.clk_y = e.offsetY; else if ("function" == typeof t.fn.offset) { var r = i.offset(); a.clk_x = e.pageX - r.left, a.clk_y = e.pageY - r.top } else a.clk_x = e.pageX - n.offsetLeft, a.clk_y = e.pageY - n.offsetTop; setTimeout(function () { a.clk = a.clk_x = a.clk_y = null }, 100) } function i() { if (t.fn.ajaxSubmit.debug) { var e = "[jquery.form] " + Array.prototype.join.call(arguments, ""); window.console && window.console.log ? window.console.log(e) : window.opera && window.opera.postError && window.opera.postError(e) } } var o = /\r?\n/g, a = {}; a.fileapi = void 0 !== t('<input type="file">').get(0).files, a.formdata = void 0 !== window.FormData; var r = !!t.fn.prop; t.fn.attr2 = function () { if (!r) return this.attr.apply(this, arguments); var t = this.prop.apply(this, arguments); return t && t.jquery || "string" == typeof t ? t : this.attr.apply(this, arguments) }, t.fn.ajaxSubmit = function (e, n, o, s) { function g(n) { function o(t) { var e = null; try { t.contentWindow && (e = t.contentWindow.document) } catch (t) { i("cannot get iframe.contentWindow document: " + t) } if (e) return e; try { e = t.contentDocument ? t.contentDocument : t.document } catch (n) { i("cannot get iframe.contentDocument: " + n), e = t.document } return e } function a() { var e = u.attr2("target"), n = u.attr2("action"), a = u.attr("enctype") || u.attr("encoding") || "multipart/form-data"; v.setAttribute("target", d), l && !/post/i.test(l) || v.setAttribute("method", "POST"), n !== I.url && v.setAttribute("action", I.url), I.skipEncodingOverride || l && !/post/i.test(l) || u.attr({ encoding: "multipart/form-data", enctype: "multipart/form-data" }), I.timeout && (y = setTimeout(function () { B = !0, s(G) }, I.timeout)); var r = []; try { if (I.extraData) for (var g in I.extraData) I.extraData.hasOwnProperty(g) && (t.isPlainObject(I.extraData[g]) && I.extraData[g].hasOwnProperty("name") && I.extraData[g].hasOwnProperty("value") ? r.push(t('<input type="hidden" name="' + I.extraData[g].name + '">', F).val(I.extraData[g].value).appendTo(v)[0]) : r.push(t('<input type="hidden" name="' + g + '">', F).val(I.extraData[g]).appendTo(v)[0])); I.iframeTarget || C.appendTo(Q), p.attachEvent ? p.attachEvent("onload", s) : p.addEventListener("load", s, !1), setTimeout(function t() { try { var e = o(p).readyState; i("state = " + e), e && "uninitialized" === e.toLowerCase() && setTimeout(t, 50) } catch (e) { i("Server abort: ", e, " (", e.name, ")"), s(w), y && clearTimeout(y), y = void 0 } }, 15); try { v.submit() } catch (e) { document.createElement("form").submit.apply(v) } } finally { v.setAttribute("action", n), v.setAttribute("enctype", a), e ? v.setAttribute("target", e) : u.removeAttr("target"), t(r).remove() } } function s(e) { if (!m.aborted && !Z) { if ((D = o(p)) || (i("cannot access response document"), e = w), e === G && m) return m.abort("timeout"), void x.reject(m, "timeout"); if (e === w && m) return m.abort("server abort"), void x.reject(m, "error", "server abort"); if (D && D.location.href !== I.iframeSrc || B) { p.detachEvent ? p.detachEvent("onload", s) : p.removeEventListener("load", s, !1); var n, a = "success"; try { if (B) throw "timeout"; var r = "xml" === I.dataType || D.XMLDocument || t.isXMLDoc(D); if (i("isXml=" + r), !r && window.opera && (null === D.body || !D.body.innerHTML) && --U) return i("requeing onLoad callback, DOM not available"), void setTimeout(s, 250); var g = D.body ? D.body : D.documentElement; m.responseText = g ? g.innerHTML : null, m.responseXML = D.XMLDocument ? D.XMLDocument : D, r && (I.dataType = "xml"), m.getResponseHeader = function (t) { return { "content-type": I.dataType }[t.toLowerCase()] }, g && (m.status = Number(g.getAttribute("status")) || m.status, m.statusText = g.getAttribute("statusText") || m.statusText); var l = (I.dataType || "").toLowerCase(), c = /(json|script|text)/.test(l); if (c || I.textarea) { var u = D.getElementsByTagName("textarea")[0]; if (u) m.responseText = u.value, m.status = Number(u.getAttribute("status")) || m.status, m.statusText = u.getAttribute("statusText") || m.statusText; else if (c) { var d = D.getElementsByTagName("pre")[0], A = D.getElementsByTagName("body")[0]; d ? m.responseText = d.textContent ? d.textContent : d.innerText : A && (m.responseText = A.textContent ? A.textContent : A.innerText) } } else "xml" === l && !m.responseXML && m.responseText && (m.responseXML = W(m.responseText)); try { k = N(m, l, I) } catch (e) { a = "parsererror", m.error = n = e || a } } catch (e) { i("error caught: ", e), a = "error", m.error = n = e || a } m.aborted && (i("upload aborted"), a = null), m.status && (a = 200 <= m.status && m.status < 300 || 304 === m.status ? "success" : "error"), "success" === a ? (I.success && I.success.call(I.context, k, "success", m), x.resolve(m.responseText, "success", m), h && t.event.trigger("ajaxSuccess", [m, I])) : a && (void 0 === n && (n = m.statusText), I.error && I.error.call(I.context, m, a, n), x.reject(m, "error", n), h && t.event.trigger("ajaxError", [m, I, n])), h && t.event.trigger("ajaxComplete", [m, I]), h && !--t.active && t.event.trigger("ajaxStop"), I.complete && I.complete.call(I.context, m, a), Z = !0, I.timeout && clearTimeout(y), setTimeout(function () { I.iframeTarget ? C.attr("src", I.iframeSrc) : C.remove(), m.responseXML = null }, 100) } } } var g, c, I, h, d, C, p, m, f, b, B, y, v = u[0], x = t.Deferred(); if (x.abort = function (t) { m.abort(t) }, n) for (c = 0; c < A.length; c++)g = t(A[c]), r ? g.prop("disabled", !1) : g.removeAttr("disabled"); (I = t.extend(!0, {}, t.ajaxSettings, e)).context = I.context || I, d = "jqFormIO" + (new Date).getTime(); var F = v.ownerDocument, Q = u.closest("body"); if (I.iframeTarget ? (b = (C = t(I.iframeTarget, F)).attr2("name")) ? d = b : C.attr2("name", d) : (C = t('<iframe name="' + d + '" src="' + I.iframeSrc + '" />', F)).css({ position: "absolute", top: "-1000px", left: "-1000px" }), p = C[0], m = { aborted: 0, responseText: null, responseXML: null, status: 0, statusText: "n/a", getAllResponseHeaders: function () { }, getResponseHeader: function () { }, setRequestHeader: function () { }, abort: function (e) { var n = "timeout" === e ? "timeout" : "aborted"; i("aborting upload... " + n), this.aborted = 1; try { p.contentWindow.document.execCommand && p.contentWindow.document.execCommand("Stop") } catch (e) { } C.attr("src", I.iframeSrc), m.error = n, I.error && I.error.call(I.context, m, n, e), h && t.event.trigger("ajaxError", [m, I, n]), I.complete && I.complete.call(I.context, m, n) } }, (h = I.global) && 0 == t.active++ && t.event.trigger("ajaxStart"), h && t.event.trigger("ajaxSend", [m, I]), I.beforeSend && !1 === I.beforeSend.call(I.context, m, I)) return I.global && t.active--, x.reject(), x; if (m.aborted) return x.reject(), x; (f = v.clk) && (b = f.name) && !f.disabled && (I.extraData = I.extraData || {}, I.extraData[b] = f.value, "image" === f.type && (I.extraData[b + ".x"] = v.clk_x, I.extraData[b + ".y"] = v.clk_y)); var G = 1, w = 2, X = t("meta[name=csrf-token]").attr("content"), S = t("meta[name=csrf-param]").attr("content"); S && X && (I.extraData = I.extraData || {}, I.extraData[S] = X), I.forceSync ? a() : setTimeout(a, 10); var k, D, Z, U = 50, W = t.parseXML || function (t, e) { return window.ActiveXObject ? ((e = new ActiveXObject("Microsoft.XMLDOM")).async = "false", e.loadXML(t)) : e = (new DOMParser).parseFromString(t, "text/xml"), e && e.documentElement && "parsererror" !== e.documentElement.nodeName ? e : null }, T = t.parseJSON || function (t) { return window.eval("(" + t + ")") }, N = function (e, n, i) { var o = e.getResponseHeader("content-type") || "", a = ("xml" === n || !n) && 0 <= o.indexOf("xml"), r = a ? e.responseXML : e.responseText; return a && "parsererror" === r.documentElement.nodeName && t.error && t.error("parsererror"), i && i.dataFilter && (r = i.dataFilter(r, n)), "string" == typeof r && (("json" === n || !n) && 0 <= o.indexOf("json") ? r = T(r) : ("script" === n || !n) && 0 <= o.indexOf("javascript") && t.globalEval(r)), r }; return x } if (!this.length) return i("ajaxSubmit: skipping submit process - no element selected"), this; var l, c, I, u = this; "function" == typeof e ? e = { success: e } : "string" == typeof e || !1 === e && 0 < arguments.length ? (e = { url: e, data: n, dataType: o }, "function" == typeof s && (e.success = s)) : void 0 === e && (e = {}), l = e.method || e.type || this.attr2("method"), (I = (I = "string" == typeof (c = e.url || this.attr2("action")) ? t.trim(c) : "") || window.location.href || "") && (I = (I.match(/^([^#]+)/) || [])[1]), e = t.extend(!0, { url: I, success: t.ajaxSettings.success, type: l || t.ajaxSettings.type, iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank" }, e); var h = {}; if (this.trigger("form-pre-serialize", [this, e, h]), h.veto) return i("ajaxSubmit: submit vetoed via form-pre-serialize trigger"), this; if (e.beforeSerialize && !1 === e.beforeSerialize(this, e)) return i("ajaxSubmit: submit aborted via beforeSerialize callback"), this; var d = e.traditional; void 0 === d && (d = t.ajaxSettings.traditional); var C, A = [], p = this.formToArray(e.semantic, A, e.filtering); if (e.data) { var m = t.isFunction(e.data) ? e.data(p) : e.data; e.extraData = m, C = t.param(m, d) } if (e.beforeSubmit && !1 === e.beforeSubmit(p, this, e)) return i("ajaxSubmit: submit aborted via beforeSubmit callback"), this; if (this.trigger("form-submit-validate", [p, this, e, h]), h.veto) return i("ajaxSubmit: submit vetoed via form-submit-validate trigger"), this; var f = t.param(p, d); C && (f = f ? f + "&" + C : C), "GET" === e.type.toUpperCase() ? (e.url += (0 <= e.url.indexOf("?") ? "&" : "?") + f, e.data = null) : e.data = f; var b = []; if (e.resetForm && b.push(function () { u.resetForm() }), e.clearForm && b.push(function () { u.clearForm(e.includeHidden) }), !e.dataType && e.target) { var B = e.success || function () { }; b.push(function (n, i, o) { var a = arguments, r = e.replaceTarget ? "replaceWith" : "html"; t(e.target)[r](n).each(function () { B.apply(this, a) }) }) } else e.success && (t.isArray(e.success) ? t.merge(b, e.success) : b.push(e.success)); if (e.success = function (t, n, i) { for (var o = e.context || this, a = 0, r = b.length; a < r; a++)b[a].apply(o, [t, n, i || u, u]) }, e.error) { var y = e.error; e.error = function (t, n, i) { var o = e.context || this; y.apply(o, [t, n, i, u]) } } if (e.complete) { var v = e.complete; e.complete = function (t, n) { var i = e.context || this; v.apply(i, [t, n, u]) } } var x = 0 < t("input[type=file]:enabled", this).filter(function () { return "" !== t(this).val() }).length, F = "multipart/form-data", Q = u.attr("enctype") === F || u.attr("encoding") === F, G = a.fileapi && a.formdata; i("fileAPI :" + G); var w, X = (x || Q) && !G; !1 !== e.iframe && (e.iframe || X) ? e.closeKeepAlive ? t.get(e.closeKeepAlive, function () { w = g(p) }) : w = g(p) : w = (x || Q) && G ? function (n) { for (var i = new FormData, o = 0; o < n.length; o++)i.append(n[o].name, n[o].value); if (e.extraData) { var a = function (n) { var i, o, a = t.param(n, e.traditional).split("&"), r = a.length, s = []; for (i = 0; i < r; i++)a[i] = a[i].replace(/\+/g, " "), o = a[i].split("="), s.push([decodeURIComponent(o[0]), decodeURIComponent(o[1])]); return s }(e.extraData); for (o = 0; o < a.length; o++)a[o] && i.append(a[o][0], a[o][1]) } e.data = null; var r = t.extend(!0, {}, t.ajaxSettings, e, { contentType: !1, processData: !1, cache: !1, type: l || "POST" }); e.uploadProgress && (r.xhr = function () { var n = t.ajaxSettings.xhr(); return n.upload && n.upload.addEventListener("progress", function (t) { var n = 0, i = t.loaded || t.position, o = t.total; t.lengthComputable && (n = Math.ceil(i / o * 100)), e.uploadProgress(t, i, o, n) }, !1), n }), r.data = null; var s = r.beforeSend; return r.beforeSend = function (t, n) { e.formData ? n.data = e.formData : n.data = i, s && s.call(this, t, n) }, t.ajax(r) }(p) : t.ajax(e), u.removeData("jqxhr").data("jqxhr", w); for (var S = 0; S < A.length; S++)A[S] = null; return this.trigger("form-submit-notify", [this, e]), this }, t.fn.ajaxForm = function (o, a, r, s) { if (("string" == typeof o || !1 === o && 0 < arguments.length) && (o = { url: o, data: a, dataType: r }, "function" == typeof s && (o.success = s)), (o = o || {}).delegation = o.delegation && t.isFunction(t.fn.on), o.delegation || 0 !== this.length) return o.delegation ? (t(document).off("submit.form-plugin", this.selector, e).off("click.form-plugin", this.selector, n).on("submit.form-plugin", this.selector, o, e).on("click.form-plugin", this.selector, o, n), this) : this.ajaxFormUnbind().on("submit.form-plugin", o, e).on("click.form-plugin", o, n); var g = { s: this.selector, c: this.context }; return !t.isReady && g.s ? (i("DOM not ready, queuing ajaxForm"), t(function () { t(g.s, g.c).ajaxForm(o) })) : i("terminating; zero elements found by selector" + (t.isReady ? "" : " (DOM not ready)")), this }, t.fn.ajaxFormUnbind = function () { return this.off("submit.form-plugin click.form-plugin") }, t.fn.formToArray = function (e, n, i) { var o = []; if (0 === this.length) return o; var r, s, g, l, c, I, u, h, d = this[0], C = this.attr("id"), A = e || void 0 === d.elements ? d.getElementsByTagName("*") : d.elements; if (A && (A = t.makeArray(A)), C && (e || /(Edge|Trident)\//.test(navigator.userAgent)) && (r = t(':input[form="' + C + '"]').get()).length && (A = (A || []).concat(r)), !A || !A.length) return o; for (t.isFunction(i) && (A = t.map(A, i)), s = 0, u = A.length; s < u; s++)if ((l = (I = A[s]).name) && !I.disabled) if (e && d.clk && "image" === I.type) d.clk === I && (o.push({ name: l, value: t(I).val(), type: I.type }), o.push({ name: l + ".x", value: d.clk_x }, { name: l + ".y", value: d.clk_y })); else if ((c = t.fieldValue(I, !0)) && c.constructor === Array) for (n && n.push(I), g = 0, h = c.length; g < h; g++)o.push({ name: l, value: c[g] }); else if (a.fileapi && "file" === I.type) { n && n.push(I); var p = I.files; if (p.length) for (g = 0; g < p.length; g++)o.push({ name: l, value: p[g], type: I.type }); else o.push({ name: l, value: "", type: I.type }) } else null != c && (n && n.push(I), o.push({ name: l, value: c, type: I.type, required: I.required })); if (!e && d.clk) { var m = t(d.clk), f = m[0]; (l = f.name) && !f.disabled && "image" === f.type && (o.push({ name: l, value: m.val() }), o.push({ name: l + ".x", value: d.clk_x }, { name: l + ".y", value: d.clk_y })) } return o }, t.fn.formSerialize = function (e) { return t.param(this.formToArray(e)) }, t.fn.fieldSerialize = function (e) { var n = []; return this.each(function () { var i = this.name; if (i) { var o = t.fieldValue(this, e); if (o && o.constructor === Array) for (var a = 0, r = o.length; a < r; a++)n.push({ name: i, value: o[a] }); else null != o && n.push({ name: this.name, value: o }) } }), t.param(n) }, t.fn.fieldValue = function (e) { for (var n = [], i = 0, o = this.length; i < o; i++) { var a = this[i], r = t.fieldValue(a, e); null == r || r.constructor === Array && !r.length || (r.constructor === Array ? t.merge(n, r) : n.push(r)) } return n }, t.fieldValue = function (e, n) { var i = e.name, a = e.type, r = e.tagName.toLowerCase(); if (void 0 === n && (n = !0), n && (!i || e.disabled || "reset" === a || "button" === a || ("checkbox" === a || "radio" === a) && !e.checked || ("submit" === a || "image" === a) && e.form && e.form.clk !== e || "select" === r && -1 === e.selectedIndex)) return null; if ("select" !== r) return t(e).val().replace(o, "\r\n"); var s = e.selectedIndex; if (s < 0) return null; for (var g = [], l = e.options, c = "select-one" === a, I = c ? s + 1 : l.length, u = c ? s : 0; u < I; u++) { var h = l[u]; if (h.selected && !h.disabled) { var d = h.value; if (d || (d = h.attributes && h.attributes.value && !h.attributes.value.specified ? h.text : h.value), c) return d; g.push(d) } } return g }, t.fn.clearForm = function (e) { return this.each(function () { t("input,select,textarea", this).clearFields(e) }) }, t.fn.clearFields = t.fn.clearInputs = function (e) { var n = /^(?:color|date|datetime|email|month|number|password|range|search|tel|text|time|url|week)$/i; return this.each(function () { var i = this.type, o = this.tagName.toLowerCase(); n.test(i) || "textarea" === o ? this.value = "" : "checkbox" === i || "radio" === i ? this.checked = !1 : "select" === o ? this.selectedIndex = -1 : "file" === i ? /MSIE/.test(navigator.userAgent) ? t(this).replaceWith(t(this).clone(!0)) : t(this).val("") : e && (!0 === e && /hidden/.test(i) || "string" == typeof e && t(this).is(e)) && (this.value = "") }) }, t.fn.resetForm = function () { return this.each(function () { var e = t(this), n = this.tagName.toLowerCase(); switch (n) { case "input": this.checked = this.defaultChecked; case "textarea": return this.value = this.defaultValue, !0; case "option": case "optgroup": var i = e.parents("select"); return i.length && i[0].multiple ? "option" === n ? this.selected = this.defaultSelected : e.find("option").resetForm() : i.resetForm(), !0; case "select": return e.find("option").each(function (t) { if (this.selected = this.defaultSelected, this.defaultSelected && !e[0].multiple) return e[0].selectedIndex = t, !1 }), !0; case "label": var o = t(e.attr("for")), a = e.find("input,select,textarea"); return o[0] && a.unshift(o[0]), a.resetForm(), !0; case "form": return "function" != typeof this.reset && ("object" != typeof this.reset || this.reset.nodeType) || this.reset(), !0; default: return e.find("form,input,label,select,textarea").resetForm(), !0 } }) }, t.fn.enable = function (t) { return void 0 === t && (t = !0), this.each(function () { this.disabled = !t }) }, t.fn.selected = function (e) { return void 0 === e && (e = !0), this.each(function () { var n = this.type; if ("checkbox" === n || "radio" === n) this.checked = e; else if ("option" === this.tagName.toLowerCase()) { var i = t(this).parent("select"); e && i[0] && "select-one" === i[0].type && i.find("option").selected(!1), this.selected = e } }) }, t.fn.ajaxSubmit.debug = !1 }), function () { "use strict"; function t(t) { t.fn._fadeIn = t.fn.fadeIn; var e = t.noop || function () { }, n = /MSIE/.test(navigator.userAgent), i = /MSIE 6.0/.test(navigator.userAgent) && !/MSIE 8.0/.test(navigator.userAgent), o = (document.documentMode, t.isFunction(document.createElement("div").style.setExpression)); t.blockUI = function (t) { s(window, t) }, t.unblockUI = function (t) { g(window, t) }, t.growlUI = function (e, n, i, o) { var a = t('<div class="growlUI"></div>'); function r(e) { e = e || {}, t.blockUI({ message: a, fadeIn: void 0 !== e.fadeIn ? e.fadeIn : 700, fadeOut: void 0 !== e.fadeOut ? e.fadeOut : 1e3, timeout: void 0 !== e.timeout ? e.timeout : i, centerY: !1, showOverlay: !1, onUnblock: o, css: t.blockUI.defaults.growlCSS }) } e && a.append("<h1>" + e + "</h1>"), n && a.append("<h2>" + n + "</h2>"), void 0 === i && (i = 3e3), r(), a.css("opacity"), a.mouseover(function () { r({ fadeIn: 0, timeout: 3e4 }); var e = t(".blockMsg"); e.stop(), e.fadeTo(300, 1) }).mouseout(function () { t(".blockMsg").fadeOut(1e3) }) }, t.fn.block = function (e) { if (this[0] === window) return t.blockUI(e), this; var n = t.extend({}, t.blockUI.defaults, e || {}); return this.each(function () { var e = t(this); n.ignoreIfBlocked && e.data("blockUI.isBlocked") || e.unblock({ fadeOut: 0 }) }), this.each(function () { "static" == t.css(this, "position") && (this.style.position = "relative", t(this).data("blockUI.static", !0)), this.style.zoom = 1, s(this, e) }) }, t.fn.unblock = function (e) { return this[0] === window ? (t.unblockUI(e), this) : this.each(function () { g(this, e) }) }, t.blockUI.version = 2.7, t.blockUI.defaults = { message: "<h1>Please wait...</h1>", title: null, draggable: !0, theme: !1, css: { padding: 0, margin: 0, width: "30%", top: "40%", left: "35%", textAlign: "center", color: "#000", border: "3px solid #aaa", backgroundColor: "#fff", cursor: "wait" }, themedCSS: { width: "30%", top: "40%", left: "35%" }, overlayCSS: { backgroundColor: "#000", opacity: .6, cursor: "wait" }, cursorReset: "default", growlCSS: { width: "350px", top: "10px", left: "", right: "10px", border: "none", padding: "5px", opacity: .6, cursor: "default", color: "#fff", backgroundColor: "#000", "-webkit-border-radius": "10px", "-moz-border-radius": "10px", "border-radius": "10px" }, iframeSrc: /^https/i.test(window.location.href || "") ? "javascript:false" : "about:blank", forceIframe: !1, baseZ: 1e3, centerX: !0, centerY: !0, allowBodyStretch: !0, bindEvents: !0, constrainTabKey: !0, fadeIn: 200, fadeOut: 400, timeout: 0, showOverlay: !0, focusInput: !0, focusableElements: ":input:enabled:visible", onBlock: null, onUnblock: null, onOverlayClick: null, quirksmodeOffsetHack: 4, blockMsgClass: "blockMsg", ignoreIfBlocked: !1 }; var a = null, r = []; function s(s, l) { var I, d, C = s == window, A = l && void 0 !== l.message ? l.message : void 0; if (!(l = t.extend({}, t.blockUI.defaults, l || {})).ignoreIfBlocked || !t(s).data("blockUI.isBlocked")) { if (l.overlayCSS = t.extend({}, t.blockUI.defaults.overlayCSS, l.overlayCSS || {}), I = t.extend({}, t.blockUI.defaults.css, l.css || {}), l.onOverlayClick && (l.overlayCSS.cursor = "pointer"), d = t.extend({}, t.blockUI.defaults.themedCSS, l.themedCSS || {}), A = void 0 === A ? l.message : A, C && a && g(window, { fadeOut: 0 }), A && "string" != typeof A && (A.parentNode || A.jquery)) { var p = A.jquery ? A[0] : A, m = {}; t(s).data("blockUI.history", m), m.el = p, m.parent = p.parentNode, m.display = p.style.display, m.position = p.style.position, m.parent && m.parent.removeChild(p) } t(s).data("blockUI.onUnblock", l.onUnblock); var f, b, B, y, v = l.baseZ; f = n || l.forceIframe ? t('<iframe class="blockUI" style="z-index:' + v++ + ';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="' + l.iframeSrc + '"></iframe>') : t('<div class="blockUI" style="display:none"></div>'), b = l.theme ? t('<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:' + v++ + ';display:none"></div>') : t('<div class="blockUI blockOverlay" style="z-index:' + v++ + ';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'), l.theme && C ? (y = '<div class="blockUI ' + l.blockMsgClass + ' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:' + (v + 10) + ';display:none;position:fixed">', l.title && (y += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (l.title || "&nbsp;") + "</div>"), y += '<div class="ui-widget-content ui-dialog-content"></div>', y += "</div>") : l.theme ? (y = '<div class="blockUI ' + l.blockMsgClass + ' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:' + (v + 10) + ';display:none;position:absolute">', l.title && (y += '<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">' + (l.title || "&nbsp;") + "</div>"), y += '<div class="ui-widget-content ui-dialog-content"></div>', y += "</div>") : y = C ? '<div class="blockUI ' + l.blockMsgClass + ' blockPage" style="z-index:' + (v + 10) + ';display:none;position:fixed"></div>' : '<div class="blockUI ' + l.blockMsgClass + ' blockElement" style="z-index:' + (v + 10) + ';display:none;position:absolute"></div>', B = t(y), A && (l.theme ? (B.css(d), B.addClass("ui-widget-content")) : B.css(I)), l.theme || b.css(l.overlayCSS), b.css("position", C ? "fixed" : "absolute"), (n || l.forceIframe) && f.css("opacity", 0); var x = [f, b, B], F = t(C ? "body" : s); t.each(x, function () { this.appendTo(F) }), l.theme && l.draggable && t.fn.draggable && B.draggable({ handle: ".ui-dialog-titlebar", cancel: "li" }); var Q = o && (!t.support.boxModel || 0 < t("object,embed", C ? null : s).length); if (i || Q) { if (C && l.allowBodyStretch && t.support.boxModel && t("html,body").css("height", "100%"), (i || !t.support.boxModel) && !C) var G = h(s, "borderTopWidth"), w = h(s, "borderLeftWidth"), X = G ? "(0 - " + G + ")" : 0, S = w ? "(0 - " + w + ")" : 0; t.each(x, function (t, e) { var n = e[0].style; if (n.position = "absolute", t < 2) C ? n.setExpression("height", "Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:" + l.quirksmodeOffsetHack + ') + "px"') : n.setExpression("height", 'this.parentNode.offsetHeight + "px"'), C ? n.setExpression("width", 'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"') : n.setExpression("width", 'this.parentNode.offsetWidth + "px"'), S && n.setExpression("left", S), X && n.setExpression("top", X); else if (l.centerY) C && n.setExpression("top", '(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'), n.marginTop = 0; else if (!l.centerY && C) { var i = "((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + " + (l.css && l.css.top ? parseInt(l.css.top, 10) : 0) + ') + "px"'; n.setExpression("top", i) } }) } if (A && (l.theme ? B.find(".ui-widget-content").append(A) : B.append(A), (A.jquery || A.nodeType) && t(A).show()), (n || l.forceIframe) && l.showOverlay && f.show(), l.fadeIn) { var k = l.onBlock ? l.onBlock : e, D = l.showOverlay && !A ? k : e, Z = A ? k : e; l.showOverlay && b._fadeIn(l.fadeIn, D), A && B._fadeIn(l.fadeIn, Z) } else l.showOverlay && b.show(), A && B.show(), l.onBlock && l.onBlock.bind(B)(); if (c(1, s, l), C ? (a = B[0], r = t(l.focusableElements, a), l.focusInput && setTimeout(u, 20)) : function (t, e, n) { var i = t.parentNode, o = t.style, a = (i.offsetWidth - t.offsetWidth) / 2 - h(i, "borderLeftWidth"), r = (i.offsetHeight - t.offsetHeight) / 2 - h(i, "borderTopWidth"); e && (o.left = 0 < a ? a + "px" : "0"), n && (o.top = 0 < r ? r + "px" : "0") }(B[0], l.centerX, l.centerY), l.timeout) { var U = setTimeout(function () { C ? t.unblockUI(l) : t(s).unblock(l) }, l.timeout); t(s).data("blockUI.timeout", U) } } } function g(e, n) { var i, o, s = e == window, g = t(e), I = g.data("blockUI.history"), u = g.data("blockUI.timeout"); u && (clearTimeout(u), g.removeData("blockUI.timeout")), n = t.extend({}, t.blockUI.defaults, n || {}), c(0, e, n), null === n.onUnblock && (n.onUnblock = g.data("blockUI.onUnblock"), g.removeData("blockUI.onUnblock")), o = s ? t("body").children().filter(".blockUI").add("body > .blockUI") : g.find(">.blockUI"), n.cursorReset && (1 < o.length && (o[1].style.cursor = n.cursorReset), 2 < o.length && (o[2].style.cursor = n.cursorReset)), s && (a = r = null), n.fadeOut ? (i = o.length, o.stop().fadeOut(n.fadeOut, function () { 0 == --i && l(o, I, n, e) })) : l(o, I, n, e) } function l(e, n, i, o) { var a = t(o); if (!a.data("blockUI.isBlocked")) { e.each(function (t, e) { this.parentNode && this.parentNode.removeChild(this) }), n && n.el && (n.el.style.display = n.display, n.el.style.position = n.position, n.el.style.cursor = "default", n.parent && n.parent.appendChild(n.el), a.removeData("blockUI.history")), a.data("blockUI.static") && a.css("position", "static"), "function" == typeof i.onUnblock && i.onUnblock(o, i); var r = t(document.body), s = r.width(), g = r[0].style.width; r.width(s - 1).width(s), r[0].style.width = g } } function c(e, n, i) { var o = n == window, r = t(n); if ((e || (!o || a) && (o || r.data("blockUI.isBlocked"))) && (r.data("blockUI.isBlocked", e), o && i.bindEvents && (!e || i.showOverlay))) { var s = "mousedown mouseup keydown keypress keyup touchstart touchend touchmove"; e ? t(document).bind(s, i, I) : t(document).unbind(s, I) } } function I(e) { if ("keydown" === e.type && e.keyCode && 9 == e.keyCode && a && e.data.constrainTabKey) { var n = r, i = !e.shiftKey && e.target === n[n.length - 1], o = e.shiftKey && e.target === n[0]; if (i || o) return setTimeout(function () { u(o) }, 10), !1 } var s = e.data, g = t(e.target); return g.hasClass("blockOverlay") && s.onOverlayClick && s.onOverlayClick(e), 0 < g.parents("div." + s.blockMsgClass).length || 0 === g.parents().children().filter("div.blockUI").length } function u(t) { if (r) { var e = r[!0 === t ? r.length - 1 : 0]; e && e.focus() } } function h(e, n) { return parseInt(t.css(e, n), 10) || 0 } } "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? t(require("jquery")) : t(jQuery) }(), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : t("object" == typeof exports ? require("jquery") : jQuery) }(function (t, e) { function n() { return new Date(Date.UTC.apply(Date, arguments)) } function i() { var t = new Date; return n(t.getFullYear(), t.getMonth(), t.getDate()) } function o(t, e) { return t.getUTCFullYear() === e.getUTCFullYear() && t.getUTCMonth() === e.getUTCMonth() && t.getUTCDate() === e.getUTCDate() } function a(n, i) { return function () { return i !== e && t.fn.datepicker.deprecated(i), this[n].apply(this, arguments) } } function r(e, n) { t.data(e, "datepicker", this), this._process_options(n), this.dates = new g, this.viewDate = this.o.defaultViewDate, this.focusDate = null, this.element = t(e), this.isInput = this.element.is("input"), this.inputField = this.isInput ? this.element : this.element.find("input"), this.component = !!this.element.hasClass("date") && this.element.find(".add-on, .input-group-addon, .btn"), this.component && 0 === this.component.length && (this.component = !1), this.isInline = !this.component && this.element.is("div"), this.picker = t(C.template), this._check_template(this.o.templates.leftArrow) && this.picker.find(".prev").html(this.o.templates.leftArrow), this._check_template(this.o.templates.rightArrow) && this.picker.find(".next").html(this.o.templates.rightArrow), this._buildEvents(), this._attachEvents(), this.isInline ? this.picker.addClass("datepicker-inline").appendTo(this.element) : this.picker.addClass("datepicker-dropdown dropdown-menu"), this.o.rtl && this.picker.addClass("datepicker-rtl"), this.o.calendarWeeks && this.picker.find(".datepicker-days .datepicker-switch, thead .datepicker-title, tfoot .today, tfoot .clear").attr("colspan", function (t, e) { return Number(e) + 1 }), this._process_options({ startDate: this._o.startDate, endDate: this._o.endDate, daysOfWeekDisabled: this.o.daysOfWeekDisabled, daysOfWeekHighlighted: this.o.daysOfWeekHighlighted, datesDisabled: this.o.datesDisabled }), this._allow_update = !1, this.setViewMode(this.o.startView), this._allow_update = !0, this.fillDow(), this.fillMonths(), this.update(), this.isInline && this.show() } var s, g = (s = { get: function (t) { return this.slice(t)[0] }, contains: function (t) { for (var e = t && t.valueOf(), n = 0, i = this.length; n < i; n++)if (0 <= this[n].valueOf() - e && this[n].valueOf() - e < 864e5) return n; return -1 }, remove: function (t) { this.splice(t, 1) }, replace: function (e) { e && (t.isArray(e) || (e = [e]), this.clear(), this.push.apply(this, e)) }, clear: function () { this.length = 0 }, copy: function () { var t = new g; return t.replace(this), t } }, function () { var e = []; return e.push.apply(e, arguments), t.extend(e, s), e }); function l(e, n) { t.data(e, "datepicker", this), this.element = t(e), this.inputs = t.map(n.inputs, function (t) { return t.jquery ? t[0] : t }), delete n.inputs, this.keepEmptyValues = n.keepEmptyValues, delete n.keepEmptyValues, I.call(t(this.inputs), n).on("changeDate", t.proxy(this.dateUpdated, this)), this.pickers = t.map(this.inputs, function (e) { return t.data(e, "datepicker") }), this.updateDates() } r.prototype = { constructor: r, _resolveViewName: function (e) { return t.each(C.viewModes, function (n, i) { if (e === n || -1 !== t.inArray(e, i.names)) return e = n, !1 }), e }, _resolveDaysOfWeek: function (e) { return t.isArray(e) || (e = e.split(/[,\s]*/)), t.map(e, Number) }, _check_template: function (n) { try { return n !== e && "" !== n && ((n.match(/[<>]/g) || []).length <= 0 || 0 < t(n).length) } catch (n) { return !1 } }, _process_options: function (e) { this._o = t.extend({}, this._o, e); var o = this.o = t.extend({}, this._o), a = o.language; d[a] || (a = a.split("-")[0], d[a] || (a = u.language)), o.language = a, o.startView = this._resolveViewName(o.startView), o.minViewMode = this._resolveViewName(o.minViewMode), o.maxViewMode = this._resolveViewName(o.maxViewMode), o.startView = Math.max(this.o.minViewMode, Math.min(this.o.maxViewMode, o.startView)), !0 !== o.multidate && (o.multidate = Number(o.multidate) || !1, !1 !== o.multidate && (o.multidate = Math.max(0, o.multidate))), o.multidateSeparator = String(o.multidateSeparator), o.weekStart %= 7, o.weekEnd = (o.weekStart + 6) % 7; var r = C.parseFormat(o.format); o.startDate !== -1 / 0 && (o.startDate ? o.startDate instanceof Date ? o.startDate = this._local_to_utc(this._zero_time(o.startDate)) : o.startDate = C.parseDate(o.startDate, r, o.language, o.assumeNearbyYear) : o.startDate = -1 / 0), o.endDate !== 1 / 0 && (o.endDate ? o.endDate instanceof Date ? o.endDate = this._local_to_utc(this._zero_time(o.endDate)) : o.endDate = C.parseDate(o.endDate, r, o.language, o.assumeNearbyYear) : o.endDate = 1 / 0), o.daysOfWeekDisabled = this._resolveDaysOfWeek(o.daysOfWeekDisabled || []), o.daysOfWeekHighlighted = this._resolveDaysOfWeek(o.daysOfWeekHighlighted || []), o.datesDisabled = o.datesDisabled || [], t.isArray(o.datesDisabled) || (o.datesDisabled = o.datesDisabled.split(",")), o.datesDisabled = t.map(o.datesDisabled, function (t) { return C.parseDate(t, r, o.language, o.assumeNearbyYear) }); var s = String(o.orientation).toLowerCase().split(/\s+/g), g = o.orientation.toLowerCase(); if (s = t.grep(s, function (t) { return /^auto|left|right|top|bottom$/.test(t) }), o.orientation = { x: "auto", y: "auto" }, g && "auto" !== g) if (1 === s.length) switch (s[0]) { case "top": case "bottom": o.orientation.y = s[0]; break; case "left": case "right": o.orientation.x = s[0] } else g = t.grep(s, function (t) { return /^left|right$/.test(t) }), o.orientation.x = g[0] || "auto", g = t.grep(s, function (t) { return /^top|bottom$/.test(t) }), o.orientation.y = g[0] || "auto"; if (o.defaultViewDate instanceof Date || "string" == typeof o.defaultViewDate) o.defaultViewDate = C.parseDate(o.defaultViewDate, r, o.language, o.assumeNearbyYear); else if (o.defaultViewDate) { var l = o.defaultViewDate.year || (new Date).getFullYear(), c = o.defaultViewDate.month || 0, I = o.defaultViewDate.day || 1; o.defaultViewDate = n(l, c, I) } else o.defaultViewDate = i() }, _events: [], _secondaryEvents: [], _applyEvents: function (t) { for (var n, i, o, a = 0; a < t.length; a++)n = t[a][0], 2 === t[a].length ? (i = e, o = t[a][1]) : 3 === t[a].length && (i = t[a][1], o = t[a][2]), n.on(o, i) }, _unapplyEvents: function (t) { for (var n, i, o, a = 0; a < t.length; a++)n = t[a][0], 2 === t[a].length ? (o = e, i = t[a][1]) : 3 === t[a].length && (o = t[a][1], i = t[a][2]), n.off(i, o) }, _buildEvents: function () { var e = { keyup: t.proxy(function (e) { -1 === t.inArray(e.keyCode, [27, 37, 39, 38, 40, 32, 13, 9]) && this.update() }, this), keydown: t.proxy(this.keydown, this), paste: t.proxy(this.paste, this) }; !0 === this.o.showOnFocus && (e.focus = t.proxy(this.show, this)), this.isInput ? this._events = [[this.element, e]] : this.component && this.inputField.length ? this._events = [[this.inputField, e], [this.component, { click: t.proxy(this.show, this) }]] : this._events = [[this.element, { click: t.proxy(this.show, this), keydown: t.proxy(this.keydown, this) }]], this._events.push([this.element, "*", { blur: t.proxy(function (t) { this._focused_from = t.target }, this) }], [this.element, { blur: t.proxy(function (t) { this._focused_from = t.target }, this) }]), this.o.immediateUpdates && this._events.push([this.element, { "changeYear changeMonth": t.proxy(function (t) { this.update(t.date) }, this) }]), this._secondaryEvents = [[this.picker, { click: t.proxy(this.click, this) }], [this.picker, ".prev, .next", { click: t.proxy(this.navArrowsClick, this) }], [this.picker, ".day:not(.disabled)", { click: t.proxy(this.dayCellClick, this) }], [t(window), { resize: t.proxy(this.place, this) }], [t(document), { "mousedown touchstart": t.proxy(function (t) { this.element.is(t.target) || this.element.find(t.target).length || this.picker.is(t.target) || this.picker.find(t.target).length || this.isInline || this.hide() }, this) }]] }, _attachEvents: function () { this._detachEvents(), this._applyEvents(this._events) }, _detachEvents: function () { this._unapplyEvents(this._events) }, _attachSecondaryEvents: function () { this._detachSecondaryEvents(), this._applyEvents(this._secondaryEvents) }, _detachSecondaryEvents: function () { this._unapplyEvents(this._secondaryEvents) }, _trigger: function (e, n) { var i = n || this.dates.get(-1), o = this._utc_to_local(i); this.element.trigger({ type: e, date: o, viewMode: this.viewMode, dates: t.map(this.dates, this._utc_to_local), format: t.proxy(function (t, e) { 0 === arguments.length ? (t = this.dates.length - 1, e = this.o.format) : "string" == typeof t && (e = t, t = this.dates.length - 1), e = e || this.o.format; var n = this.dates.get(t); return C.formatDate(n, e, this.o.language) }, this) }) }, show: function () { if (!(this.inputField.prop("disabled") || this.inputField.prop("readonly") && !1 === this.o.enableOnReadonly)) return this.isInline || this.picker.appendTo(this.o.container), this.place(), this.picker.show(), this._attachSecondaryEvents(), this._trigger("show"), (window.navigator.msMaxTouchPoints || "ontouchstart" in document) && this.o.disableTouchKeyboard && t(this.element).blur(), this }, hide: function () { return this.isInline || !this.picker.is(":visible") || (this.focusDate = null, this.picker.hide().detach(), this._detachSecondaryEvents(), this.setViewMode(this.o.startView), this.o.forceParse && this.inputField.val() && this.setValue(), this._trigger("hide")), this }, destroy: function () { return this.hide(), this._detachEvents(), this._detachSecondaryEvents(), this.picker.remove(), delete this.element.data().datepicker, this.isInput || delete this.element.data().date, this }, paste: function (e) { var n; if (e.originalEvent.clipboardData && e.originalEvent.clipboardData.types && -1 !== t.inArray("text/plain", e.originalEvent.clipboardData.types)) n = e.originalEvent.clipboardData.getData("text/plain"); else { if (!window.clipboardData) return; n = window.clipboardData.getData("Text") } this.setDate(n), this.update(), e.preventDefault() }, _utc_to_local: function (t) { if (!t) return t; var e = new Date(t.getTime() + 6e4 * t.getTimezoneOffset()); return e.getTimezoneOffset() !== t.getTimezoneOffset() && (e = new Date(t.getTime() + 6e4 * e.getTimezoneOffset())), e }, _local_to_utc: function (t) { return t && new Date(t.getTime() - 6e4 * t.getTimezoneOffset()) }, _zero_time: function (t) { return t && new Date(t.getFullYear(), t.getMonth(), t.getDate()) }, _zero_utc_time: function (t) { return t && n(t.getUTCFullYear(), t.getUTCMonth(), t.getUTCDate()) }, getDates: function () { return t.map(this.dates, this._utc_to_local) }, getUTCDates: function () { return t.map(this.dates, function (t) { return new Date(t) }) }, getDate: function () { return this._utc_to_local(this.getUTCDate()) }, getUTCDate: function () { var t = this.dates.get(-1); return t !== e ? new Date(t) : null }, clearDates: function () { this.inputField.val(""), this.update(), this._trigger("changeDate"), this.o.autoclose && this.hide() }, setDates: function () { var e = t.isArray(arguments[0]) ? arguments[0] : arguments; return this.update.apply(this, e), this._trigger("changeDate"), this.setValue(), this }, setUTCDates: function () { var e = t.isArray(arguments[0]) ? arguments[0] : arguments; return this.setDates.apply(this, t.map(e, this._utc_to_local)), this }, setDate: a("setDates"), setUTCDate: a("setUTCDates"), remove: a("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead"), setValue: function () { var t = this.getFormattedDate(); return this.inputField.val(t), this }, getFormattedDate: function (n) { n === e && (n = this.o.format); var i = this.o.language; return t.map(this.dates, function (t) { return C.formatDate(t, n, i) }).join(this.o.multidateSeparator) }, getStartDate: function () { return this.o.startDate }, setStartDate: function (t) { return this._process_options({ startDate: t }), this.update(), this.updateNavArrows(), this }, getEndDate: function () { return this.o.endDate }, setEndDate: function (t) { return this._process_options({ endDate: t }), this.update(), this.updateNavArrows(), this }, setDaysOfWeekDisabled: function (t) { return this._process_options({ daysOfWeekDisabled: t }), this.update(), this }, setDaysOfWeekHighlighted: function (t) { return this._process_options({ daysOfWeekHighlighted: t }), this.update(), this }, setDatesDisabled: function (t) { return this._process_options({ datesDisabled: t }), this.update(), this }, place: function () { if (this.isInline) return this; var e = this.picker.outerWidth(), n = this.picker.outerHeight(), i = t(this.o.container), o = i.width(), a = "body" === this.o.container ? t(document).scrollTop() : i.scrollTop(), r = i.offset(), s = [0]; this.element.parents().each(function () { var e = t(this).css("z-index"); "auto" !== e && 0 !== Number(e) && s.push(Number(e)) }); var g = Math.max.apply(Math, s) + this.o.zIndexOffset, l = this.component ? this.component.parent().offset() : this.element.offset(), c = this.component ? this.component.outerHeight(!0) : this.element.outerHeight(!1), I = this.component ? this.component.outerWidth(!0) : this.element.outerWidth(!1), u = l.left - r.left, h = l.top - r.top; "body" !== this.o.container && (h += a), this.picker.removeClass("datepicker-orient-top datepicker-orient-bottom datepicker-orient-right datepicker-orient-left"), "auto" !== this.o.orientation.x ? (this.picker.addClass("datepicker-orient-" + this.o.orientation.x), "right" === this.o.orientation.x && (u -= e - I)) : l.left < 0 ? (this.picker.addClass("datepicker-orient-left"), u -= l.left - 10) : o < u + e ? (this.picker.addClass("datepicker-orient-right"), u += I - e) : this.o.rtl ? this.picker.addClass("datepicker-orient-right") : this.picker.addClass("datepicker-orient-left"); var d = this.o.orientation.y; if ("auto" === d && (d = -a + h - n < 0 ? "bottom" : "top"), this.picker.addClass("datepicker-orient-" + d), "top" === d ? h -= n + parseInt(this.picker.css("padding-top")) : h += c, this.o.rtl) { var C = o - (u + I); this.picker.css({ top: h, right: C, zIndex: g }) } else this.picker.css({ top: h, left: u, zIndex: g }); return this }, _allow_update: !0, update: function () { if (!this._allow_update) return this; var e = this.dates.copy(), n = [], i = !1; return arguments.length ? (t.each(arguments, t.proxy(function (t, e) { e instanceof Date && (e = this._local_to_utc(e)), n.push(e) }, this)), i = !0) : (n = (n = this.isInput ? this.element.val() : this.element.data("date") || this.inputField.val()) && this.o.multidate ? n.split(this.o.multidateSeparator) : [n], delete this.element.data().date), n = t.map(n, t.proxy(function (t) { return C.parseDate(t, this.o.format, this.o.language, this.o.assumeNearbyYear) }, this)), n = t.grep(n, t.proxy(function (t) { return !this.dateWithinRange(t) || !t }, this), !0), this.dates.replace(n), this.o.updateViewDate && (this.dates.length ? this.viewDate = new Date(this.dates.get(-1)) : this.viewDate < this.o.startDate ? this.viewDate = new Date(this.o.startDate) : this.viewDate > this.o.endDate ? this.viewDate = new Date(this.o.endDate) : this.viewDate = this.o.defaultViewDate), i ? (this.setValue(), this.element.change()) : this.dates.length && String(e) !== String(this.dates) && i && (this._trigger("changeDate"), this.element.change()), !this.dates.length && e.length && (this._trigger("clearDate"), this.element.change()), this.fill(), this }, fillDow: function () { if (this.o.showWeekDays) { var e = this.o.weekStart, n = "<tr>"; for (this.o.calendarWeeks && (n += '<th class="cw">&#160;</th>'); e < this.o.weekStart + 7;)n += '<th class="dow', -1 !== t.inArray(e, this.o.daysOfWeekDisabled) && (n += " disabled"), n += '">' + d[this.o.language].daysMin[e++ % 7] + "</th>"; n += "</tr>", this.picker.find(".datepicker-days thead").append(n) } }, fillMonths: function () { for (var t = this._utc_to_local(this.viewDate), e = "", n = 0; n < 12; n++)e += '<span class="month' + (t && t.getMonth() === n ? " focused" : "") + '">' + d[this.o.language].monthsShort[n] + "</span>"; this.picker.find(".datepicker-months td").html(e) }, setRange: function (e) { e && e.length ? this.range = t.map(e, function (t) { return t.valueOf() }) : delete this.range, this.fill() }, getClassNames: function (e) { var n = [], a = this.viewDate.getUTCFullYear(), r = this.viewDate.getUTCMonth(), s = i(); return e.getUTCFullYear() < a || e.getUTCFullYear() === a && e.getUTCMonth() < r ? n.push("old") : (e.getUTCFullYear() > a || e.getUTCFullYear() === a && e.getUTCMonth() > r) && n.push("new"), this.focusDate && e.valueOf() === this.focusDate.valueOf() && n.push("focused"), this.o.todayHighlight && o(e, s) && n.push("today"), -1 !== this.dates.contains(e) && n.push("active"), this.dateWithinRange(e) || n.push("disabled"), this.dateIsDisabled(e) && n.push("disabled", "disabled-date"), -1 !== t.inArray(e.getUTCDay(), this.o.daysOfWeekHighlighted) && n.push("highlighted"), this.range && (e > this.range[0] && e < this.range[this.range.length - 1] && n.push("range"), -1 !== t.inArray(e.valueOf(), this.range) && n.push("selected"), e.valueOf() === this.range[0] && n.push("range-start"), e.valueOf() === this.range[this.range.length - 1] && n.push("range-end")), n }, _fill_yearsView: function (n, i, o, a, r, s, g) { for (var l, c, I, u = "", h = o / 10, d = this.picker.find(n), C = Math.floor(a / o) * o, A = C + 9 * h, p = Math.floor(this.viewDate.getFullYear() / h) * h, m = t.map(this.dates, function (t) { return Math.floor(t.getUTCFullYear() / h) * h }), f = C - h; f <= A + h; f += h)l = [i], c = null, f === C - h ? l.push("old") : f === A + h && l.push("new"), -1 !== t.inArray(f, m) && l.push("active"), (f < r || s < f) && l.push("disabled"), f === p && l.push("focused"), g !== t.noop && ((I = g(new Date(f, 0, 1))) === e ? I = {} : "boolean" == typeof I ? I = { enabled: I } : "string" == typeof I && (I = { classes: I }), !1 === I.enabled && l.push("disabled"), I.classes && (l = l.concat(I.classes.split(/\s+/))), I.tooltip && (c = I.tooltip)), u += '<span class="' + l.join(" ") + '"' + (c ? ' title="' + c + '"' : "") + ">" + f + "</span>"; d.find(".datepicker-switch").text(C + "-" + A), d.find("td").html(u) }, fill: function () { var i, o, a = new Date(this.viewDate), r = a.getUTCFullYear(), s = a.getUTCMonth(), g = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, l = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, c = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, I = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, u = d[this.o.language].today || d.en.today || "", h = d[this.o.language].clear || d.en.clear || "", A = d[this.o.language].titleFormat || d.en.titleFormat; if (!isNaN(r) && !isNaN(s)) { this.picker.find(".datepicker-days .datepicker-switch").text(C.formatDate(a, A, this.o.language)), this.picker.find("tfoot .today").text(u).css("display", !0 === this.o.todayBtn || "linked" === this.o.todayBtn ? "table-cell" : "none"), this.picker.find("tfoot .clear").text(h).css("display", !0 === this.o.clearBtn ? "table-cell" : "none"), this.picker.find("thead .datepicker-title").text(this.o.title).css("display", "string" == typeof this.o.title && "" !== this.o.title ? "table-cell" : "none"), this.updateNavArrows(), this.fillMonths(); var p = n(r, s, 0), m = p.getUTCDate(); p.setUTCDate(m - (p.getUTCDay() - this.o.weekStart + 7) % 7); var f = new Date(p); p.getUTCFullYear() < 100 && f.setUTCFullYear(p.getUTCFullYear()), f.setUTCDate(f.getUTCDate() + 42), f = f.valueOf(); for (var b, B, y = []; p.valueOf() < f;) { if ((b = p.getUTCDay()) === this.o.weekStart && (y.push("<tr>"), this.o.calendarWeeks)) { var v = new Date(+p + (this.o.weekStart - b - 7) % 7 * 864e5), x = new Date(Number(v) + (11 - v.getUTCDay()) % 7 * 864e5), F = new Date(Number(F = n(x.getUTCFullYear(), 0, 1)) + (11 - F.getUTCDay()) % 7 * 864e5), Q = (x - F) / 864e5 / 7 + 1; y.push('<td class="cw">' + Q + "</td>") } (B = this.getClassNames(p)).push("day"); var G = p.getUTCDate(); this.o.beforeShowDay !== t.noop && ((o = this.o.beforeShowDay(this._utc_to_local(p))) === e ? o = {} : "boolean" == typeof o ? o = { enabled: o } : "string" == typeof o && (o = { classes: o }), !1 === o.enabled && B.push("disabled"), o.classes && (B = B.concat(o.classes.split(/\s+/))), o.tooltip && (i = o.tooltip), o.content && (G = o.content)), B = t.isFunction(t.uniqueSort) ? t.uniqueSort(B) : t.unique(B), y.push('<td class="' + B.join(" ") + '"' + (i ? ' title="' + i + '"' : "") + ' data-date="' + p.getTime().toString() + '">' + G + "</td>"), i = null, b === this.o.weekEnd && y.push("</tr>"), p.setUTCDate(p.getUTCDate() + 1) } this.picker.find(".datepicker-days tbody").html(y.join("")); var w = d[this.o.language].monthsTitle || d.en.monthsTitle || "Months", X = this.picker.find(".datepicker-months").find(".datepicker-switch").text(this.o.maxViewMode < 2 ? w : r).end().find("tbody span").removeClass("active"); if (t.each(this.dates, function (t, e) { e.getUTCFullYear() === r && X.eq(e.getUTCMonth()).addClass("active") }), (r < g || c < r) && X.addClass("disabled"), r === g && X.slice(0, l).addClass("disabled"), r === c && X.slice(I + 1).addClass("disabled"), this.o.beforeShowMonth !== t.noop) { var S = this; t.each(X, function (n, i) { var o = new Date(r, n, 1), a = S.o.beforeShowMonth(o); a === e ? a = {} : "boolean" == typeof a ? a = { enabled: a } : "string" == typeof a && (a = { classes: a }), !1 !== a.enabled || t(i).hasClass("disabled") || t(i).addClass("disabled"), a.classes && t(i).addClass(a.classes), a.tooltip && t(i).prop("title", a.tooltip) }) } this._fill_yearsView(".datepicker-years", "year", 10, r, g, c, this.o.beforeShowYear), this._fill_yearsView(".datepicker-decades", "decade", 100, r, g, c, this.o.beforeShowDecade), this._fill_yearsView(".datepicker-centuries", "century", 1e3, r, g, c, this.o.beforeShowCentury) } }, updateNavArrows: function () { if (this._allow_update) { var t, e, n = new Date(this.viewDate), i = n.getUTCFullYear(), o = n.getUTCMonth(), a = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCFullYear() : -1 / 0, r = this.o.startDate !== -1 / 0 ? this.o.startDate.getUTCMonth() : -1 / 0, s = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCFullYear() : 1 / 0, g = this.o.endDate !== 1 / 0 ? this.o.endDate.getUTCMonth() : 1 / 0, l = 1; switch (this.viewMode) { case 4: l *= 10; case 3: l *= 10; case 2: l *= 10; case 1: t = Math.floor(i / l) * l < a, e = Math.floor(i / l) * l + l > s; break; case 0: t = i <= a && o < r, e = s <= i && g < o }this.picker.find(".prev").toggleClass("disabled", t), this.picker.find(".next").toggleClass("disabled", e) } }, click: function (e) { var o, a, r; e.preventDefault(), e.stopPropagation(), (o = t(e.target)).hasClass("datepicker-switch") && this.viewMode !== this.o.maxViewMode && this.setViewMode(this.viewMode + 1), o.hasClass("today") && !o.hasClass("day") && (this.setViewMode(0), this._setDate(i(), "linked" === this.o.todayBtn ? null : "view")), o.hasClass("clear") && this.clearDates(), o.hasClass("disabled") || (o.hasClass("month") || o.hasClass("year") || o.hasClass("decade") || o.hasClass("century")) && (this.viewDate.setUTCDate(1), 1 === this.viewMode ? (r = o.parent().find("span").index(o), a = this.viewDate.getUTCFullYear(), this.viewDate.setUTCMonth(r)) : (r = 0, a = Number(o.text()), this.viewDate.setUTCFullYear(a)), this._trigger(C.viewModes[this.viewMode - 1].e, this.viewDate), this.viewMode === this.o.minViewMode ? this._setDate(n(a, r, 1)) : (this.setViewMode(this.viewMode - 1), this.fill())), this.picker.is(":visible") && this._focused_from && this._focused_from.focus(), delete this._focused_from }, dayCellClick: function (e) { var n = t(e.currentTarget).data("date"), i = new Date(n); this.o.updateViewDate && (i.getUTCFullYear() !== this.viewDate.getUTCFullYear() && this._trigger("changeYear", this.viewDate), i.getUTCMonth() !== this.viewDate.getUTCMonth() && this._trigger("changeMonth", this.viewDate)), this._setDate(i) }, navArrowsClick: function (e) { var n = t(e.currentTarget).hasClass("prev") ? -1 : 1; 0 !== this.viewMode && (n *= 12 * C.viewModes[this.viewMode].navStep), this.viewDate = this.moveMonth(this.viewDate, n), this._trigger(C.viewModes[this.viewMode].e, this.viewDate), this.fill() }, _toggle_multidate: function (t) { var e = this.dates.contains(t); if (t || this.dates.clear(), -1 !== e ? (!0 === this.o.multidate || 1 < this.o.multidate || this.o.toggleActive) && this.dates.remove(e) : (!1 === this.o.multidate && this.dates.clear(), this.dates.push(t)), "number" == typeof this.o.multidate) for (; this.dates.length > this.o.multidate;)this.dates.remove(0) }, _setDate: function (t, e) { e && "date" !== e || this._toggle_multidate(t && new Date(t)), (!e && this.o.updateViewDate || "view" === e) && (this.viewDate = t && new Date(t)), this.fill(), this.setValue(), e && "view" === e || this._trigger("changeDate"), this.inputField.trigger("change"), !this.o.autoclose || e && "date" !== e || this.hide() }, moveDay: function (t, e) { var n = new Date(t); return n.setUTCDate(t.getUTCDate() + e), n }, moveWeek: function (t, e) { return this.moveDay(t, 7 * e) }, moveMonth: function (t, e) { if (!function (t) { return t && !isNaN(t.getTime()) }(t)) return this.o.defaultViewDate; if (!e) return t; var n, i, o = new Date(t.valueOf()), a = o.getUTCDate(), r = o.getUTCMonth(), s = Math.abs(e); if (e = 0 < e ? 1 : -1, 1 === s) i = -1 === e ? function () { return o.getUTCMonth() === r } : function () { return o.getUTCMonth() !== n }, n = r + e, o.setUTCMonth(n), n = (n + 12) % 12; else { for (var g = 0; g < s; g++)o = this.moveMonth(o, e); n = o.getUTCMonth(), o.setUTCDate(a), i = function () { return n !== o.getUTCMonth() } } for (; i();)o.setUTCDate(--a), o.setUTCMonth(n); return o }, moveYear: function (t, e) { return this.moveMonth(t, 12 * e) }, moveAvailableDate: function (t, e, n) { do { if (t = this[n](t, e), !this.dateWithinRange(t)) return !1; n = "moveDay" } while (this.dateIsDisabled(t)); return t }, weekOfDateIsDisabled: function (e) { return -1 !== t.inArray(e.getUTCDay(), this.o.daysOfWeekDisabled) }, dateIsDisabled: function (e) { return this.weekOfDateIsDisabled(e) || 0 < t.grep(this.o.datesDisabled, function (t) { return o(e, t) }).length }, dateWithinRange: function (t) { return t >= this.o.startDate && t <= this.o.endDate }, keydown: function (t) { if (this.picker.is(":visible")) { var e, n, i = !1, o = this.focusDate || this.viewDate; switch (t.keyCode) { case 27: this.focusDate ? (this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill()) : this.hide(), t.preventDefault(), t.stopPropagation(); break; case 37: case 38: case 39: case 40: if (!this.o.keyboardNavigation || 7 === this.o.daysOfWeekDisabled.length) break; e = 37 === t.keyCode || 38 === t.keyCode ? -1 : 1, 0 === this.viewMode ? t.ctrlKey ? (n = this.moveAvailableDate(o, e, "moveYear")) && this._trigger("changeYear", this.viewDate) : t.shiftKey ? (n = this.moveAvailableDate(o, e, "moveMonth")) && this._trigger("changeMonth", this.viewDate) : 37 === t.keyCode || 39 === t.keyCode ? n = this.moveAvailableDate(o, e, "moveDay") : this.weekOfDateIsDisabled(o) || (n = this.moveAvailableDate(o, e, "moveWeek")) : 1 === this.viewMode ? (38 !== t.keyCode && 40 !== t.keyCode || (e *= 4), n = this.moveAvailableDate(o, e, "moveMonth")) : 2 === this.viewMode && (38 !== t.keyCode && 40 !== t.keyCode || (e *= 4), n = this.moveAvailableDate(o, e, "moveYear")), n && (this.focusDate = this.viewDate = n, this.setValue(), this.fill(), t.preventDefault()); break; case 13: if (!this.o.forceParse) break; o = this.focusDate || this.dates.get(-1) || this.viewDate, this.o.keyboardNavigation && (this._toggle_multidate(o), i = !0), this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.setValue(), this.fill(), this.picker.is(":visible") && (t.preventDefault(), t.stopPropagation(), this.o.autoclose && this.hide()); break; case 9: this.focusDate = null, this.viewDate = this.dates.get(-1) || this.viewDate, this.fill(), this.hide() }i && (this.dates.length ? this._trigger("changeDate") : this._trigger("clearDate"), this.inputField.trigger("change")) } else 40 !== t.keyCode && 27 !== t.keyCode || (this.show(), t.stopPropagation()) }, setViewMode: function (t) { this.viewMode = t, this.picker.children("div").hide().filter(".datepicker-" + C.viewModes[this.viewMode].clsName).show(), this.updateNavArrows(), this._trigger("changeViewMode", new Date(this.viewDate)) } }, l.prototype = { updateDates: function () { this.dates = t.map(this.pickers, function (t) { return t.getUTCDate() }), this.updateRanges() }, updateRanges: function () { var e = t.map(this.dates, function (t) { return t.valueOf() }); t.each(this.pickers, function (t, n) { n.setRange(e) }) }, clearDates: function () { t.each(this.pickers, function (t, e) { e.clearDates() }) }, dateUpdated: function (n) { if (!this.updating) { this.updating = !0; var i = t.data(n.target, "datepicker"); if (i !== e) { var o = i.getUTCDate(), a = this.keepEmptyValues, r = t.inArray(n.target, this.inputs), s = r - 1, g = r + 1, l = this.inputs.length; if (-1 !== r) { if (t.each(this.pickers, function (t, e) { e.getUTCDate() || e !== i && a || e.setUTCDate(o) }), o < this.dates[s]) for (; 0 <= s && o < this.dates[s];)this.pickers[s--].setUTCDate(o); else if (o > this.dates[g]) for (; g < l && o > this.dates[g];)this.pickers[g++].setUTCDate(o); this.updateDates(), delete this.updating } } } }, destroy: function () { t.map(this.pickers, function (t) { t.destroy() }), t(this.inputs).off("changeDate", this.dateUpdated), delete this.element.data().datepicker }, remove: a("destroy", "Method `remove` is deprecated and will be removed in version 2.0. Use `destroy` instead") }; var c = t.fn.datepicker, I = function (n) { var i, o = Array.apply(null, arguments); if (o.shift(), this.each(function () { var e = t(this), a = e.data("datepicker"), s = "object" == typeof n && n; if (!a) { var g = function (e, n) { function i(t, e) { return e.toLowerCase() } var o = t(e).data(), a = {}, r = new RegExp("^" + n.toLowerCase() + "([A-Z])"); for (var s in n = new RegExp("^" + n.toLowerCase()), o) n.test(s) && (a[s.replace(r, i)] = o[s]); return a }(this, "date"), c = function (e) { var n = {}; if (d[e] || (e = e.split("-")[0], d[e])) { var i = d[e]; return t.each(h, function (t, e) { e in i && (n[e] = i[e]) }), n } }(t.extend({}, u, g, s).language), I = t.extend({}, u, c, g, s); a = e.hasClass("input-daterange") || I.inputs ? (t.extend(I, { inputs: I.inputs || e.find("input").toArray() }), new l(this, I)) : new r(this, I), e.data("datepicker", a) } "string" == typeof n && "function" == typeof a[n] && (i = a[n].apply(a, o)) }), i === e || i instanceof r || i instanceof l) return this; if (1 < this.length) throw new Error("Using only allowed for the collection of a single element (" + n + " function)"); return i }; t.fn.datepicker = I; var u = t.fn.datepicker.defaults = { assumeNearbyYear: !1, autoclose: !1, beforeShowDay: t.noop, beforeShowMonth: t.noop, beforeShowYear: t.noop, beforeShowDecade: t.noop, beforeShowCentury: t.noop, calendarWeeks: !1, clearBtn: !1, toggleActive: !1, daysOfWeekDisabled: [], daysOfWeekHighlighted: [], datesDisabled: [], endDate: 1 / 0, forceParse: !0, format: "mm/dd/yyyy", keepEmptyValues: !1, keyboardNavigation: !0, language: "en", minViewMode: 0, maxViewMode: 4, multidate: !1, multidateSeparator: ",", orientation: "auto", rtl: !1, startDate: -1 / 0, startView: 0, todayBtn: !1, todayHighlight: !1, updateViewDate: !0, weekStart: 0, disableTouchKeyboard: !1, enableOnReadonly: !0, showOnFocus: !0, zIndexOffset: 10, container: "body", immediateUpdates: !1, title: "", templates: { leftArrow: "&#x00AB;", rightArrow: "&#x00BB;" }, showWeekDays: !0 }, h = t.fn.datepicker.locale_opts = ["format", "rtl", "weekStart"]; t.fn.datepicker.Constructor = r; var d = t.fn.datepicker.dates = { en: { days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"], daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"], daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], today: "Today", clear: "Clear", titleFormat: "MM yyyy" } }, C = { viewModes: [{ names: ["days", "month"], clsName: "days", e: "changeMonth" }, { names: ["months", "year"], clsName: "months", e: "changeYear", navStep: 1 }, { names: ["years", "decade"], clsName: "years", e: "changeDecade", navStep: 10 }, { names: ["decades", "century"], clsName: "decades", e: "changeCentury", navStep: 100 }, { names: ["centuries", "millennium"], clsName: "centuries", e: "changeMillennium", navStep: 1e3 }], validParts: /dd?|DD?|mm?|MM?|yy(?:yy)?/g, nonpunctuation: /[^ -\/:-@\u5e74\u6708\u65e5\[-`{-~\t\n\r]+/g, parseFormat: function (t) { if ("function" == typeof t.toValue && "function" == typeof t.toDisplay) return t; var e = t.replace(this.validParts, "\0").split("\0"), n = t.match(this.validParts); if (!e || !e.length || !n || 0 === n.length) throw new Error("Invalid date format."); return { separators: e, parts: n } }, parseDate: function (n, o, a, s) { function g() { var t = this.slice(0, l[u].length), e = l[u].slice(0, t.length); return t.toLowerCase() === e.toLowerCase() } if (!n) return e; if (n instanceof Date) return n; if ("string" == typeof o && (o = C.parseFormat(o)), o.toValue) return o.toValue(n, o, a); var l, c, I, u, h, A = { d: "moveDay", m: "moveMonth", w: "moveWeek", y: "moveYear" }, p = { yesterday: "-1d", today: "+0d", tomorrow: "+1d" }; if (n in p && (n = p[n]), /^[\-+]\d+[dmwy]([\s,]+[\-+]\d+[dmwy])*$/i.test(n)) { for (l = n.match(/([\-+]\d+)([dmwy])/gi), n = new Date, u = 0; u < l.length; u++)c = l[u].match(/([\-+]\d+)([dmwy])/i), I = Number(c[1]), h = A[c[2].toLowerCase()], n = r.prototype[h](n, I); return r.prototype._zero_utc_time(n) } l = n && n.match(this.nonpunctuation) || []; var m, f, b = {}, B = ["yyyy", "yy", "M", "MM", "m", "mm", "d", "dd"], y = { yyyy: function (t, e) { return t.setUTCFullYear(s ? function (t, e) { return !0 === e && (e = 10), t < 100 && (t += 2e3) > (new Date).getFullYear() + e && (t -= 100), t }(e, s) : e) }, m: function (t, e) { if (isNaN(t)) return t; for (e -= 1; e < 0;)e += 12; for (e %= 12, t.setUTCMonth(e); t.getUTCMonth() !== e;)t.setUTCDate(t.getUTCDate() - 1); return t }, d: function (t, e) { return t.setUTCDate(e) } }; y.yy = y.yyyy, y.M = y.MM = y.mm = y.m, y.dd = y.d, n = i(); var v = o.parts.slice(); if (l.length !== v.length && (v = t(v).filter(function (e, n) { return -1 !== t.inArray(n, B) }).toArray()), l.length === v.length) { var x, F, Q; for (u = 0, x = v.length; u < x; u++) { if (m = parseInt(l[u], 10), c = v[u], isNaN(m)) switch (c) { case "MM": f = t(d[a].months).filter(g), m = t.inArray(f[0], d[a].months) + 1; break; case "M": f = t(d[a].monthsShort).filter(g), m = t.inArray(f[0], d[a].monthsShort) + 1 }b[c] = m } for (u = 0; u < B.length; u++)(Q = B[u]) in b && !isNaN(b[Q]) && (F = new Date(n), y[Q](F, b[Q]), isNaN(F) || (n = F)) } return n }, formatDate: function (e, n, i) { if (!e) return ""; if ("string" == typeof n && (n = C.parseFormat(n)), n.toDisplay) return n.toDisplay(e, n, i); var o = { d: e.getUTCDate(), D: d[i].daysShort[e.getUTCDay()], DD: d[i].days[e.getUTCDay()], m: e.getUTCMonth() + 1, M: d[i].monthsShort[e.getUTCMonth()], MM: d[i].months[e.getUTCMonth()], yy: e.getUTCFullYear().toString().substring(2), yyyy: e.getUTCFullYear() }; o.dd = (o.d < 10 ? "0" : "") + o.d, o.mm = (o.m < 10 ? "0" : "") + o.m, e = []; for (var a = t.extend([], n.separators), r = 0, s = n.parts.length; r <= s; r++)a.length && e.push(a.shift()), e.push(o[n.parts[r]]); return e.join("") }, headTemplate: '<thead><tr><th colspan="7" class="datepicker-title"></th></tr><tr><th class="prev">' + u.templates.leftArrow + '</th><th colspan="5" class="datepicker-switch"></th><th class="next">' + u.templates.rightArrow + "</th></tr></thead>", contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>', footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>' }; C.template = '<div class="datepicker"><div class="datepicker-days"><table class="table-condensed">' + C.headTemplate + "<tbody></tbody>" + C.footTemplate + '</table></div><div class="datepicker-months"><table class="table-condensed">' + C.headTemplate + C.contTemplate + C.footTemplate + '</table></div><div class="datepicker-years"><table class="table-condensed">' + C.headTemplate + C.contTemplate + C.footTemplate + '</table></div><div class="datepicker-decades"><table class="table-condensed">' + C.headTemplate + C.contTemplate + C.footTemplate + '</table></div><div class="datepicker-centuries"><table class="table-condensed">' + C.headTemplate + C.contTemplate + C.footTemplate + "</table></div></div>", t.fn.datepicker.DPGlobal = C, t.fn.datepicker.noConflict = function () { return t.fn.datepicker = c, this }, t.fn.datepicker.version = "1.8.0", t.fn.datepicker.deprecated = function (t) { var e = window.console; e && e.warn && e.warn("DEPRECATED: " + t) }, t(document).on("focus.datepicker.data-api click.datepicker.data-api", '[data-provide="datepicker"]', function (e) { var n = t(this); n.data("datepicker") || (e.preventDefault(), I.call(n, "show")) }), t(function () { I.call(t('[data-provide="datepicker-inline"]')) }) }), $.fn.datepicker.defaults.zIndexOffset = 10, function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? t(require("jquery")) : t(jQuery) }(function (t, e) { function n() { return new Date(Date.UTC.apply(Date, arguments)) } function i(n, i) { var o = this; this.element = t(n), this.container = i.container || "body", this.language = i.language || this.element.data("date-language") || "en", this.language = this.language in a ? this.language : this.language.split("-")[0], this.language = this.language in a ? this.language : "en", this.isRTL = a[this.language].rtl || !1, this.formatType = i.formatType || this.element.data("format-type") || "standard", this.format = r.parseFormat(i.format || this.element.data("date-format") || a[this.language].format || r.getDefaultFormat(this.formatType, "input"), this.formatType), this.isInline = !1, this.isVisible = !1, this.isInput = this.element.is("input"), this.fontAwesome = i.fontAwesome || this.element.data("font-awesome") || !1, this.bootcssVer = i.bootcssVer || (this.isInput ? this.element.is(".form-control") ? 3 : 2 : this.bootcssVer = this.element.is(".input-group") ? 3 : 2), this.component = !!this.element.is(".date") && (3 === this.bootcssVer ? this.element.find(".input-group-addon .glyphicon-th, .input-group-addon .glyphicon-time, .input-group-addon .glyphicon-remove, .input-group-addon .glyphicon-calendar, .input-group-addon .fa-calendar, .input-group-addon .fa-clock-o").parent() : this.element.find(".add-on .icon-th, .add-on .icon-time, .add-on .icon-calendar, .add-on .fa-calendar, .add-on .fa-clock-o").parent()), this.componentReset = !!this.element.is(".date") && (3 === this.bootcssVer ? this.element.find(".input-group-addon .glyphicon-remove, .input-group-addon .fa-times").parent() : this.element.find(".add-on .icon-remove, .add-on .fa-times").parent()), this.hasInput = this.component && this.element.find("input").length, this.component && 0 === this.component.length && (this.component = !1), this.linkField = i.linkField || this.element.data("link-field") || !1, this.linkFormat = r.parseFormat(i.linkFormat || this.element.data("link-format") || r.getDefaultFormat(this.formatType, "link"), this.formatType), this.minuteStep = i.minuteStep || this.element.data("minute-step") || 5, this.pickerPosition = i.pickerPosition || this.element.data("picker-position") || "bottom-right", this.showMeridian = i.showMeridian || this.element.data("show-meridian") || !1, this.initialDate = i.initialDate || new Date, this.zIndex = i.zIndex || this.element.data("z-index") || e, this.title = void 0 !== i.title && i.title, this.timezone = i.timezone || function () { var t, e, n, i, o; if ((n = (null != (o = (e = (new Date).toString()).split("(")[1]) ? o.slice(0, -1) : 0) || e.split(" ")) instanceof Array) { i = []; for (var a = 0, r = n.length; a < r; a++)(t = null !== (o = n[a].match(/\b[A-Z]+\b/))) && o[0] && i.push(t); n = i.pop() } return n }(), this.icons = { leftArrow: this.fontAwesome ? "fa-arrow-left" : 3 === this.bootcssVer ? "glyphicon-arrow-left" : "icon-arrow-left", rightArrow: this.fontAwesome ? "fa-arrow-right" : 3 === this.bootcssVer ? "glyphicon-arrow-right" : "icon-arrow-right" }, this.icontype = this.fontAwesome ? "fa" : "glyphicon", this._attachEvents(), this.clickedOutside = function (e) { 0 === t(e.target).closest(".datetimepicker").length && o.hide() }, this.formatViewType = "datetime", "formatViewType" in i ? this.formatViewType = i.formatViewType : "formatViewType" in this.element.data() && (this.formatViewType = this.element.data("formatViewType")), this.minView = 0, "minView" in i ? this.minView = i.minView : "minView" in this.element.data() && (this.minView = this.element.data("min-view")), this.minView = r.convertViewMode(this.minView), this.maxView = r.modes.length - 1, "maxView" in i ? this.maxView = i.maxView : "maxView" in this.element.data() && (this.maxView = this.element.data("max-view")), this.maxView = r.convertViewMode(this.maxView), this.wheelViewModeNavigation = !1, "wheelViewModeNavigation" in i ? this.wheelViewModeNavigation = i.wheelViewModeNavigation : "wheelViewModeNavigation" in this.element.data() && (this.wheelViewModeNavigation = this.element.data("view-mode-wheel-navigation")), this.wheelViewModeNavigationInverseDirection = !1, "wheelViewModeNavigationInverseDirection" in i ? this.wheelViewModeNavigationInverseDirection = i.wheelViewModeNavigationInverseDirection : "wheelViewModeNavigationInverseDirection" in this.element.data() && (this.wheelViewModeNavigationInverseDirection = this.element.data("view-mode-wheel-navigation-inverse-dir")), this.wheelViewModeNavigationDelay = 100, "wheelViewModeNavigationDelay" in i ? this.wheelViewModeNavigationDelay = i.wheelViewModeNavigationDelay : "wheelViewModeNavigationDelay" in this.element.data() && (this.wheelViewModeNavigationDelay = this.element.data("view-mode-wheel-navigation-delay")), this.startViewMode = 2, "startView" in i ? this.startViewMode = i.startView : "startView" in this.element.data() && (this.startViewMode = this.element.data("start-view")), this.startViewMode = r.convertViewMode(this.startViewMode), this.viewMode = this.startViewMode, this.viewSelect = this.minView, "viewSelect" in i ? this.viewSelect = i.viewSelect : "viewSelect" in this.element.data() && (this.viewSelect = this.element.data("view-select")), this.viewSelect = r.convertViewMode(this.viewSelect), this.forceParse = !0, "forceParse" in i ? this.forceParse = i.forceParse : "dateForceParse" in this.element.data() && (this.forceParse = this.element.data("date-force-parse")); for (var s = 3 === this.bootcssVer ? r.templateV3 : r.template; -1 !== s.indexOf("{iconType}");)s = s.replace("{iconType}", this.icontype); for (; -1 !== s.indexOf("{leftArrow}");)s = s.replace("{leftArrow}", this.icons.leftArrow); for (; -1 !== s.indexOf("{rightArrow}");)s = s.replace("{rightArrow}", this.icons.rightArrow); if (this.picker = t(s).appendTo(this.isInline ? this.element : this.container).on({ click: t.proxy(this.click, this), mousedown: t.proxy(this.mousedown, this) }), this.wheelViewModeNavigation && (t.fn.mousewheel ? this.picker.on({ mousewheel: t.proxy(this.mousewheel, this) }) : console.log("Mouse Wheel event is not supported. Please include the jQuery Mouse Wheel plugin before enabling this option")), this.isInline ? this.picker.addClass("datetimepicker-inline") : this.picker.addClass("datetimepicker-dropdown-" + this.pickerPosition + " dropdown-menu"), this.isRTL) { this.picker.addClass("datetimepicker-rtl"); var g = 3 === this.bootcssVer ? ".prev span, .next span" : ".prev i, .next i"; this.picker.find(g).toggleClass(this.icons.leftArrow + " " + this.icons.rightArrow) } t(document).on("mousedown touchend", this.clickedOutside), this.autoclose = !1, "autoclose" in i ? this.autoclose = i.autoclose : "dateAutoclose" in this.element.data() && (this.autoclose = this.element.data("date-autoclose")), this.keyboardNavigation = !0, "keyboardNavigation" in i ? this.keyboardNavigation = i.keyboardNavigation : "dateKeyboardNavigation" in this.element.data() && (this.keyboardNavigation = this.element.data("date-keyboard-navigation")), this.todayBtn = i.todayBtn || this.element.data("date-today-btn") || !1, this.clearBtn = i.clearBtn || this.element.data("date-clear-btn") || !1, this.todayHighlight = i.todayHighlight || this.element.data("date-today-highlight") || !1, void (this.weekStart = 0) !== i.weekStart ? this.weekStart = i.weekStart : void 0 !== this.element.data("date-weekstart") ? this.weekStart = this.element.data("date-weekstart") : void 0 !== a[this.language].weekStart && (this.weekStart = a[this.language].weekStart), this.weekStart = this.weekStart % 7, this.weekEnd = (this.weekStart + 6) % 7, this.onRenderDay = function (t) { var e = (i.onRenderDay || function () { return [] })(t); return "string" == typeof e && (e = [e]), ["day"].concat(e || []) }, this.onRenderHour = function (t) { var e = (i.onRenderHour || function () { return [] })(t); return "string" == typeof e && (e = [e]), ["hour"].concat(e || []) }, this.onRenderMinute = function (t) { var e = (i.onRenderMinute || function () { return [] })(t), n = ["minute"]; return "string" == typeof e && (e = [e]), t < this.startDate || t > this.endDate ? n.push("disabled") : Math.floor(this.date.getUTCMinutes() / this.minuteStep) === Math.floor(t.getUTCMinutes() / this.minuteStep) && n.push("active"), n.concat(e || []) }, this.onRenderYear = function (t) { var e = (i.onRenderYear || function () { return [] })(t), n = ["year"]; "string" == typeof e && (e = [e]), this.date.getUTCFullYear() === t.getUTCFullYear() && n.push("active"); var o = t.getUTCFullYear(), a = this.endDate.getUTCFullYear(); return (t < this.startDate || a < o) && n.push("disabled"), n.concat(e || []) }, this.onRenderMonth = function (t) { var e = (i.onRenderMonth || function () { return [] })(t); return "string" == typeof e && (e = [e]), ["month"].concat(e || []) }, this.startDate = new Date(-8639968443048e3), this.endDate = new Date(8639968443048e3), this.datesDisabled = [], this.daysOfWeekDisabled = [], this.setStartDate(i.startDate || this.element.data("date-startdate")), this.setEndDate(i.endDate || this.element.data("date-enddate")), this.setDatesDisabled(i.datesDisabled || this.element.data("date-dates-disabled")), this.setDaysOfWeekDisabled(i.daysOfWeekDisabled || this.element.data("date-days-of-week-disabled")), this.setMinutesDisabled(i.minutesDisabled || this.element.data("date-minute-disabled")), this.setHoursDisabled(i.hoursDisabled || this.element.data("date-hour-disabled")), this.fillDow(), this.fillMonths(), this.update(), this.showMode(), this.isInline && this.show() } "indexOf" in Array.prototype || (Array.prototype.indexOf = function (t, n) { n === e && (n = 0), n < 0 && (n += this.length), n < 0 && (n = 0); for (var i = this.length; n < i; n++)if (n in this && this[n] === t) return n; return -1 }), i.prototype = { constructor: i, _events: [], _attachEvents: function () { this._detachEvents(), this.isInput ? this._events = [[this.element, { focus: t.proxy(this.show, this), keyup: t.proxy(this.update, this), keydown: t.proxy(this.keydown, this) }]] : this.component && this.hasInput ? (this._events = [[this.element.find("input"), { focus: t.proxy(this.show, this), keyup: t.proxy(this.update, this), keydown: t.proxy(this.keydown, this) }], [this.component, { click: t.proxy(this.show, this) }]], this.componentReset && this._events.push([this.componentReset, { click: t.proxy(this.reset, this) }])) : this.element.is("div") ? this.isInline = !0 : this._events = [[this.element, { click: t.proxy(this.show, this) }]]; for (var e, n, i = 0; i < this._events.length; i++)e = this._events[i][0], n = this._events[i][1], e.on(n) }, _detachEvents: function () { for (var t, e, n = 0; n < this._events.length; n++)t = this._events[n][0], e = this._events[n][1], t.off(e); this._events = [] }, show: function (e) { this.picker.show(), this.height = this.component ? this.component.outerHeight() : this.element.outerHeight(), this.forceParse && this.update(), this.place(), t(window).on("resize", t.proxy(this.place, this)), e && (e.stopPropagation(), e.preventDefault()), this.isVisible = !0, this.element.trigger({ type: "show", date: this.date }) }, hide: function () { this.isVisible && (this.isInline || (this.picker.hide(), t(window).off("resize", this.place), this.viewMode = this.startViewMode, this.showMode(), this.isInput || t(document).off("mousedown", this.hide), this.forceParse && (this.isInput && this.element.val() || this.hasInput && this.element.find("input").val()) && this.setValue(), this.isVisible = !1, this.element.trigger({ type: "hide", date: this.date }))) }, remove: function () { this._detachEvents(), t(document).off("mousedown", this.clickedOutside), this.picker.remove(), delete this.picker, delete this.element.data().datetimepicker }, getDate: function () { var t = this.getUTCDate(); return null === t ? null : new Date(t.getTime() + 6e4 * t.getTimezoneOffset()) }, getUTCDate: function () { return this.date }, getInitialDate: function () { return this.initialDate }, setInitialDate: function (t) { this.initialDate = t }, setDate: function (t) { this.setUTCDate(new Date(t.getTime() - 6e4 * t.getTimezoneOffset())) }, setUTCDate: function (t) { t >= this.startDate && t <= this.endDate ? (this.date = t, this.setValue(), this.viewDate = this.date, this.fill()) : this.element.trigger({ type: "outOfRange", date: t, startDate: this.startDate, endDate: this.endDate }) }, setFormat: function (t) { var e; this.format = r.parseFormat(t, this.formatType), this.isInput ? e = this.element : this.component && (e = this.element.find("input")), e && e.val() && this.setValue() }, setValue: function () { var e = this.getFormattedDate(); this.isInput ? this.element.val(e) : (this.component && this.element.find("input").val(e), this.element.data("date", e)), this.linkField && t("#" + this.linkField).val(this.getFormattedDate(this.linkFormat)) }, getFormattedDate: function (t) { return t = t || this.format, r.formatDate(this.date, t, this.language, this.formatType, this.timezone) }, setStartDate: function (t) { this.startDate = t || this.startDate, 8639968443048e3 !== this.startDate.valueOf() && (this.startDate = r.parseDate(this.startDate, this.format, this.language, this.formatType, this.timezone)), this.update(), this.updateNavArrows() }, setEndDate: function (t) { this.endDate = t || this.endDate, 8639968443048e3 !== this.endDate.valueOf() && (this.endDate = r.parseDate(this.endDate, this.format, this.language, this.formatType, this.timezone)), this.update(), this.updateNavArrows() }, setDatesDisabled: function (e) { this.datesDisabled = e || [], t.isArray(this.datesDisabled) || (this.datesDisabled = this.datesDisabled.split(/,\s*/)); var n = this; this.datesDisabled = t.map(this.datesDisabled, function (t) { return r.parseDate(t, n.format, n.language, n.formatType, n.timezone).toDateString() }), this.update(), this.updateNavArrows() }, setTitle: function (t, e) { return this.picker.find(t).find("th:eq(1)").text(!1 === this.title ? e : this.title) }, setDaysOfWeekDisabled: function (e) { this.daysOfWeekDisabled = e || [], t.isArray(this.daysOfWeekDisabled) || (this.daysOfWeekDisabled = this.daysOfWeekDisabled.split(/,\s*/)), this.daysOfWeekDisabled = t.map(this.daysOfWeekDisabled, function (t) { return parseInt(t, 10) }), this.update(), this.updateNavArrows() }, setMinutesDisabled: function (e) { this.minutesDisabled = e || [], t.isArray(this.minutesDisabled) || (this.minutesDisabled = this.minutesDisabled.split(/,\s*/)), this.minutesDisabled = t.map(this.minutesDisabled, function (t) { return parseInt(t, 10) }), this.update(), this.updateNavArrows() }, setHoursDisabled: function (e) { this.hoursDisabled = e || [], t.isArray(this.hoursDisabled) || (this.hoursDisabled = this.hoursDisabled.split(/,\s*/)), this.hoursDisabled = t.map(this.hoursDisabled, function (t) { return parseInt(t, 10) }), this.update(), this.updateNavArrows() }, place: function () { if (!this.isInline) { if (!this.zIndex) { var e = 0; t("div").each(function () { var n = parseInt(t(this).css("zIndex"), 10); e < n && (e = n) }), this.zIndex = e + 10 } var n, i, o, a; a = this.container instanceof t ? this.container.offset() : t(this.container).offset(), this.component ? (o = (n = this.component.offset()).left, "bottom-left" !== this.pickerPosition && "top-left" !== this.pickerPosition || (o += this.component.outerWidth() - this.picker.outerWidth())) : (o = (n = this.element.offset()).left, "bottom-left" !== this.pickerPosition && "top-left" !== this.pickerPosition || (o += this.element.outerWidth() - this.picker.outerWidth())); var r = document.body.clientWidth || window.innerWidth; r < o + 220 && (o = r - 220), i = "top-left" === this.pickerPosition || "top-right" === this.pickerPosition ? n.top - this.picker.outerHeight() : n.top + this.height, i -= a.top, o -= a.left, this.picker.css({ top: i, left: o, zIndex: this.zIndex }) } }, hour_minute: "^([0-9]|0[0-9]|1[0-9]|2[0-3]):[0-5][0-9]", update: function () { var t, e = !1; arguments && arguments.length && ("string" == typeof arguments[0] || arguments[0] instanceof Date) ? (t = arguments[0], e = !0) : "string" == typeof (t = (this.isInput ? this.element.val() : this.element.find("input").val()) || this.element.data("date") || this.initialDate) && (t = t.replace(/^\s+|\s+$/g, "")), t || (t = new Date, e = !1), "string" == typeof t && (new RegExp(this.hour_minute).test(t) || new RegExp(this.hour_minute + ":[0-5][0-9]").test(t)) && (t = this.getDate()), this.date = r.parseDate(t, this.format, this.language, this.formatType, this.timezone), e && this.setValue(), this.date < this.startDate ? this.viewDate = new Date(this.startDate) : this.date > this.endDate ? this.viewDate = new Date(this.endDate) : this.viewDate = new Date(this.date), this.fill() }, fillDow: function () { for (var t = this.weekStart, e = "<tr>"; t < this.weekStart + 7;)e += '<th class="dow">' + a[this.language].daysMin[t++ % 7] + "</th>"; e += "</tr>", this.picker.find(".datetimepicker-days thead").append(e) }, fillMonths: function () { for (var t = "", e = new Date(this.viewDate), n = 0; n < 12; n++)e.setUTCMonth(n), t += '<span class="' + this.onRenderMonth(e).join(" ") + '">' + a[this.language].monthsShort[n] + "</span>"; this.picker.find(".datetimepicker-months td").html(t) }, fill: function () { if (this.date && this.viewDate) { var e = new Date(this.viewDate), i = e.getUTCFullYear(), s = e.getUTCMonth(), g = e.getUTCDate(), l = e.getUTCHours(), c = this.startDate.getUTCFullYear(), I = this.startDate.getUTCMonth(), u = this.endDate.getUTCFullYear(), h = this.endDate.getUTCMonth() + 1, d = new n(this.date.getUTCFullYear(), this.date.getUTCMonth(), this.date.getUTCDate()).valueOf(), C = new Date; if (this.setTitle(".datetimepicker-days", a[this.language].months[s] + " " + i), "time" === this.formatViewType) { var A = this.getFormattedDate(); this.setTitle(".datetimepicker-hours", A), this.setTitle(".datetimepicker-minutes", A) } else this.setTitle(".datetimepicker-hours", g + " " + a[this.language].months[s] + " " + i), this.setTitle(".datetimepicker-minutes", g + " " + a[this.language].months[s] + " " + i); this.picker.find("tfoot th.today").text(a[this.language].today || a.en.today).toggle(!1 !== this.todayBtn), this.picker.find("tfoot th.clear").text(a[this.language].clear || a.en.clear).toggle(!1 !== this.clearBtn), this.updateNavArrows(), this.fillMonths(); var p = n(i, s - 1, 28, 0, 0, 0, 0), m = r.getDaysInMonth(p.getUTCFullYear(), p.getUTCMonth()); p.setUTCDate(m), p.setUTCDate(m - (p.getUTCDay() - this.weekStart + 7) % 7); var f = new Date(p); f.setUTCDate(f.getUTCDate() + 42), f = f.valueOf(); for (var b, B = []; p.valueOf() < f;)p.getUTCDay() === this.weekStart && B.push("<tr>"), b = this.onRenderDay(p), p.getUTCFullYear() < i || p.getUTCFullYear() === i && p.getUTCMonth() < s ? b.push("old") : (p.getUTCFullYear() > i || p.getUTCFullYear() === i && p.getUTCMonth() > s) && b.push("new"), this.todayHighlight && p.getUTCFullYear() === C.getFullYear() && p.getUTCMonth() === C.getMonth() && p.getUTCDate() === C.getDate() && b.push("today"), p.valueOf() === d && b.push("active"), (p.valueOf() + 864e5 <= this.startDate || p.valueOf() > this.endDate || -1 !== t.inArray(p.getUTCDay(), this.daysOfWeekDisabled) || -1 !== t.inArray(p.toDateString(), this.datesDisabled)) && b.push("disabled"), B.push('<td class="' + b.join(" ") + '">' + p.getUTCDate() + "</td>"), p.getUTCDay() === this.weekEnd && B.push("</tr>"), p.setUTCDate(p.getUTCDate() + 1); this.picker.find(".datetimepicker-days tbody").empty().append(B.join("")), B = []; var y = "", v = "", x = "", F = this.hoursDisabled || []; e = new Date(this.viewDate); for (var Q = 0; Q < 24; Q++) { e.setUTCHours(Q), b = this.onRenderHour(e), -1 !== F.indexOf(Q) && b.push("disabled"); var G = n(i, s, g, Q); G.valueOf() + 36e5 <= this.startDate || G.valueOf() > this.endDate ? b.push("disabled") : l === Q && b.push("active"), this.showMeridian && 2 === a[this.language].meridiem.length ? ((v = Q < 12 ? a[this.language].meridiem[0] : a[this.language].meridiem[1]) !== x && ("" !== x && B.push("</fieldset>"), B.push('<fieldset class="hour"><legend>' + v.toUpperCase() + "</legend>")), x = v, y = Q % 12 ? Q % 12 : 12, Q < 12 ? b.push("hour_am") : b.push("hour_pm"), B.push('<span class="' + b.join(" ") + '">' + y + "</span>"), 23 === Q && B.push("</fieldset>")) : (y = Q + ":00", B.push('<span class="' + b.join(" ") + '">' + y + "</span>")) } this.picker.find(".datetimepicker-hours td").html(B.join("")), B = [], x = v = y = ""; var w = this.minutesDisabled || []; for (e = new Date(this.viewDate), Q = 0; Q < 60; Q += this.minuteStep)-1 === w.indexOf(Q) && (e.setUTCMinutes(Q), e.setUTCSeconds(0), b = this.onRenderMinute(e), this.showMeridian && 2 === a[this.language].meridiem.length ? ((v = l < 12 ? a[this.language].meridiem[0] : a[this.language].meridiem[1]) !== x && ("" !== x && B.push("</fieldset>"), B.push('<fieldset class="minute"><legend>' + v.toUpperCase() + "</legend>")), x = v, y = l % 12 ? l % 12 : 12, B.push('<span class="' + b.join(" ") + '">' + y + ":" + (Q < 10 ? "0" + Q : Q) + "</span>"), 59 === Q && B.push("</fieldset>")) : (y = Q + ":00", B.push('<span class="' + b.join(" ") + '">' + l + ":" + (Q < 10 ? "0" + Q : Q) + "</span>"))); this.picker.find(".datetimepicker-minutes td").html(B.join("")); var X = this.date.getUTCFullYear(), S = this.setTitle(".datetimepicker-months", i).end().find(".month").removeClass("active"); X === i && S.eq(this.date.getUTCMonth()).addClass("active"), (i < c || u < i) && S.addClass("disabled"), i === c && S.slice(0, I).addClass("disabled"), i === u && S.slice(h).addClass("disabled"), B = "", i = 10 * parseInt(i / 10, 10); var k = this.setTitle(".datetimepicker-years", i + "-" + (i + 9)).end().find("td"); for (i -= 1, e = new Date(this.viewDate), Q = -1; Q < 11; Q++)e.setUTCFullYear(i), b = this.onRenderYear(e), -1 !== Q && 10 !== Q || b.push(o), B += '<span class="' + b.join(" ") + '">' + i + "</span>", i += 1; k.html(B), this.place() } }, updateNavArrows: function () { var t = new Date(this.viewDate), e = t.getUTCFullYear(), n = t.getUTCMonth(), i = t.getUTCDate(), o = t.getUTCHours(); switch (this.viewMode) { case 0: e <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() && i <= this.startDate.getUTCDate() && o <= this.startDate.getUTCHours() ? this.picker.find(".prev").css({ visibility: "hidden" }) : this.picker.find(".prev").css({ visibility: "visible" }), e >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() && i >= this.endDate.getUTCDate() && o >= this.endDate.getUTCHours() ? this.picker.find(".next").css({ visibility: "hidden" }) : this.picker.find(".next").css({ visibility: "visible" }); break; case 1: e <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() && i <= this.startDate.getUTCDate() ? this.picker.find(".prev").css({ visibility: "hidden" }) : this.picker.find(".prev").css({ visibility: "visible" }), e >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() && i >= this.endDate.getUTCDate() ? this.picker.find(".next").css({ visibility: "hidden" }) : this.picker.find(".next").css({ visibility: "visible" }); break; case 2: e <= this.startDate.getUTCFullYear() && n <= this.startDate.getUTCMonth() ? this.picker.find(".prev").css({ visibility: "hidden" }) : this.picker.find(".prev").css({ visibility: "visible" }), e >= this.endDate.getUTCFullYear() && n >= this.endDate.getUTCMonth() ? this.picker.find(".next").css({ visibility: "hidden" }) : this.picker.find(".next").css({ visibility: "visible" }); break; case 3: case 4: e <= this.startDate.getUTCFullYear() ? this.picker.find(".prev").css({ visibility: "hidden" }) : this.picker.find(".prev").css({ visibility: "visible" }), e >= this.endDate.getUTCFullYear() ? this.picker.find(".next").css({ visibility: "hidden" }) : this.picker.find(".next").css({ visibility: "visible" }) } }, mousewheel: function (e) { if (e.preventDefault(), e.stopPropagation(), !this.wheelPause) { this.wheelPause = !0; var n = e.originalEvent.wheelDelta, i = 0 < n ? 1 : 0 === n ? 0 : -1; this.wheelViewModeNavigationInverseDirection && (i = -i), this.showMode(i), setTimeout(t.proxy(function () { this.wheelPause = !1 }, this), this.wheelViewModeNavigationDelay) } }, click: function (e) { e.stopPropagation(), e.preventDefault(); var i = t(e.target).closest("span, td, th, legend"); if (i.is("." + this.icontype) && (i = t(i).parent().closest("span, td, th, legend")), 1 === i.length) { if (i.is(".disabled")) return void this.element.trigger({ type: "outOfRange", date: this.viewDate, startDate: this.startDate, endDate: this.endDate }); switch (i[0].nodeName.toLowerCase()) { case "th": switch (i[0].className) { case "switch": this.showMode(1); break; case "prev": case "next": var o = r.modes[this.viewMode].navStep * ("prev" === i[0].className ? -1 : 1); switch (this.viewMode) { case 0: this.viewDate = this.moveHour(this.viewDate, o); break; case 1: this.viewDate = this.moveDate(this.viewDate, o); break; case 2: this.viewDate = this.moveMonth(this.viewDate, o); break; case 3: case 4: this.viewDate = this.moveYear(this.viewDate, o) }this.fill(), this.element.trigger({ type: i[0].className + ":" + this.convertViewModeText(this.viewMode), date: this.viewDate, startDate: this.startDate, endDate: this.endDate }); break; case "clear": this.reset(), this.autoclose && this.hide(); break; case "today": var a = new Date; (a = n(a.getFullYear(), a.getMonth(), a.getDate(), a.getHours(), a.getMinutes(), a.getSeconds(), 0)) < this.startDate ? a = this.startDate : a > this.endDate && (a = this.endDate), this.viewMode = this.startViewMode, this.showMode(0), this._setDate(a), this.fill(), this.autoclose && this.hide() }break; case "span": if (!i.is(".disabled")) { var s = this.viewDate.getUTCFullYear(), g = this.viewDate.getUTCMonth(), l = this.viewDate.getUTCDate(), c = this.viewDate.getUTCHours(), I = this.viewDate.getUTCMinutes(), u = this.viewDate.getUTCSeconds(); if (i.is(".month") ? (this.viewDate.setUTCDate(1), g = i.parent().find("span").index(i), l = this.viewDate.getUTCDate(), this.viewDate.setUTCMonth(g), this.element.trigger({ type: "changeMonth", date: this.viewDate }), 3 <= this.viewSelect && this._setDate(n(s, g, l, c, I, u, 0))) : i.is(".year") ? (this.viewDate.setUTCDate(1), s = parseInt(i.text(), 10) || 0, this.viewDate.setUTCFullYear(s), this.element.trigger({ type: "changeYear", date: this.viewDate }), 4 <= this.viewSelect && this._setDate(n(s, g, l, c, I, u, 0))) : i.is(".hour") ? (c = parseInt(i.text(), 10) || 0, (i.hasClass("hour_am") || i.hasClass("hour_pm")) && (12 === c && i.hasClass("hour_am") ? c = 0 : 12 !== c && i.hasClass("hour_pm") && (c += 12)), this.viewDate.setUTCHours(c), this.element.trigger({ type: "changeHour", date: this.viewDate }), 1 <= this.viewSelect && this._setDate(n(s, g, l, c, I, u, 0))) : i.is(".minute") && (I = parseInt(i.text().substr(i.text().indexOf(":") + 1), 10) || 0, this.viewDate.setUTCMinutes(I), this.element.trigger({ type: "changeMinute", date: this.viewDate }), 0 <= this.viewSelect && this._setDate(n(s, g, l, c, I, u, 0))), 0 !== this.viewMode) { var h = this.viewMode; this.showMode(-1), this.fill(), h === this.viewMode && this.autoclose && this.hide() } else this.fill(), this.autoclose && this.hide() } break; case "td": i.is(".day") && !i.is(".disabled") && (l = parseInt(i.text(), 10) || 1, s = this.viewDate.getUTCFullYear(), g = this.viewDate.getUTCMonth(), c = this.viewDate.getUTCHours(), I = this.viewDate.getUTCMinutes(), u = this.viewDate.getUTCSeconds(), i.is(".old") ? 0 === g ? (g = 11, s -= 1) : g -= 1 : i.is(".new") && (11 === g ? (g = 0, s += 1) : g += 1), this.viewDate.setUTCFullYear(s), this.viewDate.setUTCMonth(g, l), this.element.trigger({ type: "changeDay", date: this.viewDate }), 2 <= this.viewSelect && this._setDate(n(s, g, l, c, I, u, 0))), h = this.viewMode, this.showMode(-1), this.fill(), h === this.viewMode && this.autoclose && this.hide() } } }, _setDate: function (t, e) { var n; e && "date" !== e || (this.date = t), e && "view" !== e || (this.viewDate = t), this.fill(), this.setValue(), this.isInput ? n = this.element : this.component && (n = this.element.find("input")), n && n.change(), this.element.trigger({ type: "changeDate", date: this.getDate() }), null === t && (this.date = this.viewDate) }, moveMinute: function (t, e) { if (!e) return t; var n = new Date(t.valueOf()); return n.setUTCMinutes(n.getUTCMinutes() + e * this.minuteStep), n }, moveHour: function (t, e) { if (!e) return t; var n = new Date(t.valueOf()); return n.setUTCHours(n.getUTCHours() + e), n }, moveDate: function (t, e) { if (!e) return t; var n = new Date(t.valueOf()); return n.setUTCDate(n.getUTCDate() + e), n }, moveMonth: function (t, e) { if (!e) return t; var n, i, o = new Date(t.valueOf()), a = o.getUTCDate(), r = o.getUTCMonth(), s = Math.abs(e); if (e = 0 < e ? 1 : -1, 1 === s) i = -1 === e ? function () { return o.getUTCMonth() === r } : function () { return o.getUTCMonth() !== n }, n = r + e, o.setUTCMonth(n), (n < 0 || 11 < n) && (n = (n + 12) % 12); else { for (var g = 0; g < s; g++)o = this.moveMonth(o, e); n = o.getUTCMonth(), o.setUTCDate(a), i = function () { return n !== o.getUTCMonth() } } for (; i();)o.setUTCDate(--a), o.setUTCMonth(n); return o }, moveYear: function (t, e) { return this.moveMonth(t, 12 * e) }, dateWithinRange: function (t) { return t >= this.startDate && t <= this.endDate }, keydown: function (t) { if (this.picker.is(":not(:visible)")) 27 === t.keyCode && this.show(); else { var e, n, i, o, a = !1; switch (t.keyCode) { case 27: this.hide(), t.preventDefault(); break; case 37: case 39: if (!this.keyboardNavigation) break; e = 37 === t.keyCode ? -1 : 1; var r = this.viewMode; t.ctrlKey ? r += 2 : t.shiftKey && (r += 1), 4 === r ? (n = this.moveYear(this.date, e), i = this.moveYear(this.viewDate, e)) : 3 === r ? (n = this.moveMonth(this.date, e), i = this.moveMonth(this.viewDate, e)) : 2 === r ? (n = this.moveDate(this.date, e), i = this.moveDate(this.viewDate, e)) : 1 === r ? (n = this.moveHour(this.date, e), i = this.moveHour(this.viewDate, e)) : 0 === r && (n = this.moveMinute(this.date, e), i = this.moveMinute(this.viewDate, e)), this.dateWithinRange(n) && (this.date = n, this.viewDate = i, this.setValue(), this.update(), t.preventDefault(), a = !0); break; case 38: case 40: if (!this.keyboardNavigation) break; e = 38 === t.keyCode ? -1 : 1, r = this.viewMode, t.ctrlKey ? r += 2 : t.shiftKey && (r += 1), 4 === r ? (n = this.moveYear(this.date, e), i = this.moveYear(this.viewDate, e)) : 3 === r ? (n = this.moveMonth(this.date, e), i = this.moveMonth(this.viewDate, e)) : 2 === r ? (n = this.moveDate(this.date, 7 * e), i = this.moveDate(this.viewDate, 7 * e)) : 1 === r ? i = this.showMeridian ? (n = this.moveHour(this.date, 6 * e), this.moveHour(this.viewDate, 6 * e)) : (n = this.moveHour(this.date, 4 * e), this.moveHour(this.viewDate, 4 * e)) : 0 === r && (n = this.moveMinute(this.date, 4 * e), i = this.moveMinute(this.viewDate, 4 * e)), this.dateWithinRange(n) && (this.date = n, this.viewDate = i, this.setValue(), this.update(), t.preventDefault(), a = !0); break; case 13: if (0 !== this.viewMode) { var s = this.viewMode; this.showMode(-1), this.fill(), s === this.viewMode && this.autoclose && this.hide() } else this.fill(), this.autoclose && this.hide(); t.preventDefault(); break; case 9: this.hide() }a && (this.isInput ? o = this.element : this.component && (o = this.element.find("input")), o && o.change(), this.element.trigger({ type: "changeDate", date: this.getDate() })) } }, showMode: function (t) { if (t) { var e = Math.max(0, Math.min(r.modes.length - 1, this.viewMode + t)); e >= this.minView && e <= this.maxView && (this.element.trigger({ type: "changeMode", date: this.viewDate, oldViewMode: this.viewMode, newViewMode: e }), this.viewMode = e) } this.picker.find(">div").hide().filter(".datetimepicker-" + r.modes[this.viewMode].clsName).css("display", "block"), this.updateNavArrows() }, reset: function () { this._setDate(null, "date") }, convertViewModeText: function (t) { switch (t) { case 4: return "decade"; case 3: return "year"; case 2: return "month"; case 1: return "day"; case 0: return "hour" } } }; var o = t.fn.datetimepicker; t.fn.datetimepicker = function (n) { var o, a = Array.apply(null, arguments); return a.shift(), this.each(function () { var r = t(this), s = r.data("datetimepicker"), g = "object" == typeof n && n; if (s || r.data("datetimepicker", s = new i(this, t.extend({}, t.fn.datetimepicker.defaults, g))), "string" == typeof n && "function" == typeof s[n] && (o = s[n].apply(s, a)) !== e) return !1 }), o !== e ? o : this }, t.fn.datetimepicker.defaults = {}, t.fn.datetimepicker.Constructor = i; var a = t.fn.datetimepicker.dates = { en: { days: ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], daysShort: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"], daysMin: ["Su", "Mo", "Tu", "We", "Th", "Fr", "Sa", "Su"], months: ["January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], monthsShort: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec"], meridiem: ["am", "pm"], suffix: ["st", "nd", "rd", "th"], today: "Today", clear: "Clear" } }, r = { modes: [{ clsName: "minutes", navFnc: "Hours", navStep: 1 }, { clsName: "hours", navFnc: "Date", navStep: 1 }, { clsName: "days", navFnc: "Month", navStep: 1 }, { clsName: "months", navFnc: "FullYear", navStep: 1 }, { clsName: "years", navFnc: "FullYear", navStep: 10 }], isLeapYear: function (t) { return t % 4 == 0 && t % 100 != 0 || t % 400 == 0 }, getDaysInMonth: function (t, e) { return [31, r.isLeapYear(t) ? 29 : 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31][e] }, getDefaultFormat: function (t, e) { if ("standard" === t) return "input" === e ? "yyyy-mm-dd hh:ii" : "yyyy-mm-dd hh:ii:ss"; if ("php" === t) return "input" === e ? "Y-m-d H:i" : "Y-m-d H:i:s"; throw new Error("Invalid format type.") }, validParts: function (t) { if ("standard" === t) return /t|hh?|HH?|p|P|z|Z|ii?|ss?|dd?|DD?|mm?|MM?|yy(?:yy)?/g; if ("php" === t) return /[dDjlNwzFmMnStyYaABgGhHis]/g; throw new Error("Invalid format type.") }, nonpunctuation: /[^ -\/:-@\[-`{-~\t\n\rTZ]+/g, parseFormat: function (t, e) { var n = t.replace(this.validParts(e), "\0").split("\0"), i = t.match(this.validParts(e)); if (!n || !n.length || !i || 0 === i.length) throw new Error("Invalid date format."); return { separators: n, parts: i } }, parseDate: function (e, o, r, s, g) { if (e instanceof Date) { var l = new Date(e.valueOf() - 6e4 * e.getTimezoneOffset()); return l.setMilliseconds(0), l } if (/^\d{4}\-\d{1,2}\-\d{1,2}$/.test(e) && (o = this.parseFormat("yyyy-mm-dd", s)), /^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}$/.test(e) && (o = this.parseFormat("yyyy-mm-dd hh:ii", s)), /^\d{4}\-\d{1,2}\-\d{1,2}[T ]\d{1,2}\:\d{1,2}\:\d{1,2}[Z]{0,1}$/.test(e) && (o = this.parseFormat("yyyy-mm-dd hh:ii:ss", s)), /^[-+]\d+[dmwy]([\s,]+[-+]\d+[dmwy])*$/.test(e)) { var c, I = /([-+]\d+)([dmwy])/, u = e.match(/([-+]\d+)([dmwy])/g); e = new Date; for (var h = 0; h < u.length; h++)switch (A = I.exec(u[h]), c = parseInt(A[1]), A[2]) { case "d": e.setUTCDate(e.getUTCDate() + c); break; case "m": e = i.prototype.moveMonth.call(i.prototype, e, c); break; case "w": e.setUTCDate(e.getUTCDate() + 7 * c); break; case "y": e = i.prototype.moveYear.call(i.prototype, e, c) }return n(e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate(), e.getUTCHours(), e.getUTCMinutes(), e.getUTCSeconds(), 0) } u = e && e.toString().match(this.nonpunctuation) || [], e = new Date(0, 0, 0, 0, 0, 0, 0); var d, C, A, p = {}, m = ["hh", "h", "ii", "i", "ss", "s", "yyyy", "yy", "M", "MM", "m", "mm", "D", "DD", "d", "dd", "H", "HH", "p", "P", "z", "Z"], f = { hh: function (t, e) { return t.setUTCHours(e) }, h: function (t, e) { return t.setUTCHours(e) }, HH: function (t, e) { return t.setUTCHours(12 === e ? 0 : e) }, H: function (t, e) { return t.setUTCHours(12 === e ? 0 : e) }, ii: function (t, e) { return t.setUTCMinutes(e) }, i: function (t, e) { return t.setUTCMinutes(e) }, ss: function (t, e) { return t.setUTCSeconds(e) }, s: function (t, e) { return t.setUTCSeconds(e) }, yyyy: function (t, e) { return t.setUTCFullYear(e) }, yy: function (t, e) { return t.setUTCFullYear(2e3 + e) }, m: function (t, e) { for (e -= 1; e < 0;)e += 12; for (e %= 12, t.setUTCMonth(e); t.getUTCMonth() !== e;) { if (isNaN(t.getUTCMonth())) return t; t.setUTCDate(t.getUTCDate() - 1) } return t }, d: function (t, e) { return t.setUTCDate(e) }, p: function (t, e) { return t.setUTCHours(1 === e ? t.getUTCHours() + 12 : t.getUTCHours()) }, z: function () { return g } }; if (f.M = f.MM = f.mm = f.m, f.dd = f.d, f.P = f.p, f.Z = f.z, e = n(e.getFullYear(), e.getMonth(), e.getDate(), e.getHours(), e.getMinutes(), e.getSeconds()), u.length === o.parts.length) { h = 0; for (var b = o.parts.length; h < b; h++) { if (d = parseInt(u[h], 10), A = o.parts[h], isNaN(d)) switch (A) { case "MM": C = t(a[r].months).filter(function () { var t = this.slice(0, u[h].length); return t === u[h].slice(0, t.length) }), d = t.inArray(C[0], a[r].months) + 1; break; case "M": C = t(a[r].monthsShort).filter(function () { var t = this.slice(0, u[h].length), e = u[h].slice(0, t.length); return t.toLowerCase() === e.toLowerCase() }), d = t.inArray(C[0], a[r].monthsShort) + 1; break; case "p": case "P": d = t.inArray(u[h].toLowerCase(), a[r].meridiem) }p[A] = d } var B; for (h = 0; h < m.length; h++)(B = m[h]) in p && !isNaN(p[B]) && f[B](e, p[B]) } return e }, formatDate: function (e, n, i, o, s) { if (null === e) return ""; var g; if ("standard" === o) g = { t: e.getTime(), yy: e.getUTCFullYear().toString().substring(2), yyyy: e.getUTCFullYear(), m: e.getUTCMonth() + 1, M: a[i].monthsShort[e.getUTCMonth()], MM: a[i].months[e.getUTCMonth()], d: e.getUTCDate(), D: a[i].daysShort[e.getUTCDay()], DD: a[i].days[e.getUTCDay()], p: 2 === a[i].meridiem.length ? a[i].meridiem[e.getUTCHours() < 12 ? 0 : 1] : "", h: e.getUTCHours(), i: e.getUTCMinutes(), s: e.getUTCSeconds(), z: s }, 2 === a[i].meridiem.length ? g.H = g.h % 12 == 0 ? 12 : g.h % 12 : g.H = g.h, g.HH = (g.H < 10 ? "0" : "") + g.H, g.P = g.p.toUpperCase(), g.Z = g.z, g.hh = (g.h < 10 ? "0" : "") + g.h, g.ii = (g.i < 10 ? "0" : "") + g.i, g.ss = (g.s < 10 ? "0" : "") + g.s, g.dd = (g.d < 10 ? "0" : "") + g.d, g.mm = (g.m < 10 ? "0" : "") + g.m; else { if ("php" !== o) throw new Error("Invalid format type."); (g = { y: e.getUTCFullYear().toString().substring(2), Y: e.getUTCFullYear(), F: a[i].months[e.getUTCMonth()], M: a[i].monthsShort[e.getUTCMonth()], n: e.getUTCMonth() + 1, t: r.getDaysInMonth(e.getUTCFullYear(), e.getUTCMonth()), j: e.getUTCDate(), l: a[i].days[e.getUTCDay()], D: a[i].daysShort[e.getUTCDay()], w: e.getUTCDay(), N: 0 === e.getUTCDay() ? 7 : e.getUTCDay(), S: e.getUTCDate() % 10 <= a[i].suffix.length ? a[i].suffix[e.getUTCDate() % 10 - 1] : "", a: 2 === a[i].meridiem.length ? a[i].meridiem[e.getUTCHours() < 12 ? 0 : 1] : "", g: e.getUTCHours() % 12 == 0 ? 12 : e.getUTCHours() % 12, G: e.getUTCHours(), i: e.getUTCMinutes(), s: e.getUTCSeconds() }).m = (g.n < 10 ? "0" : "") + g.n, g.d = (g.j < 10 ? "0" : "") + g.j, g.A = g.a.toString().toUpperCase(), g.h = (g.g < 10 ? "0" : "") + g.g, g.H = (g.G < 10 ? "0" : "") + g.G, g.i = (g.i < 10 ? "0" : "") + g.i, g.s = (g.s < 10 ? "0" : "") + g.s } e = []; for (var l = t.extend([], n.separators), c = 0, I = n.parts.length; c < I; c++)l.length && e.push(l.shift()), e.push(g[n.parts[c]]); return l.length && e.push(l.shift()), e.join("") }, convertViewMode: function (t) { switch (t) { case 4: case "decade": t = 4; break; case 3: case "year": t = 3; break; case 2: case "month": t = 2; break; case 1: case "day": t = 1; break; case 0: case "hour": t = 0 }return t }, headTemplate: '<thead><tr><th class="prev"><i class="{iconType} {leftArrow}"/></th><th colspan="5" class="switch"></th><th class="next"><i class="{iconType} {rightArrow}"/></th></tr></thead>', headTemplateV3: '<thead><tr><th class="prev"><span class="{iconType} {leftArrow}"></span> </th><th colspan="5" class="switch"></th><th class="next"><span class="{iconType} {rightArrow}"></span> </th></tr></thead>', contTemplate: '<tbody><tr><td colspan="7"></td></tr></tbody>', footTemplate: '<tfoot><tr><th colspan="7" class="today"></th></tr><tr><th colspan="7" class="clear"></th></tr></tfoot>' }; r.template = '<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datetimepicker-hours"><table class=" table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datetimepicker-days"><table class=" table-condensed">' + r.headTemplate + "<tbody></tbody>" + r.footTemplate + '</table></div><div class="datetimepicker-months"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + '</table></div><div class="datetimepicker-years"><table class="table-condensed">' + r.headTemplate + r.contTemplate + r.footTemplate + "</table></div></div>", r.templateV3 = '<div class="datetimepicker"><div class="datetimepicker-minutes"><table class=" table-condensed">' + r.headTemplateV3 + r.contTemplate + r.footTemplate + '</table></div><div class="datetimepicker-hours"><table class=" table-condensed">' + r.headTemplateV3 + r.contTemplate + r.footTemplate + '</table></div><div class="datetimepicker-days"><table class=" table-condensed">' + r.headTemplateV3 + "<tbody></tbody>" + r.footTemplate + '</table></div><div class="datetimepicker-months"><table class="table-condensed">' + r.headTemplateV3 + r.contTemplate + r.footTemplate + '</table></div><div class="datetimepicker-years"><table class="table-condensed">' + r.headTemplateV3 + r.contTemplate + r.footTemplate + "</table></div></div>", t.fn.datetimepicker.DPGlobal = r, t.fn.datetimepicker.noConflict = function () { return t.fn.datetimepicker = o, this }, t(document).on("focus.datetimepicker.data-api click.datetimepicker.data-api", '[data-provide="datetimepicker"]', function (e) { var n = t(this); n.data("datetimepicker") || (e.preventDefault(), n.datetimepicker("show")) }), t(function () { t('[data-provide="datetimepicker-inline"]').datetimepicker() }) }), function (t, e, n) { "use strict"; function i(e, n) { this.widget = "", this.$element = t(e), this.defaultTime = n.defaultTime, this.disableFocus = n.disableFocus, this.disableMousewheel = n.disableMousewheel, this.isOpen = n.isOpen, this.minuteStep = n.minuteStep, this.modalBackdrop = n.modalBackdrop, this.orientation = n.orientation, this.secondStep = n.secondStep, this.snapToStep = n.snapToStep, this.showInputs = n.showInputs, this.showMeridian = n.showMeridian, this.showSeconds = n.showSeconds, this.template = n.template, this.appendWidgetTo = n.appendWidgetTo, this.showWidgetOnAddonClick = n.showWidgetOnAddonClick, this.icons = n.icons, this.maxHours = n.maxHours, this.explicitMode = n.explicitMode, this.handleDocumentClick = function (t) { var e = t.data.scope; e.$element.parent().find(t.target).length || e.$widget.is(t.target) || e.$widget.find(t.target).length || e.hideWidget() }, this._init() } i.prototype = { constructor: i, _init: function () { var e = this; this.showWidgetOnAddonClick && this.$element.parent().hasClass("input-group") && this.$element.parent().hasClass("bootstrap-timepicker") ? (this.$element.parent(".input-group.bootstrap-timepicker").find(".input-group-addon").on({ "click.timepicker": t.proxy(this.showWidget, this) }), this.$element.on({ "focus.timepicker": t.proxy(this.highlightUnit, this), "click.timepicker": t.proxy(this.highlightUnit, this), "keydown.timepicker": t.proxy(this.elementKeydown, this), "blur.timepicker": t.proxy(this.blurElement, this), "mousewheel.timepicker DOMMouseScroll.timepicker": t.proxy(this.mousewheel, this) })) : this.template ? this.$element.on({ "focus.timepicker": t.proxy(this.showWidget, this), "click.timepicker": t.proxy(this.showWidget, this), "blur.timepicker": t.proxy(this.blurElement, this), "mousewheel.timepicker DOMMouseScroll.timepicker": t.proxy(this.mousewheel, this) }) : this.$element.on({ "focus.timepicker": t.proxy(this.highlightUnit, this), "click.timepicker": t.proxy(this.highlightUnit, this), "keydown.timepicker": t.proxy(this.elementKeydown, this), "blur.timepicker": t.proxy(this.blurElement, this), "mousewheel.timepicker DOMMouseScroll.timepicker": t.proxy(this.mousewheel, this) }), !1 !== this.template ? this.$widget = t(this.getTemplate()).on("click", t.proxy(this.widgetClick, this)) : this.$widget = !1, this.showInputs && !1 !== this.$widget && this.$widget.find("input").each(function () { t(this).on({ "click.timepicker": function () { t(this).select() }, "keydown.timepicker": t.proxy(e.widgetKeydown, e), "keyup.timepicker": t.proxy(e.widgetKeyup, e) }) }), this.setDefaultTime(this.defaultTime) }, blurElement: function () { this.highlightedUnit = null, this.updateFromElementVal() }, clear: function () { this.hour = "", this.minute = "", this.second = "", this.meridian = "", this.$element.val("") }, decrementHour: function () { if (this.showMeridian) if (1 === this.hour) this.hour = 12; else { if (12 === this.hour) return this.hour--, this.toggleMeridian(); if (0 === this.hour) return this.hour = 11, this.toggleMeridian(); this.hour-- } else this.hour <= 0 ? this.hour = this.maxHours - 1 : this.hour-- }, decrementMinute: function (t) { var e; (e = t ? this.minute - t : this.minute - this.minuteStep) < 0 ? (this.decrementHour(), this.minute = 60 + e) : this.minute = e }, decrementSecond: function () { var t = this.second - this.secondStep; t < 0 ? (this.decrementMinute(!0), this.second = 60 + t) : this.second = t }, elementKeydown: function (t) { switch (t.which) { case 9: if (t.shiftKey) { if ("hour" === this.highlightedUnit) { this.hideWidget(); break } this.highlightPrevUnit() } else { if (this.showMeridian && "meridian" === this.highlightedUnit || this.showSeconds && "second" === this.highlightedUnit || !this.showMeridian && !this.showSeconds && "minute" === this.highlightedUnit) { this.hideWidget(); break } this.highlightNextUnit() } t.preventDefault(), this.updateFromElementVal(); break; case 27: this.updateFromElementVal(); break; case 37: t.preventDefault(), this.highlightPrevUnit(), this.updateFromElementVal(); break; case 38: switch (t.preventDefault(), this.highlightedUnit) { case "hour": this.incrementHour(), this.highlightHour(); break; case "minute": this.incrementMinute(), this.highlightMinute(); break; case "second": this.incrementSecond(), this.highlightSecond(); break; case "meridian": this.toggleMeridian(), this.highlightMeridian() }this.update(); break; case 39: t.preventDefault(), this.highlightNextUnit(), this.updateFromElementVal(); break; case 40: switch (t.preventDefault(), this.highlightedUnit) { case "hour": this.decrementHour(), this.highlightHour(); break; case "minute": this.decrementMinute(), this.highlightMinute(); break; case "second": this.decrementSecond(), this.highlightSecond(); break; case "meridian": this.toggleMeridian(), this.highlightMeridian() }this.update() } }, getCursorPosition: function () { var t = this.$element.get(0); if ("selectionStart" in t) return t.selectionStart; if (n.selection) { t.focus(); var e = n.selection.createRange(), i = n.selection.createRange().text.length; return e.moveStart("character", -t.value.length), e.text.length - i } }, getTemplate: function () { var t, e, n, i, o, a; switch (o = this.showInputs ? (e = '<input type="text" class="bootstrap-timepicker-hour" maxlength="2"/>', n = '<input type="text" class="bootstrap-timepicker-minute" maxlength="2"/>', i = '<input type="text" class="bootstrap-timepicker-second" maxlength="2"/>', '<input type="text" class="bootstrap-timepicker-meridian" maxlength="2"/>') : (e = '<span class="bootstrap-timepicker-hour"></span>', n = '<span class="bootstrap-timepicker-minute"></span>', i = '<span class="bootstrap-timepicker-second"></span>', '<span class="bootstrap-timepicker-meridian"></span>'), a = '<table><tr><td><a href="#" data-action="incrementHour"><span class="' + this.icons.up + '"></span></a></td><td class="separator">&nbsp;</td><td><a href="#" data-action="incrementMinute"><span class="' + this.icons.up + '"></span></a></td>' + (this.showSeconds ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="incrementSecond"><span class="' + this.icons.up + '"></span></a></td>' : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td class="meridian-column"><a href="#" data-action="toggleMeridian"><span class="' + this.icons.up + '"></span></a></td>' : "") + "</tr><tr><td>" + e + '</td> <td class="separator">:</td><td>' + n + "</td> " + (this.showSeconds ? '<td class="separator">:</td><td>' + i + "</td>" : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td>' + o + "</td>" : "") + '</tr><tr><td><a href="#" data-action="decrementHour"><span class="' + this.icons.down + '"></span></a></td><td class="separator"></td><td><a href="#" data-action="decrementMinute"><span class="' + this.icons.down + '"></span></a></td>' + (this.showSeconds ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="decrementSecond"><span class="' + this.icons.down + '"></span></a></td>' : "") + (this.showMeridian ? '<td class="separator">&nbsp;</td><td><a href="#" data-action="toggleMeridian"><span class="' + this.icons.down + '"></span></a></td>' : "") + "</tr></table>", this.template) { case "modal": t = '<div class="bootstrap-timepicker-widget modal hide fade in" data-backdrop="' + (this.modalBackdrop ? "true" : "false") + '"><div class="modal-header"><a href="#" class="close" data-dismiss="modal">&times;</a><h3>Pick a Time</h3></div><div class="modal-content">' + a + '</div><div class="modal-footer"><a href="#" class="btn btn-primary" data-dismiss="modal">OK</a></div></div>'; break; case "dropdown": t = '<div class="bootstrap-timepicker-widget dropdown-menu">' + a + "</div>" }return t }, getTime: function () { return "" === this.hour ? "" : this.hour + ":" + (1 === this.minute.toString().length ? "0" + this.minute : this.minute) + (this.showSeconds ? ":" + (1 === this.second.toString().length ? "0" + this.second : this.second) : "") + (this.showMeridian ? " " + this.meridian : "") }, hideWidget: function () { !1 !== this.isOpen && (this.$element.trigger({ type: "hide.timepicker", time: { value: this.getTime(), hours: this.hour, minutes: this.minute, seconds: this.second, meridian: this.meridian } }), "modal" === this.template && this.$widget.modal ? this.$widget.modal("hide") : this.$widget.removeClass("open"), t(n).off("mousedown.timepicker, touchend.timepicker", this.handleDocumentClick), this.isOpen = !1, this.$widget.detach()) }, highlightUnit: function () { this.position = this.getCursorPosition(), 0 <= this.position && this.position <= 2 ? this.highlightHour() : 3 <= this.position && this.position <= 5 ? this.highlightMinute() : 6 <= this.position && this.position <= 8 ? this.showSeconds ? this.highlightSecond() : this.highlightMeridian() : 9 <= this.position && this.position <= 11 && this.highlightMeridian() }, highlightNextUnit: function () { switch (this.highlightedUnit) { case "hour": this.highlightMinute(); break; case "minute": this.showSeconds ? this.highlightSecond() : this.showMeridian ? this.highlightMeridian() : this.highlightHour(); break; case "second": this.showMeridian ? this.highlightMeridian() : this.highlightHour(); break; case "meridian": this.highlightHour() } }, highlightPrevUnit: function () { switch (this.highlightedUnit) { case "hour": this.showMeridian ? this.highlightMeridian() : this.showSeconds ? this.highlightSecond() : this.highlightMinute(); break; case "minute": this.highlightHour(); break; case "second": this.highlightMinute(); break; case "meridian": this.showSeconds ? this.highlightSecond() : this.highlightMinute() } }, highlightHour: function () { var t = this.$element.get(0), e = this; this.highlightedUnit = "hour", t.setSelectionRange && setTimeout(function () { e.hour < 10 ? t.setSelectionRange(0, 1) : t.setSelectionRange(0, 2) }, 0) }, highlightMinute: function () { var t = this.$element.get(0), e = this; this.highlightedUnit = "minute", t.setSelectionRange && setTimeout(function () { e.hour < 10 ? t.setSelectionRange(2, 4) : t.setSelectionRange(3, 5) }, 0) }, highlightSecond: function () { var t = this.$element.get(0), e = this; this.highlightedUnit = "second", t.setSelectionRange && setTimeout(function () { e.hour < 10 ? t.setSelectionRange(5, 7) : t.setSelectionRange(6, 8) }, 0) }, highlightMeridian: function () { var t = this.$element.get(0), e = this; this.highlightedUnit = "meridian", t.setSelectionRange && (this.showSeconds ? setTimeout(function () { e.hour < 10 ? t.setSelectionRange(8, 10) : t.setSelectionRange(9, 11) }, 0) : setTimeout(function () { e.hour < 10 ? t.setSelectionRange(5, 7) : t.setSelectionRange(6, 8) }, 0)) }, incrementHour: function () { if (this.showMeridian) { if (11 === this.hour) return this.hour++, this.toggleMeridian(); 12 === this.hour && (this.hour = 0) } return this.hour === this.maxHours - 1 ? void (this.hour = 0) : void this.hour++ }, incrementMinute: function (t) { var e; 59 < (e = t ? this.minute + t : this.minute + this.minuteStep - this.minute % this.minuteStep) ? (this.incrementHour(), this.minute = e - 60) : this.minute = e }, incrementSecond: function () { var t = this.second + this.secondStep - this.second % this.secondStep; 59 < t ? (this.incrementMinute(!0), this.second = t - 60) : this.second = t }, mousewheel: function (e) { if (!this.disableMousewheel) { e.preventDefault(), e.stopPropagation(); var n = e.originalEvent.wheelDelta || -e.originalEvent.detail, i = null; switch ("mousewheel" === e.type ? i = -1 * e.originalEvent.wheelDelta : "DOMMouseScroll" === e.type && (i = 40 * e.originalEvent.detail), i && (e.preventDefault(), t(this).scrollTop(i + t(this).scrollTop())), this.highlightedUnit) { case "minute": 0 < n ? this.incrementMinute() : this.decrementMinute(), this.highlightMinute(); break; case "second": 0 < n ? this.incrementSecond() : this.decrementSecond(), this.highlightSecond(); break; case "meridian": this.toggleMeridian(), this.highlightMeridian(); break; default: 0 < n ? this.incrementHour() : this.decrementHour(), this.highlightHour() }return !1 } }, changeToNearestStep: function (t, e) { return t % e == 0 ? t : Math.round(t % e / e) ? (t + (e - t % e)) % 60 : t - t % e }, place: function () { if (!this.isInline) { var n = this.$widget.outerWidth(), i = this.$widget.outerHeight(), o = t(e).width(), a = t(e).height(), r = t(e).scrollTop(), s = parseInt(this.$element.parents().filter(function () { return "auto" !== t(this).css("z-index") }).first().css("z-index"), 10) + 10, g = this.component ? this.component.parent().offset() : this.$element.offset(), l = this.component ? this.component.outerHeight(!0) : this.$element.outerHeight(!1), c = this.component ? this.component.outerWidth(!0) : this.$element.outerWidth(!1), I = g.left, u = g.top; this.$widget.removeClass("timepicker-orient-top timepicker-orient-bottom timepicker-orient-right timepicker-orient-left"), "auto" !== this.orientation.x ? (this.$widget.addClass("timepicker-orient-" + this.orientation.x), "right" === this.orientation.x && (I -= n - c)) : (this.$widget.addClass("timepicker-orient-left"), g.left < 0 ? I -= g.left - 10 : g.left + n > o && (I = o - n - 10)); var h, d, C = this.orientation.y; "auto" === C && (h = -r + g.top - i, d = r + a - (g.top + l + i), C = Math.max(h, d) === d ? "top" : "bottom"), this.$widget.addClass("timepicker-orient-" + C), "top" === C ? u += l : u -= i + parseInt(this.$widget.css("padding-top"), 10), this.$widget.css({ top: u, left: I, zIndex: s }) } }, remove: function () { t("document").off(".timepicker"), this.$widget && this.$widget.remove(), delete this.$element.data().timepicker }, setDefaultTime: function (t) { if (this.$element.val()) this.updateFromElementVal(); else if ("current" === t) { var e = new Date, n = e.getHours(), i = e.getMinutes(), o = e.getSeconds(), a = "AM"; 0 !== o && 60 == (o = Math.ceil(e.getSeconds() / this.secondStep) * this.secondStep) && (i += 1, o = 0), 0 !== i && 60 == (i = Math.ceil(e.getMinutes() / this.minuteStep) * this.minuteStep) && (n += 1, i = 0), this.showMeridian && (0 === n ? n = 12 : a = 12 <= n ? (12 < n && (n -= 12), "PM") : "AM"), this.hour = n, this.minute = i, this.second = o, this.meridian = a, this.update() } else !1 === t ? (this.hour = 0, this.minute = 0, this.second = 0, this.meridian = "AM") : this.setTime(t) }, setTime: function (t, e) { if (t) { var n, i, o, a, r, s; if ("object" == typeof t && t.getMonth) o = t.getHours(), a = t.getMinutes(), r = t.getSeconds(), this.showMeridian && (s = "AM", 12 < o && (s = "PM", o %= 12), 12 === o && (s = "PM")); else { if (2 < (n = (/a/i.test(t) ? 1 : 0) + (/p/i.test(t) ? 2 : 0))) return void this.clear(); if (o = (i = t.replace(/[^0-9\:]/g, "").split(":"))[0] ? i[0].toString() : i.toString(), this.explicitMode && 2 < o.length && o.length % 2 != 0) return void this.clear(); a = i[1] ? i[1].toString() : "", r = i[2] ? i[2].toString() : "", 4 < o.length && (r = o.slice(-2), o = o.slice(0, -2)), 2 < o.length && (a = o.slice(-2), o = o.slice(0, -2)), 2 < a.length && (r = a.slice(-2), a = a.slice(0, -2)), o = parseInt(o, 10), a = parseInt(a, 10), r = parseInt(r, 10), isNaN(o) && (o = 0), isNaN(a) && (a = 0), isNaN(r) && (r = 0), 59 < r && (r = 59), 59 < a && (a = 59), o >= this.maxHours && (o = this.maxHours - 1), this.showMeridian ? (12 < o && (n = 2, o -= 12), n || (n = 1), 0 === o && (o = 12), s = 1 === n ? "AM" : "PM") : o < 12 && 2 === n ? o += 12 : o >= this.maxHours ? o = this.maxHours - 1 : (o < 0 || 12 === o && 1 === n) && (o = 0) } this.hour = o, this.snapToStep ? (this.minute = this.changeToNearestStep(a, this.minuteStep), this.second = this.changeToNearestStep(r, this.secondStep)) : (this.minute = a, this.second = r), this.meridian = s, this.update(e) } else this.clear() }, showWidget: function () { this.isOpen || this.$element.is(":disabled") || (this.$widget.appendTo(this.appendWidgetTo), t(n).on("mousedown.timepicker, touchend.timepicker", { scope: this }, this.handleDocumentClick), this.$element.trigger({ type: "show.timepicker", time: { value: this.getTime(), hours: this.hour, minutes: this.minute, seconds: this.second, meridian: this.meridian } }), this.place(), this.disableFocus && this.$element.blur(), "" === this.hour && (this.defaultTime ? this.setDefaultTime(this.defaultTime) : this.setTime("0:0:0")), "modal" === this.template && this.$widget.modal ? this.$widget.modal("show").on("hidden", t.proxy(this.hideWidget, this)) : !1 === this.isOpen && this.$widget.addClass("open"), this.isOpen = !0) }, toggleMeridian: function () { this.meridian = "AM" === this.meridian ? "PM" : "AM" }, update: function (t) { this.updateElement(), t || this.updateWidget(), this.$element.trigger({ type: "changeTime.timepicker", time: { value: this.getTime(), hours: this.hour, minutes: this.minute, seconds: this.second, meridian: this.meridian } }) }, updateElement: function () { this.$element.val(this.getTime()).change() }, updateFromElementVal: function () { this.setTime(this.$element.val()) }, updateWidget: function () { if (!1 !== this.$widget) { var t = this.hour, e = 1 === this.minute.toString().length ? "0" + this.minute : this.minute, n = 1 === this.second.toString().length ? "0" + this.second : this.second; this.showInputs ? (this.$widget.find("input.bootstrap-timepicker-hour").val(t), this.$widget.find("input.bootstrap-timepicker-minute").val(e), this.showSeconds && this.$widget.find("input.bootstrap-timepicker-second").val(n), this.showMeridian && this.$widget.find("input.bootstrap-timepicker-meridian").val(this.meridian)) : (this.$widget.find("span.bootstrap-timepicker-hour").text(t), this.$widget.find("span.bootstrap-timepicker-minute").text(e), this.showSeconds && this.$widget.find("span.bootstrap-timepicker-second").text(n), this.showMeridian && this.$widget.find("span.bootstrap-timepicker-meridian").text(this.meridian)) } }, updateFromWidgetInputs: function () { if (!1 !== this.$widget) { var t = this.$widget.find("input.bootstrap-timepicker-hour").val() + ":" + this.$widget.find("input.bootstrap-timepicker-minute").val() + (this.showSeconds ? ":" + this.$widget.find("input.bootstrap-timepicker-second").val() : "") + (this.showMeridian ? this.$widget.find("input.bootstrap-timepicker-meridian").val() : ""); this.setTime(t, !0) } }, widgetClick: function (e) { e.stopPropagation(), e.preventDefault(); var n = t(e.target), i = n.closest("a").data("action"); i && this[i](), this.update(), n.is("input") && n.get(0).setSelectionRange(0, 2) }, widgetKeydown: function (e) { var n = t(e.target), i = n.attr("class").replace("bootstrap-timepicker-", ""); switch (e.which) { case 9: if (e.shiftKey) { if ("hour" === i) return this.hideWidget() } else if (this.showMeridian && "meridian" === i || this.showSeconds && "second" === i || !this.showMeridian && !this.showSeconds && "minute" === i) return this.hideWidget(); break; case 27: this.hideWidget(); break; case 38: switch (e.preventDefault(), i) { case "hour": this.incrementHour(); break; case "minute": this.incrementMinute(); break; case "second": this.incrementSecond(); break; case "meridian": this.toggleMeridian() }this.setTime(this.getTime()), n.get(0).setSelectionRange(0, 2); break; case 40: switch (e.preventDefault(), i) { case "hour": this.decrementHour(); break; case "minute": this.decrementMinute(); break; case "second": this.decrementSecond(); break; case "meridian": this.toggleMeridian() }this.setTime(this.getTime()), n.get(0).setSelectionRange(0, 2) } }, widgetKeyup: function (t) { (65 === t.which || 77 === t.which || 80 === t.which || 46 === t.which || 8 === t.which || 48 <= t.which && t.which <= 57 || 96 <= t.which && t.which <= 105) && this.updateFromWidgetInputs() } }, t.fn.timepicker = function (e) { var n = Array.apply(null, arguments); return n.shift(), this.each(function () { var o = t(this), a = o.data("timepicker"), r = "object" == typeof e && e; a || o.data("timepicker", a = new i(this, t.extend({}, t.fn.timepicker.defaults, r, t(this).data()))), "string" == typeof e && a[e].apply(a, n) }) }, t.fn.timepicker.defaults = { defaultTime: "current", disableFocus: !1, disableMousewheel: !1, isOpen: !1, minuteStep: 15, modalBackdrop: !1, orientation: { x: "auto", y: "auto" }, secondStep: 15, snapToStep: !1, showSeconds: !1, showInputs: !0, showMeridian: !0, template: "dropdown", appendWidgetTo: "body", showWidgetOnAddonClick: !0, icons: { up: "glyphicon glyphicon-chevron-up", down: "glyphicon glyphicon-chevron-down" }, maxHours: 24, explicitMode: !1 }, t.fn.timepicker.Constructor = i, t(n).on("focus.timepicker.data-api click.timepicker.data-api", '[data-provide="timepicker"]', function (e) { var n = t(this); n.data("timepicker") || (e.preventDefault(), n.timepicker()) }) }(jQuery, window, document), $.fn.timepicker.defaults = $.extend(!0, {}, $.fn.timepicker.defaults, { icons: { up: "la la-angle-up", down: "la la-angle-down" } }), function (t, e) { if ("function" == typeof define && define.amd) define(["moment", "jquery"], function (t, n) { return n.fn || (n.fn = {}), "function" != typeof t && t.default && (t = t.default), e(t, n) }); else if ("object" == typeof module && module.exports) { var n = "undefined" != typeof window ? window.jQuery : void 0; n || (n = require("jquery")).fn || (n.fn = {}); var i = "undefined" != typeof window && void 0 !== window.moment ? window.moment : require("moment"); module.exports = e(i, n) } else t.daterangepicker = e(t.moment, t.jQuery) }(this, function (t, e) { function n(n, i, o) { if (this.parentEl = "body", this.element = e(n), this.startDate = t().startOf("day"), this.endDate = t().endOf("day"), this.minDate = !1, this.maxDate = !1, this.maxSpan = !1, this.autoApply = !1, this.singleDatePicker = !1, this.showDropdowns = !1, this.minYear = t().subtract(100, "year").format("YYYY"), this.maxYear = t().add(100, "year").format("YYYY"), this.showWeekNumbers = !1, this.showISOWeekNumbers = !1, this.showCustomRangeLabel = !0, this.timePicker = !1, this.timePicker24Hour = !1, this.timePickerIncrement = 1, this.timePickerSeconds = !1, this.linkedCalendars = !0, this.autoUpdateInput = !0, this.alwaysShowCalendars = !1, this.ranges = {}, this.opens = "right", this.element.hasClass("pull-right") && (this.opens = "left"), this.drops = "down", this.element.hasClass("dropup") && (this.drops = "up"), this.buttonClasses = "btn btn-sm", this.applyButtonClasses = "btn-primary", this.cancelButtonClasses = "btn-default", this.locale = { direction: "ltr", format: t.localeData().longDateFormat("L"), separator: " - ", applyLabel: "Apply", cancelLabel: "Cancel", weekLabel: "W", customRangeLabel: "Custom Range", daysOfWeek: t.weekdaysMin(), monthNames: t.monthsShort(), firstDay: t.localeData().firstDayOfWeek() }, this.callback = function () { }, this.isShowing = !1, this.leftCalendar = {}, this.rightCalendar = {}, "object" == typeof i && null !== i || (i = {}), "string" == typeof (i = e.extend(this.element.data(), i)).template || i.template instanceof e || (i.template = '<div class="daterangepicker"><div class="ranges"></div><div class="drp-calendar left"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-calendar right"><div class="calendar-table"></div><div class="calendar-time"></div></div><div class="drp-buttons"><span class="drp-selected"></span><button class="cancelBtn" type="button"></button><button class="applyBtn" disabled="disabled" type="button"></button> </div></div>'), this.parentEl = i.parentEl && e(i.parentEl).length ? e(i.parentEl) : e(this.parentEl), this.container = e(i.template).appendTo(this.parentEl), "object" == typeof i.locale && ("string" == typeof i.locale.direction && (this.locale.direction = i.locale.direction), "string" == typeof i.locale.format && (this.locale.format = i.locale.format), "string" == typeof i.locale.separator && (this.locale.separator = i.locale.separator), "object" == typeof i.locale.daysOfWeek && (this.locale.daysOfWeek = i.locale.daysOfWeek.slice()), "object" == typeof i.locale.monthNames && (this.locale.monthNames = i.locale.monthNames.slice()), "number" == typeof i.locale.firstDay && (this.locale.firstDay = i.locale.firstDay), "string" == typeof i.locale.applyLabel && (this.locale.applyLabel = i.locale.applyLabel), "string" == typeof i.locale.cancelLabel && (this.locale.cancelLabel = i.locale.cancelLabel), "string" == typeof i.locale.weekLabel && (this.locale.weekLabel = i.locale.weekLabel), "string" == typeof i.locale.customRangeLabel)) { (u = document.createElement("textarea")).innerHTML = i.locale.customRangeLabel; var a = u.value; this.locale.customRangeLabel = a } if (this.container.addClass(this.locale.direction), "string" == typeof i.startDate && (this.startDate = t(i.startDate, this.locale.format)), "string" == typeof i.endDate && (this.endDate = t(i.endDate, this.locale.format)), "string" == typeof i.minDate && (this.minDate = t(i.minDate, this.locale.format)), "string" == typeof i.maxDate && (this.maxDate = t(i.maxDate, this.locale.format)), "object" == typeof i.startDate && (this.startDate = t(i.startDate)), "object" == typeof i.endDate && (this.endDate = t(i.endDate)), "object" == typeof i.minDate && (this.minDate = t(i.minDate)), "object" == typeof i.maxDate && (this.maxDate = t(i.maxDate)), this.minDate && this.startDate.isBefore(this.minDate) && (this.startDate = this.minDate.clone()), this.maxDate && this.endDate.isAfter(this.maxDate) && (this.endDate = this.maxDate.clone()), "string" == typeof i.applyButtonClasses && (this.applyButtonClasses = i.applyButtonClasses), "string" == typeof i.applyClass && (this.applyButtonClasses = i.applyClass), "string" == typeof i.cancelButtonClasses && (this.cancelButtonClasses = i.cancelButtonClasses), "string" == typeof i.cancelClass && (this.cancelButtonClasses = i.cancelClass), "object" == typeof i.maxSpan && (this.maxSpan = i.maxSpan), "object" == typeof i.dateLimit && (this.maxSpan = i.dateLimit), "string" == typeof i.opens && (this.opens = i.opens), "string" == typeof i.drops && (this.drops = i.drops), "boolean" == typeof i.showWeekNumbers && (this.showWeekNumbers = i.showWeekNumbers), "boolean" == typeof i.showISOWeekNumbers && (this.showISOWeekNumbers = i.showISOWeekNumbers), "string" == typeof i.buttonClasses && (this.buttonClasses = i.buttonClasses), "object" == typeof i.buttonClasses && (this.buttonClasses = i.buttonClasses.join(" ")), "boolean" == typeof i.showDropdowns && (this.showDropdowns = i.showDropdowns), "number" == typeof i.minYear && (this.minYear = i.minYear), "number" == typeof i.maxYear && (this.maxYear = i.maxYear), "boolean" == typeof i.showCustomRangeLabel && (this.showCustomRangeLabel = i.showCustomRangeLabel), "boolean" == typeof i.singleDatePicker && (this.singleDatePicker = i.singleDatePicker, this.singleDatePicker && (this.endDate = this.startDate.clone())), "boolean" == typeof i.timePicker && (this.timePicker = i.timePicker), "boolean" == typeof i.timePickerSeconds && (this.timePickerSeconds = i.timePickerSeconds), "number" == typeof i.timePickerIncrement && (this.timePickerIncrement = i.timePickerIncrement), "boolean" == typeof i.timePicker24Hour && (this.timePicker24Hour = i.timePicker24Hour), "boolean" == typeof i.autoApply && (this.autoApply = i.autoApply), "boolean" == typeof i.autoUpdateInput && (this.autoUpdateInput = i.autoUpdateInput), "boolean" == typeof i.linkedCalendars && (this.linkedCalendars = i.linkedCalendars), "function" == typeof i.isInvalidDate && (this.isInvalidDate = i.isInvalidDate), "function" == typeof i.isCustomDate && (this.isCustomDate = i.isCustomDate), "boolean" == typeof i.alwaysShowCalendars && (this.alwaysShowCalendars = i.alwaysShowCalendars), 0 != this.locale.firstDay) for (var r = this.locale.firstDay; 0 < r;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()), r--; var s, g, l; if (void 0 === i.startDate && void 0 === i.endDate && e(this.element).is(":text")) { var c = e(this.element).val(), I = c.split(this.locale.separator); s = g = null, 2 == I.length ? (s = t(I[0], this.locale.format), g = t(I[1], this.locale.format)) : this.singleDatePicker && "" !== c && (s = t(c, this.locale.format), g = t(c, this.locale.format)), null !== s && null !== g && (this.setStartDate(s), this.setEndDate(g)) } if ("object" == typeof i.ranges) { for (l in i.ranges) { s = "string" == typeof i.ranges[l][0] ? t(i.ranges[l][0], this.locale.format) : t(i.ranges[l][0]), g = "string" == typeof i.ranges[l][1] ? t(i.ranges[l][1], this.locale.format) : t(i.ranges[l][1]), this.minDate && s.isBefore(this.minDate) && (s = this.minDate.clone()); var u, h = this.maxDate; if (this.maxSpan && h && s.clone().add(this.maxSpan).isAfter(h) && (h = s.clone().add(this.maxSpan)), h && g.isAfter(h) && (g = h.clone()), !(this.minDate && g.isBefore(this.minDate, this.timepicker ? "minute" : "day") || h && s.isAfter(h, this.timepicker ? "minute" : "day"))) (u = document.createElement("textarea")).innerHTML = l, a = u.value, this.ranges[a] = [s, g] } var d = "<ul>"; for (l in this.ranges) d += '<li data-range-key="' + l + '">' + l + "</li>"; this.showCustomRangeLabel && (d += '<li data-range-key="' + this.locale.customRangeLabel + '">' + this.locale.customRangeLabel + "</li>"), d += "</ul>", this.container.find(".ranges").prepend(d) } "function" == typeof o && (this.callback = o), this.timePicker || (this.startDate = this.startDate.startOf("day"), this.endDate = this.endDate.endOf("day"), this.container.find(".calendar-time").hide()), this.timePicker && this.autoApply && (this.autoApply = !1), this.autoApply && this.container.addClass("auto-apply"), "object" == typeof i.ranges && this.container.addClass("show-ranges"), this.singleDatePicker && (this.container.addClass("single"), this.container.find(".drp-calendar.left").addClass("single"), this.container.find(".drp-calendar.left").show(), this.container.find(".drp-calendar.right").hide(), this.timePicker || this.container.addClass("auto-apply")), (void 0 === i.ranges && !this.singleDatePicker || this.alwaysShowCalendars) && this.container.addClass("show-calendar"), this.container.addClass("opens" + this.opens), this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses), this.applyButtonClasses.length && this.container.find(".applyBtn").addClass(this.applyButtonClasses), this.cancelButtonClasses.length && this.container.find(".cancelBtn").addClass(this.cancelButtonClasses), this.container.find(".applyBtn").html(this.locale.applyLabel), this.container.find(".cancelBtn").html(this.locale.cancelLabel), this.container.find(".drp-calendar").on("click.daterangepicker", ".prev", e.proxy(this.clickPrev, this)).on("click.daterangepicker", ".next", e.proxy(this.clickNext, this)).on("mousedown.daterangepicker", "td.available", e.proxy(this.clickDate, this)).on("mouseenter.daterangepicker", "td.available", e.proxy(this.hoverDate, this)).on("change.daterangepicker", "select.yearselect", e.proxy(this.monthOrYearChanged, this)).on("change.daterangepicker", "select.monthselect", e.proxy(this.monthOrYearChanged, this)).on("change.daterangepicker", "select.hourselect,select.minuteselect,select.secondselect,select.ampmselect", e.proxy(this.timeChanged, this)), this.container.find(".ranges").on("click.daterangepicker", "li", e.proxy(this.clickRange, this)), this.container.find(".drp-buttons").on("click.daterangepicker", "button.applyBtn", e.proxy(this.clickApply, this)).on("click.daterangepicker", "button.cancelBtn", e.proxy(this.clickCancel, this)), this.element.is("input") || this.element.is("button") ? this.element.on({ "click.daterangepicker": e.proxy(this.show, this), "focus.daterangepicker": e.proxy(this.show, this), "keyup.daterangepicker": e.proxy(this.elementChanged, this), "keydown.daterangepicker": e.proxy(this.keydown, this) }) : (this.element.on("click.daterangepicker", e.proxy(this.toggle, this)), this.element.on("keydown.daterangepicker", e.proxy(this.toggle, this))), this.updateElement() } return n.prototype = { constructor: n, setStartDate: function (e) { "string" == typeof e && (this.startDate = t(e, this.locale.format)), "object" == typeof e && (this.startDate = t(e)), this.timePicker || (this.startDate = this.startDate.startOf("day")), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement), this.minDate && this.startDate.isBefore(this.minDate) && (this.startDate = this.minDate.clone(), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.round(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement)), this.maxDate && this.startDate.isAfter(this.maxDate) && (this.startDate = this.maxDate.clone(), this.timePicker && this.timePickerIncrement && this.startDate.minute(Math.floor(this.startDate.minute() / this.timePickerIncrement) * this.timePickerIncrement)), this.isShowing || this.updateElement(), this.updateMonthsInView() }, setEndDate: function (e) { "string" == typeof e && (this.endDate = t(e, this.locale.format)), "object" == typeof e && (this.endDate = t(e)), this.timePicker || (this.endDate = this.endDate.endOf("day")), this.timePicker && this.timePickerIncrement && this.endDate.minute(Math.round(this.endDate.minute() / this.timePickerIncrement) * this.timePickerIncrement), this.endDate.isBefore(this.startDate) && (this.endDate = this.startDate.clone()), this.maxDate && this.endDate.isAfter(this.maxDate) && (this.endDate = this.maxDate.clone()), this.maxSpan && this.startDate.clone().add(this.maxSpan).isBefore(this.endDate) && (this.endDate = this.startDate.clone().add(this.maxSpan)), this.previousRightTime = this.endDate.clone(), this.container.find(".drp-selected").html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format)), this.isShowing || this.updateElement(), this.updateMonthsInView() }, isInvalidDate: function () { return !1 }, isCustomDate: function () { return !1 }, updateView: function () { this.timePicker && (this.renderTimePicker("left"), this.renderTimePicker("right"), this.endDate ? this.container.find(".right .calendar-time select").removeAttr("disabled").removeClass("disabled") : this.container.find(".right .calendar-time select").attr("disabled", "disabled").addClass("disabled")), this.endDate && this.container.find(".drp-selected").html(this.startDate.format(this.locale.format) + this.locale.separator + this.endDate.format(this.locale.format)), this.updateMonthsInView(), this.updateCalendars(), this.updateFormInputs() }, updateMonthsInView: function () { if (this.endDate) { if (!this.singleDatePicker && this.leftCalendar.month && this.rightCalendar.month && (this.startDate.format("YYYY-MM") == this.leftCalendar.month.format("YYYY-MM") || this.startDate.format("YYYY-MM") == this.rightCalendar.month.format("YYYY-MM")) && (this.endDate.format("YYYY-MM") == this.leftCalendar.month.format("YYYY-MM") || this.endDate.format("YYYY-MM") == this.rightCalendar.month.format("YYYY-MM"))) return; this.leftCalendar.month = this.startDate.clone().date(2), this.linkedCalendars || this.endDate.month() == this.startDate.month() && this.endDate.year() == this.startDate.year() ? this.rightCalendar.month = this.startDate.clone().date(2).add(1, "month") : this.rightCalendar.month = this.endDate.clone().date(2) } else this.leftCalendar.month.format("YYYY-MM") != this.startDate.format("YYYY-MM") && this.rightCalendar.month.format("YYYY-MM") != this.startDate.format("YYYY-MM") && (this.leftCalendar.month = this.startDate.clone().date(2), this.rightCalendar.month = this.startDate.clone().date(2).add(1, "month")); this.maxDate && this.linkedCalendars && !this.singleDatePicker && this.rightCalendar.month > this.maxDate && (this.rightCalendar.month = this.maxDate.clone().date(2), this.leftCalendar.month = this.maxDate.clone().date(2).subtract(1, "month")) }, updateCalendars: function () { var t, e, n, i; this.timePicker && (this.endDate ? (t = parseInt(this.container.find(".left .hourselect").val(), 10), e = parseInt(this.container.find(".left .minuteselect").val(), 10), isNaN(e) && (e = parseInt(this.container.find(".left .minuteselect option:last").val(), 10)), n = this.timePickerSeconds ? parseInt(this.container.find(".left .secondselect").val(), 10) : 0, this.timePicker24Hour || ("PM" === (i = this.container.find(".left .ampmselect").val()) && t < 12 && (t += 12), "AM" === i && 12 === t && (t = 0))) : (t = parseInt(this.container.find(".right .hourselect").val(), 10), e = parseInt(this.container.find(".right .minuteselect").val(), 10), isNaN(e) && (e = parseInt(this.container.find(".right .minuteselect option:last").val(), 10)), n = this.timePickerSeconds ? parseInt(this.container.find(".right .secondselect").val(), 10) : 0, this.timePicker24Hour || ("PM" === (i = this.container.find(".right .ampmselect").val()) && t < 12 && (t += 12), "AM" === i && 12 === t && (t = 0))), this.leftCalendar.month.hour(t).minute(e).second(n), this.rightCalendar.month.hour(t).minute(e).second(n)); this.renderCalendar("left"), this.renderCalendar("right"), this.container.find(".ranges li").removeClass("active"), null != this.endDate && this.calculateChosenLabel() }, renderCalendar: function (n) { var i, o = (i = "left" == n ? this.leftCalendar : this.rightCalendar).month.month(), a = i.month.year(), r = i.month.hour(), s = i.month.minute(), g = i.month.second(), l = t([a, o]).daysInMonth(), c = t([a, o, 1]), I = t([a, o, l]), u = t(c).subtract(1, "month").month(), h = t(c).subtract(1, "month").year(), d = t([h, u]).daysInMonth(), C = c.day(); (i = []).firstDay = c, i.lastDay = I; for (var A = 0; A < 6; A++)i[A] = []; var p = d - C + this.locale.firstDay + 1; d < p && (p -= 7), C == this.locale.firstDay && (p = d - 6); for (var m = t([h, u, p, 12, s, g]), f = (A = 0, 0), b = 0; A < 42; A++, f++, m = t(m).add(24, "hour"))0 < A && f % 7 == 0 && (f = 0, b++), i[b][f] = m.clone().hour(r).minute(s).second(g), m.hour(12), this.minDate && i[b][f].format("YYYY-MM-DD") == this.minDate.format("YYYY-MM-DD") && i[b][f].isBefore(this.minDate) && "left" == n && (i[b][f] = this.minDate.clone()), this.maxDate && i[b][f].format("YYYY-MM-DD") == this.maxDate.format("YYYY-MM-DD") && i[b][f].isAfter(this.maxDate) && "right" == n && (i[b][f] = this.maxDate.clone()); "left" == n ? this.leftCalendar.calendar = i : this.rightCalendar.calendar = i; var B = "left" == n ? this.minDate : this.startDate, y = this.maxDate, v = ("left" == n ? this.startDate : this.endDate, this.locale.direction, '<table class="table-condensed">'); v += "<thead>", v += "<tr>", (this.showWeekNumbers || this.showISOWeekNumbers) && (v += "<th></th>"), B && !B.isBefore(i.firstDay) || this.linkedCalendars && "left" != n ? v += "<th></th>" : v += '<th class="prev available"><span></span></th>'; var x = this.locale.monthNames[i[1][1].month()] + i[1][1].format(" YYYY"); if (this.showDropdowns) { for (var F = i[1][1].month(), Q = i[1][1].year(), G = y && y.year() || this.maxYear, w = B && B.year() || this.minYear, X = Q == w, S = Q == G, k = '<select class="monthselect">', D = 0; D < 12; D++)(!X || B && D >= B.month()) && (!S || y && D <= y.month()) ? k += "<option value='" + D + "'" + (D === F ? " selected='selected'" : "") + ">" + this.locale.monthNames[D] + "</option>" : k += "<option value='" + D + "'" + (D === F ? " selected='selected'" : "") + " disabled='disabled'>" + this.locale.monthNames[D] + "</option>"; k += "</select>"; for (var Z = '<select class="yearselect">', U = w; U <= G; U++)Z += '<option value="' + U + '"' + (U === Q ? ' selected="selected"' : "") + ">" + U + "</option>"; x = k + (Z += "</select>") } if (v += '<th colspan="5" class="month">' + x + "</th>", y && !y.isAfter(i.lastDay) || this.linkedCalendars && "right" != n && !this.singleDatePicker ? v += "<th></th>" : v += '<th class="next available"><span></span></th>', v += "</tr>", v += "<tr>", (this.showWeekNumbers || this.showISOWeekNumbers) && (v += '<th class="week">' + this.locale.weekLabel + "</th>"), e.each(this.locale.daysOfWeek, function (t, e) { v += "<th>" + e + "</th>" }), v += "</tr>", v += "</thead>", v += "<tbody>", null == this.endDate && this.maxSpan) { var W = this.startDate.clone().add(this.maxSpan).endOf("day"); y && !W.isBefore(y) || (y = W) } for (b = 0; b < 6; b++) { for (v += "<tr>", this.showWeekNumbers ? v += '<td class="week">' + i[b][0].week() + "</td>" : this.showISOWeekNumbers && (v += '<td class="week">' + i[b][0].isoWeek() + "</td>"), f = 0; f < 7; f++) { var T = []; i[b][f].isSame(new Date, "day") && T.push("today"), 5 < i[b][f].isoWeekday() && T.push("weekend"), i[b][f].month() != i[1][1].month() && T.push("off", "ends"), this.minDate && i[b][f].isBefore(this.minDate, "day") && T.push("off", "disabled"), y && i[b][f].isAfter(y, "day") && T.push("off", "disabled"), this.isInvalidDate(i[b][f]) && T.push("off", "disabled"), i[b][f].format("YYYY-MM-DD") == this.startDate.format("YYYY-MM-DD") && T.push("active", "start-date"), null != this.endDate && i[b][f].format("YYYY-MM-DD") == this.endDate.format("YYYY-MM-DD") && T.push("active", "end-date"), null != this.endDate && i[b][f] > this.startDate && i[b][f] < this.endDate && T.push("in-range"); var N = this.isCustomDate(i[b][f]); !1 !== N && ("string" == typeof N ? T.push(N) : Array.prototype.push.apply(T, N)); var H = "", E = !1; for (A = 0; A < T.length; A++)H += T[A] + " ", "disabled" == T[A] && (E = !0); E || (H += "available"), v += '<td class="' + H.replace(/^\s+|\s+$/g, "") + '" data-title="r' + b + "c" + f + '">' + i[b][f].date() + "</td>" } v += "</tr>" } v += "</tbody>", v += "</table>", this.container.find(".drp-calendar." + n + " .calendar-table").html(v) }, renderTimePicker: function (t) { if ("right" != t || this.endDate) { var e, n, i, o = this.maxDate; if (!this.maxSpan || this.maxDate && !this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate) || (o = this.startDate.clone().add(this.maxSpan)), "left" == t) n = this.startDate.clone(), i = this.minDate; else if ("right" == t) { n = this.endDate.clone(), i = this.startDate; var a = this.container.find(".drp-calendar.right .calendar-time"); if ("" != a.html() && (n.hour(isNaN(n.hour()) ? a.find(".hourselect option:selected").val() : n.hour()), n.minute(isNaN(n.minute()) ? a.find(".minuteselect option:selected").val() : n.minute()), n.second(isNaN(n.second()) ? a.find(".secondselect option:selected").val() : n.second()), !this.timePicker24Hour)) { var r = a.find(".ampmselect option:selected").val(); "PM" === r && n.hour() < 12 && n.hour(n.hour() + 12), "AM" === r && 12 === n.hour() && n.hour(0) } n.isBefore(this.startDate) && (n = this.startDate.clone()), o && n.isAfter(o) && (n = o.clone()) } e = '<select class="hourselect">'; for (var s = this.timePicker24Hour ? 0 : 1, g = this.timePicker24Hour ? 23 : 12, l = s; l <= g; l++) { var c = l; this.timePicker24Hour || (c = 12 <= n.hour() ? 12 == l ? 12 : l + 12 : 12 == l ? 0 : l); var I = n.clone().hour(c), u = !1; i && I.minute(59).isBefore(i) && (u = !0), o && I.minute(0).isAfter(o) && (u = !0), c != n.hour() || u ? e += u ? '<option value="' + l + '" disabled="disabled" class="disabled">' + l + "</option>" : '<option value="' + l + '">' + l + "</option>" : e += '<option value="' + l + '" selected="selected">' + l + "</option>" } for (e += "</select> ", e += ': <select class="minuteselect">', l = 0; l < 60; l += this.timePickerIncrement) { var h = l < 10 ? "0" + l : l; I = n.clone().minute(l), u = !1, i && I.second(59).isBefore(i) && (u = !0), o && I.second(0).isAfter(o) && (u = !0), n.minute() != l || u ? e += u ? '<option value="' + l + '" disabled="disabled" class="disabled">' + h + "</option>" : '<option value="' + l + '">' + h + "</option>" : e += '<option value="' + l + '" selected="selected">' + h + "</option>" } if (e += "</select> ", this.timePickerSeconds) { for (e += ': <select class="secondselect">', l = 0; l < 60; l++)h = l < 10 ? "0" + l : l, I = n.clone().second(l), u = !1, i && I.isBefore(i) && (u = !0), o && I.isAfter(o) && (u = !0), n.second() != l || u ? e += u ? '<option value="' + l + '" disabled="disabled" class="disabled">' + h + "</option>" : '<option value="' + l + '">' + h + "</option>" : e += '<option value="' + l + '" selected="selected">' + h + "</option>"; e += "</select> " } if (!this.timePicker24Hour) { e += '<select class="ampmselect">'; var d = "", C = ""; i && n.clone().hour(12).minute(0).second(0).isBefore(i) && (d = ' disabled="disabled" class="disabled"'), o && n.clone().hour(0).minute(0).second(0).isAfter(o) && (C = ' disabled="disabled" class="disabled"'), 12 <= n.hour() ? e += '<option value="AM"' + d + '>AM</option><option value="PM" selected="selected"' + C + ">PM</option>" : e += '<option value="AM" selected="selected"' + d + '>AM</option><option value="PM"' + C + ">PM</option>", e += "</select>" } this.container.find(".drp-calendar." + t + " .calendar-time").html(e) } }, updateFormInputs: function () { this.singleDatePicker || this.endDate && (this.startDate.isBefore(this.endDate) || this.startDate.isSame(this.endDate)) ? this.container.find("button.applyBtn").removeAttr("disabled") : this.container.find("button.applyBtn").attr("disabled", "disabled") }, move: function () { var t, n = { top: 0, left: 0 }, i = e(window).width(); this.parentEl.is("body") || (n = { top: this.parentEl.offset().top - this.parentEl.scrollTop(), left: this.parentEl.offset().left - this.parentEl.scrollLeft() }, i = this.parentEl[0].clientWidth + this.parentEl.offset().left), t = "up" == this.drops ? this.element.offset().top - this.container.outerHeight() - n.top : this.element.offset().top + this.element.outerHeight() - n.top, this.container.css({ top: 0, left: 0, right: "auto" }); var o = this.container.outerWidth(); if (this.container["up" == this.drops ? "addClass" : "removeClass"]("drop-up"), "left" == this.opens) { var a = i - this.element.offset().left - this.element.outerWidth(); o + a > e(window).width() ? this.container.css({ top: t, right: "auto", left: 9 }) : this.container.css({ top: t, right: a, left: "auto" }) } else if ("center" == this.opens) (r = this.element.offset().left - n.left + this.element.outerWidth() / 2 - o / 2) < 0 ? this.container.css({ top: t, right: "auto", left: 9 }) : r + o > e(window).width() ? this.container.css({ top: t, left: "auto", right: 0 }) : this.container.css({ top: t, left: r, right: "auto" }); else { var r; (r = this.element.offset().left - n.left) + o > e(window).width() ? this.container.css({ top: t, left: "auto", right: 0 }) : this.container.css({ top: t, left: r, right: "auto" }) } }, show: function (t) { this.isShowing || (this._outsideClickProxy = e.proxy(function (t) { this.outsideClick(t) }, this), e(document).on("mousedown.daterangepicker", this._outsideClickProxy).on("touchend.daterangepicker", this._outsideClickProxy).on("click.daterangepicker", "[data-toggle=dropdown]", this._outsideClickProxy).on("focusin.daterangepicker", this._outsideClickProxy), e(window).on("resize.daterangepicker", e.proxy(function (t) { this.move(t) }, this)), this.oldStartDate = this.startDate.clone(), this.oldEndDate = this.endDate.clone(), this.previousRightTime = this.endDate.clone(), this.updateView(), this.container.show(), this.move(), this.element.trigger("show.daterangepicker", this), this.isShowing = !0) }, hide: function (t) { this.isShowing && (this.endDate || (this.startDate = this.oldStartDate.clone(), this.endDate = this.oldEndDate.clone()), this.startDate.isSame(this.oldStartDate) && this.endDate.isSame(this.oldEndDate) || this.callback(this.startDate.clone(), this.endDate.clone(), this.chosenLabel), this.updateElement(), e(document).off(".daterangepicker"), e(window).off(".daterangepicker"), this.container.hide(), this.element.trigger("hide.daterangepicker", this), this.isShowing = !1) }, toggle: function (t) { this.isShowing ? this.hide() : this.show() }, outsideClick: function (t) { var n = e(t.target); "focusin" == t.type || n.closest(this.element).length || n.closest(this.container).length || n.closest(".calendar-table").length || (this.hide(), this.element.trigger("outsideClick.daterangepicker", this)) }, showCalendars: function () { this.container.addClass("show-calendar"), this.move(), this.element.trigger("showCalendar.daterangepicker", this) }, hideCalendars: function () { this.container.removeClass("show-calendar"), this.element.trigger("hideCalendar.daterangepicker", this) }, clickRange: function (t) { var e = t.target.getAttribute("data-range-key"); if ((this.chosenLabel = e) == this.locale.customRangeLabel) this.showCalendars(); else { var n = this.ranges[e]; this.startDate = n[0], this.endDate = n[1], this.timePicker || (this.startDate.startOf("day"), this.endDate.endOf("day")), this.alwaysShowCalendars || this.hideCalendars(), this.clickApply() } }, clickPrev: function (t) { e(t.target).parents(".drp-calendar").hasClass("left") ? (this.leftCalendar.month.subtract(1, "month"), this.linkedCalendars && this.rightCalendar.month.subtract(1, "month")) : this.rightCalendar.month.subtract(1, "month"), this.updateCalendars() }, clickNext: function (t) { e(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.month.add(1, "month") : (this.rightCalendar.month.add(1, "month"), this.linkedCalendars && this.leftCalendar.month.add(1, "month")), this.updateCalendars() }, hoverDate: function (t) { if (e(t.target).hasClass("available")) { var n = e(t.target).attr("data-title"), i = n.substr(1, 1), o = n.substr(3, 1), a = e(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.calendar[i][o] : this.rightCalendar.calendar[i][o], r = this.leftCalendar, s = this.rightCalendar, g = this.startDate; this.endDate || this.container.find(".drp-calendar tbody td").each(function (t, n) { if (!e(n).hasClass("week")) { var i = e(n).attr("data-title"), o = i.substr(1, 1), l = i.substr(3, 1), c = e(n).parents(".drp-calendar").hasClass("left") ? r.calendar[o][l] : s.calendar[o][l]; c.isAfter(g) && c.isBefore(a) || c.isSame(a, "day") ? e(n).addClass("in-range") : e(n).removeClass("in-range") } }) } }, clickDate: function (t) { if (e(t.target).hasClass("available")) { var n = e(t.target).attr("data-title"), i = n.substr(1, 1), o = n.substr(3, 1), a = e(t.target).parents(".drp-calendar").hasClass("left") ? this.leftCalendar.calendar[i][o] : this.rightCalendar.calendar[i][o]; if (this.endDate || a.isBefore(this.startDate, "day")) { if (this.timePicker) { var r = parseInt(this.container.find(".left .hourselect").val(), 10); this.timePicker24Hour || ("PM" === (l = this.container.find(".left .ampmselect").val()) && r < 12 && (r += 12), "AM" === l && 12 === r && (r = 0)); var s = parseInt(this.container.find(".left .minuteselect").val(), 10); isNaN(s) && (s = parseInt(this.container.find(".left .minuteselect option:last").val(), 10)); var g = this.timePickerSeconds ? parseInt(this.container.find(".left .secondselect").val(), 10) : 0; a = a.clone().hour(r).minute(s).second(g) } this.endDate = null, this.setStartDate(a.clone()) } else if (!this.endDate && a.isBefore(this.startDate)) this.setEndDate(this.startDate.clone()); else { var l; if (this.timePicker) r = parseInt(this.container.find(".right .hourselect").val(), 10), this.timePicker24Hour || ("PM" === (l = this.container.find(".right .ampmselect").val()) && r < 12 && (r += 12), "AM" === l && 12 === r && (r = 0)), s = parseInt(this.container.find(".right .minuteselect").val(), 10), isNaN(s) && (s = parseInt(this.container.find(".right .minuteselect option:last").val(), 10)), g = this.timePickerSeconds ? parseInt(this.container.find(".right .secondselect").val(), 10) : 0, a = a.clone().hour(r).minute(s).second(g); this.setEndDate(a.clone()), this.autoApply && (this.calculateChosenLabel(), this.clickApply()) } this.singleDatePicker && (this.setEndDate(this.startDate), this.timePicker || this.clickApply()), this.updateView(), t.stopPropagation() } }, calculateChosenLabel: function () { var t = !0, e = 0; for (var n in this.ranges) { if (this.timePicker) { var i = this.timePickerSeconds ? "YYYY-MM-DD HH:mm:ss" : "YYYY-MM-DD HH:mm"; if (this.startDate.format(i) == this.ranges[n][0].format(i) && this.endDate.format(i) == this.ranges[n][1].format(i)) { t = !1, this.chosenLabel = this.container.find(".ranges li:eq(" + e + ")").addClass("active").attr("data-range-key"); break } } else if (this.startDate.format("YYYY-MM-DD") == this.ranges[n][0].format("YYYY-MM-DD") && this.endDate.format("YYYY-MM-DD") == this.ranges[n][1].format("YYYY-MM-DD")) { t = !1, this.chosenLabel = this.container.find(".ranges li:eq(" + e + ")").addClass("active").attr("data-range-key"); break } e++ } t && (this.showCustomRangeLabel ? this.chosenLabel = this.container.find(".ranges li:last").addClass("active").attr("data-range-key") : this.chosenLabel = null, this.showCalendars()) }, clickApply: function (t) { this.hide(), this.element.trigger("apply.daterangepicker", this) }, clickCancel: function (t) { this.startDate = this.oldStartDate, this.endDate = this.oldEndDate, this.hide(), this.element.trigger("cancel.daterangepicker", this) }, monthOrYearChanged: function (t) { var n = e(t.target).closest(".drp-calendar").hasClass("left"), i = n ? "left" : "right", o = this.container.find(".drp-calendar." + i), a = parseInt(o.find(".monthselect").val(), 10), r = o.find(".yearselect").val(); n || (r < this.startDate.year() || r == this.startDate.year() && a < this.startDate.month()) && (a = this.startDate.month(), r = this.startDate.year()), this.minDate && (r < this.minDate.year() || r == this.minDate.year() && a < this.minDate.month()) && (a = this.minDate.month(), r = this.minDate.year()), this.maxDate && (r > this.maxDate.year() || r == this.maxDate.year() && a > this.maxDate.month()) && (a = this.maxDate.month(), r = this.maxDate.year()), n ? (this.leftCalendar.month.month(a).year(r), this.linkedCalendars && (this.rightCalendar.month = this.leftCalendar.month.clone().add(1, "month"))) : (this.rightCalendar.month.month(a).year(r), this.linkedCalendars && (this.leftCalendar.month = this.rightCalendar.month.clone().subtract(1, "month"))), this.updateCalendars() }, timeChanged: function (t) { var n = e(t.target).closest(".drp-calendar"), i = n.hasClass("left"), o = parseInt(n.find(".hourselect").val(), 10), a = parseInt(n.find(".minuteselect").val(), 10); isNaN(a) && (a = parseInt(n.find(".minuteselect option:last").val(), 10)); var r = this.timePickerSeconds ? parseInt(n.find(".secondselect").val(), 10) : 0; if (!this.timePicker24Hour) { var s = n.find(".ampmselect").val(); "PM" === s && o < 12 && (o += 12), "AM" === s && 12 === o && (o = 0) } if (i) { var g = this.startDate.clone(); g.hour(o), g.minute(a), g.second(r), this.setStartDate(g), this.singleDatePicker ? this.endDate = this.startDate.clone() : this.endDate && this.endDate.format("YYYY-MM-DD") == g.format("YYYY-MM-DD") && this.endDate.isBefore(g) && this.setEndDate(g.clone()) } else if (this.endDate) { var l = this.endDate.clone(); l.hour(o), l.minute(a), l.second(r), this.setEndDate(l) } this.updateCalendars(), this.updateFormInputs(), this.renderTimePicker("left"), this.renderTimePicker("right") }, elementChanged: function () { if (this.element.is("input") && this.element.val().length) { var e = this.element.val().split(this.locale.separator), n = null, i = null; 2 === e.length && (n = t(e[0], this.locale.format), i = t(e[1], this.locale.format)), !this.singleDatePicker && null !== n && null !== i || (i = n = t(this.element.val(), this.locale.format)), n.isValid() && i.isValid() && (this.setStartDate(n), this.setEndDate(i), this.updateView()) } }, keydown: function (t) { 9 !== t.keyCode && 13 !== t.keyCode || this.hide(), 27 === t.keyCode && (t.preventDefault(), t.stopPropagation(), this.hide()) }, updateElement: function () { if (this.element.is("input") && this.autoUpdateInput) { var t = this.startDate.format(this.locale.format); this.singleDatePicker || (t += this.locale.separator + this.endDate.format(this.locale.format)), t !== this.element.val() && this.element.val(t).trigger("change") } }, remove: function () { this.container.remove(), this.element.off(".daterangepicker"), this.element.removeData() } }, e.fn.daterangepicker = function (t, i) { var o = e.extend(!0, {}, e.fn.daterangepicker.defaultOptions, t); return this.each(function () { var t = e(this); t.data("daterangepicker") && t.data("daterangepicker").remove(), t.data("daterangepicker", new n(t, o, i)) }), this }, n }), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? module.exports = function (e, n) { return void 0 === n && (n = "undefined" != typeof window ? require("jquery") : require("jquery")(e)), t(n), n } : t(jQuery) }(function (t) { "use strict"; var e = 0; t.fn.TouchSpin = function (n) { var i = { min: 0, max: 100, initval: "", replacementval: "", step: 1, decimals: 0, stepinterval: 100, forcestepdivisibility: "round", stepintervaldelay: 500, verticalbuttons: !1, verticalup: "+", verticaldown: "-", verticalupclass: "", verticaldownclass: "", prefix: "", postfix: "", prefix_extraclass: "", postfix_extraclass: "", booster: !0, boostat: 10, maxboostedstep: !1, mousewheel: !0, buttondown_class: "btn btn-primary", buttonup_class: "btn btn-primary", buttondown_txt: "-", buttonup_txt: "+", callback_before_calculation: function (t) { return t }, callback_after_calculation: function (t) { return t } }, o = { min: "min", max: "max", initval: "init-val", replacementval: "replacement-val", step: "step", decimals: "decimals", stepinterval: "step-interval", verticalbuttons: "vertical-buttons", verticalupclass: "vertical-up-class", verticaldownclass: "vertical-down-class", forcestepdivisibility: "force-step-divisibility", stepintervaldelay: "step-interval-delay", prefix: "prefix", postfix: "postfix", prefix_extraclass: "prefix-extra-class", postfix_extraclass: "postfix-extra-class", booster: "booster", boostat: "boostat", maxboostedstep: "max-boosted-step", mousewheel: "mouse-wheel", buttondown_class: "button-down-class", buttonup_class: "button-up-class", buttondown_txt: "button-down-txt", buttonup_txt: "button-up-txt" }; return this.each(function () { var a, r, s, g, l, c, I, u, h, d, C = t(this), A = C.data(), p = 0, m = !1; function f() { "" === a.prefix && (r = l.prefix.detach()), "" === a.postfix && (s = l.postfix.detach()) } function b() { var t, e, n; "" !== (t = a.callback_before_calculation(C.val())) ? 0 < a.decimals && "." === t || (e = parseFloat(t), isNaN(e) && (e = "" !== a.replacementval ? a.replacementval : 0), (n = e).toString() !== t && (n = e), null !== a.min && e < a.min && (n = a.min), null !== a.max && e > a.max && (n = a.max), n = function (t) { switch (a.forcestepdivisibility) { case "round": return (Math.round(t / a.step) * a.step).toFixed(a.decimals); case "floor": return (Math.floor(t / a.step) * a.step).toFixed(a.decimals); case "ceil": return (Math.ceil(t / a.step) * a.step).toFixed(a.decimals); default: return t } }(n), Number(t).toString() !== n.toString() && (C.val(n), C.trigger("change"))) : "" !== a.replacementval && (C.val(a.replacementval), C.trigger("change")) } function B() { if (a.booster) { var t = Math.pow(2, Math.floor(p / a.boostat)) * a.step; return a.maxboostedstep && t > a.maxboostedstep && (t = a.maxboostedstep, c = Math.round(c / t) * t), Math.max(a.step, t) } return a.step } function y() { b(), c = parseFloat(a.callback_before_calculation(l.input.val())), isNaN(c) && (c = 0); var t = c, e = B(); c += e, null !== a.max && c > a.max && (c = a.max, C.trigger("touchspin.on.max"), Q()), l.input.val(a.callback_after_calculation(Number(c).toFixed(a.decimals))), t !== c && C.trigger("change") } function v() { b(), c = parseFloat(a.callback_before_calculation(l.input.val())), isNaN(c) && (c = 0); var t = c, e = B(); c -= e, null !== a.min && c < a.min && (c = a.min, C.trigger("touchspin.on.min"), Q()), l.input.val(a.callback_after_calculation(Number(c).toFixed(a.decimals))), t !== c && C.trigger("change") } function x() { Q(), p = 0, m = "down", C.trigger("touchspin.on.startspin"), C.trigger("touchspin.on.startdownspin"), h = setTimeout(function () { I = setInterval(function () { p++, v() }, a.stepinterval) }, a.stepintervaldelay) } function F() { Q(), p = 0, m = "up", C.trigger("touchspin.on.startspin"), C.trigger("touchspin.on.startupspin"), d = setTimeout(function () { u = setInterval(function () { p++, y() }, a.stepinterval) }, a.stepintervaldelay) } function Q() { switch (clearTimeout(h), clearTimeout(d), clearInterval(I), clearInterval(u), m) { case "up": C.trigger("touchspin.on.stopupspin"), C.trigger("touchspin.on.stopspin"); break; case "down": C.trigger("touchspin.on.stopdownspin"), C.trigger("touchspin.on.stopspin") }p = 0, m = !1 } !function () { var c, I; if (!C.data("alreadyinitialized")) C.data("alreadyinitialized", !0), e += 1, C.data("spinnerid", e), C.is("input") ? ("" !== (a = t.extend({}, i, A, function () { var e = {}; return t.each(o, function (t, n) { var i = "bts-" + n; C.is("[data-" + i + "]") && (e[t] = C.data(i)) }), e }(), n)).initval && "" === C.val() && C.val(a.initval), b(), c = C.val(), I = C.parent(), "" !== c && (c = a.callback_after_calculation(Number(c).toFixed(a.decimals))), C.data("initvalue", c).val(c), C.addClass("form-control"), I.hasClass("input-group") ? function (e) { e.addClass("bootstrap-touchspin"); var n, i, o = C.prev(), r = C.next(), s = '<span class="input-group-addon input-group-prepend bootstrap-touchspin-prefix input-group-prepend bootstrap-touchspin-injected"><span class="input-group-text">' + a.prefix + "</span></span>", l = '<span class="input-group-addon input-group-append bootstrap-touchspin-postfix input-group-append bootstrap-touchspin-injected"><span class="input-group-text">' + a.postfix + "</span></span>"; o.hasClass("input-group-btn") || o.hasClass("input-group-prepend") ? (n = '<button class="' + a.buttondown_class + ' bootstrap-touchspin-down bootstrap-touchspin-injected" type="button">' + a.buttondown_txt + "</button>", o.append(n)) : (n = '<span class="input-group-btn input-group-prepend bootstrap-touchspin-injected"><button class="' + a.buttondown_class + ' bootstrap-touchspin-down" type="button">' + a.buttondown_txt + "</button></span>", t(n).insertBefore(C)), r.hasClass("input-group-btn") || r.hasClass("input-group-append") ? (i = '<button class="' + a.buttonup_class + ' bootstrap-touchspin-up bootstrap-touchspin-injected" type="button">' + a.buttonup_txt + "</button>", r.prepend(i)) : (i = '<span class="input-group-btn input-group-append bootstrap-touchspin-injected"><button class="' + a.buttonup_class + ' bootstrap-touchspin-up" type="button">' + a.buttonup_txt + "</button></span>", t(i).insertAfter(C)), t(s).insertBefore(C), t(l).insertAfter(C), g = e }(I) : function () { var e, n = ""; C.hasClass("input-sm") && (n = "input-group-sm"), C.hasClass("input-lg") && (n = "input-group-lg"), e = a.verticalbuttons ? '<div class="input-group ' + n + ' bootstrap-touchspin bootstrap-touchspin-injected"><span class="input-group-addon input-group-prepend bootstrap-touchspin-prefix"><span class="input-group-text">' + a.prefix + '</span></span><span class="input-group-addon bootstrap-touchspin-postfix input-group-append"><span class="input-group-text">' + a.postfix + '</span></span><span class="input-group-btn-vertical"><button class="' + a.buttondown_class + " bootstrap-touchspin-up " + a.verticalupclass + '" type="button">' + a.verticalup + '</button><button class="' + a.buttonup_class + " bootstrap-touchspin-down " + a.verticaldownclass + '" type="button">' + a.verticaldown + "</button></span></div>" : '<div class="input-group bootstrap-touchspin bootstrap-touchspin-injected"><span class="input-group-btn input-group-prepend"><button class="' + a.buttondown_class + ' bootstrap-touchspin-down" type="button">' + a.buttondown_txt + '</button></span><span class="input-group-addon bootstrap-touchspin-prefix input-group-prepend"><span class="input-group-text">' + a.prefix + '</span></span><span class="input-group-addon bootstrap-touchspin-postfix input-group-append"><span class="input-group-text">' + a.postfix + '</span></span><span class="input-group-btn input-group-append"><button class="' + a.buttonup_class + ' bootstrap-touchspin-up" type="button">' + a.buttonup_txt + "</button></span></div>", g = t(e).insertBefore(C), t(".bootstrap-touchspin-prefix", g).after(C), C.hasClass("input-sm") ? g.addClass("input-group-sm") : C.hasClass("input-lg") && g.addClass("input-group-lg") }(), l = { down: t(".bootstrap-touchspin-down", g), up: t(".bootstrap-touchspin-up", g), input: t("input", g), prefix: t(".bootstrap-touchspin-prefix", g).addClass(a.prefix_extraclass), postfix: t(".bootstrap-touchspin-postfix", g).addClass(a.postfix_extraclass) }, f(), C.on("keydown.touchspin", function (t) { var e = t.keyCode || t.which; 38 === e ? ("up" !== m && (y(), F()), t.preventDefault()) : 40 === e && ("down" !== m && (v(), x()), t.preventDefault()) }), C.on("keyup.touchspin", function (t) { var e = t.keyCode || t.which; 38 === e ? Q() : 40 === e && Q() }), C.on("blur.touchspin", function () { b(), C.val(a.callback_after_calculation(C.val())) }), l.down.on("keydown", function (t) { var e = t.keyCode || t.which; 32 !== e && 13 !== e || ("down" !== m && (v(), x()), t.preventDefault()) }), l.down.on("keyup.touchspin", function (t) { var e = t.keyCode || t.which; 32 !== e && 13 !== e || Q() }), l.up.on("keydown.touchspin", function (t) { var e = t.keyCode || t.which; 32 !== e && 13 !== e || ("up" !== m && (y(), F()), t.preventDefault()) }), l.up.on("keyup.touchspin", function (t) { var e = t.keyCode || t.which; 32 !== e && 13 !== e || Q() }), l.down.on("mousedown.touchspin", function (t) { l.down.off("touchstart.touchspin"), C.is(":disabled") || (v(), x(), t.preventDefault(), t.stopPropagation()) }), l.down.on("touchstart.touchspin", function (t) { l.down.off("mousedown.touchspin"), C.is(":disabled") || (v(), x(), t.preventDefault(), t.stopPropagation()) }), l.up.on("mousedown.touchspin", function (t) { l.up.off("touchstart.touchspin"), C.is(":disabled") || (y(), F(), t.preventDefault(), t.stopPropagation()) }), l.up.on("touchstart.touchspin", function (t) { l.up.off("mousedown.touchspin"), C.is(":disabled") || (y(), F(), t.preventDefault(), t.stopPropagation()) }), l.up.on("mouseup.touchspin mouseout.touchspin touchleave.touchspin touchend.touchspin touchcancel.touchspin", function (t) { m && (t.stopPropagation(), Q()) }), l.down.on("mouseup.touchspin mouseout.touchspin touchleave.touchspin touchend.touchspin touchcancel.touchspin", function (t) { m && (t.stopPropagation(), Q()) }), l.down.on("mousemove.touchspin touchmove.touchspin", function (t) { m && (t.stopPropagation(), t.preventDefault()) }), l.up.on("mousemove.touchspin touchmove.touchspin", function (t) { m && (t.stopPropagation(), t.preventDefault()) }), C.on("mousewheel.touchspin DOMMouseScroll.touchspin", function (t) { if (a.mousewheel && C.is(":focus")) { var e = t.originalEvent.wheelDelta || -t.originalEvent.deltaY || -t.originalEvent.detail; t.stopPropagation(), t.preventDefault(), e < 0 ? v() : y() } }), C.on("touchspin.destroy", function () { var e; e = C.parent(), Q(), C.off(".touchspin"), e.hasClass("bootstrap-touchspin-injected") ? (C.siblings().remove(), C.unwrap()) : (t(".bootstrap-touchspin-injected", e).remove(), e.removeClass("bootstrap-touchspin")), C.data("alreadyinitialized", !1) }), C.on("touchspin.uponce", function () { Q(), y() }), C.on("touchspin.downonce", function () { Q(), v() }), C.on("touchspin.startupspin", function () { F() }), C.on("touchspin.startdownspin", function () { x() }), C.on("touchspin.stopspin", function () { Q() }), C.on("touchspin.updatesettings", function (e, n) { !function (e) { (function (e) { a = t.extend({}, a, e), e.postfix && (0 === C.parent().find(".bootstrap-touchspin-postfix").length && s.insertAfter(C), C.parent().find(".bootstrap-touchspin-postfix .input-group-text").text(e.postfix)), e.prefix && (0 === C.parent().find(".bootstrap-touchspin-prefix").length && r.insertBefore(C), C.parent().find(".bootstrap-touchspin-prefix .input-group-text").text(e.prefix)), f() })(e), b(); var n = l.input.val(); "" !== n && (n = Number(a.callback_before_calculation(l.input.val())), l.input.val(a.callback_after_calculation(Number(n).toFixed(a.decimals)))) }(n) })) : console.log("Must be an input.") }() }) } }), function (t) { "use strict"; t.event.special.destroyed || (t.event.special.destroyed = { remove: function (t) { t.handler && t.handler() } }), t.fn.extend({ maxlength: function (e, n) { var i = t("body"); function o(t) { var n = t.val(); return n = e.twoCharLinebreak ? n.replace(/\r(?!\n)|\n(?!\r)/g, "\r\n") : n.replace(new RegExp("\r?\n", "g"), "\n"), e.utf8 ? function (t) { for (var e = 0, n = 0; n < t.length; n++) { var i = t.charCodeAt(n); i < 128 ? e++ : e += 127 < i && i < 2048 ? 2 : 3 } return e }(n) : n.length } function a(t, e) { return e - o(t) } function r(t, e) { e.css({ display: "block" }), t.trigger("maxlength.shown") } function s(t, n, i) { var o = ""; return e.message ? o = "function" == typeof e.message ? e.message(t, n) : e.message.replace("%charsTyped%", i).replace("%charsRemaining%", n - i).replace("%charsTotal%", n) : (e.preText && (o += e.preText), e.showCharsTyped ? o += i : o += n - i, e.showMaxLength && (o += e.separator + n), e.postText && (o += e.postText)), o } function g(t, n, i, a) { a && (a.html(s(n.val(), i, i - t)), 0 < t ? function (t, n, i) { var a = !0; return !e.alwaysShow && i - o(t) > n && (a = !1), a }(n, e.threshold, i) ? r(n, a.removeClass(e.limitReachedClass).addClass(e.warningClass)) : function (t, e) { a.css({ display: "none" }), t.trigger("maxlength.hidden") }(n) : r(n, a.removeClass(e.warningClass).addClass(e.limitReachedClass))), e.allowOverMax && (t < 0 ? n.addClass("overmax") : n.removeClass("overmax")) } function l(n, i) { var o = function (e) { var n = e[0]; return t.extend({}, "function" == typeof n.getBoundingClientRect ? n.getBoundingClientRect() : { width: n.offsetWidth, height: n.offsetHeight }, e.offset()) }(n); if ("function" !== t.type(e.placement)) if (t.isPlainObject(e.placement)) !function (n, i) { if (n && i) { var o = {}; t.each(["top", "bottom", "left", "right", "position"], function (t, n) { var i = e.placement[n]; void 0 !== i && (o[n] = i) }), i.css(o) } }(e.placement, i); else { var a = n.outerWidth(), r = i.outerWidth(), s = i.width(), g = i.height(); switch (e.appendToParent && (o.top -= n.parent().offset().top, o.left -= n.parent().offset().left), e.placement) { case "bottom": i.css({ top: o.top + o.height, left: o.left + o.width / 2 - s / 2 }); break; case "top": i.css({ top: o.top - g, left: o.left + o.width / 2 - s / 2 }); break; case "left": i.css({ top: o.top + o.height / 2 - g / 2, left: o.left - s }); break; case "right": i.css({ top: o.top + o.height / 2 - g / 2, left: o.left + o.width }); break; case "bottom-right": i.css({ top: o.top + o.height, left: o.left + o.width }); break; case "top-right": i.css({ top: o.top - g, left: o.left + a }); break; case "top-left": i.css({ top: o.top - g, left: o.left - r }); break; case "bottom-left": i.css({ top: o.top + n.outerHeight(), left: o.left - r }); break; case "centered-right": i.css({ top: o.top + g / 2, left: o.left + a - r - 3 }); break; case "bottom-right-inside": i.css({ top: o.top + o.height, left: o.left + o.width - r }); break; case "top-right-inside": i.css({ top: o.top - g, left: o.left + a - r }); break; case "top-left-inside": i.css({ top: o.top - g, left: o.left }); break; case "bottom-left-inside": i.css({ top: o.top + n.outerHeight(), left: o.left }) } } else e.placement(n, i, o) } function c(t) { var n = "maxlength"; return e.allowOverMax && (n = "data-bs-mxl"), t.attr(n) || t.attr("size") } return t.isFunction(e) && !n && (n = e, e = {}), e = t.extend({ showOnReady: !1, alwaysShow: !1, threshold: 10, warningClass: "label label-success", limitReachedClass: "label label-important label-danger", separator: " / ", preText: "", postText: "", showMaxLength: !0, placement: "bottom", message: null, showCharsTyped: !0, validate: !1, utf8: !1, appendToParent: !1, twoCharLinebreak: !0, allowOverMax: !1 }, e), this.each(function () { var n, o, r = t(this); function I() { var I = s(r.val(), n, "0"); n = c(r), o || (o = t('<span class="bootstrap-maxlength"></span>').css({ display: "none", position: "absolute", whiteSpace: "nowrap", zIndex: 1099 }).html(I)), r.is("textarea") && (r.data("maxlenghtsizex", r.outerWidth()), r.data("maxlenghtsizey", r.outerHeight()), r.mouseup(function () { r.outerWidth() === r.data("maxlenghtsizex") && r.outerHeight() === r.data("maxlenghtsizey") || l(r, o), r.data("maxlenghtsizex", r.outerWidth()), r.data("maxlenghtsizey", r.outerHeight()) })), e.appendToParent ? (r.parent().append(o), r.parent().css("position", "relative")) : i.append(o), g(a(r, c(r)), r, n, o), l(r, o) } t(window).resize(function () { o && l(r, o) }), e.allowOverMax && (t(this).attr("data-bs-mxl", t(this).attr("maxlength")), t(this).removeAttr("maxlength")), e.showOnReady ? r.ready(function () { I() }) : r.focus(function () { I() }), r.on("maxlength.reposition", function () { l(r, o) }), r.on("destroyed", function () { o && o.remove() }), r.on("blur", function () { o && !e.showOnReady && o.remove() }), r.on("input", function () { var t = c(r), i = a(r, t), s = !0; return e.validate && i < 0 ? (function (t, n) { var i = t.val(), o = 0; e.twoCharLinebreak && "\n" === (i = i.replace(/\r(?!\n)|\n(?!\r)/g, "\r\n")).substr(i.length - 1) && i.length % 2 == 1 && (o = 1), t.val(i.substr(0, n - o)) }(r, t), s = !1) : g(i, r, n, o), "bottom-right-inside" !== e.placement && "top-right-inside" !== e.placement || l(r, o), s }) }) } }) }(jQuery), function (t) { "use strict"; function e(t, e) { this.init("multiselectsplitter", t, e) } e.DEFAULTS = { selectSize: null, maxSelectSize: null, clearOnFirstChange: !1, onlySameGroup: !1, groupCounter: !1, maximumSelected: null, afterInitialize: null, maximumAlert: function (t) { alert("Only " + t + " values can be selected") }, createFirstSelect: function (t, e) { return "<option>" + t + "</option>" }, createSecondSelect: function (t, e) { return "<option>" + t + "</option>" }, template: '<div class="row" data-multiselectsplitter-wrapper-selector><div class="col-xs-6 col-sm-6"><select class="form-control" data-multiselectsplitter-firstselect-selector></select></div> \x3c!-- Add the extra clearfix for only the required viewport --\x3e<div class="col-xs-6 col-sm-6"><select class="form-control" data-multiselectsplitter-secondselect-selector></select></div></div>' }, e.prototype.init = function (n, i, o) { var a = this; a.type = n, a.last$ElementSelected = [], a.initialized = !1, a.$element = t(i), a.$element.hide(), a.options = t.extend({}, e.DEFAULTS, o), a.$element.after(a.options.template), a.$wrapper = a.$element.next("div[data-multiselectsplitter-wrapper-selector]"), a.$firstSelect = t("select[data-multiselectsplitter-firstselect-selector]", a.$wrapper), a.$secondSelect = t("select[data-multiselectsplitter-secondselect-selector]", a.$wrapper); var r = 0, s = 0; if (0 != a.$element.find("optgroup").length) { a.$element.find("optgroup").each(function () { var e = t(this).attr("label"), n = t(a.options.createFirstSelect(e, a.$element)); n.val(e), n.attr("data-current-label", n.text()), a.$firstSelect.append(n); var i = t(this).find("option").length; s < i && (s = i), r++ }); var g = Math.max(r, s); g = Math.min(g, 10), a.options.selectSize ? g = a.options.selectSize : a.options.maxSelectSize && (g = Math.min(g, a.options.maxSelectSize)), a.$firstSelect.attr("size", g), a.$secondSelect.attr("size", g), a.$element.attr("multiple") && a.$secondSelect.attr("multiple", "multiple"), a.$element.is(":disabled") && a.disable(), a.$firstSelect.on("change", t.proxy(a.updateParentCategory, a)), a.$secondSelect.on("click change", t.proxy(a.updateChildCategory, a)), a.update = function () { if (!(a.$element.find("option").length < 1)) { var t, e = a.$element.find("option:selected:first"); t = e.length ? e.parent().attr("label") : a.$element.find("option:first").parent().attr("label"), a.$firstSelect.find('option[value="' + t + '"]').prop("selected", !0), a.$firstSelect.trigger("change") } }, a.update(), a.initialized = !0, a.options.afterInitialize && a.options.afterInitialize(a.$firstSelect, a.$secondSelect) } }, e.prototype.disable = function () { this.$secondSelect.prop("disabled", !0), this.$firstSelect.prop("disabled", !0) }, e.prototype.enable = function () { this.$secondSelect.prop("disabled", !1), this.$firstSelect.prop("disabled", !1) }, e.prototype.createSecondSelect = function () { var e = this; e.$secondSelect.empty(), t.each(e.$element.find('optgroup[label="' + e.$firstSelect.val() + '"] option'), function (n, i) { var o = t(this).val(), a = t(this).text(), r = t(e.options.createSecondSelect(a, e.$firstSelect)); r.val(o), t.each(e.$element.find("option:selected"), function (e, n) { t(n).val() == o && r.prop("selected", !0) }), e.$secondSelect.append(r) }) }, e.prototype.updateParentCategory = function () { this.last$ElementSelected = this.$element.find("option:selected"), this.options.clearOnFirstChange && this.initialized && this.$element.find("option:selected").prop("selected", !1), this.createSecondSelect(), this.checkSelected(), this.updateCounter() }, e.prototype.updateCounter = function () { var e = this; e.$element.attr("multiple") && e.options.groupCounter && t.each(e.$firstSelect.find("option"), function (n, i) { var o = t(i).val(), a = t(i).data("currentLabel"), r = e.$element.find('optgroup[label="' + o + '"] option:selected').length; 0 < r && (a += " (" + r + ")"), t(i).html(a) }) }, e.prototype.checkSelected = function () { var e, n = this; if (n.$element.attr("multiple") && n.options.maximumSelected && (!((e = "function" == typeof n.options.maximumSelected ? n.options.maximumSelected(n.$firstSelect, n.$secondSelect) : n.options.maximumSelected) < 1) && n.$element.find("option:selected").length > e)) { n.$firstSelect.find("option:selected").prop("selected", !1), n.$secondSelect.find("option:selected").prop("selected", !1), n.initialized ? (n.$element.find("option:selected").prop("selected", !1), n.last$ElementSelected.prop("selected", !0)) : t.each(n.$element.find("option:selected"), function (n, i) { e - 1 < n && t(i).prop("selected", !1) }); var i = n.last$ElementSelected.first().parent().attr("label"); n.$firstSelect.find('option[value="' + i + '"]').prop("selected", !0), n.createSecondSelect(), n.options.maximumAlert(e) } }, e.prototype.basicUpdateChildCategory = function (e, n) { var i = this; i.last$ElementSelected = i.$element.find("option:selected"); var o = i.$secondSelect.val(); t.isArray(o) || (o = [o]); var a = i.$firstSelect.val(), r = !1; i.$element.attr("multiple") ? i.options.onlySameGroup ? t.each(i.$element.find("option:selected"), function (e, n) { if (t(n).parent().attr("label") != a) return !(r = !0) }) : n || (r = !0) : r = !0, r ? i.$element.find("option:selected").prop("selected", !1) : t.each(i.$element.find("option:selected"), function (e, n) { a == t(n).parent().attr("label") && -1 == t.inArray(t(n).val(), o) && t(n).prop("selected", !1) }), t.each(o, function (t, e) { i.$element.find('option[value="' + e + '"]').prop("selected", !0) }), i.checkSelected(), i.updateCounter(), i.$element.trigger("change") }, e.prototype.updateChildCategory = function (e) { "change" == e.type ? this.timeOut = setTimeout(t.proxy(function () { this.basicUpdateChildCategory(e, e.ctrlKey) }, this), 10) : "click" == e.type && (clearTimeout(this.timeOut), this.basicUpdateChildCategory(e, e.ctrlKey)) }, e.prototype.destroy = function () { this.$wrapper.remove(), this.$element.removeData(this.type), this.$element.show() }, t.fn.multiselectsplitter = function (n) { return this.each(function () { var i = t(this), o = i.data("multiselectsplitter"), a = "object" == typeof n && n; !o && "destroy" == n || (o || i.data("multiselectsplitter", o = new e(this, a)), "string" == typeof n && o[n]()) }) }, t.fn.multiselectsplitter.Constructor = e, t.fn.multiselectsplitter.VERSION = "1.0.1" }(jQuery), function (t, e) { void 0 === t && void 0 !== window && (t = window), "function" == typeof define && define.amd ? define(["jquery"], function (t) { return e(t) }) : "object" == typeof module && module.exports ? module.exports = e(require("jquery")) : e(t.jQuery) }(this, function (t) { !function (t) { "use strict"; "classList" in document.createElement("_") || function (e) { if ("Element" in e) { var n = "classList", i = e.Element.prototype, o = Object, a = function () { var e = t(this); return { add: function (t) { return e.addClass(t) }, remove: function (t) { return e.removeClass(t) }, toggle: function (t, n) { return e.toggleClass(t, n) }, contains: function (t) { return e.hasClass(t) } } }; if (o.defineProperty) { var r = { get: a, enumerable: !0, configurable: !0 }; try { o.defineProperty(i, n, r) } catch (e) { void 0 !== e.number && -2146823252 !== e.number || (r.enumerable = !1, o.defineProperty(i, n, r)) } } else o.prototype.__defineGetter__ && i.__defineGetter__(n, a) } }(window); var e, n, i = document.createElement("_"); if (i.classList.toggle("c3", !1), i.classList.contains("c3")) { var o = DOMTokenList.prototype.toggle; DOMTokenList.prototype.toggle = function (t, e) { return 1 in arguments && !this.contains(t) == !e ? e : o.call(this, t) } } function a(t) { if (null == this) throw new TypeError; var e = String(this); if (t && "[object RegExp]" == n.call(t)) throw new TypeError; var i = e.length, o = String(t), a = o.length, r = 1 < arguments.length ? arguments[1] : void 0, s = r ? Number(r) : 0; s != s && (s = 0); var g = Math.min(Math.max(s, 0), i); if (i < a + g) return !1; for (var l = -1; ++l < a;)if (e.charCodeAt(g + l) != o.charCodeAt(l)) return !1; return !0 } function r(t) { var e, n = [], i = t && t.options; if (t.multiple) for (var o = 0, a = i.length; o < a; o++)(e = i[o]).selected && n.push(e.value || e.text); else n = t.value; return n } i = null, String.prototype.startsWith || (e = function () { try { var t = {}, e = Object.defineProperty, n = e(t, t, t) && e } catch (t) { } return n }(), n = {}.toString, e ? e(String.prototype, "startsWith", { value: a, configurable: !0, writable: !0 }) : String.prototype.startsWith = a), Object.keys || (Object.keys = function (t, e, n) { for (e in n = [], t) n.hasOwnProperty.call(t, e) && n.push(e); return n }); var s = { useDefault: !1, _set: t.valHooks.select.set }; t.valHooks.select.set = function (e, n) { return n && !s.useDefault && t(e).data("selected", !0), s._set.apply(this, arguments) }; var g = null, l = function () { try { return new Event("change"), !0 } catch (t) { return !1 } }(); function c(t, e, n, i) { for (var o = ["content", "subtext", "tokens"], a = !1, r = 0; r < o.length; r++) { var s = o[r], g = t[s]; if (g && (g = g.toString(), "content" === s && (g = g.replace(/<[^>]+>/g, "")), i && (g = A(g)), g = g.toUpperCase(), a = "contains" === n ? 0 <= g.indexOf(e) : g.startsWith(e))) break } return a } function I(t) { return parseInt(t, 10) || 0 } t.fn.triggerNative = function (t) { var e, n = this[0]; n.dispatchEvent ? (l ? e = new Event(t, { bubbles: !0 }) : (e = document.createEvent("Event")).initEvent(t, !0, !1), n.dispatchEvent(e)) : n.fireEvent ? ((e = document.createEventObject()).eventType = t, n.fireEvent("on" + t, e)) : this.trigger(t) }; var u = { "Ã": "A", "Ã": "A", "Ã": "A", "Ã": "A", "Ã": "A", "Ã": "A", "Ã ": "a", "Ã¡": "a", "Ã¢": "a", "Ã£": "a", "Ã¤": "a", "Ã¥": "a", "Ã": "C", "Ã§": "c", "Ã": "D", "Ã°": "d", "Ã": "E", "Ã": "E", "Ã": "E", "Ã": "E", "Ã¨": "e", "Ã©": "e", "Ãª": "e", "Ã«": "e", "Ã": "I", "Ã": "I", "Ã": "I", "Ã": "I", "Ã¬": "i", "Ã­": "i", "Ã®": "i", "Ã¯": "i", "Ã": "N", "Ã±": "n", "Ã": "O", "Ã": "O", "Ã": "O", "Ã": "O", "Ã": "O", "Ã": "O", "Ã²": "o", "Ã³": "o", "Ã´": "o", "Ãµ": "o", "Ã¶": "o", "Ã¸": "o", "Ã": "U", "Ã": "U", "Ã": "U", "Ã": "U", "Ã¹": "u", "Ãº": "u", "Ã»": "u", "Ã¼": "u", "Ã": "Y", "Ã½": "y", "Ã¿": "y", "Ã": "Ae", "Ã¦": "ae", "Ã": "Th", "Ã¾": "th", "Ã": "ss", "Ä": "A", "Ä": "A", "Ä": "A", "Ä": "a", "Ä": "a", "Ä": "a", "Ä": "C", "Ä": "C", "Ä": "C", "Ä": "C", "Ä": "c", "Ä": "c", "Ä": "c", "Ä": "c", "Ä": "D", "Ä": "D", "Ä": "d", "Ä": "d", "Ä": "E", "Ä": "E", "Ä": "E", "Ä": "E", "Ä": "E", "Ä": "e", "Ä": "e", "Ä": "e", "Ä": "e", "Ä": "e", "Ä": "G", "Ä": "G", "Ä ": "G", "Ä¢": "G", "Ä": "g", "Ä": "g", "Ä¡": "g", "Ä£": "g", "Ä¤": "H", "Ä¦": "H", "Ä¥": "h", "Ä§": "h", "Ä¨": "I", "Äª": "I", "Ä¬": "I", "Ä®": "I", "Ä°": "I", "Ä©": "i", "Ä«": "i", "Ä­": "i", "Ä¯": "i", "Ä±": "i", "Ä´": "J", "Äµ": "j", "Ä¶": "K", "Ä·": "k", "Ä¸": "k", "Ä¹": "L", "Ä»": "L", "Ä½": "L", "Ä¿": "L", "Å": "L", "Äº": "l", "Ä¼": "l", "Ä¾": "l", "Å": "l", "Å": "l", "Å": "N", "Å": "N", "Å": "N", "Å": "N", "Å": "n", "Å": "n", "Å": "n", "Å": "n", "Å": "O", "Å": "O", "Å": "O", "Å": "o", "Å": "o", "Å": "o", "Å": "R", "Å": "R", "Å": "R", "Å": "r", "Å": "r", "Å": "r", "Å": "S", "Å": "S", "Å": "S", "Å ": "S", "Å": "s", "Å": "s", "Å": "s", "Å¡": "s", "Å¢": "T", "Å¤": "T", "Å¦": "T", "Å£": "t", "Å¥": "t", "Å§": "t", "Å¨": "U", "Åª": "U", "Å¬": "U", "Å®": "U", "Å°": "U", "Å²": "U", "Å©": "u", "Å«": "u", "Å­": "u", "Å¯": "u", "Å±": "u", "Å³": "u", "Å´": "W", "Åµ": "w", "Å¶": "Y", "Å·": "y", "Å¸": "Y", "Å¹": "Z", "Å»": "Z", "Å½": "Z", "Åº": "z", "Å¼": "z", "Å¾": "z", "Ä²": "IJ", "Ä³": "ij", "Å": "Oe", "Å": "oe", "Å": "'n", "Å¿": "s" }, h = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g, d = RegExp("[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\u1ab0-\\u1aff\\u1dc0-\\u1dff]", "g"); function C(t) { return u[t] } function A(t) { return (t = t.toString()) && t.replace(h, C).replace(d, "") } function p(t) { function e(e) { return t[e] } var n = "(?:" + Object.keys(t).join("|") + ")", i = RegExp(n), o = RegExp(n, "g"); return function (t) { return t = null == t ? "" : "" + t, i.test(t) ? t.replace(o, e) : t } } var m = p({ "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;" }), f = p({ "&amp;": "&", "&lt;": "<", "&gt;": ">", "&quot;": '"', "&#x27;": "'", "&#x60;": "`" }), b = { 32: " ", 48: "0", 49: "1", 50: "2", 51: "3", 52: "4", 53: "5", 54: "6", 55: "7", 56: "8", 57: "9", 59: ";", 65: "A", 66: "B", 67: "C", 68: "D", 69: "E", 70: "F", 71: "G", 72: "H", 73: "I", 74: "J", 75: "K", 76: "L", 77: "M", 78: "N", 79: "O", 80: "P", 81: "Q", 82: "R", 83: "S", 84: "T", 85: "U", 86: "V", 87: "W", 88: "X", 89: "Y", 90: "Z", 96: "0", 97: "1", 98: "2", 99: "3", 100: "4", 101: "5", 102: "6", 103: "7", 104: "8", 105: "9" }, B = { success: !1, major: "3" }; try { B.full = (t.fn.dropdown.Constructor.VERSION || "").split(" ")[0].split("."), B.major = B.full[0], B.success = !0 } catch (e) { console.warn("There was an issue retrieving Bootstrap's version. Ensure Bootstrap is being loaded before bootstrap-select and there is no namespace collision. If loading Bootstrap asynchronously, the version may need to be manually specified via $.fn.selectpicker.Constructor.BootstrapVersion.", e) } var y = 0, v = ".bs.select", x = { DISABLED: "disabled", DIVIDER: "divider", SHOW: "open", DROPUP: "dropup", MENU: "dropdown-menu", MENURIGHT: "dropdown-menu-right", MENULEFT: "dropdown-menu-left", BUTTONCLASS: "btn-default", POPOVERHEADER: "popover-title" }, F = { MENU: "." + x.MENU }; "4" === B.major && (x.DIVIDER = "dropdown-divider", x.SHOW = "show", x.BUTTONCLASS = "btn-light", x.POPOVERHEADER = "popover-header"); var Q = new RegExp("38|40"), G = new RegExp("^9$|27"), w = function (e, n) { var i = this; s.useDefault || (t.valHooks.select.set = s._set, s.useDefault = !0), this.$element = t(e), this.$newElement = null, this.$button = null, this.$menu = null, this.options = n, this.selectpicker = { main: { map: { newIndex: {}, originalIndex: {} } }, current: { map: {} }, search: { map: {} }, view: {}, keydown: { keyHistory: "", resetKeyHistory: { start: function () { return setTimeout(function () { i.selectpicker.keydown.keyHistory = "" }, 800) } } } }, null === this.options.title && (this.options.title = this.$element.attr("title")); var o = this.options.windowPadding; "number" == typeof o && (this.options.windowPadding = [o, o, o, o]), this.val = w.prototype.val, this.render = w.prototype.render, this.refresh = w.prototype.refresh, this.setStyle = w.prototype.setStyle, this.selectAll = w.prototype.selectAll, this.deselectAll = w.prototype.deselectAll, this.destroy = w.prototype.destroy, this.remove = w.prototype.remove, this.show = w.prototype.show, this.hide = w.prototype.hide, this.init() }; function X(e) { var n, i = arguments, o = e; if ([].shift.apply(i), !B.success) { try { B.full = (t.fn.dropdown.Constructor.VERSION || "").split(" ")[0].split(".") } catch (e) { B.full = w.BootstrapVersion.split(" ")[0].split(".") } B.major = B.full[0], B.success = !0, "4" === B.major && (x.DIVIDER = "dropdown-divider", x.SHOW = "show", x.BUTTONCLASS = "btn-light", w.DEFAULTS.style = x.BUTTONCLASS = "btn-light", x.POPOVERHEADER = "popover-header") } var a = this.each(function () { var e = t(this); if (e.is("select")) { var a = e.data("selectpicker"), r = "object" == typeof o && o; if (a) { if (r) for (var s in r) r.hasOwnProperty(s) && (a.options[s] = r[s]) } else { var g = t.extend({}, w.DEFAULTS, t.fn.selectpicker.defaults || {}, e.data(), r); g.template = t.extend({}, w.DEFAULTS.template, t.fn.selectpicker.defaults ? t.fn.selectpicker.defaults.template : {}, e.data().template, r.template), e.data("selectpicker", a = new w(this, g)) } "string" == typeof o && (n = a[o] instanceof Function ? a[o].apply(a, i) : a.options[o]) } }); return void 0 !== n ? n : a } w.VERSION = "1.13.5", w.BootstrapVersion = B.major, w.DEFAULTS = { noneSelectedText: "Nothing selected", noneResultsText: "No results matched {0}", countSelectedText: function (t, e) { return 1 == t ? "{0} item selected" : "{0} items selected" }, maxOptionsText: function (t, e) { return [1 == t ? "Limit reached ({n} item max)" : "Limit reached ({n} items max)", 1 == e ? "Group limit reached ({n} item max)" : "Group limit reached ({n} items max)"] }, selectAllText: "Select All", deselectAllText: "Deselect All", doneButton: !1, doneButtonText: "Close", multipleSeparator: ", ", styleBase: "btn", style: x.BUTTONCLASS, size: "auto", title: null, selectedTextFormat: "values", width: !1, container: !1, hideDisabled: !1, showSubtext: !1, showIcon: !0, showContent: !0, dropupAuto: !0, header: !1, liveSearch: !1, liveSearchPlaceholder: null, liveSearchNormalize: !1, liveSearchStyle: "contains", actionsBox: !1, iconBase: "glyphicon", tickIcon: "glyphicon-ok", showTick: !1, template: { caret: '<span class="caret"></span>' }, maxOptions: !1, mobile: !1, selectOnTab: !1, dropdownAlignRight: !1, windowPadding: 0, virtualScroll: 600, display: !1 }, "4" === B.major && (w.DEFAULTS.style = "btn-light", w.DEFAULTS.iconBase = "", w.DEFAULTS.tickIcon = "bs-ok-default"), w.prototype = { constructor: w, init: function () { var t = this, e = this.$element.attr("id"); this.selectId = y++, this.$element.addClass("bs-select-hidden"), this.multiple = this.$element.prop("multiple"), this.autofocus = this.$element.prop("autofocus"), this.$newElement = this.createDropdown(), this.createLi(), this.$element.after(this.$newElement).prependTo(this.$newElement), this.$button = this.$newElement.children("button"), this.$menu = this.$newElement.children(F.MENU), this.$menuInner = this.$menu.children(".inner"), this.$searchbox = this.$menu.find("input"), this.$element.removeClass("bs-select-hidden"), !0 === this.options.dropdownAlignRight && this.$menu.addClass(x.MENURIGHT), void 0 !== e && this.$button.attr("data-id", e), this.checkDisabled(), this.clickListener(), this.options.liveSearch && this.liveSearchListener(), this.render(), this.setStyle(), this.setWidth(), this.options.container ? this.selectPosition() : this.$element.on("hide" + v, function () { if (t.isVirtual()) { var e = t.$menuInner[0], n = e.firstChild.cloneNode(!1); e.replaceChild(n, e.firstChild), e.scrollTop = 0 } }), this.$menu.data("this", this), this.$newElement.data("this", this), this.options.mobile && this.mobile(), this.$newElement.on({ "hide.bs.dropdown": function (e) { t.$menuInner.attr("aria-expanded", !1), t.$element.trigger("hide" + v, e) }, "hidden.bs.dropdown": function (e) { t.$element.trigger("hidden" + v, e) }, "show.bs.dropdown": function (e) { t.$menuInner.attr("aria-expanded", !0), t.$element.trigger("show" + v, e) }, "shown.bs.dropdown": function (e) { t.$element.trigger("shown" + v, e) } }), t.$element[0].hasAttribute("required") && this.$element.on("invalid", function () { t.$button.addClass("bs-invalid"), t.$element.on("shown" + v + ".invalid", function () { t.$element.val(t.$element.val()).off("shown" + v + ".invalid") }).on("rendered" + v, function () { this.validity.valid && t.$button.removeClass("bs-invalid"), t.$element.off("rendered" + v) }), t.$button.on("blur" + v, function () { t.$element.focus().blur(), t.$button.off("blur" + v) }) }), setTimeout(function () { t.$element.trigger("loaded" + v) }) }, createDropdown: function () { var e, n = this.multiple || this.options.showTick ? " show-tick" : "", i = this.autofocus ? " autofocus" : "", o = "", a = "", r = "", s = ""; return this.options.header && (o = '<div class="' + x.POPOVERHEADER + '"><button type="button" class="close" aria-hidden="true">&times;</button>' + this.options.header + "</div>"), this.options.liveSearch && (a = '<div class="bs-searchbox"><input type="text" class="form-control" autocomplete="off"' + (null === this.options.liveSearchPlaceholder ? "" : ' placeholder="' + m(this.options.liveSearchPlaceholder) + '"') + ' role="textbox" aria-label="Search"></div>'), this.multiple && this.options.actionsBox && (r = '<div class="bs-actionsbox"><div class="btn-group btn-group-sm btn-block"><button type="button" class="actions-btn bs-select-all btn ' + x.BUTTONCLASS + '">' + this.options.selectAllText + '</button><button type="button" class="actions-btn bs-deselect-all btn ' + x.BUTTONCLASS + '">' + this.options.deselectAllText + "</button></div></div>"), this.multiple && this.options.doneButton && (s = '<div class="bs-donebutton"><div class="btn-group btn-block"><button type="button" class="btn btn-sm ' + x.BUTTONCLASS + '">' + this.options.doneButtonText + "</button></div></div>"), e = '<div class="dropdown bootstrap-select' + n + '"><button type="button" class="' + this.options.styleBase + ' dropdown-toggle" ' + ("static" === this.options.display ? 'data-display="static"' : "") + 'data-toggle="dropdown"' + i + ' role="button"><div class="filter-option"><div class="filter-option-inner"><div class="filter-option-inner-inner"></div></div> </div>' + ("4" === B.major ? "" : '<span class="bs-caret">' + this.options.template.caret + "</span>") + '</button><div class="' + x.MENU + " " + ("4" === B.major ? "" : x.SHOW) + '" role="combobox">' + o + a + r + '<div class="inner ' + x.SHOW + '" role="listbox" aria-expanded="false" tabindex="-1"><ul class="' + x.MENU + " inner " + ("4" === B.major ? x.SHOW : "") + '"></ul></div>' + s + "</div></div>", t(e) }, setPositionData: function () { this.selectpicker.view.canHighlight = []; for (var t = 0; t < this.selectpicker.current.data.length; t++) { var e = this.selectpicker.current.data[t], n = !0; "divider" === e.type ? (n = !1, e.height = this.sizeInfo.dividerHeight) : "optgroup-label" === e.type ? (n = !1, e.height = this.sizeInfo.dropdownHeaderHeight) : e.height = this.sizeInfo.liHeight, e.disabled && (n = !1), this.selectpicker.view.canHighlight.push(n), e.position = (0 === t ? 0 : this.selectpicker.current.data[t - 1].position) + e.height } }, isVirtual: function () { return !1 !== this.options.virtualScroll && this.selectpicker.main.elements.length >= this.options.virtualScroll || !0 === this.options.virtualScroll }, createView: function (e, n) { n = n || 0; var i = this; this.selectpicker.current = e ? this.selectpicker.search : this.selectpicker.main; var o, a, r = []; function s(t, n) { var s, g, l, c, I, u, h, d, C = i.selectpicker.current.elements.length, A = [], p = !0, m = i.isVirtual(); i.selectpicker.view.scrollTop = t, !0 === m && i.sizeInfo.hasScrollBar && i.$menu[0].offsetWidth > i.sizeInfo.totalMenuWidth && (i.sizeInfo.menuWidth = i.$menu[0].offsetWidth, i.sizeInfo.totalMenuWidth = i.sizeInfo.menuWidth + i.sizeInfo.scrollBarWidth, i.$menu.css("min-width", i.sizeInfo.menuWidth)), s = Math.ceil(i.sizeInfo.menuInnerHeight / i.sizeInfo.liHeight * 1.5), g = Math.round(C / s) || 1; for (var f = 0; f < g; f++) { var b = (f + 1) * s; if (f === g - 1 && (b = C), A[f] = [f * s + (f ? 1 : 0), b], !C) break; void 0 === I && t <= i.selectpicker.current.data[b - 1].position - i.sizeInfo.menuInnerHeight && (I = f) } if (void 0 === I && (I = 0), u = [i.selectpicker.view.position0, i.selectpicker.view.position1], l = Math.max(0, I - 1), c = Math.min(g - 1, I + 1), i.selectpicker.view.position0 = Math.max(0, A[l][0]) || 0, i.selectpicker.view.position1 = Math.min(C, A[c][1]) || 0, h = u[0] !== i.selectpicker.view.position0 || u[1] !== i.selectpicker.view.position1, void 0 !== i.activeIndex && (a = i.selectpicker.current.elements[i.selectpicker.current.map.newIndex[i.prevActiveIndex]], r = i.selectpicker.current.elements[i.selectpicker.current.map.newIndex[i.activeIndex]], o = i.selectpicker.current.elements[i.selectpicker.current.map.newIndex[i.selectedIndex]], n && (i.activeIndex !== i.selectedIndex && (r.classList.remove("active"), r.firstChild && r.firstChild.classList.remove("active")), i.activeIndex = void 0), i.activeIndex && i.activeIndex !== i.selectedIndex && o && o.length && (o.classList.remove("active"), o.firstChild && o.firstChild.classList.remove("active"))), void 0 !== i.prevActiveIndex && i.prevActiveIndex !== i.activeIndex && i.prevActiveIndex !== i.selectedIndex && a && a.length && (a.classList.remove("active"), a.firstChild && a.firstChild.classList.remove("active")), (n || h) && (d = i.selectpicker.view.visibleElements ? i.selectpicker.view.visibleElements.slice() : [], i.selectpicker.view.visibleElements = i.selectpicker.current.elements.slice(i.selectpicker.view.position0, i.selectpicker.view.position1), i.setOptionStatus(), (e || !1 === m && n) && (p = !function (t, e) { return t.length === e.length && t.every(function (t, n) { return t === e[n] }) }(d, i.selectpicker.view.visibleElements)), (n || !0 === m) && p)) { var B, y, v = i.$menuInner[0], x = document.createDocumentFragment(), F = v.firstChild.cloneNode(!1), Q = !0 === m ? i.selectpicker.view.visibleElements : i.selectpicker.current.elements; v.replaceChild(F, v.firstChild), f = 0; for (var G = Q.length; f < G; f++)x.appendChild(Q[f]); !0 === m && (B = 0 === i.selectpicker.view.position0 ? 0 : i.selectpicker.current.data[i.selectpicker.view.position0 - 1].position, y = i.selectpicker.view.position1 > C - 1 ? 0 : i.selectpicker.current.data[C - 1].position - i.selectpicker.current.data[i.selectpicker.view.position1 - 1].position, v.firstChild.style.marginTop = B + "px", v.firstChild.style.marginBottom = y + "px"), v.firstChild.appendChild(x) } if (i.prevActiveIndex = i.activeIndex, i.options.liveSearch) { if (e && n) { var w, X = 0; i.selectpicker.view.canHighlight[X] || (X = 1 + i.selectpicker.view.canHighlight.slice(1).indexOf(!0)), w = i.selectpicker.view.visibleElements[X], i.selectpicker.view.currentActive && (i.selectpicker.view.currentActive.classList.remove("active"), i.selectpicker.view.currentActive.firstChild && i.selectpicker.view.currentActive.firstChild.classList.remove("active")), w && (w.classList.add("active"), w.firstChild && w.firstChild.classList.add("active")), i.activeIndex = i.selectpicker.current.map.originalIndex[X] } } else i.$menuInner.focus() } this.setPositionData(), s(n, !0), this.$menuInner.off("scroll.createView").on("scroll.createView", function (t, e) { i.noScroll || s(this.scrollTop, e), i.noScroll = !1 }), t(window).off("resize" + v + "." + this.selectId + ".createView").on("resize" + v + "." + this.selectId + ".createView", function () { i.$newElement.hasClass(x.SHOW) && s(i.$menuInner[0].scrollTop) }) }, createLi: function () { var e, n = this, i = [], o = {}, a = 0, r = 0, s = [], g = 0, l = 0, c = -1; this.selectpicker.view.titleOption || (this.selectpicker.view.titleOption = document.createElement("option")); var I, u = { span: document.createElement("span"), subtext: document.createElement("small"), a: document.createElement("a"), li: document.createElement("li"), whitespace: document.createTextNode("Â ") }, h = document.createDocumentFragment(); function d(t, e, n) { var i = u.li.cloneNode(!1); return t && (1 === t.nodeType || 11 === t.nodeType ? i.appendChild(t) : i.innerHTML = t), void 0 !== e && "" !== e && (i.className = e), null != n && i.classList.add("optgroup-" + n), i } function C(t, e, n) { var i = u.a.cloneNode(!0); return t && (11 === t.nodeType ? i.appendChild(t) : i.insertAdjacentHTML("beforeend", t)), void 0 !== e && "" !== e && (i.className = e), "4" === B.major && i.classList.add("dropdown-item"), n && i.setAttribute("style", n), i } function A(t) { var e, i, o = u.text.cloneNode(!1); if (t.optionContent) o.innerHTML = t.optionContent; else { if (o.textContent = t.text, t.optionIcon) { var a = u.whitespace.cloneNode(!1); (i = u.span.cloneNode(!1)).className = n.options.iconBase + " " + t.optionIcon, h.appendChild(i), h.appendChild(a) } t.optionSubtext && ((e = u.subtext.cloneNode(!1)).innerHTML = t.optionSubtext, o.appendChild(e)) } return h.appendChild(o), h } if ((n.options.showTick || n.multiple) && ((I = u.span.cloneNode(!1)).className = n.options.iconBase + " " + n.options.tickIcon + " check-mark", u.a.appendChild(I)), u.a.setAttribute("role", "option"), u.subtext.className = "text-muted", u.text = u.span.cloneNode(!1), u.text.className = "text", this.options.title && !this.multiple) { c--; var p = this.$element[0], f = !1, b = !this.selectpicker.view.titleOption.parentNode; b && (this.selectpicker.view.titleOption.className = "bs-title-option", this.selectpicker.view.titleOption.value = "", f = void 0 === t(p.options[p.selectedIndex]).attr("selected") && void 0 === this.$element.data("selected")), !b && 0 === this.selectpicker.view.titleOption.index || p.insertBefore(this.selectpicker.view.titleOption, p.firstChild), f && (p.selectedIndex = 0) } var y = this.$element.find("option"); y.each(function (I) { var p = t(this); if (c++, !p.hasClass("bs-title-option")) { var f, b, B, v, F = p.data(), Q = this.className || "", G = m(this.style.cssText), w = F.content, X = this.textContent, S = F.tokens, k = F.subtext, D = F.icon, Z = p.parent(), U = Z[0], W = "OPTGROUP" === U.tagName, T = W && U.disabled, N = this.disabled || T, H = this.previousElementSibling && "OPTGROUP" === this.previousElementSibling.tagName, E = Z.data(); if (!0 === F.hidden || this.hidden || n.options.hideDisabled && (N || T)) return f = F.prevHiddenIndex, p.next().data("prevHiddenIndex", void 0 !== f ? f : I), c--, o[I] = { type: "hidden", data: F }, H || void 0 !== f && (v = y[f].previousElementSibling) && "OPTGROUP" === v.tagName && !v.disabled && (H = !0), void (H && "divider" !== s[s.length - 1].type && (c++, i.push(d(!1, x.DIVIDER, g + "div")), s.push({ type: "divider", optID: g }))); if (W && !0 !== F.divider) { if (n.options.hideDisabled && N) { if (void 0 === E.allOptionsDisabled) { var R = Z.children(); Z.data("allOptionsDisabled", R.filter(":disabled").length === R.length) } if (Z.data("allOptionsDisabled")) return void c-- } var Y = " " + U.className || "", O = this.previousElementSibling; if (void 0 !== (f = F.prevHiddenIndex) && (O = y[f].previousElementSibling), !O) { g += 1; var _ = U.label, V = m(_), L = E.subtext, M = E.icon; 0 !== I && 0 < i.length && (c++, i.push(d(!1, x.DIVIDER, g + "div")), s.push({ type: "divider", optID: g })), c++, B = function (t) { var e, i, o = u.text.cloneNode(!1); if (o.innerHTML = t.labelEscaped, t.labelIcon) { var a = u.whitespace.cloneNode(!1); (i = u.span.cloneNode(!1)).className = n.options.iconBase + " " + t.labelIcon, h.appendChild(i), h.appendChild(a) } return t.labelSubtext && ((e = u.subtext.cloneNode(!1)).textContent = t.labelSubtext, o.appendChild(e)), h.appendChild(o), h }({ labelEscaped: V, labelSubtext: L, labelIcon: M }), i.push(d(B, "dropdown-header" + Y, g)), s.push({ content: V, subtext: L, type: "optgroup-label", optID: g }), l = c - 1 } b = A({ text: X, optionContent: w, optionSubtext: k, optionIcon: D }), i.push(d(C(b, "opt " + Q + Y, G), "", g)), s.push({ content: w || X, subtext: k, tokens: S, type: "option", optID: g, headerIndex: l, lastIndex: l + U.childElementCount, originalIndex: I, data: F }), a++ } else !0 === F.divider ? (i.push(d(!1, x.DIVIDER)), s.push({ type: "divider", originalIndex: I, data: F })) : (!H && n.options.hideDisabled && void 0 !== (f = F.prevHiddenIndex) && (v = y[f].previousElementSibling) && "OPTGROUP" === v.tagName && !v.disabled && (H = !0), H && "divider" !== s[s.length - 1].type && (c++, i.push(d(!1, x.DIVIDER, g + "div")), s.push({ type: "divider", optID: g })), b = A({ text: X, optionContent: w, optionSubtext: k, optionIcon: D }), i.push(d(C(b, Q, G))), s.push({ content: w || X, subtext: k, tokens: S, type: "option", originalIndex: I, data: F }), a++); n.selectpicker.main.map.newIndex[I] = c, n.selectpicker.main.map.originalIndex[c] = I; var z = s[s.length - 1]; z.disabled = N; var P = 0; z.content && (P += z.content.length), z.subtext && (P += z.subtext.length), D && (P += 1), r < P && (r = P, e = i[i.length - 1]) } }), this.selectpicker.main.elements = i, this.selectpicker.main.data = s, this.selectpicker.main.hidden = o, this.selectpicker.current = this.selectpicker.main, this.selectpicker.view.widestOption = e, this.selectpicker.view.availableOptionsCount = a }, findLis: function () { return this.$menuInner.find(".inner > li") }, render: function () { var t = this.$element.find("option"), e = [], n = []; this.togglePlaceholder(), this.tabIndex(); for (var i = 0, o = t.length; i < o; i++) { var a = this.selectpicker.main.map.newIndex[i], r = t[i], s = this.selectpicker.main.data[a] || this.selectpicker.main.hidden[i]; if (r && r.selected && s && (e.push(r), n.length < 100 && "count" !== this.options.selectedTextFormat || 1 === e.length)) { var g, l, c = s.data, I = c.icon && this.options.showIcon ? '<i class="' + this.options.iconBase + " " + c.icon + '"></i> ' : ""; g = this.options.showSubtext && c.subtext && !this.multiple ? ' <small class="text-muted">' + c.subtext + "</small>" : "", l = r.title ? r.title : c.content && this.options.showContent ? c.content.toString() : I + r.innerHTML.trim() + g, n.push(l) } } var u = this.multiple ? n.join(this.options.multipleSeparator) : n[0]; if (50 < e.length && (u += "..."), this.multiple && -1 !== this.options.selectedTextFormat.indexOf("count")) { var h = this.options.selectedTextFormat.split(">"); if (1 < h.length && e.length > h[1] || 1 === h.length && 2 <= e.length) { var d = this.selectpicker.view.availableOptionsCount; u = ("function" == typeof this.options.countSelectedText ? this.options.countSelectedText(e.length, d) : this.options.countSelectedText).replace("{0}", e.length.toString()).replace("{1}", d.toString()) } } null == this.options.title && (this.options.title = this.$element.attr("title")), "static" == this.options.selectedTextFormat && (u = this.options.title), u || (u = void 0 !== this.options.title ? this.options.title : this.options.noneSelectedText), this.$button[0].title = f(u.replace(/<[^>]*>?/g, "").trim()), this.$button.find(".filter-option-inner-inner")[0].innerHTML = u, this.$element.trigger("rendered" + v) }, setStyle: function (t, e) { this.$element.attr("class") && this.$newElement.addClass(this.$element.attr("class").replace(/selectpicker|mobile-device|bs-select-hidden|validate\[.*\]/gi, "")); var n = t || this.options.style; "add" == e ? this.$button.addClass(n) : "remove" == e ? this.$button.removeClass(n) : (this.$button.removeClass(this.options.style), this.$button.addClass(n)) }, liHeight: function (e) { if (e || !1 !== this.options.size && !this.sizeInfo) { this.sizeInfo || (this.sizeInfo = {}); var n = document.createElement("div"), i = document.createElement("div"), o = document.createElement("div"), a = document.createElement("ul"), r = document.createElement("li"), s = document.createElement("li"), g = document.createElement("li"), l = document.createElement("a"), c = document.createElement("span"), u = this.options.header && 0 < this.$menu.find("." + x.POPOVERHEADER).length ? this.$menu.find("." + x.POPOVERHEADER)[0].cloneNode(!0) : null, h = this.options.liveSearch ? document.createElement("div") : null, d = this.options.actionsBox && this.multiple && 0 < this.$menu.find(".bs-actionsbox").length ? this.$menu.find(".bs-actionsbox")[0].cloneNode(!0) : null, C = this.options.doneButton && this.multiple && 0 < this.$menu.find(".bs-donebutton").length ? this.$menu.find(".bs-donebutton")[0].cloneNode(!0) : null, A = this.$element.find("option")[0]; if (this.sizeInfo.selectWidth = this.$newElement[0].offsetWidth, c.className = "text", l.className = "dropdown-item " + (A ? A.className : ""), n.className = this.$menu[0].parentNode.className + " " + x.SHOW, n.style.width = this.sizeInfo.selectWidth + "px", "auto" === this.options.width && (i.style.minWidth = 0), i.className = x.MENU + " " + x.SHOW, o.className = "inner " + x.SHOW, a.className = x.MENU + " inner " + ("4" === B.major ? x.SHOW : ""), r.className = x.DIVIDER, s.className = "dropdown-header", c.appendChild(document.createTextNode("â")), l.appendChild(c), g.appendChild(l), s.appendChild(c.cloneNode(!0)), this.selectpicker.view.widestOption && a.appendChild(this.selectpicker.view.widestOption.cloneNode(!0)), a.appendChild(g), a.appendChild(r), a.appendChild(s), u && i.appendChild(u), h) { var p = document.createElement("input"); h.className = "bs-searchbox", p.className = "form-control", h.appendChild(p), i.appendChild(h) } d && i.appendChild(d), o.appendChild(a), i.appendChild(o), C && i.appendChild(C), n.appendChild(i), document.body.appendChild(n); var m, f = l.offsetHeight, b = s ? s.offsetHeight : 0, y = u ? u.offsetHeight : 0, v = h ? h.offsetHeight : 0, F = d ? d.offsetHeight : 0, Q = C ? C.offsetHeight : 0, G = t(r).outerHeight(!0), w = !!window.getComputedStyle && window.getComputedStyle(i), X = i.offsetWidth, S = w ? null : t(i), k = { vert: I(w ? w.paddingTop : S.css("paddingTop")) + I(w ? w.paddingBottom : S.css("paddingBottom")) + I(w ? w.borderTopWidth : S.css("borderTopWidth")) + I(w ? w.borderBottomWidth : S.css("borderBottomWidth")), horiz: I(w ? w.paddingLeft : S.css("paddingLeft")) + I(w ? w.paddingRight : S.css("paddingRight")) + I(w ? w.borderLeftWidth : S.css("borderLeftWidth")) + I(w ? w.borderRightWidth : S.css("borderRightWidth")) }, D = { vert: k.vert + I(w ? w.marginTop : S.css("marginTop")) + I(w ? w.marginBottom : S.css("marginBottom")) + 2, horiz: k.horiz + I(w ? w.marginLeft : S.css("marginLeft")) + I(w ? w.marginRight : S.css("marginRight")) + 2 }; o.style.overflowY = "scroll", m = i.offsetWidth - X, document.body.removeChild(n), this.sizeInfo.liHeight = f, this.sizeInfo.dropdownHeaderHeight = b, this.sizeInfo.headerHeight = y, this.sizeInfo.searchHeight = v, this.sizeInfo.actionsHeight = F, this.sizeInfo.doneButtonHeight = Q, this.sizeInfo.dividerHeight = G, this.sizeInfo.menuPadding = k, this.sizeInfo.menuExtras = D, this.sizeInfo.menuWidth = X, this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth, this.sizeInfo.scrollBarWidth = m, this.sizeInfo.selectHeight = this.$newElement[0].offsetHeight, this.setPositionData() } }, getSelectPosition: function () { var e, n = t(window), i = this.$newElement.offset(), o = t(this.options.container); this.options.container && !o.is("body") ? ((e = o.offset()).top += parseInt(o.css("borderTopWidth")), e.left += parseInt(o.css("borderLeftWidth"))) : e = { top: 0, left: 0 }; var a = this.options.windowPadding; this.sizeInfo.selectOffsetTop = i.top - e.top - n.scrollTop(), this.sizeInfo.selectOffsetBot = n.height() - this.sizeInfo.selectOffsetTop - this.sizeInfo.selectHeight - e.top - a[2], this.sizeInfo.selectOffsetLeft = i.left - e.left - n.scrollLeft(), this.sizeInfo.selectOffsetRight = n.width() - this.sizeInfo.selectOffsetLeft - this.sizeInfo.selectWidth - e.left - a[1], this.sizeInfo.selectOffsetTop -= a[0], this.sizeInfo.selectOffsetLeft -= a[3] }, setMenuSize: function (t) { this.getSelectPosition(); var e, n, i, o, a, r, s, g = this.sizeInfo.selectWidth, l = this.sizeInfo.liHeight, c = this.sizeInfo.headerHeight, I = this.sizeInfo.searchHeight, u = this.sizeInfo.actionsHeight, h = this.sizeInfo.doneButtonHeight, d = this.sizeInfo.dividerHeight, C = this.sizeInfo.menuPadding, A = 0; if (this.options.dropupAuto && (s = l * this.selectpicker.current.elements.length + C.vert, this.$newElement.toggleClass(x.DROPUP, this.sizeInfo.selectOffsetTop - this.sizeInfo.selectOffsetBot > this.sizeInfo.menuExtras.vert && s + this.sizeInfo.menuExtras.vert + 50 > this.sizeInfo.selectOffsetBot)), "auto" === this.options.size) o = 3 < this.selectpicker.current.elements.length ? 3 * this.sizeInfo.liHeight + this.sizeInfo.menuExtras.vert - 2 : 0, n = this.sizeInfo.selectOffsetBot - this.sizeInfo.menuExtras.vert, i = o + c + I + u + h, r = Math.max(o - C.vert, 0), this.$newElement.hasClass(x.DROPUP) && (n = this.sizeInfo.selectOffsetTop - this.sizeInfo.menuExtras.vert), e = (a = n) - c - I - u - h - C.vert; else if (this.options.size && "auto" != this.options.size && this.selectpicker.current.elements.length > this.options.size) { for (var p = 0; p < this.options.size; p++)"divider" === this.selectpicker.current.data[p].type && A++; e = (n = l * this.options.size + A * d + C.vert) - C.vert, a = n + c + I + u + h, i = r = "" } "auto" === this.options.dropdownAlignRight && this.$menu.toggleClass(x.MENURIGHT, this.sizeInfo.selectOffsetLeft > this.sizeInfo.selectOffsetRight && this.sizeInfo.selectOffsetRight < this.sizeInfo.totalMenuWidth - g), this.$menu.css({ "max-height": a + "px", overflow: "hidden", "min-height": i + "px" }), this.$menuInner.css({ "max-height": e + "px", "overflow-y": "auto", "min-height": r + "px" }), this.sizeInfo.menuInnerHeight = e, this.selectpicker.current.data.length && this.selectpicker.current.data[this.selectpicker.current.data.length - 1].position > this.sizeInfo.menuInnerHeight && (this.sizeInfo.hasScrollBar = !0, this.sizeInfo.totalMenuWidth = this.sizeInfo.menuWidth + this.sizeInfo.scrollBarWidth, this.$menu.css("min-width", this.sizeInfo.totalMenuWidth)), this.dropdown && this.dropdown._popper && this.dropdown._popper.update() }, setSize: function (e) { if (this.liHeight(e), this.options.header && this.$menu.css("padding-top", 0), !1 !== this.options.size) { var n, i = this, o = t(window), a = 0; this.setMenuSize(), "auto" === this.options.size ? (this.$searchbox.off("input.setMenuSize propertychange.setMenuSize").on("input.setMenuSize propertychange.setMenuSize", function () { return i.setMenuSize() }), o.off("resize" + v + "." + this.selectId + ".setMenuSize scroll" + v + "." + this.selectId + ".setMenuSize").on("resize" + v + "." + this.selectId + ".setMenuSize scroll" + v + "." + this.selectId + ".setMenuSize", function () { return i.setMenuSize() })) : this.options.size && "auto" != this.options.size && this.selectpicker.current.elements.length > this.options.size && (this.$searchbox.off("input.setMenuSize propertychange.setMenuSize"), o.off("resize" + v + "." + this.selectId + ".setMenuSize scroll" + v + "." + this.selectId + ".setMenuSize")), e ? a = this.$menuInner[0].scrollTop : i.multiple || "number" == typeof (n = i.selectpicker.main.map.newIndex[i.$element[0].selectedIndex]) && !1 !== i.options.size && (a = (a = i.sizeInfo.liHeight * n) - i.sizeInfo.menuInnerHeight / 2 + i.sizeInfo.liHeight / 2), i.createView(!1, a) } }, setWidth: function () { var t = this; "auto" === this.options.width ? requestAnimationFrame(function () { t.$menu.css("min-width", "0"), t.liHeight(), t.setMenuSize(); var e = t.$newElement.clone().appendTo("body"), n = e.css("width", "auto").children("button").outerWidth(); e.remove(), t.sizeInfo.selectWidth = Math.max(t.sizeInfo.totalMenuWidth, n), t.$newElement.css("width", t.sizeInfo.selectWidth + "px") }) : "fit" === this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", "").addClass("fit-width")) : this.options.width ? (this.$menu.css("min-width", ""), this.$newElement.css("width", this.options.width)) : (this.$menu.css("min-width", ""), this.$newElement.css("width", "")), this.$newElement.hasClass("fit-width") && "fit" !== this.options.width && this.$newElement.removeClass("fit-width") }, selectPosition: function () { function e(e) { var s = {}, g = a.options.display || !!t.fn.dropdown.Constructor.Default && t.fn.dropdown.Constructor.Default.display; a.$bsContainer.addClass(e.attr("class").replace(/form-control|fit-width/gi, "")).toggleClass(x.DROPUP, e.hasClass(x.DROPUP)), n = e.offset(), r.is("body") ? i = { top: 0, left: 0 } : ((i = r.offset()).top += parseInt(r.css("borderTopWidth")) - r.scrollTop(), i.left += parseInt(r.css("borderLeftWidth")) - r.scrollLeft()), o = e.hasClass(x.DROPUP) ? 0 : e[0].offsetHeight, (B.major < 4 || "static" === g) && (s.top = n.top - i.top + o, s.left = n.left - i.left), s.width = e[0].offsetWidth, a.$bsContainer.css(s) } this.$bsContainer = t('<div class="bs-container" />'); var n, i, o, a = this, r = t(this.options.container); this.$button.on("click.bs.dropdown.data-api", function () { a.isDisabled() || (e(a.$newElement), a.$bsContainer.appendTo(a.options.container).toggleClass(x.SHOW, !a.$button.hasClass(x.SHOW)).append(a.$menu)) }), t(window).off("resize" + v + "." + this.selectId + " scroll" + v + "." + this.selectId).on("resize" + v + "." + this.selectId + " scroll" + v + "." + this.selectId, function () { a.$newElement.hasClass(x.SHOW) && e(a.$newElement) }), this.$element.on("hide" + v, function () { a.$menu.data("height", a.$menu.height()), a.$bsContainer.detach() }) }, setOptionStatus: function () { var t = this.$element.find("option"); if (this.noScroll = !1, this.selectpicker.view.visibleElements && this.selectpicker.view.visibleElements.length) for (var e = 0; e < this.selectpicker.view.visibleElements.length; e++) { var n = this.selectpicker.current.map.originalIndex[e + this.selectpicker.view.position0], i = t[n]; if (i) { var o = this.selectpicker.main.map.newIndex[n], a = this.selectpicker.main.elements[o]; this.setDisabled(n, i.disabled || "OPTGROUP" === i.parentNode.tagName && i.parentNode.disabled, o, a), this.setSelected(n, i.selected, o, a) } } }, setSelected: function (t, e, n, i) { var o, a, r, s = void 0 !== this.activeIndex, g = this.activeIndex === t || e && !this.multiple && !s; n || (n = this.selectpicker.main.map.newIndex[t]), i || (i = this.selectpicker.main.elements[n]), r = i.firstChild, e && (this.selectedIndex = t), i.classList.toggle("selected", e), i.classList.toggle("active", g), g && (this.selectpicker.view.currentActive = i, this.activeIndex = t), r && (r.classList.toggle("selected", e), r.classList.toggle("active", g), r.setAttribute("aria-selected", e)), g || !s && e && void 0 !== this.prevActiveIndex && (o = this.selectpicker.main.map.newIndex[this.prevActiveIndex], (a = this.selectpicker.main.elements[o]).classList.remove("active"), a.firstChild && a.firstChild.classList.remove("active")) }, setDisabled: function (t, e, n, i) { var o; n || (n = this.selectpicker.main.map.newIndex[t]), i || (i = this.selectpicker.main.elements[n]), o = i.firstChild, i.classList.toggle(x.DISABLED, e), o && ("4" === B.major && o.classList.toggle(x.DISABLED, e), o.setAttribute("aria-disabled", e), e ? o.setAttribute("tabindex", -1) : o.setAttribute("tabindex", 0)) }, isDisabled: function () { return this.$element[0].disabled }, checkDisabled: function () { var t = this; this.isDisabled() ? (this.$newElement.addClass(x.DISABLED), this.$button.addClass(x.DISABLED).attr("tabindex", -1).attr("aria-disabled", !0)) : (this.$button.hasClass(x.DISABLED) && (this.$newElement.removeClass(x.DISABLED), this.$button.removeClass(x.DISABLED).attr("aria-disabled", !1)), -1 != this.$button.attr("tabindex") || this.$element.data("tabindex") || this.$button.removeAttr("tabindex")), this.$button.click(function () { return !t.isDisabled() }) }, togglePlaceholder: function () { var t = this.$element[0], e = t.selectedIndex, n = -1 === e; n || t.options[e].value || (n = !0), this.$button.toggleClass("bs-placeholder", n) }, tabIndex: function () { this.$element.data("tabindex") !== this.$element.attr("tabindex") && -98 !== this.$element.attr("tabindex") && "-98" !== this.$element.attr("tabindex") && (this.$element.data("tabindex", this.$element.attr("tabindex")), this.$button.attr("tabindex", this.$element.data("tabindex"))), this.$element.attr("tabindex", -98) }, clickListener: function () { var e = this, n = t(document); function i() { e.options.liveSearch ? e.$searchbox.focus() : e.$menuInner.focus() } function o() { e.dropdown && e.dropdown._popper && e.dropdown._popper.state.isCreated ? i() : requestAnimationFrame(o) } n.data("spaceSelect", !1), this.$button.on("keyup", function (t) { /(32)/.test(t.keyCode.toString(10)) && n.data("spaceSelect") && (t.preventDefault(), n.data("spaceSelect", !1)) }), this.$newElement.on("show.bs.dropdown", function () { 3 < B.major && !e.dropdown && (e.dropdown = e.$button.data("bs.dropdown"), e.dropdown._menu = e.$menu[0]) }), this.$button.on("click.bs.dropdown.data-api", function () { e.$newElement.hasClass(x.SHOW) || e.setSize() }), this.$element.on("shown" + v, function () { e.$menuInner[0].scrollTop !== e.selectpicker.view.scrollTop && (e.$menuInner[0].scrollTop = e.selectpicker.view.scrollTop), 3 < B.major ? requestAnimationFrame(o) : i() }), this.$menuInner.on("click", "li a", function (n, i) { var o = t(this), a = e.isVirtual() ? e.selectpicker.view.position0 : 0, s = e.selectpicker.current.map.originalIndex[o.parent().index() + a], l = r(e.$element[0]), c = e.$element.prop("selectedIndex"), I = !0; if (e.multiple && 1 !== e.options.maxOptions && n.stopPropagation(), n.preventDefault(), !e.isDisabled() && !o.parent().hasClass(x.DISABLED)) { var u = e.$element.find("option"), h = u.eq(s), d = h.prop("selected"), C = h.parent("optgroup"), A = C.find("option"), p = e.options.maxOptions, m = C.data("maxOptions") || !1; if (s === e.activeIndex && (i = !0), i || (e.prevActiveIndex = e.activeIndex, e.activeIndex = void 0), e.multiple) { if (h.prop("selected", !d), e.setSelected(s, !d), o.blur(), !1 !== p || !1 !== m) { var f = p < u.filter(":selected").length, b = m < C.find("option:selected").length; if (p && f || m && b) if (p && 1 == p) { u.prop("selected", !1), h.prop("selected", !0); for (var B = 0; B < u.length; B++)e.setSelected(B, !1); e.setSelected(s, !0) } else if (m && 1 == m) { for (C.find("option:selected").prop("selected", !1), h.prop("selected", !0), B = 0; B < A.length; B++) { var y = A[B]; e.setSelected(u.index(y), !1) } e.setSelected(s, !0) } else { var F = "string" == typeof e.options.maxOptionsText ? [e.options.maxOptionsText, e.options.maxOptionsText] : e.options.maxOptionsText, Q = "function" == typeof F ? F(p, m) : F, G = Q[0].replace("{n}", p), w = Q[1].replace("{n}", m), X = t('<div class="notify"></div>'); Q[2] && (G = G.replace("{var}", Q[2][1 < p ? 0 : 1]), w = w.replace("{var}", Q[2][1 < m ? 0 : 1])), h.prop("selected", !1), e.$menu.append(X), p && f && (X.append(t("<div>" + G + "</div>")), I = !1, e.$element.trigger("maxReached" + v)), m && b && (X.append(t("<div>" + w + "</div>")), I = !1, e.$element.trigger("maxReachedGrp" + v)), setTimeout(function () { e.setSelected(s, !1) }, 10), X.delay(750).fadeOut(300, function () { t(this).remove() }) } } } else u.prop("selected", !1), h.prop("selected", !0), e.setSelected(s, !0); !e.multiple || e.multiple && 1 === e.options.maxOptions ? e.$button.focus() : e.options.liveSearch && e.$searchbox.focus(), I && (l != r(e.$element[0]) && e.multiple || c != e.$element.prop("selectedIndex") && !e.multiple) && (g = [s, h.prop("selected"), l], e.$element.triggerNative("change")) } }), this.$menu.on("click", "li." + x.DISABLED + " a, ." + x.POPOVERHEADER + ", ." + x.POPOVERHEADER + " :not(.close)", function (n) { n.currentTarget == this && (n.preventDefault(), n.stopPropagation(), e.options.liveSearch && !t(n.target).hasClass("close") ? e.$searchbox.focus() : e.$button.focus()) }), this.$menuInner.on("click", ".divider, .dropdown-header", function (t) { t.preventDefault(), t.stopPropagation(), e.options.liveSearch ? e.$searchbox.focus() : e.$button.focus() }), this.$menu.on("click", "." + x.POPOVERHEADER + " .close", function () { e.$button.click() }), this.$searchbox.on("click", function (t) { t.stopPropagation() }), this.$menu.on("click", ".actions-btn", function (n) { e.options.liveSearch ? e.$searchbox.focus() : e.$button.focus(), n.preventDefault(), n.stopPropagation(), t(this).hasClass("bs-select-all") ? e.selectAll() : e.deselectAll() }), this.$element.on({ change: function () { e.render(), e.$element.trigger("changed" + v, g), g = null }, focus: function () { e.options.mobile || e.$button.focus() } }) }, liveSearchListener: function () { var t = this, e = document.createElement("li"); this.$button.on("click.bs.dropdown.data-api", function () { t.$searchbox.val() && t.$searchbox.val("") }), this.$searchbox.on("click.bs.dropdown.data-api focus.bs.dropdown.data-api touchend.bs.dropdown.data-api", function (t) { t.stopPropagation() }), this.$searchbox.on("input propertychange", function () { var n = t.$searchbox.val(); if (t.selectpicker.search.map.newIndex = {}, t.selectpicker.search.map.originalIndex = {}, t.selectpicker.search.elements = [], t.selectpicker.search.data = [], n) { var i = [], o = n.toUpperCase(), a = {}, r = [], s = t._searchStyle(), g = t.options.liveSearchNormalize; g && (o = A(o)), t._$lisSelected = t.$menuInner.find(".selected"); for (var l = 0; l < t.selectpicker.main.data.length; l++) { var I = t.selectpicker.main.data[l]; a[l] || (a[l] = c(I, o, s, g)), a[l] && void 0 !== I.headerIndex && -1 === r.indexOf(I.headerIndex) && (0 < I.headerIndex && (a[I.headerIndex - 1] = !0, r.push(I.headerIndex - 1)), a[I.headerIndex] = !0, r.push(I.headerIndex), a[I.lastIndex + 1] = !0), a[l] && "optgroup-label" !== I.type && r.push(l) } l = 0; for (var u = r.length; l < u; l++) { var h = r[l], d = r[l - 1], C = (I = t.selectpicker.main.data[h], t.selectpicker.main.data[d]); ("divider" !== I.type || "divider" === I.type && C && "divider" !== C.type && u - 1 !== l) && (t.selectpicker.search.data.push(I), i.push(t.selectpicker.main.elements[h]), I.hasOwnProperty("originalIndex") && (t.selectpicker.search.map.newIndex[I.originalIndex] = i.length - 1, t.selectpicker.search.map.originalIndex[i.length - 1] = I.originalIndex)) } t.activeIndex = void 0, t.noScroll = !0, t.$menuInner.scrollTop(0), t.selectpicker.search.elements = i, t.createView(!0), i.length || (e.className = "no-results", e.innerHTML = t.options.noneResultsText.replace("{0}", '"' + m(n) + '"'), t.$menuInner[0].firstChild.appendChild(e)) } else t.$menuInner.scrollTop(0), t.createView(!1) }) }, _searchStyle: function () { return this.options.liveSearchStyle || "contains" }, val: function (t) { return void 0 !== t ? (this.$element.val(t).triggerNative("change"), this.$element) : this.$element.val() }, changeAll: function (t) { if (this.multiple) { void 0 === t && (t = !0); var e = this.$element.find("option"), n = 0, i = 0, o = r(this.$element[0]); this.$element.addClass("bs-select-hidden"); for (var a = 0; a < this.selectpicker.current.elements.length; a++) { var s = this.selectpicker.current.data[a], l = e[this.selectpicker.current.map.originalIndex[a]]; l && !l.disabled && "divider" !== s.type && (l.selected && n++, l.selected = t, l.selected && i++) } this.$element.removeClass("bs-select-hidden"), n !== i && (this.setOptionStatus(), this.togglePlaceholder(), g = [null, null, o], this.$element.triggerNative("change")) } }, selectAll: function () { return this.changeAll(!0) }, deselectAll: function () { return this.changeAll(!1) }, toggle: function (t) { (t = t || window.event) && t.stopPropagation(), this.$button.trigger("click.bs.dropdown.data-api") }, keydown: function (e) { var n, i, o, a, r, s = t(this), g = s.hasClass("dropdown-toggle"), l = (g ? s.closest(".dropdown") : s.closest(F.MENU)).data("this"), I = l.findLis(), u = !1, h = 9 === e.which && !g && !l.options.selectOnTab, d = Q.test(e.which) || h, C = l.$menuInner[0].scrollTop, A = l.isVirtual(), p = !0 === A ? l.selectpicker.view.position0 : 0; if (!(i = l.$newElement.hasClass(x.SHOW)) && (d || 48 <= e.which && e.which <= 57 || 96 <= e.which && e.which <= 105 || 65 <= e.which && e.which <= 90) && l.$button.trigger("click.bs.dropdown.data-api"), 27 === e.which && i && (e.preventDefault(), l.$button.trigger("click.bs.dropdown.data-api").focus()), d) { if (!I.length) return; void 0 === (n = !0 === A ? I.index(I.filter(".active")) : l.selectpicker.current.map.newIndex[l.activeIndex]) && (n = -1), -1 !== n && ((o = l.selectpicker.current.elements[n + p]).classList.remove("active"), o.firstChild && o.firstChild.classList.remove("active")), 38 === e.which ? (-1 !== n && n--, n + p < 0 && (n += I.length), l.selectpicker.view.canHighlight[n + p] || -1 == (n = l.selectpicker.view.canHighlight.slice(0, n + p).lastIndexOf(!0) - p) && (n = I.length - 1)) : 40 !== e.which && !h || (++n + p >= l.selectpicker.view.canHighlight.length && (n = 0), l.selectpicker.view.canHighlight[n + p] || (n = n + 1 + l.selectpicker.view.canHighlight.slice(n + p + 1).indexOf(!0))), e.preventDefault(); var m = p + n; 38 === e.which ? 0 === p && n === I.length - 1 ? (l.$menuInner[0].scrollTop = l.$menuInner[0].scrollHeight, m = l.selectpicker.current.elements.length - 1) : u = (r = (a = l.selectpicker.current.data[m]).position - a.height) < C : 40 !== e.which && !h || (0 === n ? m = l.$menuInner[0].scrollTop = 0 : u = C < (r = (a = l.selectpicker.current.data[m]).position - l.sizeInfo.menuInnerHeight)), (o = l.selectpicker.current.elements[m]) && (o.classList.add("active"), o.firstChild && o.firstChild.classList.add("active")), l.activeIndex = l.selectpicker.current.map.originalIndex[m], l.selectpicker.view.currentActive = o, u && (l.$menuInner[0].scrollTop = r), l.options.liveSearch ? l.$searchbox.focus() : s.focus() } else if (!s.is("input") && !G.test(e.which) || 32 === e.which && l.selectpicker.keydown.keyHistory) { var f, B, y = []; e.preventDefault(), l.selectpicker.keydown.keyHistory += b[e.which], l.selectpicker.keydown.resetKeyHistory.cancel && clearTimeout(l.selectpicker.keydown.resetKeyHistory.cancel), l.selectpicker.keydown.resetKeyHistory.cancel = l.selectpicker.keydown.resetKeyHistory.start(), B = l.selectpicker.keydown.keyHistory, /^(.)\1+$/.test(B) && (B = B.charAt(0)); for (var v = 0; v < l.selectpicker.current.data.length; v++) { var w = l.selectpicker.current.data[v]; c(w, B, "startsWith", !0) && l.selectpicker.view.canHighlight[v] && (w.index = v, y.push(w.originalIndex)) } if (y.length) { var X = 0; I.removeClass("active").find("a").removeClass("active"), 1 === B.length && (-1 === (X = y.indexOf(l.activeIndex)) || X === y.length - 1 ? X = 0 : X++), f = l.selectpicker.current.map.newIndex[y[X]], u = 0 < C - (a = l.selectpicker.current.data[f]).position ? (r = a.position - a.height, !0) : (r = a.position - l.sizeInfo.menuInnerHeight, a.position > C + l.sizeInfo.menuInnerHeight), (o = l.selectpicker.current.elements[f]).classList.add("active"), o.firstChild && o.firstChild.classList.add("active"), l.activeIndex = y[X], o.firstChild.focus(), u && (l.$menuInner[0].scrollTop = r), s.focus() } } i && (32 === e.which && !l.selectpicker.keydown.keyHistory || 13 === e.which || 9 === e.which && l.options.selectOnTab) && (32 !== e.which && e.preventDefault(), l.options.liveSearch && 32 === e.which || (l.$menuInner.find(".active a").trigger("click", !0), s.focus(), l.options.liveSearch || (e.preventDefault(), t(document).data("spaceSelect", !0)))) }, mobile: function () { this.$element.addClass("mobile-device") }, refresh: function () { var e = t.extend({}, this.options, this.$element.data()); this.options = e, this.selectpicker.main.map.newIndex = {}, this.selectpicker.main.map.originalIndex = {}, this.createLi(), this.checkDisabled(), this.render(), this.setStyle(), this.setWidth(), this.setSize(!0), this.$element.trigger("refreshed" + v) }, hide: function () { this.$newElement.hide() }, show: function () { this.$newElement.show() }, remove: function () { this.$newElement.remove(), this.$element.remove() }, destroy: function () { this.$newElement.before(this.$element).remove(), this.$bsContainer ? this.$bsContainer.remove() : this.$menu.remove(), this.$element.off(v).removeData("selectpicker").removeClass("bs-select-hidden selectpicker"), t(window).off(v + "." + this.selectId) } }; var S = t.fn.selectpicker; t.fn.selectpicker = X, t.fn.selectpicker.Constructor = w, t.fn.selectpicker.noConflict = function () { return t.fn.selectpicker = S, this }, t(document).off("keydown.bs.dropdown.data-api").on("keydown" + v, '.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input', w.prototype.keydown).on("focusin.modal", '.bootstrap-select [data-toggle="dropdown"], .bootstrap-select [role="listbox"], .bootstrap-select .bs-searchbox input', function (t) { t.stopPropagation() }), t(window).on("load" + v + ".data-api", function () { t(".selectpicker").each(function () { var e = t(this); X.call(e, e.data()) }) }) }(t) }), function (t, e) { "function" == typeof define && define.amd ? define(["jquery"], e) : "undefined" != typeof exports ? e(require("jquery")) : (e(t.jquery), t.bootstrapSwitch = {}) }(this, function (t) { "use strict"; var e, n = (e = t) && e.__esModule ? e : { default: e }, i = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }; function o(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } var a = n.default || window.jQuery || window.$; function r() { var t = this, e = this.$on.add(this.$off).add(this.$label).css("width", ""), n = "auto" === this.options.handleWidth ? Math.round(Math.max(this.$on.width(), this.$off.width())) : this.options.handleWidth; return e.width(n), this.$label.width(function (e, i) { return "auto" !== t.options.labelWidth ? t.options.labelWidth : i < n ? n : i }), this.privateHandleWidth = this.$on.outerWidth(), this.privateLabelWidth = this.$label.outerWidth(), this.$container.width(2 * this.privateHandleWidth + this.privateLabelWidth), this.$wrapper.width(this.privateHandleWidth + this.privateLabelWidth) } function s() { var t = this, e = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : this.ope; this.$container.css("margin-left", function () { var n = [0, "-" + t.privateHandleWidth + "px"]; return t.options.indeterminate ? "-" + t.privateHandleWidth / 2 + "px" : e ? t.options.inverse ? n[1] : n[0] : t.options.inverse ? n[0] : n[1] }) } function g(t) { return this.options.baseClass + "-" + t } function l(t) { var e = this; return a.isArray(t) ? t.map(function (t) { return g.call(e, t) }) : [g.call(this, t)] } var c = (function (t, e, n) { e && o(t.prototype, e), n && o(t, n) }(I, [{ key: "setPrevOptions", value: function () { this.prevOptions = i({}, this.options) } }, { key: "state", value: function (t, e) { return void 0 === t ? this.options.state : (this.options.disabled || this.options.readonly || this.options.state && !this.options.radioAllOff && this.$element.is(":radio") || (this.$element.is(":radio") ? a('[name="' + this.$element.attr("name") + '"]').trigger("setPreviousOptions.bootstrapSwitch") : this.$element.trigger("setPreviousOptions.bootstrapSwitch"), this.options.indeterminate && this.indeterminate(!1), this.$element.prop("checked", Boolean(t)).trigger("change.bootstrapSwitch", e)), this.$element) } }, { key: "toggleState", value: function (t) { return this.options.disabled || this.options.readonly ? this.$element : this.options.indeterminate ? (this.indeterminate(!1), this.state(!0)) : this.$element.prop("checked", !this.options.state).trigger("change.bootstrapSwitch", t) } }, { key: "size", value: function (t) { return void 0 === t ? this.options.size : (null != this.options.size && this.$wrapper.removeClass(g.call(this, this.options.size)), t && this.$wrapper.addClass(g.call(this, t)), r.call(this), s.call(this), this.options.size = t, this.$element) } }, { key: "animate", value: function (t) { return void 0 === t ? this.options.animate : this.options.animate === Boolean(t) ? this.$element : this.toggleAnimate() } }, { key: "toggleAnimate", value: function () { return this.options.animate = !this.options.animate, this.$wrapper.toggleClass(g.call(this, "animate")), this.$element } }, { key: "disabled", value: function (t) { return void 0 === t ? this.options.disabled : this.options.disabled === Boolean(t) ? this.$element : this.toggleDisabled() } }, { key: "toggleDisabled", value: function () { return this.options.disabled = !this.options.disabled, this.$element.prop("disabled", this.options.disabled), this.$wrapper.toggleClass(g.call(this, "disabled")), this.$element } }, { key: "readonly", value: function (t) { return void 0 === t ? this.options.readonly : this.options.readonly === Boolean(t) ? this.$element : this.toggleReadonly() } }, { key: "toggleReadonly", value: function () { return this.options.readonly = !this.options.readonly, this.$element.prop("readonly", this.options.readonly), this.$wrapper.toggleClass(g.call(this, "readonly")), this.$element } }, { key: "indeterminate", value: function (t) { return void 0 === t ? this.options.indeterminate : this.options.indeterminate === Boolean(t) ? this.$element : this.toggleIndeterminate() } }, { key: "toggleIndeterminate", value: function () { return this.options.indeterminate = !this.options.indeterminate, this.$element.prop("indeterminate", this.options.indeterminate), this.$wrapper.toggleClass(g.call(this, "indeterminate")), s.call(this), this.$element } }, { key: "inverse", value: function (t) { return void 0 === t ? this.options.inverse : this.options.inverse === Boolean(t) ? this.$element : this.toggleInverse() } }, { key: "toggleInverse", value: function () { this.$wrapper.toggleClass(g.call(this, "inverse")); var t = this.$on.clone(!0), e = this.$off.clone(!0); return this.$on.replaceWith(e), this.$off.replaceWith(t), this.$on = e, this.$off = t, this.options.inverse = !this.options.inverse, this.$element } }, { key: "onColor", value: function (t) { return void 0 === t ? this.options.onColor : (this.options.onColor && this.$on.removeClass(g.call(this, this.options.onColor)), this.$on.addClass(g.call(this, t)), this.options.onColor = t, this.$element) } }, { key: "offColor", value: function (t) { return void 0 === t ? this.options.offColor : (this.options.offColor && this.$off.removeClass(g.call(this, this.options.offColor)), this.$off.addClass(g.call(this, t)), this.options.offColor = t, this.$element) } }, { key: "onText", value: function (t) { return void 0 === t ? this.options.onText : (this.$on.html(t), r.call(this), s.call(this), this.options.onText = t, this.$element) } }, { key: "offText", value: function (t) { return void 0 === t ? this.options.offText : (this.$off.html(t), r.call(this), s.call(this), this.options.offText = t, this.$element) } }, { key: "labelText", value: function (t) { return void 0 === t ? this.options.labelText : (this.$label.html(t), r.call(this), this.options.labelText = t, this.$element) } }, { key: "handleWidth", value: function (t) { return void 0 === t ? this.options.handleWidth : (this.options.handleWidth = t, r.call(this), s.call(this), this.$element) } }, { key: "labelWidth", value: function (t) { return void 0 === t ? this.options.labelWidth : (this.options.labelWidth = t, r.call(this), s.call(this), this.$element) } }, { key: "baseClass", value: function () { return this.options.baseClass } }, { key: "wrapperClass", value: function (t) { if (void 0 === t) return this.options.wrapperClass; var e = t || a.fn.bootstrapSwitch.defaults.wrapperClass; return this.$wrapper.removeClass(l.call(this, this.options.wrapperClass).join(" ")), this.$wrapper.addClass(l.call(this, e).join(" ")), this.options.wrapperClass = e, this.$element } }, { key: "radioAllOff", value: function (t) { if (void 0 === t) return this.options.radioAllOff; var e = Boolean(t); return this.options.radioAllOff === e || (this.options.radioAllOff = e), this.$element } }, { key: "onInit", value: function (t) { return void 0 === t ? this.options.onInit : (this.options.onInit = t || a.fn.bootstrapSwitch.defaults.onInit, this.$element) } }, { key: "onSwitchChange", value: function (t) { return void 0 === t ? this.options.onSwitchChange : (this.options.onSwitchChange = t || a.fn.bootstrapSwitch.defaults.onSwitchChange, this.$element) } }, { key: "destroy", value: function () { var t = this.$element.closest("form"); return t.length && t.off("reset.bootstrapSwitch").removeData("bootstrap-switch"), this.$container.children().not(this.$element).remove(), this.$element.unwrap().unwrap().off(".bootstrapSwitch").removeData("bootstrap-switch"), this.$element } }]), I); function I(t) { var e = this, n = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : {}; !function (t, e) { if (!(t instanceof I)) throw new TypeError("Cannot call a class as a function") }(this), this.$element = a(t), this.options = a.extend({}, a.fn.bootstrapSwitch.defaults, function () { return { state: this.$element.is(":checked"), size: this.$element.data("size"), animate: this.$element.data("animate"), disabled: this.$element.is(":disabled"), readonly: this.$element.is("[readonly]"), indeterminate: this.$element.data("indeterminate"), inverse: this.$element.data("inverse"), radioAllOff: this.$element.data("radio-all-off"), onColor: this.$element.data("on-color"), offColor: this.$element.data("off-color"), onText: this.$element.data("on-text"), offText: this.$element.data("off-text"), labelText: this.$element.data("label-text"), handleWidth: this.$element.data("handle-width"), labelWidth: this.$element.data("label-width"), baseClass: this.$element.data("base-class"), wrapperClass: this.$element.data("wrapper-class") } }.call(this), n), this.prevOptions = {}, this.$wrapper = a("<div>", { class: function () { return (t = e.options, n = e.$element.attr("id"), [t.state ? "on" : "off", t.size, t.disabled ? "disabled" : void 0, t.readonly ? "readonly" : void 0, t.indeterminate ? "indeterminate" : void 0, t.inverse ? "inverse" : void 0, n ? "id-" + n : void 0].filter(function (t) { return null == t })).map(function (t) { return g.call(e, t) }).concat([e.options.baseClass], l.call(e, e.options.wrapperClass)).join(" "); var t, n } }), this.$container = a("<div>", { class: g.call(this, "container") }), this.$on = a("<span>", { html: this.options.onText, class: g.call(this, "handle-on") + " " + g.call(this, this.options.onColor) }), this.$off = a("<span>", { html: this.options.offText, class: g.call(this, "handle-off") + " " + g.call(this, this.options.offColor) }), this.$label = a("<span>", { html: this.options.labelText, class: g.call(this, "label") }), this.$element.on("init.bootstrapSwitch", function () { return e.options.onInit(t) }), this.$element.on("switchChange.bootstrapSwitch", function () { for (var n = arguments.length, i = Array(n), o = 0; o < n; o++)i[o] = arguments[o]; !1 === e.options.onSwitchChange.apply(t, i) && (e.$element.is(":radio") ? a('[name="' + e.$element.attr("name") + '"]').trigger("previousState.bootstrapSwitch", !0) : e.$element.trigger("previousState.bootstrapSwitch", !0)) }), this.$container = this.$element.wrap(this.$container).parent(), this.$wrapper = this.$container.wrap(this.$wrapper).parent(), this.$element.before(this.options.inverse ? this.$off : this.$on).before(this.$label).before(this.options.inverse ? this.$on : this.$off), this.options.indeterminate && this.$element.prop("indeterminate", !0), function () { function t() { e.setPrevOptions(), r.call(e), s.call(e), setTimeout(function () { return e.options.animate && e.$wrapper.addClass(g.call(e, "animate")) }, 50) } var e = this; if (this.$wrapper.is(":visible")) t(); else var n = window.setInterval(function () { return e.$wrapper.is(":visible") && (t() || !0) && window.clearInterval(n) }, 50) }.call(this), function () { var t = this; return this.$element.on({ "setPreviousOptions.bootstrapSwitch": function () { return t.setPrevOptions() }, "previousState.bootstrapSwitch": function () { t.options = t.prevOptions, t.options.indeterminate && t.$wrapper.addClass(g.call(t, "indeterminate")), t.$element.prop("checked", t.options.state).trigger("change.bootstrapSwitch", !0) }, "change.bootstrapSwitch": function (e, n) { e.preventDefault(), e.stopImmediatePropagation(); var i = t.$element.is(":checked"); s.call(t, i), i !== t.options.state && (t.options.state = i, t.$wrapper.toggleClass(g.call(t, "off")).toggleClass(g.call(t, "on")), n || (t.$element.is(":radio") && a('[name="' + t.$element.attr("name") + '"]').not(t.$element).prop("checked", !1).trigger("change.bootstrapSwitch", !0), t.$element.trigger("switchChange.bootstrapSwitch", [i]))) }, "focus.bootstrapSwitch": function (e) { e.preventDefault(), t.$wrapper.addClass(g.call(t, "focused")) }, "blur.bootstrapSwitch": function (e) { e.preventDefault(), t.$wrapper.removeClass(g.call(t, "focused")) }, "keydown.bootstrapSwitch": function (e) { !e.which || t.options.disabled || t.options.readonly || 37 !== e.which && 39 !== e.which || (e.preventDefault(), e.stopImmediatePropagation(), t.state(39 === e.which)) } }) }.call(this), function () { var t = this; return this.$on.on("click.bootstrapSwitch", function (e) { return e.preventDefault(), e.stopPropagation(), t.state(!1), t.$element.trigger("focus.bootstrapSwitch") }), this.$off.on("click.bootstrapSwitch", function (e) { return e.preventDefault(), e.stopPropagation(), t.state(!0), t.$element.trigger("focus.bootstrapSwitch") }) }.call(this), function () { var t = this, e = void 0, n = void 0, i = { click: function (t) { t.stopPropagation() }, "mousedown.bootstrapSwitch touchstart.bootstrapSwitch": function (n) { e || t.options.disabled || t.options.readonly || (n.preventDefault(), n.stopPropagation(), e = (n.pageX || n.originalEvent.touches[0].pageX) - parseInt(t.$container.css("margin-left"), 10), t.options.animate && t.$wrapper.removeClass(g.call(t, "animate")), t.$element.trigger("focus.bootstrapSwitch")) }, "mousemove.bootstrapSwitch touchmove.bootstrapSwitch": function (i) { if (null != e) { var o = (i.pageX || i.originalEvent.touches[0].pageX) - e; i.preventDefault(), o < -t.privateHandleWidth || 0 < o || (n = o, t.$container.css("margin-left", n + "px")) } }, "mouseup.bootstrapSwitch touchend.bootstrapSwitch": function (i) { if (e) { if (i.preventDefault(), t.options.animate && t.$wrapper.addClass(g.call(t, "animate")), n) { var o = n > -t.privateHandleWidth / 2; n = !1, t.state(t.options.inverse ? !o : o) } else t.state(!t.options.state); e = !1 } }, "mouseleave.bootstrapSwitch": function () { t.$label.trigger("mouseup.bootstrapSwitch") } }; this.$label.on(i) }.call(this), function () { function t() { return a(this).data("bootstrap-switch") } function e() { return a(this).bootstrapSwitch("state", this.checked) } var n = this.$element.closest("form"); n.data("bootstrap-switch") || n.on("reset.bootstrapSwitch", function () { window.setTimeout(function () { n.find("input").filter(t).each(e) }, 1) }).data("bootstrap-switch", !0) }.call(this), function () { var t = this, e = this.$element.closest("label"); e.on("click", function (n) { n.preventDefault(), n.stopImmediatePropagation(), n.target === e[0] && t.toggleState() }) }.call(this), this.$element.trigger("init.bootstrapSwitch", this.options.state) } a.fn.bootstrapSwitch = function (t) { for (var e = arguments.length, n = Array(1 < e ? e - 1 : 0), i = 1; i < e; i++)n[i - 1] = arguments[i]; return Array.prototype.reduce.call(this, function (e, i) { var o = a(i), r = o.data("bootstrap-switch"), s = r || new c(i, t); return r || o.data("bootstrap-switch", s), "string" == typeof t ? s[t].apply(s, n) : e }, this) }, a.fn.bootstrapSwitch.Constructor = c, a.fn.bootstrapSwitch.defaults = { state: !0, size: null, animate: !0, disabled: !1, readonly: !1, indeterminate: !1, inverse: !1, radioAllOff: !1, onColor: "primary", offColor: "default", onText: "ON", offText: "OFF", labelText: "&nbsp", handleWidth: "auto", labelWidth: "auto", baseClass: "bootstrap-switch", wrapperClass: "wrapper", onInit: function () { }, onSwitchChange: function () { } } }), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? module.exports = function (e, n) { return void 0 === n && (n = "undefined" != typeof window ? require("jquery") : require("jquery")(e)), t(n), n } : t(jQuery) }(function (t) { var e = function () { if (t && t.fn && t.fn.select2 && t.fn.select2.amd) var e = t.fn.select2.amd; var n, i, o, a, r, s, g, l, c, I, u, h, d, C, A, p; function m(t, e) { return d.call(t, e) } function f(t, e) { var n, i, o, a, r, s, g, l, c, I, h, d = e && e.split("/"), C = u.map, p = C && C["*"] || {}; if (t) { for (r = (t = t.split("/")).length - 1, u.nodeIdCompat && A.test(t[r]) && (t[r] = t[r].replace(A, "")), "." === t[0].charAt(0) && d && (t = d.slice(0, d.length - 1).concat(t)), c = 0; c < t.length; c++)if ("." === (h = t[c])) t.splice(c, 1), c -= 1; else if (".." === h) { if (0 === c || 1 === c && ".." === t[2] || ".." === t[c - 1]) continue; 0 < c && (t.splice(c - 1, 2), c -= 2) } t = t.join("/") } if ((d || p) && C) { for (c = (n = t.split("/")).length; 0 < c; c -= 1) { if (i = n.slice(0, c).join("/"), d) for (I = d.length; 0 < I; I -= 1)if ((o = C[d.slice(0, I).join("/")]) && (o = o[i])) { a = o, s = c; break } if (a) break; !g && p && p[i] && (g = p[i], l = c) } !a && g && (a = g, s = l), a && (n.splice(0, s, a), t = n.join("/")) } return t } function b(t, e) { return function () { var n = C.call(arguments, 0); return "string" != typeof n[0] && 1 === n.length && n.push(null), s.apply(a, n.concat([t, e])) } } function B(t) { return function (e) { c[t] = e } } function y(t) { if (m(I, t)) { var e = I[t]; delete I[t], h[t] = !0, r.apply(a, e) } if (!m(c, t) && !m(h, t)) throw new Error("No " + t); return c[t] } function v(t) { var e, n = t ? t.indexOf("!") : -1; return -1 < n && (e = t.substring(0, n), t = t.substring(n + 1, t.length)), [e, t] } function x(t) { return t ? v(t) : [] } return e && e.requirejs || (e ? i = e : e = {}, c = {}, I = {}, u = {}, h = {}, d = Object.prototype.hasOwnProperty, C = [].slice, A = /\.js$/, g = function (t, e) { var n, i = v(t), o = i[0], a = e[1]; return t = i[1], o && (n = y(o = f(o, a))), o ? t = n && n.normalize ? n.normalize(t, function (t) { return function (e) { return f(e, t) } }(a)) : f(t, a) : (o = (i = v(t = f(t, a)))[0], t = i[1], o && (n = y(o))), { f: o ? o + "!" + t : t, n: t, pr: o, p: n } }, l = { require: function (t) { return b(t) }, exports: function (t) { var e = c[t]; return void 0 !== e ? e : c[t] = {} }, module: function (t) { return { id: t, uri: "", exports: c[t], config: function (t) { return function () { return u && u.config && u.config[t] || {} } }(t) } } }, r = function (t, e, n, i) { var o, r, s, u, d, C, A, p = [], f = typeof n; if (C = x(i = i || t), "undefined" == f || "function" == f) { for (e = !e.length && n.length ? ["require", "exports", "module"] : e, d = 0; d < e.length; d += 1)if ("require" === (r = (u = g(e[d], C)).f)) p[d] = l.require(t); else if ("exports" === r) p[d] = l.exports(t), A = !0; else if ("module" === r) o = p[d] = l.module(t); else if (m(c, r) || m(I, r) || m(h, r)) p[d] = y(r); else { if (!u.p) throw new Error(t + " missing " + r); u.p.load(u.n, b(i, !0), B(r), {}), p[d] = c[r] } s = n ? n.apply(c[t], p) : void 0, t && (o && o.exports !== a && o.exports !== c[t] ? c[t] = o.exports : s === a && A || (c[t] = s)) } else t && (c[t] = n) }, n = i = s = function (t, e, n, i, o) { if ("string" == typeof t) return l[t] ? l[t](e) : y(g(t, x(e)).f); if (!t.splice) { if ((u = t).deps && s(u.deps, u.callback), !e) return; e.splice ? (t = e, e = n, n = null) : t = a } return e = e || function () { }, "function" == typeof n && (n = i, i = o), i ? r(a, t, e, n) : setTimeout(function () { r(a, t, e, n) }, 4), s }, s.config = function (t) { return s(t) }, n._defined = c, (o = function (t, e, n) { if ("string" != typeof t) throw new Error("See almond README: incorrect module build, no module name"); e.splice || (n = e, e = []), m(c, t) || m(I, t) || (I[t] = [t, e, n]) }).amd = { jQuery: !0 }, e.requirejs = n, e.require = i, e.define = o), e.define("almond", function () { }), e.define("jquery", [], function () { var e = t || $; return null == e && console && console.error && console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."), e }), e.define("select2/utils", ["jquery"], function (t) { var e = {}; function n(t) { var e = t.prototype, n = []; for (var i in e) "function" == typeof e[i] && "constructor" !== i && n.push(i); return n } function i() { this.listeners = {} } e.Extend = function (t, e) { var n = {}.hasOwnProperty; function i() { this.constructor = t } for (var o in e) n.call(e, o) && (t[o] = e[o]); return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t }, e.Decorate = function (t, e) { var i = n(e), o = n(t); function a() { var n = Array.prototype.unshift, i = e.prototype.constructor.length, o = t.prototype.constructor; 0 < i && (n.call(arguments, t.prototype.constructor), o = e.prototype.constructor), o.apply(this, arguments) } e.displayName = t.displayName, a.prototype = new function () { this.constructor = a }; for (var r = 0; r < o.length; r++) { var s = o[r]; a.prototype[s] = t.prototype[s] } function g(t) { var n = function () { }; t in a.prototype && (n = a.prototype[t]); var i = e.prototype[t]; return function () { return Array.prototype.unshift.call(arguments, n), i.apply(this, arguments) } } for (var l = 0; l < i.length; l++) { var c = i[l]; a.prototype[c] = g(c) } return a }, i.prototype.on = function (t, e) { this.listeners = this.listeners || {}, t in this.listeners ? this.listeners[t].push(e) : this.listeners[t] = [e] }, i.prototype.trigger = function (t) { var e = Array.prototype.slice, n = e.call(arguments, 1); this.listeners = this.listeners || {}, null == n && (n = []), 0 === n.length && n.push({}), (n[0]._type = t) in this.listeners && this.invoke(this.listeners[t], e.call(arguments, 1)), "*" in this.listeners && this.invoke(this.listeners["*"], arguments) }, i.prototype.invoke = function (t, e) { for (var n = 0, i = t.length; n < i; n++)t[n].apply(this, e) }, e.Observable = i, e.generateChars = function (t) { for (var e = "", n = 0; n < t; n++)e += Math.floor(36 * Math.random()).toString(36); return e }, e.bind = function (t, e) { return function () { t.apply(e, arguments) } }, e._convertData = function (t) { for (var e in t) { var n = e.split("-"), i = t; if (1 !== n.length) { for (var o = 0; o < n.length; o++) { var a = n[o]; (a = a.substring(0, 1).toLowerCase() + a.substring(1)) in i || (i[a] = {}), o == n.length - 1 && (i[a] = t[e]), i = i[a] } delete t[e] } } return t }, e.hasScroll = function (e, n) { var i = t(n), o = n.style.overflowX, a = n.style.overflowY; return (o !== a || "hidden" !== a && "visible" !== a) && ("scroll" === o || "scroll" === a || i.innerHeight() < n.scrollHeight || i.innerWidth() < n.scrollWidth) }, e.escapeMarkup = function (t) { var e = { "\\": "&#92;", "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#39;", "/": "&#47;" }; return "string" != typeof t ? t : String(t).replace(/[&<>"'\/\\]/g, function (t) { return e[t] }) }, e.appendMany = function (e, n) { if ("1.7" === t.fn.jquery.substr(0, 3)) { var i = t(); t.map(n, function (t) { i = i.add(t) }), n = i } e.append(n) }, e.__cache = {}; var o = 0; return e.GetUniqueElementId = function (t) { var e = t.getAttribute("data-select2-id"); return null == e && (t.id ? (e = t.id, t.setAttribute("data-select2-id", e)) : (t.setAttribute("data-select2-id", ++o), e = o.toString())), e }, e.StoreData = function (t, n, i) { var o = e.GetUniqueElementId(t); e.__cache[o] || (e.__cache[o] = {}), e.__cache[o][n] = i }, e.GetData = function (n, i) { var o = e.GetUniqueElementId(n); return i ? e.__cache[o] && null != e.__cache[o][i] ? e.__cache[o][i] : t(n).data(i) : e.__cache[o] }, e.RemoveData = function (t) { var n = e.GetUniqueElementId(t); null != e.__cache[n] && delete e.__cache[n] }, e }), e.define("select2/results", ["jquery", "./utils"], function (t, e) { function n(t, e, i) { this.$element = t, this.data = i, this.options = e, n.__super__.constructor.call(this) } return e.Extend(n, e.Observable), n.prototype.render = function () { var e = t('<ul class="select2-results__options" role="tree"></ul>'); return this.options.get("multiple") && e.attr("aria-multiselectable", "true"), this.$results = e }, n.prototype.clear = function () { this.$results.empty() }, n.prototype.displayMessage = function (e) { var n = this.options.get("escapeMarkup"); this.clear(), this.hideLoading(); var i = t('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'), o = this.options.get("translations").get(e.message); i.append(n(o(e.args))), i[0].className += " select2-results__message", this.$results.append(i) }, n.prototype.hideMessages = function () { this.$results.find(".select2-results__message").remove() }, n.prototype.append = function (t) { this.hideLoading(); var e = []; if (null != t.results && 0 !== t.results.length) { t.results = this.sort(t.results); for (var n = 0; n < t.results.length; n++) { var i = t.results[n], o = this.option(i); e.push(o) } this.$results.append(e) } else 0 === this.$results.children().length && this.trigger("results:message", { message: "noResults" }) }, n.prototype.position = function (t, e) { e.find(".select2-results").append(t) }, n.prototype.sort = function (t) { return this.options.get("sorter")(t) }, n.prototype.highlightFirstItem = function () { var t = this.$results.find(".select2-results__option[aria-selected]"), e = t.filter("[aria-selected=true]"); 0 < e.length ? e.first().trigger("mouseenter") : t.first().trigger("mouseenter"), this.ensureHighlightVisible() }, n.prototype.setClasses = function () { var n = this; this.data.current(function (i) { var o = t.map(i, function (t) { return t.id.toString() }); n.$results.find(".select2-results__option[aria-selected]").each(function () { var n = t(this), i = e.GetData(this, "data"), a = "" + i.id; null != i.element && i.element.selected || null == i.element && -1 < t.inArray(a, o) ? n.attr("aria-selected", "true") : n.attr("aria-selected", "false") }) }) }, n.prototype.showLoading = function (t) { this.hideLoading(); var e = { disabled: !0, loading: !0, text: this.options.get("translations").get("searching")(t) }, n = this.option(e); n.className += " loading-results", this.$results.prepend(n) }, n.prototype.hideLoading = function () { this.$results.find(".loading-results").remove() }, n.prototype.option = function (n) { var i = document.createElement("li"); i.className = "select2-results__option"; var o = { role: "treeitem", "aria-selected": "false" }; for (var a in n.disabled && (delete o["aria-selected"], o["aria-disabled"] = "true"), null == n.id && delete o["aria-selected"], null != n._resultId && (i.id = n._resultId), n.title && (i.title = n.title), n.children && (o.role = "group", o["aria-label"] = n.text, delete o["aria-selected"]), o) { var r = o[a]; i.setAttribute(a, r) } if (n.children) { var s = t(i), g = document.createElement("strong"); g.className = "select2-results__group", t(g), this.template(n, g); for (var l = [], c = 0; c < n.children.length; c++) { var I = n.children[c], u = this.option(I); l.push(u) } var h = t("<ul></ul>", { class: "select2-results__options select2-results__options--nested" }); h.append(l), s.append(g), s.append(h) } else this.template(n, i); return e.StoreData(i, "data", n), i }, n.prototype.bind = function (n, i) { var o = this, a = n.id + "-results"; this.$results.attr("id", a), n.on("results:all", function (t) { o.clear(), o.append(t.data), n.isOpen() && (o.setClasses(), o.highlightFirstItem()) }), n.on("results:append", function (t) { o.append(t.data), n.isOpen() && o.setClasses() }), n.on("query", function (t) { o.hideMessages(), o.showLoading(t) }), n.on("select", function () { n.isOpen() && (o.setClasses(), o.highlightFirstItem()) }), n.on("unselect", function () { n.isOpen() && (o.setClasses(), o.highlightFirstItem()) }), n.on("open", function () { o.$results.attr("aria-expanded", "true"), o.$results.attr("aria-hidden", "false"), o.setClasses(), o.ensureHighlightVisible() }), n.on("close", function () { o.$results.attr("aria-expanded", "false"), o.$results.attr("aria-hidden", "true"), o.$results.removeAttr("aria-activedescendant") }), n.on("results:toggle", function () { var t = o.getHighlightedResults(); 0 !== t.length && t.trigger("mouseup") }), n.on("results:select", function () { var t = o.getHighlightedResults(); if (0 !== t.length) { var n = e.GetData(t[0], "data"); "true" == t.attr("aria-selected") ? o.trigger("close", {}) : o.trigger("select", { data: n }) } }), n.on("results:previous", function () { var t = o.getHighlightedResults(), e = o.$results.find("[aria-selected]"), n = e.index(t); if (!(n <= 0)) { var i = n - 1; 0 === t.length && (i = 0); var a = e.eq(i); a.trigger("mouseenter"); var r = o.$results.offset().top, s = a.offset().top, g = o.$results.scrollTop() + (s - r); 0 === i ? o.$results.scrollTop(0) : s - r < 0 && o.$results.scrollTop(g) } }), n.on("results:next", function () { var t = o.getHighlightedResults(), e = o.$results.find("[aria-selected]"), n = e.index(t) + 1; if (!(n >= e.length)) { var i = e.eq(n); i.trigger("mouseenter"); var a = o.$results.offset().top + o.$results.outerHeight(!1), r = i.offset().top + i.outerHeight(!1), s = o.$results.scrollTop() + r - a; 0 === n ? o.$results.scrollTop(0) : a < r && o.$results.scrollTop(s) } }), n.on("results:focus", function (t) { t.element.addClass("select2-results__option--highlighted") }), n.on("results:message", function (t) { o.displayMessage(t) }), t.fn.mousewheel && this.$results.on("mousewheel", function (t) { var e = o.$results.scrollTop(), n = o.$results.get(0).scrollHeight - e + t.deltaY, i = 0 < t.deltaY && e - t.deltaY <= 0, a = t.deltaY < 0 && n <= o.$results.height(); i ? (o.$results.scrollTop(0), t.preventDefault(), t.stopPropagation()) : a && (o.$results.scrollTop(o.$results.get(0).scrollHeight - o.$results.height()), t.preventDefault(), t.stopPropagation()) }), this.$results.on("mouseup", ".select2-results__option[aria-selected]", function (n) { var i = t(this), a = e.GetData(this, "data"); "true" !== i.attr("aria-selected") ? o.trigger("select", { originalEvent: n, data: a }) : o.options.get("multiple") ? o.trigger("unselect", { originalEvent: n, data: a }) : o.trigger("close", {}) }), this.$results.on("mouseenter", ".select2-results__option[aria-selected]", function (n) { var i = e.GetData(this, "data"); o.getHighlightedResults().removeClass("select2-results__option--highlighted"), o.trigger("results:focus", { data: i, element: t(this) }) }) }, n.prototype.getHighlightedResults = function () { return this.$results.find(".select2-results__option--highlighted") }, n.prototype.destroy = function () { this.$results.remove() }, n.prototype.ensureHighlightVisible = function () { var t = this.getHighlightedResults(); if (0 !== t.length) { var e = this.$results.find("[aria-selected]").index(t), n = this.$results.offset().top, i = t.offset().top, o = this.$results.scrollTop() + (i - n), a = i - n; o -= 2 * t.outerHeight(!1), e <= 2 ? this.$results.scrollTop(0) : (a > this.$results.outerHeight() || a < 0) && this.$results.scrollTop(o) } }, n.prototype.template = function (e, n) { var i = this.options.get("templateResult"), o = this.options.get("escapeMarkup"), a = i(e, n); null == a ? n.style.display = "none" : "string" == typeof a ? n.innerHTML = o(a) : t(n).append(a) }, n }), e.define("select2/keys", [], function () { return { BACKSPACE: 8, TAB: 9, ENTER: 13, SHIFT: 16, CTRL: 17, ALT: 18, ESC: 27, SPACE: 32, PAGE_UP: 33, PAGE_DOWN: 34, END: 35, HOME: 36, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, DELETE: 46 } }), e.define("select2/selection/base", ["jquery", "../utils", "../keys"], function (t, e, n) { function i(t, e) { this.$element = t, this.options = e, i.__super__.constructor.call(this) } return e.Extend(i, e.Observable), i.prototype.render = function () { var n = t('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>'); return this._tabindex = 0, null != e.GetData(this.$element[0], "old-tabindex") ? this._tabindex = e.GetData(this.$element[0], "old-tabindex") : null != this.$element.attr("tabindex") && (this._tabindex = this.$element.attr("tabindex")), n.attr("title", this.$element.attr("title")), n.attr("tabindex", this._tabindex), this.$selection = n }, i.prototype.bind = function (t, e) { var i = this, o = (t.id, t.id + "-results"); this.container = t, this.$selection.on("focus", function (t) { i.trigger("focus", t) }), this.$selection.on("blur", function (t) { i._handleBlur(t) }), this.$selection.on("keydown", function (t) { i.trigger("keypress", t), t.which === n.SPACE && t.preventDefault() }), t.on("results:focus", function (t) { i.$selection.attr("aria-activedescendant", t.data._resultId) }), t.on("selection:update", function (t) { i.update(t.data) }), t.on("open", function () { i.$selection.attr("aria-expanded", "true"), i.$selection.attr("aria-owns", o), i._attachCloseHandler(t) }), t.on("close", function () { i.$selection.attr("aria-expanded", "false"), i.$selection.removeAttr("aria-activedescendant"), i.$selection.removeAttr("aria-owns"), i.$selection.focus(), window.setTimeout(function () { i.$selection.focus() }, 0), i._detachCloseHandler(t) }), t.on("enable", function () { i.$selection.attr("tabindex", i._tabindex) }), t.on("disable", function () { i.$selection.attr("tabindex", "-1") }) }, i.prototype._handleBlur = function (e) { var n = this; window.setTimeout(function () { document.activeElement == n.$selection[0] || t.contains(n.$selection[0], document.activeElement) || n.trigger("blur", e) }, 1) }, i.prototype._attachCloseHandler = function (n) { t(document.body).on("mousedown.select2." + n.id, function (n) { var i = t(n.target).closest(".select2"); t(".select2.select2-container--open").each(function () { t(this), this != i[0] && e.GetData(this, "element").select2("close") }) }) }, i.prototype._detachCloseHandler = function (e) { t(document.body).off("mousedown.select2." + e.id) }, i.prototype.position = function (t, e) { e.find(".selection").append(t) }, i.prototype.destroy = function () { this._detachCloseHandler(this.container) }, i.prototype.update = function (t) { throw new Error("The `update` method must be defined in child classes.") }, i }), e.define("select2/selection/single", ["jquery", "./base", "../utils", "../keys"], function (t, e, n, i) { function o() { o.__super__.constructor.apply(this, arguments) } return n.Extend(o, e), o.prototype.render = function () { var t = o.__super__.render.call(this); return t.addClass("select2-selection--single"), t.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'), t }, o.prototype.bind = function (t, e) { var n = this; o.__super__.bind.apply(this, arguments); var i = t.id + "-container"; this.$selection.find(".select2-selection__rendered").attr("id", i).attr("role", "textbox").attr("aria-readonly", "true"), this.$selection.attr("aria-labelledby", i), this.$selection.on("mousedown", function (t) { 1 === t.which && n.trigger("toggle", { originalEvent: t }) }), this.$selection.on("focus", function (t) { }), this.$selection.on("blur", function (t) { }), t.on("focus", function (e) { t.isOpen() || n.$selection.focus() }) }, o.prototype.clear = function () { var t = this.$selection.find(".select2-selection__rendered"); t.empty(), t.removeAttr("title") }, o.prototype.display = function (t, e) { var n = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(n(t, e)) }, o.prototype.selectionContainer = function () { return t("<span></span>") }, o.prototype.update = function (t) { if (0 !== t.length) { var e = t[0], n = this.$selection.find(".select2-selection__rendered"), i = this.display(e, n); n.empty().append(i), n.attr("title", e.title || e.text) } else this.clear() }, o }), e.define("select2/selection/multiple", ["jquery", "./base", "../utils"], function (t, e, n) { function i(t, e) { i.__super__.constructor.apply(this, arguments) } return n.Extend(i, e), i.prototype.render = function () { var t = i.__super__.render.call(this); return t.addClass("select2-selection--multiple"), t.html('<ul class="select2-selection__rendered"></ul>'), t }, i.prototype.bind = function (e, o) { var a = this; i.__super__.bind.apply(this, arguments), this.$selection.on("click", function (t) { a.trigger("toggle", { originalEvent: t }) }), this.$selection.on("click", ".select2-selection__choice__remove", function (e) { if (!a.options.get("disabled")) { var i = t(this).parent(), o = n.GetData(i[0], "data"); a.trigger("unselect", { originalEvent: e, data: o }) } }) }, i.prototype.clear = function () { var t = this.$selection.find(".select2-selection__rendered"); t.empty(), t.removeAttr("title") }, i.prototype.display = function (t, e) { var n = this.options.get("templateSelection"); return this.options.get("escapeMarkup")(n(t, e)) }, i.prototype.selectionContainer = function () { return t('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>') }, i.prototype.update = function (t) { if (this.clear(), 0 !== t.length) { for (var e = [], i = 0; i < t.length; i++) { var o = t[i], a = this.selectionContainer(), r = this.display(o, a); a.append(r), a.attr("title", o.title || o.text), n.StoreData(a[0], "data", o), e.push(a) } var s = this.$selection.find(".select2-selection__rendered"); n.appendMany(s, e) } }, i }), e.define("select2/selection/placeholder", ["../utils"], function (t) { function e(t, e, n) { this.placeholder = this.normalizePlaceholder(n.get("placeholder")), t.call(this, e, n) } return e.prototype.normalizePlaceholder = function (t, e) { return "string" == typeof e && (e = { id: "", text: e }), e }, e.prototype.createPlaceholder = function (t, e) { var n = this.selectionContainer(); return n.html(this.display(e)), n.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"), n }, e.prototype.update = function (t, e) { var n = 1 == e.length && e[0].id != this.placeholder.id; if (1 < e.length || n) return t.call(this, e); this.clear(); var i = this.createPlaceholder(this.placeholder); this.$selection.find(".select2-selection__rendered").append(i) }, e }), e.define("select2/selection/allowClear", ["jquery", "../keys", "../utils"], function (t, e, n) { function i() { } return i.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), null == this.placeholder && this.options.get("debug") && window.console && console.error && console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."), this.$selection.on("mousedown", ".select2-selection__clear", function (t) { i._handleClear(t) }), e.on("keypress", function (t) { i._handleKeyboardClear(t, e) }) }, i.prototype._handleClear = function (t, e) { if (!this.options.get("disabled")) { var i = this.$selection.find(".select2-selection__clear"); if (0 !== i.length) { e.stopPropagation(); var o = n.GetData(i[0], "data"), a = this.$element.val(); this.$element.val(this.placeholder.id); var r = { data: o }; if (this.trigger("clear", r), r.prevented) this.$element.val(a); else { for (var s = 0; s < o.length; s++)if (r = { data: o[s] }, this.trigger("unselect", r), r.prevented) return void this.$element.val(a); this.$element.trigger("change"), this.trigger("toggle", {}) } } } }, i.prototype._handleKeyboardClear = function (t, n, i) { i.isOpen() || n.which != e.DELETE && n.which != e.BACKSPACE || this._handleClear(n) }, i.prototype.update = function (e, i) { if (e.call(this, i), !(0 < this.$selection.find(".select2-selection__placeholder").length || 0 === i.length)) { var o = t('<span class="select2-selection__clear">&times;</span>'); n.StoreData(o[0], "data", i), this.$selection.find(".select2-selection__rendered").prepend(o) } }, i }), e.define("select2/selection/search", ["jquery", "../utils", "../keys"], function (t, e, n) { function i(t, e, n) { t.call(this, e, n) } return i.prototype.render = function (e) { var n = t('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>'); this.$searchContainer = n, this.$search = n.find("input"); var i = e.call(this); return this._transferTabIndex(), i }, i.prototype.bind = function (t, i, o) { var a = this; t.call(this, i, o), i.on("open", function () { a.$search.trigger("focus") }), i.on("close", function () { a.$search.val(""), a.$search.removeAttr("aria-activedescendant"), a.$search.trigger("focus") }), i.on("enable", function () { a.$search.prop("disabled", !1), a._transferTabIndex() }), i.on("disable", function () { a.$search.prop("disabled", !0) }), i.on("focus", function (t) { a.$search.trigger("focus") }), i.on("results:focus", function (t) { a.$search.attr("aria-activedescendant", t.id) }), this.$selection.on("focusin", ".select2-search--inline", function (t) { a.trigger("focus", t) }), this.$selection.on("focusout", ".select2-search--inline", function (t) { a._handleBlur(t) }), this.$selection.on("keydown", ".select2-search--inline", function (t) { if (t.stopPropagation(), a.trigger("keypress", t), a._keyUpPrevented = t.isDefaultPrevented(), t.which === n.BACKSPACE && "" === a.$search.val()) { var i = a.$searchContainer.prev(".select2-selection__choice"); if (0 < i.length) { var o = e.GetData(i[0], "data"); a.searchRemoveChoice(o), t.preventDefault() } } }); var r = document.documentMode, s = r && r <= 11; this.$selection.on("input.searchcheck", ".select2-search--inline", function (t) { s ? a.$selection.off("input.search input.searchcheck") : a.$selection.off("keyup.search") }), this.$selection.on("keyup.search input.search", ".select2-search--inline", function (t) { if (s && "input" === t.type) a.$selection.off("input.search input.searchcheck"); else { var e = t.which; e != n.SHIFT && e != n.CTRL && e != n.ALT && e != n.TAB && a.handleSearch(t) } }) }, i.prototype._transferTabIndex = function (t) { this.$search.attr("tabindex", this.$selection.attr("tabindex")), this.$selection.attr("tabindex", "-1") }, i.prototype.createPlaceholder = function (t, e) { this.$search.attr("placeholder", e.text) }, i.prototype.update = function (t, e) { var n = this.$search[0] == document.activeElement; this.$search.attr("placeholder", ""), t.call(this, e), this.$selection.find(".select2-selection__rendered").append(this.$searchContainer), this.resizeSearch(), n && (this.$element.find("[data-select2-tag]").length ? this.$element.focus() : this.$search.focus()) }, i.prototype.handleSearch = function () { if (this.resizeSearch(), !this._keyUpPrevented) { var t = this.$search.val(); this.trigger("query", { term: t }) } this._keyUpPrevented = !1 }, i.prototype.searchRemoveChoice = function (t, e) { this.trigger("unselect", { data: e }), this.$search.val(e.text), this.handleSearch() }, i.prototype.resizeSearch = function () { this.$search.css("width", "25px"); var t = ""; t = "" !== this.$search.attr("placeholder") ? this.$selection.find(".select2-selection__rendered").innerWidth() : .75 * (this.$search.val().length + 1) + "em", this.$search.css("width", t) }, i }), e.define("select2/selection/eventRelay", ["jquery"], function (t) { function e() { } return e.prototype.bind = function (e, n, i) { var o = this, a = ["open", "opening", "close", "closing", "select", "selecting", "unselect", "unselecting", "clear", "clearing"], r = ["opening", "closing", "selecting", "unselecting", "clearing"]; e.call(this, n, i), n.on("*", function (e, n) { if (-1 !== t.inArray(e, a)) { n = n || {}; var i = t.Event("select2:" + e, { params: n }); o.$element.trigger(i), -1 !== t.inArray(e, r) && (n.prevented = i.isDefaultPrevented()) } }) }, e }), e.define("select2/translation", ["jquery", "require"], function (t, e) { function n(t) { this.dict = t || {} } return n.prototype.all = function () { return this.dict }, n.prototype.get = function (t) { return this.dict[t] }, n.prototype.extend = function (e) { this.dict = t.extend({}, e.all(), this.dict) }, n._cache = {}, n.loadPath = function (t) { if (!(t in n._cache)) { var i = e(t); n._cache[t] = i } return new n(n._cache[t]) }, n }), e.define("select2/diacritics", [], function () { return { "â¶": "A", "ï¼¡": "A", "Ã": "A", "Ã": "A", "Ã": "A", "áº¦": "A", "áº¤": "A", "áºª": "A", "áº¨": "A", "Ã": "A", "Ä": "A", "Ä": "A", "áº°": "A", "áº®": "A", "áº´": "A", "áº²": "A", "È¦": "A", "Ç ": "A", "Ã": "A", "Ç": "A", "áº¢": "A", "Ã": "A", "Çº": "A", "Ç": "A", "È": "A", "È": "A", "áº ": "A", "áº¬": "A", "áº¶": "A", "á¸": "A", "Ä": "A", "Èº": "A", "â±¯": "A", "ê²": "AA", "Ã": "AE", "Ç¼": "AE", "Ç¢": "AE", "ê´": "AO", "ê¶": "AU", "ê¸": "AV", "êº": "AV", "ê¼": "AY", "â·": "B", "ï¼¢": "B", "á¸": "B", "á¸": "B", "á¸": "B", "É": "B", "Æ": "B", "Æ": "B", "â¸": "C", "ï¼£": "C", "Ä": "C", "Ä": "C", "Ä": "C", "Ä": "C", "Ã": "C", "á¸": "C", "Æ": "C", "È»": "C", "ê¾": "C", "â¹": "D", "ï¼¤": "D", "á¸": "D", "Ä": "D", "á¸": "D", "á¸": "D", "á¸": "D", "á¸": "D", "Ä": "D", "Æ": "D", "Æ": "D", "Æ": "D", "ê¹": "D", "Ç±": "DZ", "Ç": "DZ", "Ç²": "Dz", "Ç": "Dz", "âº": "E", "ï¼¥": "E", "Ã": "E", "Ã": "E", "Ã": "E", "á»": "E", "áº¾": "E", "á»": "E", "á»": "E", "áº¼": "E", "Ä": "E", "á¸": "E", "á¸": "E", "Ä": "E", "Ä": "E", "Ã": "E", "áºº": "E", "Ä": "E", "È": "E", "È": "E", "áº¸": "E", "á»": "E", "È¨": "E", "á¸": "E", "Ä": "E", "á¸": "E", "á¸": "E", "Æ": "E", "Æ": "E", "â»": "F", "ï¼¦": "F", "á¸": "F", "Æ": "F", "ê»": "F", "â¼": "G", "ï¼§": "G", "Ç´": "G", "Ä": "G", "á¸ ": "G", "Ä": "G", "Ä ": "G", "Ç¦": "G", "Ä¢": "G", "Ç¤": "G", "Æ": "G", "ê ": "G", "ê½": "G", "ê¾": "G", "â½": "H", "ï¼¨": "H", "Ä¤": "H", "á¸¢": "H", "á¸¦": "H", "È": "H", "á¸¤": "H", "á¸¨": "H", "á¸ª": "H", "Ä¦": "H", "â±§": "H", "â±µ": "H", "ê": "H", "â¾": "I", "ï¼©": "I", "Ã": "I", "Ã": "I", "Ã": "I", "Ä¨": "I", "Äª": "I", "Ä¬": "I", "Ä°": "I", "Ã": "I", "á¸®": "I", "á»": "I", "Ç": "I", "È": "I", "È": "I", "á»": "I", "Ä®": "I", "á¸¬": "I", "Æ": "I", "â¿": "J", "ï¼ª": "J", "Ä´": "J", "É": "J", "â": "K", "ï¼«": "K", "á¸°": "K", "Ç¨": "K", "á¸²": "K", "Ä¶": "K", "á¸´": "K", "Æ": "K", "â±©": "K", "ê": "K", "ê": "K", "ê": "K", "ê¢": "K", "â": "L", "ï¼¬": "L", "Ä¿": "L", "Ä¹": "L", "Ä½": "L", "á¸¶": "L", "á¸¸": "L", "Ä»": "L", "á¸¼": "L", "á¸º": "L", "Å": "L", "È½": "L", "â±¢": "L", "â± ": "L", "ê": "L", "ê": "L", "ê": "L", "Ç": "LJ", "Ç": "Lj", "â": "M", "ï¼­": "M", "á¸¾": "M", "á¹": "M", "á¹": "M", "â±®": "M", "Æ": "M", "â": "N", "ï¼®": "N", "Ç¸": "N", "Å": "N", "Ã": "N", "á¹": "N", "Å": "N", "á¹": "N", "Å": "N", "á¹": "N", "á¹": "N", "È ": "N", "Æ": "N", "ê": "N", "ê¤": "N", "Ç": "NJ", "Ç": "Nj", "â": "O", "ï¼¯": "O", "Ã": "O", "Ã": "O", "Ã": "O", "á»": "O", "á»": "O", "á»": "O", "á»": "O", "Ã": "O", "á¹": "O", "È¬": "O", "á¹": "O", "Å": "O", "á¹": "O", "á¹": "O", "Å": "O", "È®": "O", "È°": "O", "Ã": "O", "Èª": "O", "á»": "O", "Å": "O", "Ç": "O", "È": "O", "È": "O", "Æ ": "O", "á»": "O", "á»": "O", "á» ": "O", "á»": "O", "á»¢": "O", "á»": "O", "á»": "O", "Çª": "O", "Ç¬": "O", "Ã": "O", "Ç¾": "O", "Æ": "O", "Æ": "O", "ê": "O", "ê": "O", "Æ¢": "OI", "ê": "OO", "È¢": "OU", "â": "P", "ï¼°": "P", "á¹": "P", "á¹": "P", "Æ¤": "P", "â±£": "P", "ê": "P", "ê": "P", "ê": "P", "â": "Q", "ï¼±": "Q", "ê": "Q", "ê": "Q", "É": "Q", "â": "R", "ï¼²": "R", "Å": "R", "á¹": "R", "Å": "R", "È": "R", "È": "R", "á¹": "R", "á¹": "R", "Å": "R", "á¹": "R", "É": "R", "â±¤": "R", "ê": "R", "ê¦": "R", "ê": "R", "â": "S", "ï¼³": "S", "áº": "S", "Å": "S", "á¹¤": "S", "Å": "S", "á¹ ": "S", "Å ": "S", "á¹¦": "S", "á¹¢": "S", "á¹¨": "S", "È": "S", "Å": "S", "â±¾": "S", "ê¨": "S", "ê": "S", "â": "T", "ï¼´": "T", "á¹ª": "T", "Å¤": "T", "á¹¬": "T", "È": "T", "Å¢": "T", "á¹°": "T", "á¹®": "T", "Å¦": "T", "Æ¬": "T", "Æ®": "T", "È¾": "T", "ê": "T", "ê¨": "TZ", "â": "U", "ï¼µ": "U", "Ã": "U", "Ã": "U", "Ã": "U", "Å¨": "U", "á¹¸": "U", "Åª": "U", "á¹º": "U", "Å¬": "U", "Ã": "U", "Ç": "U", "Ç": "U", "Ç": "U", "Ç": "U", "á»¦": "U", "Å®": "U", "Å°": "U", "Ç": "U", "È": "U", "È": "U", "Æ¯": "U", "á»ª": "U", "á»¨": "U", "á»®": "U", "á»¬": "U", "á»°": "U", "á»¤": "U", "á¹²": "U", "Å²": "U", "á¹¶": "U", "á¹´": "U", "É": "U", "â": "V", "ï¼¶": "V", "á¹¼": "V", "á¹¾": "V", "Æ²": "V", "ê": "V", "É": "V", "ê ": "VY", "â": "W", "ï¼·": "W", "áº": "W", "áº": "W", "Å´": "W", "áº": "W", "áº": "W", "áº": "W", "â±²": "W", "â": "X", "ï¼¸": "X", "áº": "X", "áº": "X", "â": "Y", "ï¼¹": "Y", "á»²": "Y", "Ã": "Y", "Å¶": "Y", "á»¸": "Y", "È²": "Y", "áº": "Y", "Å¸": "Y", "á»¶": "Y", "á»´": "Y", "Æ³": "Y", "É": "Y", "á»¾": "Y", "â": "Z", "ï¼º": "Z", "Å¹": "Z", "áº": "Z", "Å»": "Z", "Å½": "Z", "áº": "Z", "áº": "Z", "Æµ": "Z", "È¤": "Z", "â±¿": "Z", "â±«": "Z", "ê¢": "Z", "â": "a", "ï½": "a", "áº": "a", "Ã ": "a", "Ã¡": "a", "Ã¢": "a", "áº§": "a", "áº¥": "a", "áº«": "a", "áº©": "a", "Ã£": "a", "Ä": "a", "Ä": "a", "áº±": "a", "áº¯": "a", "áºµ": "a", "áº³": "a", "È§": "a", "Ç¡": "a", "Ã¤": "a", "Ç": "a", "áº£": "a", "Ã¥": "a", "Ç»": "a", "Ç": "a", "È": "a", "È": "a", "áº¡": "a", "áº­": "a", "áº·": "a", "á¸": "a", "Ä": "a", "â±¥": "a", "É": "a", "ê³": "aa", "Ã¦": "ae", "Ç½": "ae", "Ç£": "ae", "êµ": "ao", "ê·": "au", "ê¹": "av", "ê»": "av", "ê½": "ay", "â": "b", "ï½": "b", "á¸": "b", "á¸": "b", "á¸": "b", "Æ": "b", "Æ": "b", "É": "b", "â": "c", "ï½": "c", "Ä": "c", "Ä": "c", "Ä": "c", "Ä": "c", "Ã§": "c", "á¸": "c", "Æ": "c", "È¼": "c", "ê¿": "c", "â": "c", "â": "d", "ï½": "d", "á¸": "d", "Ä": "d", "á¸": "d", "á¸": "d", "á¸": "d", "á¸": "d", "Ä": "d", "Æ": "d", "É": "d", "É": "d", "êº": "d", "Ç³": "dz", "Ç": "dz", "â": "e", "ï½": "e", "Ã¨": "e", "Ã©": "e", "Ãª": "e", "á»": "e", "áº¿": "e", "á»": "e", "á»": "e", "áº½": "e", "Ä": "e", "á¸": "e", "á¸": "e", "Ä": "e", "Ä": "e", "Ã«": "e", "áº»": "e", "Ä": "e", "È": "e", "È": "e", "áº¹": "e", "á»": "e", "È©": "e", "á¸": "e", "Ä": "e", "á¸": "e", "á¸": "e", "É": "e", "É": "e", "Ç": "e", "â": "f", "ï½": "f", "á¸": "f", "Æ": "f", "ê¼": "f", "â": "g", "ï½": "g", "Çµ": "g", "Ä": "g", "á¸¡": "g", "Ä": "g", "Ä¡": "g", "Ç§": "g", "Ä£": "g", "Ç¥": "g", "É ": "g", "ê¡": "g", "áµ¹": "g", "ê¿": "g", "â": "h", "ï½": "h", "Ä¥": "h", "á¸£": "h", "á¸§": "h", "È": "h", "á¸¥": "h", "á¸©": "h", "á¸«": "h", "áº": "h", "Ä§": "h", "â±¨": "h", "â±¶": "h", "É¥": "h", "Æ": "hv", "â": "i", "ï½": "i", "Ã¬": "i", "Ã­": "i", "Ã®": "i", "Ä©": "i", "Ä«": "i", "Ä­": "i", "Ã¯": "i", "á¸¯": "i", "á»": "i", "Ç": "i", "È": "i", "È": "i", "á»": "i", "Ä¯": "i", "á¸­": "i", "É¨": "i", "Ä±": "i", "â": "j", "ï½": "j", "Äµ": "j", "Ç°": "j", "É": "j", "â": "k", "ï½": "k", "á¸±": "k", "Ç©": "k", "á¸³": "k", "Ä·": "k", "á¸µ": "k", "Æ": "k", "â±ª": "k", "ê": "k", "ê": "k", "ê": "k", "ê£": "k", "â": "l", "ï½": "l", "Å": "l", "Äº": "l", "Ä¾": "l", "á¸·": "l", "á¸¹": "l", "Ä¼": "l", "á¸½": "l", "á¸»": "l", "Å¿": "l", "Å": "l", "Æ": "l", "É«": "l", "â±¡": "l", "ê": "l", "ê": "l", "ê": "l", "Ç": "lj", "â": "m", "ï½": "m", "á¸¿": "m", "á¹": "m", "á¹": "m", "É±": "m", "É¯": "m", "â": "n", "ï½": "n", "Ç¹": "n", "Å": "n", "Ã±": "n", "á¹": "n", "Å": "n", "á¹": "n", "Å": "n", "á¹": "n", "á¹": "n", "Æ": "n", "É²": "n", "Å": "n", "ê": "n", "ê¥": "n", "Ç": "nj", "â": "o", "ï½": "o", "Ã²": "o", "Ã³": "o", "Ã´": "o", "á»": "o", "á»": "o", "á»": "o", "á»": "o", "Ãµ": "o", "á¹": "o", "È­": "o", "á¹": "o", "Å": "o", "á¹": "o", "á¹": "o", "Å": "o", "È¯": "o", "È±": "o", "Ã¶": "o", "È«": "o", "á»": "o", "Å": "o", "Ç": "o", "È": "o", "È": "o", "Æ¡": "o", "á»": "o", "á»": "o", "á»¡": "o", "á»": "o", "á»£": "o", "á»": "o", "á»": "o", "Ç«": "o", "Ç­": "o", "Ã¸": "o", "Ç¿": "o", "É": "o", "ê": "o", "ê": "o", "Éµ": "o", "Æ£": "oi", "È£": "ou", "ê": "oo", "â": "p", "ï½": "p", "á¹": "p", "á¹": "p", "Æ¥": "p", "áµ½": "p", "ê": "p", "ê": "p", "ê": "p", "â ": "q", "ï½": "q", "É": "q", "ê": "q", "ê": "q", "â¡": "r", "ï½": "r", "Å": "r", "á¹": "r", "Å": "r", "È": "r", "È": "r", "á¹": "r", "á¹": "r", "Å": "r", "á¹": "r", "É": "r", "É½": "r", "ê": "r", "ê§": "r", "ê": "r", "â¢": "s", "ï½": "s", "Ã": "s", "Å": "s", "á¹¥": "s", "Å": "s", "á¹¡": "s", "Å¡": "s", "á¹§": "s", "á¹£": "s", "á¹©": "s", "È": "s", "Å": "s", "È¿": "s", "ê©": "s", "ê": "s", "áº": "s", "â£": "t", "ï½": "t", "á¹«": "t", "áº": "t", "Å¥": "t", "á¹­": "t", "È": "t", "Å£": "t", "á¹±": "t", "á¹¯": "t", "Å§": "t", "Æ­": "t", "Ê": "t", "â±¦": "t", "ê": "t", "ê©": "tz", "â¤": "u", "ï½": "u", "Ã¹": "u", "Ãº": "u", "Ã»": "u", "Å©": "u", "á¹¹": "u", "Å«": "u", "á¹»": "u", "Å­": "u", "Ã¼": "u", "Ç": "u", "Ç": "u", "Ç": "u", "Ç": "u", "á»§": "u", "Å¯": "u", "Å±": "u", "Ç": "u", "È": "u", "È": "u", "Æ°": "u", "á»«": "u", "á»©": "u", "á»¯": "u", "á»­": "u", "á»±": "u", "á»¥": "u", "á¹³": "u", "Å³": "u", "á¹·": "u", "á¹µ": "u", "Ê": "u", "â¥": "v", "ï½": "v", "á¹½": "v", "á¹¿": "v", "Ê": "v", "ê": "v", "Ê": "v", "ê¡": "vy", "â¦": "w", "ï½": "w", "áº": "w", "áº": "w", "Åµ": "w", "áº": "w", "áº": "w", "áº": "w", "áº": "w", "â±³": "w", "â§": "x", "ï½": "x", "áº": "x", "áº": "x", "â¨": "y", "ï½": "y", "á»³": "y", "Ã½": "y", "Å·": "y", "á»¹": "y", "È³": "y", "áº": "y", "Ã¿": "y", "á»·": "y", "áº": "y", "á»µ": "y", "Æ´": "y", "É": "y", "á»¿": "y", "â©": "z", "ï½": "z", "Åº": "z", "áº": "z", "Å¼": "z", "Å¾": "z", "áº": "z", "áº": "z", "Æ¶": "z", "È¥": "z", "É": "z", "â±¬": "z", "ê£": "z", "Î": "Î", "Î": "Î", "Î": "Î", "Î": "Î", "Îª": "Î", "Î": "Î", "Î": "Î¥", "Î«": "Î¥", "Î": "Î©", "Î¬": "Î±", "Î­": "Îµ", "Î®": "Î·", "Î¯": "Î¹", "Ï": "Î¹", "Î": "Î¹", "Ï": "Î¿", "Ï": "Ï", "Ï": "Ï", "Î°": "Ï", "Ï": "Ï", "Ï": "Ï" } }), e.define("select2/data/base", ["../utils"], function (t) { function e(t, n) { e.__super__.constructor.call(this) } return t.Extend(e, t.Observable), e.prototype.current = function (t) { throw new Error("The `current` method must be defined in child classes.") }, e.prototype.query = function (t, e) { throw new Error("The `query` method must be defined in child classes.") }, e.prototype.bind = function (t, e) { }, e.prototype.destroy = function () { }, e.prototype.generateResultId = function (e, n) { var i = e.id + "-result-"; return i += t.generateChars(4), null != n.id ? i += "-" + n.id.toString() : i += "-" + t.generateChars(4), i }, e }), e.define("select2/data/select", ["./base", "../utils", "jquery"], function (t, e, n) { function i(t, e) { this.$element = t, this.options = e, i.__super__.constructor.call(this) } return e.Extend(i, t), i.prototype.current = function (t) { var e = [], i = this; this.$element.find(":selected").each(function () { var t = n(this), o = i.item(t); e.push(o) }), t(e) }, i.prototype.select = function (t) { var e = this; if (t.selected = !0, n(t.element).is("option")) return t.element.selected = !0, void this.$element.trigger("change"); if (this.$element.prop("multiple")) this.current(function (i) { var o = []; (t = [t]).push.apply(t, i); for (var a = 0; a < t.length; a++) { var r = t[a].id; -1 === n.inArray(r, o) && o.push(r) } e.$element.val(o), e.$element.trigger("change") }); else { var i = t.id; this.$element.val(i), this.$element.trigger("change") } }, i.prototype.unselect = function (t) { var e = this; if (this.$element.prop("multiple")) { if (t.selected = !1, n(t.element).is("option")) return t.element.selected = !1, void this.$element.trigger("change"); this.current(function (i) { for (var o = [], a = 0; a < i.length; a++) { var r = i[a].id; r !== t.id && -1 === n.inArray(r, o) && o.push(r) } e.$element.val(o), e.$element.trigger("change") }) } }, i.prototype.bind = function (t, e) { var n = this; (this.container = t).on("select", function (t) { n.select(t.data) }), t.on("unselect", function (t) { n.unselect(t.data) }) }, i.prototype.destroy = function () { this.$element.find("*").each(function () { e.RemoveData(this) }) }, i.prototype.query = function (t, e) { var i = [], o = this; this.$element.children().each(function () { var e = n(this); if (e.is("option") || e.is("optgroup")) { var a = o.item(e), r = o.matches(t, a); null !== r && i.push(r) } }), e({ results: i }) }, i.prototype.addOptions = function (t) { e.appendMany(this.$element, t) }, i.prototype.option = function (t) { var i; t.children ? (i = document.createElement("optgroup")).label = t.text : void 0 !== (i = document.createElement("option")).textContent ? i.textContent = t.text : i.innerText = t.text, void 0 !== t.id && (i.value = t.id), t.disabled && (i.disabled = !0), t.selected && (i.selected = !0), t.title && (i.title = t.title); var o = n(i), a = this._normalizeItem(t); return a.element = i, e.StoreData(i, "data", a), o }, i.prototype.item = function (t) { var i = {}; if (null != (i = e.GetData(t[0], "data"))) return i; if (t.is("option")) i = { id: t.val(), text: t.text(), disabled: t.prop("disabled"), selected: t.prop("selected"), title: t.prop("title") }; else if (t.is("optgroup")) { i = { text: t.prop("label"), children: [], title: t.prop("title") }; for (var o = t.children("option"), a = [], r = 0; r < o.length; r++) { var s = n(o[r]), g = this.item(s); a.push(g) } i.children = a } return (i = this._normalizeItem(i)).element = t[0], e.StoreData(t[0], "data", i), i }, i.prototype._normalizeItem = function (t) { return t !== Object(t) && (t = { id: t, text: t }), null != (t = n.extend({}, { text: "" }, t)).id && (t.id = t.id.toString()), null != t.text && (t.text = t.text.toString()), null == t._resultId && t.id && null != this.container && (t._resultId = this.generateResultId(this.container, t)), n.extend({}, { selected: !1, disabled: !1 }, t) }, i.prototype.matches = function (t, e) { return this.options.get("matcher")(t, e) }, i }), e.define("select2/data/array", ["./select", "../utils", "jquery"], function (t, e, n) { function i(t, e) { var n = e.get("data") || []; i.__super__.constructor.call(this, t, e), this.addOptions(this.convertToOptions(n)) } return e.Extend(i, t), i.prototype.select = function (t) { var e = this.$element.find("option").filter(function (e, n) { return n.value == t.id.toString() }); 0 === e.length && (e = this.option(t), this.addOptions(e)), i.__super__.select.call(this, t) }, i.prototype.convertToOptions = function (t) { var i = this, o = this.$element.find("option"), a = o.map(function () { return i.item(n(this)).id }).get(), r = []; function s(t) { return function () { return n(this).val() == t.id } } for (var g = 0; g < t.length; g++) { var l = this._normalizeItem(t[g]); if (0 <= n.inArray(l.id, a)) { var c = o.filter(s(l)), I = this.item(c), u = n.extend(!0, {}, l, I), h = this.option(u); c.replaceWith(h) } else { var d = this.option(l); if (l.children) { var C = this.convertToOptions(l.children); e.appendMany(d, C) } r.push(d) } } return r }, i }), e.define("select2/data/ajax", ["./array", "../utils", "jquery"], function (t, e, n) { function i(t, e) { this.ajaxOptions = this._applyDefaults(e.get("ajax")), null != this.ajaxOptions.processResults && (this.processResults = this.ajaxOptions.processResults), i.__super__.constructor.call(this, t, e) } return e.Extend(i, t), i.prototype._applyDefaults = function (t) { var e = { data: function (t) { return n.extend({}, t, { q: t.term }) }, transport: function (t, e, i) { var o = n.ajax(t); return o.then(e), o.fail(i), o } }; return n.extend({}, e, t, !0) }, i.prototype.processResults = function (t) { return t }, i.prototype.query = function (t, e) { var i = this; null != this._request && (n.isFunction(this._request.abort) && this._request.abort(), this._request = null); var o = n.extend({ type: "GET" }, this.ajaxOptions); function a() { var a = o.transport(o, function (o) { var a = i.processResults(o, t); i.options.get("debug") && window.console && console.error && (a && a.results && n.isArray(a.results) || console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")), e(a) }, function () { "status" in a && (0 === a.status || "0" === a.status) || i.trigger("results:message", { message: "errorLoading" }) }); i._request = a } "function" == typeof o.url && (o.url = o.url.call(this.$element, t)), "function" == typeof o.data && (o.data = o.data.call(this.$element, t)), this.ajaxOptions.delay && null != t.term ? (this._queryTimeout && window.clearTimeout(this._queryTimeout), this._queryTimeout = window.setTimeout(a, this.ajaxOptions.delay)) : a() }, i }), e.define("select2/data/tags", ["jquery"], function (t) { function e(e, n, i) { var o = i.get("tags"), a = i.get("createTag"); void 0 !== a && (this.createTag = a); var r = i.get("insertTag"); if (void 0 !== r && (this.insertTag = r), e.call(this, n, i), t.isArray(o)) for (var s = 0; s < o.length; s++) { var g = o[s], l = this._normalizeItem(g), c = this.option(l); this.$element.append(c) } } return e.prototype.query = function (t, e, n) { var i = this; this._removeOldTags(), null != e.term && null == e.page ? t.call(this, e, function t(o, a) { for (var r = o.results, s = 0; s < r.length; s++) { var g = r[s], l = null != g.children && !t({ results: g.children }, !0); if ((g.text || "").toUpperCase() === (e.term || "").toUpperCase() || l) return !a && (o.data = r, void n(o)) } if (a) return !0; var c = i.createTag(e); if (null != c) { var I = i.option(c); I.attr("data-select2-tag", !0), i.addOptions([I]), i.insertTag(r, c) } o.results = r, n(o) }) : t.call(this, e, n) }, e.prototype.createTag = function (e, n) { var i = t.trim(n.term); return "" === i ? null : { id: i, text: i } }, e.prototype.insertTag = function (t, e, n) { e.unshift(n) }, e.prototype._removeOldTags = function (e) { this._lastTag, this.$element.find("option[data-select2-tag]").each(function () { this.selected || t(this).remove() }) }, e }), e.define("select2/data/tokenizer", ["jquery"], function (t) { function e(t, e, n) { var i = n.get("tokenizer"); void 0 !== i && (this.tokenizer = i), t.call(this, e, n) } return e.prototype.bind = function (t, e, n) { t.call(this, e, n), this.$search = e.dropdown.$search || e.selection.$search || n.find(".select2-search__field") }, e.prototype.query = function (e, n, i) { var o = this; n.term = n.term || ""; var a = this.tokenizer(n, this.options, function (e) { var n = o._normalizeItem(e); if (!o.$element.find("option").filter(function () { return t(this).val() === n.id }).length) { var i = o.option(n); i.attr("data-select2-tag", !0), o._removeOldTags(), o.addOptions([i]) } !function (t) { o.trigger("select", { data: t }) }(n) }); a.term !== n.term && (this.$search.length && (this.$search.val(a.term), this.$search.focus()), n.term = a.term), e.call(this, n, i) }, e.prototype.tokenizer = function (e, n, i, o) { for (var a = i.get("tokenSeparators") || [], r = n.term, s = 0, g = this.createTag || function (t) { return { id: t.term, text: t.term } }; s < r.length;) { var l = r[s]; if (-1 !== t.inArray(l, a)) { var c = r.substr(0, s), I = g(t.extend({}, n, { term: c })); null != I ? (o(I), r = r.substr(s + 1) || "", s = 0) : s++ } else s++ } return { term: r } }, e }), e.define("select2/data/minimumInputLength", [], function () { function t(t, e, n) { this.minimumInputLength = n.get("minimumInputLength"), t.call(this, e, n) } return t.prototype.query = function (t, e, n) { e.term = e.term || "", e.term.length < this.minimumInputLength ? this.trigger("results:message", { message: "inputTooShort", args: { minimum: this.minimumInputLength, input: e.term, params: e } }) : t.call(this, e, n) }, t }), e.define("select2/data/maximumInputLength", [], function () { function t(t, e, n) { this.maximumInputLength = n.get("maximumInputLength"), t.call(this, e, n) } return t.prototype.query = function (t, e, n) { e.term = e.term || "", 0 < this.maximumInputLength && e.term.length > this.maximumInputLength ? this.trigger("results:message", { message: "inputTooLong", args: { maximum: this.maximumInputLength, input: e.term, params: e } }) : t.call(this, e, n) }, t }), e.define("select2/data/maximumSelectionLength", [], function () { function t(t, e, n) { this.maximumSelectionLength = n.get("maximumSelectionLength"), t.call(this, e, n) } return t.prototype.query = function (t, e, n) { var i = this; this.current(function (o) { var a = null != o ? o.length : 0; 0 < i.maximumSelectionLength && a >= i.maximumSelectionLength ? i.trigger("results:message", { message: "maximumSelected", args: { maximum: i.maximumSelectionLength } }) : t.call(i, e, n) }) }, t }), e.define("select2/dropdown", ["jquery", "./utils"], function (t, e) { function n(t, e) { this.$element = t, this.options = e, n.__super__.constructor.call(this) } return e.Extend(n, e.Observable), n.prototype.render = function () { var e = t('<span class="select2-dropdown"><span class="select2-results"></span></span>'); return e.attr("dir", this.options.get("dir")), this.$dropdown = e }, n.prototype.bind = function () { }, n.prototype.position = function (t, e) { }, n.prototype.destroy = function () { this.$dropdown.remove() }, n }), e.define("select2/dropdown/search", ["jquery", "../utils"], function (t, e) { function n() { } return n.prototype.render = function (e) { var n = e.call(this), i = t('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>'); return this.$searchContainer = i, this.$search = i.find("input"), n.prepend(i), n }, n.prototype.bind = function (e, n, i) { var o = this; e.call(this, n, i), this.$search.on("keydown", function (t) { o.trigger("keypress", t), o._keyUpPrevented = t.isDefaultPrevented() }), this.$search.on("input", function (e) { t(this).off("keyup") }), this.$search.on("keyup input", function (t) { o.handleSearch(t) }), n.on("open", function () { o.$search.attr("tabindex", 0), o.$search.focus(), window.setTimeout(function () { o.$search.focus() }, 0) }), n.on("close", function () { o.$search.attr("tabindex", -1), o.$search.val(""), o.$search.blur() }), n.on("focus", function () { n.isOpen() || o.$search.focus() }), n.on("results:all", function (t) { null != t.query.term && "" !== t.query.term || (o.showSearch(t) ? o.$searchContainer.removeClass("select2-search--hide") : o.$searchContainer.addClass("select2-search--hide")) }) }, n.prototype.handleSearch = function (t) { if (!this._keyUpPrevented) { var e = this.$search.val(); this.trigger("query", { term: e }) } this._keyUpPrevented = !1 }, n.prototype.showSearch = function (t, e) { return !0 }, n }), e.define("select2/dropdown/hidePlaceholder", [], function () { function t(t, e, n, i) { this.placeholder = this.normalizePlaceholder(n.get("placeholder")), t.call(this, e, n, i) } return t.prototype.append = function (t, e) { e.results = this.removePlaceholder(e.results), t.call(this, e) }, t.prototype.normalizePlaceholder = function (t, e) { return "string" == typeof e && (e = { id: "", text: e }), e }, t.prototype.removePlaceholder = function (t, e) { for (var n = e.slice(0), i = e.length - 1; 0 <= i; i--) { var o = e[i]; this.placeholder.id === o.id && n.splice(i, 1) } return n }, t }), e.define("select2/dropdown/infiniteScroll", ["jquery"], function (t) { function e(t, e, n, i) { this.lastParams = {}, t.call(this, e, n, i), this.$loadingMore = this.createLoadingMore(), this.loading = !1 } return e.prototype.append = function (t, e) { this.$loadingMore.remove(), this.loading = !1, t.call(this, e), this.showLoadingMore(e) && this.$results.append(this.$loadingMore) }, e.prototype.bind = function (e, n, i) { var o = this; e.call(this, n, i), n.on("query", function (t) { o.lastParams = t, o.loading = !0 }), n.on("query:append", function (t) { o.lastParams = t, o.loading = !0 }), this.$results.on("scroll", function () { var e = t.contains(document.documentElement, o.$loadingMore[0]); if (!o.loading && e) { var n = o.$results.offset().top + o.$results.outerHeight(!1); o.$loadingMore.offset().top + o.$loadingMore.outerHeight(!1) <= n + 50 && o.loadMore() } }) }, e.prototype.loadMore = function () { this.loading = !0; var e = t.extend({}, { page: 1 }, this.lastParams); e.page++, this.trigger("query:append", e) }, e.prototype.showLoadingMore = function (t, e) { return e.pagination && e.pagination.more }, e.prototype.createLoadingMore = function () { var e = t('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'), n = this.options.get("translations").get("loadingMore"); return e.html(n(this.lastParams)), e }, e }), e.define("select2/dropdown/attachBody", ["jquery", "../utils"], function (t, e) { function n(e, n, i) { this.$dropdownParent = i.get("dropdownParent") || t(document.body), e.call(this, n, i) } return n.prototype.bind = function (t, e, n) { var i = this, o = !1; t.call(this, e, n), e.on("open", function () { i._showDropdown(), i._attachPositioningHandler(e), o || (o = !0, e.on("results:all", function () { i._positionDropdown(), i._resizeDropdown() }), e.on("results:append", function () { i._positionDropdown(), i._resizeDropdown() })) }), e.on("close", function () { i._hideDropdown(), i._detachPositioningHandler(e) }), this.$dropdownContainer.on("mousedown", function (t) { t.stopPropagation() }) }, n.prototype.destroy = function (t) { t.call(this), this.$dropdownContainer.remove() }, n.prototype.position = function (t, e, n) { e.attr("class", n.attr("class")), e.removeClass("select2"), e.addClass("select2-container--open"), e.css({ position: "absolute", top: -999999 }), this.$container = n }, n.prototype.render = function (e) { var n = t("<span></span>"), i = e.call(this); return n.append(i), this.$dropdownContainer = n }, n.prototype._hideDropdown = function (t) { this.$dropdownContainer.detach() }, n.prototype._attachPositioningHandler = function (n, i) { var o = this, a = "scroll.select2." + i.id, r = "resize.select2." + i.id, s = "orientationchange.select2." + i.id, g = this.$container.parents().filter(e.hasScroll); g.each(function () { e.StoreData(this, "select2-scroll-position", { x: t(this).scrollLeft(), y: t(this).scrollTop() }) }), g.on(a, function (n) { var i = e.GetData(this, "select2-scroll-position"); t(this).scrollTop(i.y) }), t(window).on(a + " " + r + " " + s, function (t) { o._positionDropdown(), o._resizeDropdown() }) }, n.prototype._detachPositioningHandler = function (n, i) { var o = "scroll.select2." + i.id, a = "resize.select2." + i.id, r = "orientationchange.select2." + i.id; this.$container.parents().filter(e.hasScroll).off(o), t(window).off(o + " " + a + " " + r) }, n.prototype._positionDropdown = function () { var e = t(window), n = this.$dropdown.hasClass("select2-dropdown--above"), i = this.$dropdown.hasClass("select2-dropdown--below"), o = null, a = this.$container.offset(); a.bottom = a.top + this.$container.outerHeight(!1); var r = { height: this.$container.outerHeight(!1) }; r.top = a.top, r.bottom = a.top + r.height; var s = this.$dropdown.outerHeight(!1), g = e.scrollTop(), l = e.scrollTop() + e.height(), c = g < a.top - s, I = l > a.bottom + s, u = { left: a.left, top: r.bottom }, h = this.$dropdownParent; "static" === h.css("position") && (h = h.offsetParent()); var d = h.offset(); u.top -= d.top, u.left -= d.left, n || i || (o = "below"), I || !c || n ? !c && I && n && (o = "below") : o = "above", ("above" == o || n && "below" !== o) && (u.top = r.top - d.top - s), null != o && (this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--" + o), this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--" + o)), this.$dropdownContainer.css(u) }, n.prototype._resizeDropdown = function () { var t = { width: this.$container.outerWidth(!1) + "px" }; this.options.get("dropdownAutoWidth") && (t.minWidth = t.width, t.position = "relative", t.width = "auto"), this.$dropdown.css(t) }, n.prototype._showDropdown = function (t) { this.$dropdownContainer.appendTo(this.$dropdownParent), this._positionDropdown(), this._resizeDropdown() }, n }), e.define("select2/dropdown/minimumResultsForSearch", [], function () { function t(t, e, n, i) { this.minimumResultsForSearch = n.get("minimumResultsForSearch"), this.minimumResultsForSearch < 0 && (this.minimumResultsForSearch = 1 / 0), t.call(this, e, n, i) } return t.prototype.showSearch = function (t, e) { return !(function t(e) { for (var n = 0, i = 0; i < e.length; i++) { var o = e[i]; o.children ? n += t(o.children) : n++ } return n }(e.data.results) < this.minimumResultsForSearch) && t.call(this, e) }, t }), e.define("select2/dropdown/selectOnClose", ["../utils"], function (t) { function e() { } return e.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), e.on("close", function (t) { i._handleSelectOnClose(t) }) }, e.prototype._handleSelectOnClose = function (e, n) { if (n && null != n.originalSelect2Event) { var i = n.originalSelect2Event; if ("select" === i._type || "unselect" === i._type) return } var o = this.getHighlightedResults(); if (!(o.length < 1)) { var a = t.GetData(o[0], "data"); null != a.element && a.element.selected || null == a.element && a.selected || this.trigger("select", { data: a }) } }, e }), e.define("select2/dropdown/closeOnSelect", [], function () { function t() { } return t.prototype.bind = function (t, e, n) { var i = this; t.call(this, e, n), e.on("select", function (t) { i._selectTriggered(t) }), e.on("unselect", function (t) { i._selectTriggered(t) }) }, t.prototype._selectTriggered = function (t, e) { var n = e.originalEvent; n && n.ctrlKey || this.trigger("close", { originalEvent: n, originalSelect2Event: e }) }, t }), e.define("select2/i18n/en", [], function () { return { errorLoading: function () { return "The results could not be loaded." }, inputTooLong: function (t) { var e = t.input.length - t.maximum, n = "Please delete " + e + " character"; return 1 != e && (n += "s"), n }, inputTooShort: function (t) { return "Please enter " + (t.minimum - t.input.length) + " or more characters" }, loadingMore: function () { return "Loading more resultsâ¦" }, maximumSelected: function (t) { var e = "You can only select " + t.maximum + " item"; return 1 != t.maximum && (e += "s"), e }, noResults: function () { return "No results found" }, searching: function () { return "Searchingâ¦" } } }), e.define("select2/defaults", ["jquery", "require", "./results", "./selection/single", "./selection/multiple", "./selection/placeholder", "./selection/allowClear", "./selection/search", "./selection/eventRelay", "./utils", "./translation", "./diacritics", "./data/select", "./data/array", "./data/ajax", "./data/tags", "./data/tokenizer", "./data/minimumInputLength", "./data/maximumInputLength", "./data/maximumSelectionLength", "./dropdown", "./dropdown/search", "./dropdown/hidePlaceholder", "./dropdown/infiniteScroll", "./dropdown/attachBody", "./dropdown/minimumResultsForSearch", "./dropdown/selectOnClose", "./dropdown/closeOnSelect", "./i18n/en"], function (t, e, n, i, o, a, r, s, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y, v, x, F, Q, G, w) { function X() { this.reset() } return X.prototype.apply = function (I) { if (null == (I = t.extend(!0, {}, this.defaults, I)).dataAdapter) { if (null != I.ajax ? I.dataAdapter = d : null != I.data ? I.dataAdapter = h : I.dataAdapter = u, 0 < I.minimumInputLength && (I.dataAdapter = l.Decorate(I.dataAdapter, p)), 0 < I.maximumInputLength && (I.dataAdapter = l.Decorate(I.dataAdapter, m)), 0 < I.maximumSelectionLength && (I.dataAdapter = l.Decorate(I.dataAdapter, f)), I.tags && (I.dataAdapter = l.Decorate(I.dataAdapter, C)), null == I.tokenSeparators && null == I.tokenizer || (I.dataAdapter = l.Decorate(I.dataAdapter, A)), null != I.query) { var w = e(I.amdBase + "compat/query"); I.dataAdapter = l.Decorate(I.dataAdapter, w) } if (null != I.initSelection) { var X = e(I.amdBase + "compat/initSelection"); I.dataAdapter = l.Decorate(I.dataAdapter, X) } } if (null == I.resultsAdapter && (I.resultsAdapter = n, null != I.ajax && (I.resultsAdapter = l.Decorate(I.resultsAdapter, v)), null != I.placeholder && (I.resultsAdapter = l.Decorate(I.resultsAdapter, y)), I.selectOnClose && (I.resultsAdapter = l.Decorate(I.resultsAdapter, Q))), null == I.dropdownAdapter) { if (I.multiple) I.dropdownAdapter = b; else { var S = l.Decorate(b, B); I.dropdownAdapter = S } if (0 !== I.minimumResultsForSearch && (I.dropdownAdapter = l.Decorate(I.dropdownAdapter, F)), I.closeOnSelect && (I.dropdownAdapter = l.Decorate(I.dropdownAdapter, G)), null != I.dropdownCssClass || null != I.dropdownCss || null != I.adaptDropdownCssClass) { var k = e(I.amdBase + "compat/dropdownCss"); I.dropdownAdapter = l.Decorate(I.dropdownAdapter, k) } I.dropdownAdapter = l.Decorate(I.dropdownAdapter, x) } if (null == I.selectionAdapter) { if (I.multiple ? I.selectionAdapter = o : I.selectionAdapter = i, null != I.placeholder && (I.selectionAdapter = l.Decorate(I.selectionAdapter, a)), I.allowClear && (I.selectionAdapter = l.Decorate(I.selectionAdapter, r)), I.multiple && (I.selectionAdapter = l.Decorate(I.selectionAdapter, s)), null != I.containerCssClass || null != I.containerCss || null != I.adaptContainerCssClass) { var D = e(I.amdBase + "compat/containerCss"); I.selectionAdapter = l.Decorate(I.selectionAdapter, D) } I.selectionAdapter = l.Decorate(I.selectionAdapter, g) } if ("string" == typeof I.language) if (0 < I.language.indexOf("-")) { var Z = I.language.split("-")[0]; I.language = [I.language, Z] } else I.language = [I.language]; if (t.isArray(I.language)) { var U = new c; I.language.push("en"); for (var W = I.language, T = 0; T < W.length; T++) { var N = W[T], H = {}; try { H = c.loadPath(N) } catch (w) { try { N = this.defaults.amdLanguageBase + N, H = c.loadPath(N) } catch (w) { I.debug && window.console && console.warn && console.warn('Select2: The language file for "' + N + '" could not be automatically loaded. A fallback will be used instead.'); continue } } U.extend(H) } I.translations = U } else { var E = c.loadPath(this.defaults.amdLanguageBase + "en"), R = new c(I.language); R.extend(E), I.translations = R } return I }, X.prototype.reset = function () { function e(t) { return t.replace(/[^\u0000-\u007E]/g, function (t) { return I[t] || t }) } this.defaults = { amdBase: "./", amdLanguageBase: "./i18n/", closeOnSelect: !0, debug: !1, dropdownAutoWidth: !1, escapeMarkup: l.escapeMarkup, language: w, matcher: function n(i, o) { if ("" === t.trim(i.term)) return o; if (o.children && 0 < o.children.length) { for (var a = t.extend(!0, {}, o), r = o.children.length - 1; 0 <= r; r--)null == n(i, o.children[r]) && a.children.splice(r, 1); return 0 < a.children.length ? a : n(i, a) } var s = e(o.text).toUpperCase(), g = e(i.term).toUpperCase(); return -1 < s.indexOf(g) ? o : null }, minimumInputLength: 0, maximumInputLength: 0, maximumSelectionLength: 0, minimumResultsForSearch: 0, selectOnClose: !1, sorter: function (t) { return t }, templateResult: function (t) { return t.text }, templateSelection: function (t) { return t.text }, theme: "default", width: "resolve" } }, X.prototype.set = function (e, n) { var i = {}; i[t.camelCase(e)] = n; var o = l._convertData(i); t.extend(!0, this.defaults, o) }, new X }), e.define("select2/options", ["require", "jquery", "./defaults", "./utils"], function (t, e, n, i) { function o(e, o) { if (this.options = e, null != o && this.fromElement(o), this.options = n.apply(this.options), o && o.is("input")) { var a = t(this.get("amdBase") + "compat/inputData"); this.options.dataAdapter = i.Decorate(this.options.dataAdapter, a) } } return o.prototype.fromElement = function (t) { var n = ["select2"]; null == this.options.multiple && (this.options.multiple = t.prop("multiple")), null == this.options.disabled && (this.options.disabled = t.prop("disabled")), null == this.options.language && (t.prop("lang") ? this.options.language = t.prop("lang").toLowerCase() : t.closest("[lang]").prop("lang") && (this.options.language = t.closest("[lang]").prop("lang"))), null == this.options.dir && (t.prop("dir") ? this.options.dir = t.prop("dir") : t.closest("[dir]").prop("dir") ? this.options.dir = t.closest("[dir]").prop("dir") : this.options.dir = "ltr"), t.prop("disabled", this.options.disabled), t.prop("multiple", this.options.multiple), i.GetData(t[0], "select2Tags") && (this.options.debug && window.console && console.warn && console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'), i.StoreData(t[0], "data", i.GetData(t[0], "select2Tags")), i.StoreData(t[0], "tags", !0)), i.GetData(t[0], "ajaxUrl") && (this.options.debug && window.console && console.warn && console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."), t.attr("ajax--url", i.GetData(t[0], "ajaxUrl")), i.StoreData(t[0], "ajax-Url", i.GetData(t[0], "ajaxUrl"))); var o; o = e.fn.jquery && "1." == e.fn.jquery.substr(0, 2) && t[0].dataset ? e.extend(!0, {}, t[0].dataset, i.GetData(t[0])) : i.GetData(t[0]); var a = e.extend(!0, {}, o); for (var r in a = i._convertData(a)) -1 < e.inArray(r, n) || (e.isPlainObject(this.options[r]) ? e.extend(this.options[r], a[r]) : this.options[r] = a[r]); return this }, o.prototype.get = function (t) { return this.options[t] }, o.prototype.set = function (t, e) { this.options[t] = e }, o }), e.define("select2/core", ["jquery", "./options", "./utils", "./keys"], function (t, e, n, i) { var o = function (t, i) { null != n.GetData(t[0], "select2") && n.GetData(t[0], "select2").destroy(), this.$element = t, this.id = this._generateId(t), i = i || {}, this.options = new e(i, t), o.__super__.constructor.call(this); var a = t.attr("tabindex") || 0; n.StoreData(t[0], "old-tabindex", a), t.attr("tabindex", "-1"); var r = this.options.get("dataAdapter"); this.dataAdapter = new r(t, this.options); var s = this.render(); this._placeContainer(s); var g = this.options.get("selectionAdapter"); this.selection = new g(t, this.options), this.$selection = this.selection.render(), this.selection.position(this.$selection, s); var l = this.options.get("dropdownAdapter"); this.dropdown = new l(t, this.options), this.$dropdown = this.dropdown.render(), this.dropdown.position(this.$dropdown, s); var c = this.options.get("resultsAdapter"); this.results = new c(t, this.options, this.dataAdapter), this.$results = this.results.render(), this.results.position(this.$results, this.$dropdown); var I = this; this._bindAdapters(), this._registerDomEvents(), this._registerDataEvents(), this._registerSelectionEvents(), this._registerDropdownEvents(), this._registerResultsEvents(), this._registerEvents(), this.dataAdapter.current(function (t) { I.trigger("selection:update", { data: t }) }), t.addClass("select2-hidden-accessible"), t.attr("aria-hidden", "true"), this._syncAttributes(), n.StoreData(t[0], "select2", this), t.data("select2", this) }; return n.Extend(o, n.Observable), o.prototype._generateId = function (t) { return "select2-" + (null != t.attr("id") ? t.attr("id") : null != t.attr("name") ? t.attr("name") + "-" + n.generateChars(2) : n.generateChars(4)).replace(/(:|\.|\[|\]|,)/g, "") }, o.prototype._placeContainer = function (t) { t.insertAfter(this.$element); var e = this._resolveWidth(this.$element, this.options.get("width")); null != e && t.css("width", e) }, o.prototype._resolveWidth = function (t, e) { var n = /^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i; if ("resolve" == e) { var i = this._resolveWidth(t, "style"); return null != i ? i : this._resolveWidth(t, "element") } if ("element" == e) { var o = t.outerWidth(!1); return o <= 0 ? "auto" : o + "px" } if ("style" != e) return e; var a = t.attr("style"); if ("string" != typeof a) return null; for (var r = a.split(";"), s = 0, g = r.length; s < g; s += 1) { var l = r[s].replace(/\s/g, "").match(n); if (null !== l && 1 <= l.length) return l[1] } return null }, o.prototype._bindAdapters = function () { this.dataAdapter.bind(this, this.$container), this.selection.bind(this, this.$container), this.dropdown.bind(this, this.$container), this.results.bind(this, this.$container) }, o.prototype._registerDomEvents = function () { var e = this; this.$element.on("change.select2", function () { e.dataAdapter.current(function (t) { e.trigger("selection:update", { data: t }) }) }), this.$element.on("focus.select2", function (t) { e.trigger("focus", t) }), this._syncA = n.bind(this._syncAttributes, this), this._syncS = n.bind(this._syncSubtree, this), this.$element[0].attachEvent && this.$element[0].attachEvent("onpropertychange", this._syncA); var i = window.MutationObserver || window.WebKitMutationObserver || window.MozMutationObserver; null != i ? (this._observer = new i(function (n) { t.each(n, e._syncA), t.each(n, e._syncS) }), this._observer.observe(this.$element[0], { attributes: !0, childList: !0, subtree: !1 })) : this.$element[0].addEventListener && (this.$element[0].addEventListener("DOMAttrModified", e._syncA, !1), this.$element[0].addEventListener("DOMNodeInserted", e._syncS, !1), this.$element[0].addEventListener("DOMNodeRemoved", e._syncS, !1)) }, o.prototype._registerDataEvents = function () { var t = this; this.dataAdapter.on("*", function (e, n) { t.trigger(e, n) }) }, o.prototype._registerSelectionEvents = function () { var e = this, n = ["toggle", "focus"]; this.selection.on("toggle", function () { e.toggleDropdown() }), this.selection.on("focus", function (t) { e.focus(t) }), this.selection.on("*", function (i, o) { -1 === t.inArray(i, n) && e.trigger(i, o) }) }, o.prototype._registerDropdownEvents = function () { var t = this; this.dropdown.on("*", function (e, n) { t.trigger(e, n) }) }, o.prototype._registerResultsEvents = function () { var t = this; this.results.on("*", function (e, n) { t.trigger(e, n) }) }, o.prototype._registerEvents = function () { var t = this; this.on("open", function () { t.$container.addClass("select2-container--open") }), this.on("close", function () { t.$container.removeClass("select2-container--open") }), this.on("enable", function () { t.$container.removeClass("select2-container--disabled") }), this.on("disable", function () { t.$container.addClass("select2-container--disabled") }), this.on("blur", function () { t.$container.removeClass("select2-container--focus") }), this.on("query", function (e) { t.isOpen() || t.trigger("open", {}), this.dataAdapter.query(e, function (n) { t.trigger("results:all", { data: n, query: e }) }) }), this.on("query:append", function (e) { this.dataAdapter.query(e, function (n) { t.trigger("results:append", { data: n, query: e }) }) }), this.on("keypress", function (e) { var n = e.which; t.isOpen() ? n === i.ESC || n === i.TAB || n === i.UP && e.altKey ? (t.close(), e.preventDefault()) : n === i.ENTER ? (t.trigger("results:select", {}), e.preventDefault()) : n === i.SPACE && e.ctrlKey ? (t.trigger("results:toggle", {}), e.preventDefault()) : n === i.UP ? (t.trigger("results:previous", {}), e.preventDefault()) : n === i.DOWN && (t.trigger("results:next", {}), e.preventDefault()) : (n === i.ENTER || n === i.SPACE || n === i.DOWN && e.altKey) && (t.open(), e.preventDefault()) }) }, o.prototype._syncAttributes = function () { this.options.set("disabled", this.$element.prop("disabled")), this.options.get("disabled") ? (this.isOpen() && this.close(), this.trigger("disable", {})) : this.trigger("enable", {}) }, o.prototype._syncSubtree = function (t, e) { var n = !1, i = this; if (!t || !t.target || "OPTION" === t.target.nodeName || "OPTGROUP" === t.target.nodeName) { if (e) if (e.addedNodes && 0 < e.addedNodes.length) for (var o = 0; o < e.addedNodes.length; o++)e.addedNodes[o].selected && (n = !0); else e.removedNodes && 0 < e.removedNodes.length && (n = !0); else n = !0; n && this.dataAdapter.current(function (t) { i.trigger("selection:update", { data: t }) }) } }, o.prototype.trigger = function (t, e) { var n = o.__super__.trigger, i = { open: "opening", close: "closing", select: "selecting", unselect: "unselecting", clear: "clearing" }; if (void 0 === e && (e = {}), t in i) { var a = i[t], r = { prevented: !1, name: t, args: e }; if (n.call(this, a, r), r.prevented) return void (e.prevented = !0) } n.call(this, t, e) }, o.prototype.toggleDropdown = function () { this.options.get("disabled") || (this.isOpen() ? this.close() : this.open()) }, o.prototype.open = function () { this.isOpen() || this.trigger("query", {}) }, o.prototype.close = function () { this.isOpen() && this.trigger("close", {}) }, o.prototype.isOpen = function () { return this.$container.hasClass("select2-container--open") }, o.prototype.hasFocus = function () { return this.$container.hasClass("select2-container--focus") }, o.prototype.focus = function (t) { this.hasFocus() || (this.$container.addClass("select2-container--focus"), this.trigger("focus", {})) }, o.prototype.enable = function (t) { this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'), null != t && 0 !== t.length || (t = [!0]); var e = !t[0]; this.$element.prop("disabled", e) }, o.prototype.data = function () { this.options.get("debug") && 0 < arguments.length && window.console && console.warn && console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.'); var t = []; return this.dataAdapter.current(function (e) { t = e }), t }, o.prototype.val = function (e) { if (this.options.get("debug") && window.console && console.warn && console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'), null == e || 0 === e.length) return this.$element.val(); var n = e[0]; t.isArray(n) && (n = t.map(n, function (t) { return t.toString() })), this.$element.val(n).trigger("change") }, o.prototype.destroy = function () { this.$container.remove(), this.$element[0].detachEvent && this.$element[0].detachEvent("onpropertychange", this._syncA), null != this._observer ? (this._observer.disconnect(), this._observer = null) : this.$element[0].removeEventListener && (this.$element[0].removeEventListener("DOMAttrModified", this._syncA, !1), this.$element[0].removeEventListener("DOMNodeInserted", this._syncS, !1), this.$element[0].removeEventListener("DOMNodeRemoved", this._syncS, !1)), this._syncA = null, this._syncS = null, this.$element.off(".select2"), this.$element.attr("tabindex", n.GetData(this.$element[0], "old-tabindex")), this.$element.removeClass("select2-hidden-accessible"), this.$element.attr("aria-hidden", "false"), n.RemoveData(this.$element[0]), this.$element.removeData("select2"), this.dataAdapter.destroy(), this.selection.destroy(), this.dropdown.destroy(), this.results.destroy(), this.dataAdapter = null, this.selection = null, this.dropdown = null, this.results = null }, o.prototype.render = function () { var e = t('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>'); return e.attr("dir", this.options.get("dir")), this.$container = e, this.$container.addClass("select2-container--" + this.options.get("theme")), n.StoreData(e[0], "element", this.$element), e }, o }), e.define("select2/compat/utils", ["jquery"], function (t) { return { syncCssClasses: function (e, n, i) { var o, a, r = []; (o = t.trim(e.attr("class"))) && t((o = "" + o).split(/\s+/)).each(function () { 0 === this.indexOf("select2-") && r.push(this) }), (o = t.trim(n.attr("class"))) && t((o = "" + o).split(/\s+/)).each(function () { 0 !== this.indexOf("select2-") && null != (a = i(this)) && r.push(a) }), e.attr("class", r.join(" ")) } } }), e.define("select2/compat/containerCss", ["jquery", "./utils"], function (t, e) { function n(t) { return null } function i() { } return i.prototype.render = function (i) { var o = i.call(this), a = this.options.get("containerCssClass") || ""; t.isFunction(a) && (a = a(this.$element)); var r = this.options.get("adaptContainerCssClass"); if (r = r || n, -1 !== a.indexOf(":all:")) { a = a.replace(":all:", ""); var s = r; r = function (t) { var e = s(t); return null != e ? e + " " + t : t } } var g = this.options.get("containerCss") || {}; return t.isFunction(g) && (g = g(this.$element)), e.syncCssClasses(o, this.$element, r), o.css(g), o.addClass(a), o }, i }), e.define("select2/compat/dropdownCss", ["jquery", "./utils"], function (t, e) { function n(t) { return null } function i() { } return i.prototype.render = function (i) { var o = i.call(this), a = this.options.get("dropdownCssClass") || ""; t.isFunction(a) && (a = a(this.$element)); var r = this.options.get("adaptDropdownCssClass"); if (r = r || n, -1 !== a.indexOf(":all:")) { a = a.replace(":all:", ""); var s = r; r = function (t) { var e = s(t); return null != e ? e + " " + t : t } } var g = this.options.get("dropdownCss") || {}; return t.isFunction(g) && (g = g(this.$element)), e.syncCssClasses(o, this.$element, r), o.css(g), o.addClass(a), o }, i }), e.define("select2/compat/initSelection", ["jquery"], function (t) { function e(t, e, n) { n.get("debug") && window.console && console.warn && console.warn("Select2: The `initSelection` option has been deprecated in favor of a custom data adapter that overrides the `current` method. This method is now called multiple times instead of a single time when the instance is initialized. Support will be removed for the `initSelection` option in future versions of Select2"), this.initSelection = n.get("initSelection"), this._isInitialized = !1, t.call(this, e, n) } return e.prototype.current = function (e, n) { var i = this; this._isInitialized ? e.call(this, n) : this.initSelection.call(null, this.$element, function (e) { i._isInitialized = !0, t.isArray(e) || (e = [e]), n(e) }) }, e }), e.define("select2/compat/inputData", ["jquery", "../utils"], function (t, e) { function n(t, e, n) { this._currentData = [], this._valueSeparator = n.get("valueSeparator") || ",", "hidden" === e.prop("type") && n.get("debug") && console && console.warn && console.warn("Select2: Using a hidden input with Select2 is no longer supported and may stop working in the future. It is recommended to use a `<select>` element instead."), t.call(this, e, n) } return n.prototype.current = function (e, n) { function i(e, n) { var o = []; return e.selected || -1 !== t.inArray(e.id, n) ? (e.selected = !0, o.push(e)) : e.selected = !1, e.children && o.push.apply(o, i(e.children, n)), o } for (var o = [], a = 0; a < this._currentData.length; a++) { var r = this._currentData[a]; o.push.apply(o, i(r, this.$element.val().split(this._valueSeparator))) } n(o) }, n.prototype.select = function (e, n) { if (this.options.get("multiple")) { var i = this.$element.val(); i += this._valueSeparator + n.id, this.$element.val(i), this.$element.trigger("change") } else this.current(function (e) { t.map(e, function (t) { t.selected = !1 }) }), this.$element.val(n.id), this.$element.trigger("change") }, n.prototype.unselect = function (t, e) { var n = this; e.selected = !1, this.current(function (t) { for (var i = [], o = 0; o < t.length; o++) { var a = t[o]; e.id != a.id && i.push(a.id) } n.$element.val(i.join(n._valueSeparator)), n.$element.trigger("change") }) }, n.prototype.query = function (t, e, n) { for (var i = [], o = 0; o < this._currentData.length; o++) { var a = this._currentData[o], r = this.matches(e, a); null !== r && i.push(r) } n({ results: i }) }, n.prototype.addOptions = function (n, i) { var o = t.map(i, function (t) { return e.GetData(t[0], "data") }); this._currentData.push.apply(this._currentData, o) }, n }), e.define("select2/compat/matcher", ["jquery"], function (t) { return function (e) { return function (n, i) { var o = t.extend(!0, {}, i); if (null == n.term || "" === t.trim(n.term)) return o; if (i.children) { for (var a = i.children.length - 1; 0 <= a; a--) { var r = i.children[a]; e(n.term, r.text, r) || o.children.splice(a, 1) } if (0 < o.children.length) return o } return e(n.term, i.text, i) ? o : null } } }), e.define("select2/compat/query", [], function () { function t(t, e, n) { n.get("debug") && window.console && console.warn && console.warn("Select2: The `query` option has been deprecated in favor of a custom data adapter that overrides the `query` method. Support will be removed for the `query` option in future versions of Select2."), t.call(this, e, n) } return t.prototype.query = function (t, e, n) { e.callback = n, this.options.get("query").call(null, e) }, t }), e.define("select2/dropdown/attachContainer", [], function () { function t(t, e, n) { t.call(this, e, n) } return t.prototype.position = function (t, e, n) { n.find(".dropdown-wrapper").append(e), e.addClass("select2-dropdown--below"), n.addClass("select2-container--below") }, t }), e.define("select2/dropdown/stopPropagation", [], function () { function t() { } return t.prototype.bind = function (t, e, n) { t.call(this, e, n), this.$dropdown.on(["blur", "change", "click", "dblclick", "focus", "focusin", "focusout", "input", "keydown", "keyup", "keypress", "mousedown", "mouseenter", "mouseleave", "mousemove", "mouseover", "mouseup", "search", "touchend", "touchstart"].join(" "), function (t) { t.stopPropagation() }) }, t }), e.define("select2/selection/stopPropagation", [], function () { function t() { } return t.prototype.bind = function (t, e, n) { t.call(this, e, n), this.$selection.on(["blur", "change", "click", "dblclick", "focus", "focusin", "focusout", "input", "keydown", "keyup", "keypress", "mousedown", "mouseenter", "mouseleave", "mousemove", "mouseover", "mouseup", "search", "touchend", "touchstart"].join(" "), function (t) { t.stopPropagation() }) }, t }), p = function (t) { var e, n, i = ["wheel", "mousewheel", "DOMMouseScroll", "MozMousePixelScroll"], o = "onwheel" in document || 9 <= document.documentMode ? ["wheel"] : ["mousewheel", "DomMouseScroll", "MozMousePixelScroll"], a = Array.prototype.slice; if (t.event.fixHooks) for (var r = i.length; r;)t.event.fixHooks[i[--r]] = t.event.mouseHooks; var s = t.event.special.mousewheel = { version: "3.1.12", setup: function () { if (this.addEventListener) for (var e = o.length; e;)this.addEventListener(o[--e], g, !1); else this.onmousewheel = g; t.data(this, "mousewheel-line-height", s.getLineHeight(this)), t.data(this, "mousewheel-page-height", s.getPageHeight(this)) }, teardown: function () { if (this.removeEventListener) for (var e = o.length; e;)this.removeEventListener(o[--e], g, !1); else this.onmousewheel = null; t.removeData(this, "mousewheel-line-height"), t.removeData(this, "mousewheel-page-height") }, getLineHeight: function (e) { var n = t(e), i = n["offsetParent" in t.fn ? "offsetParent" : "parent"](); return i.length || (i = t("body")), parseInt(i.css("fontSize"), 10) || parseInt(n.css("fontSize"), 10) || 16 }, getPageHeight: function (e) { return t(e).height() }, settings: { adjustOldDeltas: !0, normalizeOffset: !0 } }; function g(i) { var o, r = i || window.event, g = a.call(arguments, 1), I = 0, u = 0, h = 0, d = 0, C = 0; if ((i = t.event.fix(r)).type = "mousewheel", "detail" in r && (h = -1 * r.detail), "wheelDelta" in r && (h = r.wheelDelta), "wheelDeltaY" in r && (h = r.wheelDeltaY), "wheelDeltaX" in r && (u = -1 * r.wheelDeltaX), "axis" in r && r.axis === r.HORIZONTAL_AXIS && (u = -1 * h, h = 0), I = 0 === h ? u : h, "deltaY" in r && (I = h = -1 * r.deltaY), "deltaX" in r && (u = r.deltaX, 0 === h && (I = -1 * u)), 0 !== h || 0 !== u) { if (1 === r.deltaMode) { var A = t.data(this, "mousewheel-line-height"); I *= A, h *= A, u *= A } else if (2 === r.deltaMode) { var p = t.data(this, "mousewheel-page-height"); I *= p, h *= p, u *= p } if (o = Math.max(Math.abs(h), Math.abs(u)), (!n || o < n) && c(r, n = o) && (n /= 40), c(r, o) && (I /= 40, u /= 40, h /= 40), I = Math[1 <= I ? "floor" : "ceil"](I / n), u = Math[1 <= u ? "floor" : "ceil"](u / n), h = Math[1 <= h ? "floor" : "ceil"](h / n), s.settings.normalizeOffset && this.getBoundingClientRect) { var m = this.getBoundingClientRect(); d = i.clientX - m.left, C = i.clientY - m.top } return i.deltaX = u, i.deltaY = h, i.deltaFactor = n, i.offsetX = d, i.offsetY = C, i.deltaMode = 0, g.unshift(i, I, u, h), e && clearTimeout(e), e = setTimeout(l, 200), (t.event.dispatch || t.event.handle).apply(this, g) } } function l() { n = null } function c(t, e) { return s.settings.adjustOldDeltas && "mousewheel" === t.type && e % 120 == 0 } t.fn.extend({ mousewheel: function (t) { return t ? this.bind("mousewheel", t) : this.trigger("mousewheel") }, unmousewheel: function (t) { return this.unbind("mousewheel", t) } }) }, "function" == typeof e.define && e.define.amd ? e.define("jquery-mousewheel", ["jquery"], p) : "object" == typeof exports ? module.exports = p : p(t), e.define("jquery.select2", ["jquery", "jquery-mousewheel", "./select2/core", "./select2/defaults", "./select2/utils"], function (t, e, n, i, o) { if (null == t.fn.select2) { var a = ["open", "close", "destroy"]; t.fn.select2 = function (e) { if ("object" == typeof (e = e || {})) return this.each(function () { var i = t.extend(!0, {}, e); new n(t(this), i) }), this; if ("string" != typeof e) throw new Error("Invalid arguments for Select2: " + e); var i, r = Array.prototype.slice.call(arguments, 1); return this.each(function () { var t = o.GetData(this, "select2"); null == t && window.console && console.error && console.error("The select2('" + e + "') method was called on an element that is not using Select2."), i = t[e].apply(t, r) }), -1 < t.inArray(e, a) ? this : i } } return null == t.fn.select2.defaults && (t.fn.select2.defaults = i), n }), { define: e.define, require: e.require } }(), n = e.require("jquery.select2"); return t.fn.select2.amd = e, n }), function (t) { !jQuery && "function" == typeof define && define.amd ? define(["jquery"], function (e) { return t(e, document, window, navigator) }) : jQuery || "object" != typeof exports ? t(jQuery, document, window, navigator) : t(require("jquery"), document, window, navigator) }(function (t, e, n, i, o) { "use strict"; var a, r, s = 0, g = (r = /msie\s\d+/i, 0 < (a = i.userAgent).search(r) && r.exec(a).toString().split(" ")[1] < 9 && (t("html").addClass("lt-ie9"), !0)); function l(i, a, r) { this.VERSION = "2.3.0", this.input = i, this.plugin_count = r, this.current_plugin = 0, this.calc_count = 0, this.update_tm = 0, this.old_from = 0, this.old_to = 0, this.old_min_interval = null, this.raf_id = null, this.dragging = !1, this.force_redraw = !1, this.no_diapason = !1, this.has_tab_index = !0, this.is_key = !1, this.is_update = !1, this.is_start = !0, this.is_finish = !1, this.is_active = !1, this.is_resize = !1, this.is_click = !1, a = a || {}, this.$cache = { win: t(n), body: t(e.body), input: t(i), cont: null, rs: null, min: null, max: null, from: null, to: null, single: null, bar: null, line: null, s_single: null, s_from: null, s_to: null, shad_single: null, shad_from: null, shad_to: null, edge: null, grid: null, grid_labels: [] }, this.coords = { x_gap: 0, x_pointer: 0, w_rs: 0, w_rs_old: 0, w_handle: 0, p_gap: 0, p_gap_left: 0, p_gap_right: 0, p_step: 0, p_pointer: 0, p_handle: 0, p_single_fake: 0, p_single_real: 0, p_from_fake: 0, p_from_real: 0, p_to_fake: 0, p_to_real: 0, p_bar_x: 0, p_bar_w: 0, grid_gap: 0, big_num: 0, big: [], big_w: [], big_p: [], big_x: [] }, this.labels = { w_min: 0, w_max: 0, w_from: 0, w_to: 0, w_single: 0, p_min: 0, p_max: 0, p_from_fake: 0, p_from_left: 0, p_to_fake: 0, p_to_left: 0, p_single_fake: 0, p_single_left: 0 }; var s, g, l, c = this.$cache.input, I = c.prop("value"); for (l in s = { skin: "flat", type: "single", min: 10, max: 100, from: null, to: null, step: 1, min_interval: 0, max_interval: 0, drag_interval: !1, values: [], p_values: [], from_fixed: !1, from_min: null, from_max: null, from_shadow: !1, to_fixed: !1, to_min: null, to_max: null, to_shadow: !1, prettify_enabled: !0, prettify_separator: " ", prettify: null, force_edges: !1, keyboard: !0, grid: !1, grid_margin: !0, grid_num: 4, grid_snap: !1, hide_min_max: !1, hide_from_to: !1, prefix: "", postfix: "", max_postfix: "", decorate_both: !0, values_separator: " â ", input_values_separator: ";", disable: !1, block: !1, extra_classes: "", scope: null, onStart: null, onChange: null, onFinish: null, onUpdate: null }, "INPUT" !== c[0].nodeName && console && console.warn && console.warn("Base element should be <input>!", c[0]), (g = { skin: c.data("skin"), type: c.data("type"), min: c.data("min"), max: c.data("max"), from: c.data("from"), to: c.data("to"), step: c.data("step"), min_interval: c.data("minInterval"), max_interval: c.data("maxInterval"), drag_interval: c.data("dragInterval"), values: c.data("values"), from_fixed: c.data("fromFixed"), from_min: c.data("fromMin"), from_max: c.data("fromMax"), from_shadow: c.data("fromShadow"), to_fixed: c.data("toFixed"), to_min: c.data("toMin"), to_max: c.data("toMax"), to_shadow: c.data("toShadow"), prettify_enabled: c.data("prettifyEnabled"), prettify_separator: c.data("prettifySeparator"), force_edges: c.data("forceEdges"), keyboard: c.data("keyboard"), grid: c.data("grid"), grid_margin: c.data("gridMargin"), grid_num: c.data("gridNum"), grid_snap: c.data("gridSnap"), hide_min_max: c.data("hideMinMax"), hide_from_to: c.data("hideFromTo"), prefix: c.data("prefix"), postfix: c.data("postfix"), max_postfix: c.data("maxPostfix"), decorate_both: c.data("decorateBoth"), values_separator: c.data("valuesSeparator"), input_values_separator: c.data("inputValuesSeparator"), disable: c.data("disable"), block: c.data("block"), extra_classes: c.data("extraClasses") }).values = g.values && g.values.split(","), g) g.hasOwnProperty(l) && (g[l] !== o && "" !== g[l] || delete g[l]); I !== o && "" !== I && ((I = I.split(g.input_values_separator || a.input_values_separator || ";"))[0] && I[0] == +I[0] && (I[0] = +I[0]), I[1] && I[1] == +I[1] && (I[1] = +I[1]), a && a.values && a.values.length ? (s.from = I[0] && a.values.indexOf(I[0]), s.to = I[1] && a.values.indexOf(I[1])) : (s.from = I[0] && +I[0], s.to = I[1] && +I[1])), t.extend(s, a), t.extend(s, g), this.options = s, this.update_check = {}, this.validate(), this.result = { input: this.$cache.input, slider: null, min: this.options.min, max: this.options.max, from: this.options.from, from_percent: 0, from_value: null, to: this.options.to, to_percent: 0, to_value: null }, this.init() } Function.prototype.bind || (Function.prototype.bind = function (t) { var e = this, n = [].slice; if ("function" != typeof e) throw new TypeError; var i = n.call(arguments, 1), o = function () { if (this instanceof o) { var a = function () { }; a.prototype = e.prototype; var r = new a, s = e.apply(r, i.concat(n.call(arguments))); return Object(s) === s ? s : r } return e.apply(t, i.concat(n.call(arguments))) }; return o }), Array.prototype.indexOf || (Array.prototype.indexOf = function (t, e) { var n; if (null == this) throw new TypeError('"this" is null or not defined'); var i = Object(this), o = i.length >>> 0; if (0 == o) return -1; var a = +e || 0; if (Math.abs(a) === 1 / 0 && (a = 0), o <= a) return -1; for (n = Math.max(0 <= a ? a : o - Math.abs(a), 0); n < o;) { if (n in i && i[n] === t) return n; n++ } return -1 }), l.prototype = { init: function (t) { this.no_diapason = !1, this.coords.p_step = this.convertToPercent(this.options.step, !0), this.target = "base", this.toggleInput(), this.append(), this.setMinMax(), t ? (this.force_redraw = !0, this.calc(!0), this.callOnUpdate()) : (this.force_redraw = !0, this.calc(!0), this.callOnStart()), this.updateScene() }, append: function () { var t = '<span class="irs irs--' + this.options.skin + " js-irs-" + this.plugin_count + " " + this.options.extra_classes + '"></span>'; this.$cache.input.before(t), this.$cache.input.prop("readonly", !0), this.$cache.cont = this.$cache.input.prev(), this.result.slider = this.$cache.cont, this.$cache.cont.html('<span class="irs"><span class="irs-line" tabindex="0"></span><span class="irs-min">0</span><span class="irs-max">1</span><span class="irs-from">0</span><span class="irs-to">0</span><span class="irs-single">0</span></span><span class="irs-grid"></span>'), this.$cache.rs = this.$cache.cont.find(".irs"), this.$cache.min = this.$cache.cont.find(".irs-min"), this.$cache.max = this.$cache.cont.find(".irs-max"), this.$cache.from = this.$cache.cont.find(".irs-from"), this.$cache.to = this.$cache.cont.find(".irs-to"), this.$cache.single = this.$cache.cont.find(".irs-single"), this.$cache.line = this.$cache.cont.find(".irs-line"), this.$cache.grid = this.$cache.cont.find(".irs-grid"), "single" === this.options.type ? (this.$cache.cont.append('<span class="irs-bar irs-bar--single"></span><span class="irs-shadow shadow-single"></span><span class="irs-handle single"><i></i><i></i><i></i></span>'), this.$cache.bar = this.$cache.cont.find(".irs-bar"), this.$cache.edge = this.$cache.cont.find(".irs-bar-edge"), this.$cache.s_single = this.$cache.cont.find(".single"), this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.shad_single = this.$cache.cont.find(".shadow-single")) : (this.$cache.cont.append('<span class="irs-bar"></span><span class="irs-shadow shadow-from"></span><span class="irs-shadow shadow-to"></span><span class="irs-handle from"><i></i><i></i><i></i></span><span class="irs-handle to"><i></i><i></i><i></i></span>'), this.$cache.bar = this.$cache.cont.find(".irs-bar"), this.$cache.s_from = this.$cache.cont.find(".from"), this.$cache.s_to = this.$cache.cont.find(".to"), this.$cache.shad_from = this.$cache.cont.find(".shadow-from"), this.$cache.shad_to = this.$cache.cont.find(".shadow-to"), this.setTopHandler()), this.options.hide_from_to && (this.$cache.from[0].style.display = "none", this.$cache.to[0].style.display = "none", this.$cache.single[0].style.display = "none"), this.appendGrid(), this.options.disable ? (this.appendDisableMask(), this.$cache.input[0].disabled = !0) : (this.$cache.input[0].disabled = !1, this.removeDisableMask(), this.bindEvents()), this.options.disable || (this.options.block ? this.appendDisableMask() : this.removeDisableMask()), this.options.drag_interval && (this.$cache.bar[0].style.cursor = "ew-resize") }, setTopHandler: function () { var t = this.options.min, e = this.options.max, n = this.options.from, i = this.options.to; t < n && i === e ? this.$cache.s_from.addClass("type_last") : i < e && this.$cache.s_to.addClass("type_last") }, changeLevel: function (t) { switch (t) { case "single": this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_single_fake), this.$cache.s_single.addClass("state_hover"); break; case "from": this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake), this.$cache.s_from.addClass("state_hover"), this.$cache.s_from.addClass("type_last"), this.$cache.s_to.removeClass("type_last"); break; case "to": this.coords.p_gap = this.toFixed(this.coords.p_pointer - this.coords.p_to_fake), this.$cache.s_to.addClass("state_hover"), this.$cache.s_to.addClass("type_last"), this.$cache.s_from.removeClass("type_last"); break; case "both": this.coords.p_gap_left = this.toFixed(this.coords.p_pointer - this.coords.p_from_fake), this.coords.p_gap_right = this.toFixed(this.coords.p_to_fake - this.coords.p_pointer), this.$cache.s_to.removeClass("type_last"), this.$cache.s_from.removeClass("type_last") } }, appendDisableMask: function () { this.$cache.cont.append('<span class="irs-disable-mask"></span>'), this.$cache.cont.addClass("irs-disabled") }, removeDisableMask: function () { this.$cache.cont.remove(".irs-disable-mask"), this.$cache.cont.removeClass("irs-disabled") }, remove: function () { this.$cache.cont.remove(), this.$cache.cont = null, this.$cache.line.off("keydown.irs_" + this.plugin_count), this.$cache.body.off("touchmove.irs_" + this.plugin_count), this.$cache.body.off("mousemove.irs_" + this.plugin_count), this.$cache.win.off("touchend.irs_" + this.plugin_count), this.$cache.win.off("mouseup.irs_" + this.plugin_count), g && (this.$cache.body.off("mouseup.irs_" + this.plugin_count), this.$cache.body.off("mouseleave.irs_" + this.plugin_count)), this.$cache.grid_labels = [], this.coords.big = [], this.coords.big_w = [], this.coords.big_p = [], this.coords.big_x = [], cancelAnimationFrame(this.raf_id) }, bindEvents: function () { this.no_diapason || (this.$cache.body.on("touchmove.irs_" + this.plugin_count, this.pointerMove.bind(this)), this.$cache.body.on("mousemove.irs_" + this.plugin_count, this.pointerMove.bind(this)), this.$cache.win.on("touchend.irs_" + this.plugin_count, this.pointerUp.bind(this)), this.$cache.win.on("mouseup.irs_" + this.plugin_count, this.pointerUp.bind(this)), this.$cache.line.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.line.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.line.on("focus.irs_" + this.plugin_count, this.pointerFocus.bind(this)), this.options.drag_interval && "double" === this.options.type ? (this.$cache.bar.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "both")), this.$cache.bar.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "both"))) : (this.$cache.bar.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.bar.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"))), "single" === this.options.type ? (this.$cache.single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.s_single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.shad_single.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.s_single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "single")), this.$cache.edge.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_single.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"))) : (this.$cache.single.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, null)), this.$cache.single.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, null)), this.$cache.from.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.s_from.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.to.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.s_to.on("touchstart.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.shad_from.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_to.on("touchstart.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.from.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.s_from.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "from")), this.$cache.to.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.s_to.on("mousedown.irs_" + this.plugin_count, this.pointerDown.bind(this, "to")), this.$cache.shad_from.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click")), this.$cache.shad_to.on("mousedown.irs_" + this.plugin_count, this.pointerClick.bind(this, "click"))), this.options.keyboard && this.$cache.line.on("keydown.irs_" + this.plugin_count, this.key.bind(this, "keyboard")), g && (this.$cache.body.on("mouseup.irs_" + this.plugin_count, this.pointerUp.bind(this)), this.$cache.body.on("mouseleave.irs_" + this.plugin_count, this.pointerUp.bind(this)))) }, pointerFocus: function (t) { var e, n; this.target || (e = (n = "single" === this.options.type ? this.$cache.single : this.$cache.from).offset().left, e += n.width() / 2 - 1, this.pointerClick("single", { preventDefault: function () { }, pageX: e })) }, pointerMove: function (t) { if (this.dragging) { var e = t.pageX || t.originalEvent.touches && t.originalEvent.touches[0].pageX; this.coords.x_pointer = e - this.coords.x_gap, this.calc() } }, pointerUp: function (e) { this.current_plugin === this.plugin_count && this.is_active && (this.is_active = !1, this.$cache.cont.find(".state_hover").removeClass("state_hover"), this.force_redraw = !0, g && t("*").prop("unselectable", !1), this.updateScene(), this.restoreOriginalMinInterval(), (t.contains(this.$cache.cont[0], e.target) || this.dragging) && this.callOnFinish(), this.dragging = !1) }, pointerDown: function (e, n) { n.preventDefault(); var i = n.pageX || n.originalEvent.touches && n.originalEvent.touches[0].pageX; 2 !== n.button && ("both" === e && this.setTempMinInterval(), e || (e = this.target || "from"), this.current_plugin = this.plugin_count, this.target = e, this.is_active = !0, this.dragging = !0, this.coords.x_gap = this.$cache.rs.offset().left, this.coords.x_pointer = i - this.coords.x_gap, this.calcPointerPercent(), this.changeLevel(e), g && t("*").prop("unselectable", !0), this.$cache.line.trigger("focus"), this.updateScene()) }, pointerClick: function (t, e) { e.preventDefault(); var n = e.pageX || e.originalEvent.touches && e.originalEvent.touches[0].pageX; 2 !== e.button && (this.current_plugin = this.plugin_count, this.target = t, this.is_click = !0, this.coords.x_gap = this.$cache.rs.offset().left, this.coords.x_pointer = +(n - this.coords.x_gap).toFixed(), this.force_redraw = !0, this.calc(), this.$cache.line.trigger("focus")) }, key: function (t, e) { if (!(this.current_plugin !== this.plugin_count || e.altKey || e.ctrlKey || e.shiftKey || e.metaKey)) { switch (e.which) { case 83: case 65: case 40: case 37: e.preventDefault(), this.moveByKey(!1); break; case 87: case 68: case 38: case 39: e.preventDefault(), this.moveByKey(!0) }return !0 } }, moveByKey: function (t) { var e = this.coords.p_pointer, n = (this.options.max - this.options.min) / 100; n = this.options.step / n, t ? e += n : e -= n, this.coords.x_pointer = this.toFixed(this.coords.w_rs / 100 * e), this.is_key = !0, this.calc() }, setMinMax: function () { if (this.options) { if (this.options.hide_min_max) return this.$cache.min[0].style.display = "none", void (this.$cache.max[0].style.display = "none"); if (this.options.values.length) this.$cache.min.html(this.decorate(this.options.p_values[this.options.min])), this.$cache.max.html(this.decorate(this.options.p_values[this.options.max])); else { var t = this._prettify(this.options.min), e = this._prettify(this.options.max); this.result.min_pretty = t, this.result.max_pretty = e, this.$cache.min.html(this.decorate(t, this.options.min)), this.$cache.max.html(this.decorate(e, this.options.max)) } this.labels.w_min = this.$cache.min.outerWidth(!1), this.labels.w_max = this.$cache.max.outerWidth(!1) } }, setTempMinInterval: function () { var t = this.result.to - this.result.from; null === this.old_min_interval && (this.old_min_interval = this.options.min_interval), this.options.min_interval = t }, restoreOriginalMinInterval: function () { null !== this.old_min_interval && (this.options.min_interval = this.old_min_interval, this.old_min_interval = null) }, calc: function (t) { if (this.options && (this.calc_count++, 10 !== this.calc_count && !t || (this.calc_count = 0, this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.calcHandlePercent()), this.coords.w_rs)) { this.calcPointerPercent(); var e = this.getHandleX(); switch ("both" === this.target && (this.coords.p_gap = 0, e = this.getHandleX()), "click" === this.target && (this.coords.p_gap = this.coords.p_handle / 2, e = this.getHandleX(), this.options.drag_interval ? this.target = "both_one" : this.target = this.chooseHandle(e)), this.target) { case "base": var n = (this.options.max - this.options.min) / 100, i = (this.result.from - this.options.min) / n, o = (this.result.to - this.options.min) / n; this.coords.p_single_real = this.toFixed(i), this.coords.p_from_real = this.toFixed(i), this.coords.p_to_real = this.toFixed(o), this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max), this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max), this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max), this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real), this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real), this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real), this.target = null; break; case "single": if (this.options.from_fixed) break; this.coords.p_single_real = this.convertToRealPercent(e), this.coords.p_single_real = this.calcWithStep(this.coords.p_single_real), this.coords.p_single_real = this.checkDiapason(this.coords.p_single_real, this.options.from_min, this.options.from_max), this.coords.p_single_fake = this.convertToFakePercent(this.coords.p_single_real); break; case "from": if (this.options.from_fixed) break; this.coords.p_from_real = this.convertToRealPercent(e), this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real), this.coords.p_from_real > this.coords.p_to_real && (this.coords.p_from_real = this.coords.p_to_real), this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max), this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, "from"), this.coords.p_from_real = this.checkMaxInterval(this.coords.p_from_real, this.coords.p_to_real, "from"), this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real); break; case "to": if (this.options.to_fixed) break; this.coords.p_to_real = this.convertToRealPercent(e), this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real), this.coords.p_to_real < this.coords.p_from_real && (this.coords.p_to_real = this.coords.p_from_real), this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max), this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, "to"), this.coords.p_to_real = this.checkMaxInterval(this.coords.p_to_real, this.coords.p_from_real, "to"), this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real); break; case "both": if (this.options.from_fixed || this.options.to_fixed) break; e = this.toFixed(e + .001 * this.coords.p_handle), this.coords.p_from_real = this.convertToRealPercent(e) - this.coords.p_gap_left, this.coords.p_from_real = this.calcWithStep(this.coords.p_from_real), this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max), this.coords.p_from_real = this.checkMinInterval(this.coords.p_from_real, this.coords.p_to_real, "from"), this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real), this.coords.p_to_real = this.convertToRealPercent(e) + this.coords.p_gap_right, this.coords.p_to_real = this.calcWithStep(this.coords.p_to_real), this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max), this.coords.p_to_real = this.checkMinInterval(this.coords.p_to_real, this.coords.p_from_real, "to"), this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real); break; case "both_one": if (this.options.from_fixed || this.options.to_fixed) break; var a = this.convertToRealPercent(e), r = this.result.from_percent, s = this.result.to_percent - r, g = s / 2, l = a - g, c = a + g; l < 0 && (c = (l = 0) + s), 100 < c && (l = (c = 100) - s), this.coords.p_from_real = this.calcWithStep(l), this.coords.p_from_real = this.checkDiapason(this.coords.p_from_real, this.options.from_min, this.options.from_max), this.coords.p_from_fake = this.convertToFakePercent(this.coords.p_from_real), this.coords.p_to_real = this.calcWithStep(c), this.coords.p_to_real = this.checkDiapason(this.coords.p_to_real, this.options.to_min, this.options.to_max), this.coords.p_to_fake = this.convertToFakePercent(this.coords.p_to_real) }"single" === this.options.type ? (this.coords.p_bar_x = this.coords.p_handle / 2, this.coords.p_bar_w = this.coords.p_single_fake, this.result.from_percent = this.coords.p_single_real, this.result.from = this.convertToValue(this.coords.p_single_real), this.result.from_pretty = this._prettify(this.result.from), this.options.values.length && (this.result.from_value = this.options.values[this.result.from])) : (this.coords.p_bar_x = this.toFixed(this.coords.p_from_fake + this.coords.p_handle / 2), this.coords.p_bar_w = this.toFixed(this.coords.p_to_fake - this.coords.p_from_fake), this.result.from_percent = this.coords.p_from_real, this.result.from = this.convertToValue(this.coords.p_from_real), this.result.from_pretty = this._prettify(this.result.from), this.result.to_percent = this.coords.p_to_real, this.result.to = this.convertToValue(this.coords.p_to_real), this.result.to_pretty = this._prettify(this.result.to), this.options.values.length && (this.result.from_value = this.options.values[this.result.from], this.result.to_value = this.options.values[this.result.to])), this.calcMinMax(), this.calcLabels() } }, calcPointerPercent: function () { this.coords.w_rs ? (this.coords.x_pointer < 0 || isNaN(this.coords.x_pointer) ? this.coords.x_pointer = 0 : this.coords.x_pointer > this.coords.w_rs && (this.coords.x_pointer = this.coords.w_rs), this.coords.p_pointer = this.toFixed(this.coords.x_pointer / this.coords.w_rs * 100)) : this.coords.p_pointer = 0 }, convertToRealPercent: function (t) { return t / (100 - this.coords.p_handle) * 100 }, convertToFakePercent: function (t) { return t / 100 * (100 - this.coords.p_handle) }, getHandleX: function () { var t = 100 - this.coords.p_handle, e = this.toFixed(this.coords.p_pointer - this.coords.p_gap); return e < 0 ? e = 0 : t < e && (e = t), e }, calcHandlePercent: function () { "single" === this.options.type ? this.coords.w_handle = this.$cache.s_single.outerWidth(!1) : this.coords.w_handle = this.$cache.s_from.outerWidth(!1), this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100) }, chooseHandle: function (t) { return "single" === this.options.type ? "single" : this.coords.p_from_real + (this.coords.p_to_real - this.coords.p_from_real) / 2 <= t ? this.options.to_fixed ? "from" : "to" : this.options.from_fixed ? "to" : "from" }, calcMinMax: function () { this.coords.w_rs && (this.labels.p_min = this.labels.w_min / this.coords.w_rs * 100, this.labels.p_max = this.labels.w_max / this.coords.w_rs * 100) }, calcLabels: function () { this.coords.w_rs && !this.options.hide_from_to && ("single" === this.options.type ? (this.labels.w_single = this.$cache.single.outerWidth(!1), this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100, this.labels.p_single_left = this.coords.p_single_fake + this.coords.p_handle / 2 - this.labels.p_single_fake / 2) : (this.labels.w_from = this.$cache.from.outerWidth(!1), this.labels.p_from_fake = this.labels.w_from / this.coords.w_rs * 100, this.labels.p_from_left = this.coords.p_from_fake + this.coords.p_handle / 2 - this.labels.p_from_fake / 2, this.labels.p_from_left = this.toFixed(this.labels.p_from_left), this.labels.p_from_left = this.checkEdges(this.labels.p_from_left, this.labels.p_from_fake), this.labels.w_to = this.$cache.to.outerWidth(!1), this.labels.p_to_fake = this.labels.w_to / this.coords.w_rs * 100, this.labels.p_to_left = this.coords.p_to_fake + this.coords.p_handle / 2 - this.labels.p_to_fake / 2, this.labels.p_to_left = this.toFixed(this.labels.p_to_left), this.labels.p_to_left = this.checkEdges(this.labels.p_to_left, this.labels.p_to_fake), this.labels.w_single = this.$cache.single.outerWidth(!1), this.labels.p_single_fake = this.labels.w_single / this.coords.w_rs * 100, this.labels.p_single_left = (this.labels.p_from_left + this.labels.p_to_left + this.labels.p_to_fake) / 2 - this.labels.p_single_fake / 2, this.labels.p_single_left = this.toFixed(this.labels.p_single_left)), this.labels.p_single_left = this.checkEdges(this.labels.p_single_left, this.labels.p_single_fake)) }, updateScene: function () { this.raf_id && (cancelAnimationFrame(this.raf_id), this.raf_id = null), clearTimeout(this.update_tm), this.update_tm = null, this.options && (this.drawHandles(), this.is_active ? this.raf_id = requestAnimationFrame(this.updateScene.bind(this)) : this.update_tm = setTimeout(this.updateScene.bind(this), 300)) }, drawHandles: function () { this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.coords.w_rs && (this.coords.w_rs !== this.coords.w_rs_old && (this.target = "base", this.is_resize = !0), this.coords.w_rs === this.coords.w_rs_old && !this.force_redraw || (this.setMinMax(), this.calc(!0), this.drawLabels(), this.options.grid && (this.calcGridMargin(), this.calcGridLabels()), this.force_redraw = !0, this.coords.w_rs_old = this.coords.w_rs, this.drawShadow()), this.coords.w_rs && (this.dragging || this.force_redraw || this.is_key) && ((this.old_from !== this.result.from || this.old_to !== this.result.to || this.force_redraw || this.is_key) && (this.drawLabels(), this.$cache.bar[0].style.left = this.coords.p_bar_x + "%", this.$cache.bar[0].style.width = this.coords.p_bar_w + "%", "single" === this.options.type ? (this.$cache.bar[0].style.left = 0, this.$cache.bar[0].style.width = this.coords.p_bar_w + this.coords.p_bar_x + "%", this.$cache.s_single[0].style.left = this.coords.p_single_fake + "%") : (this.$cache.s_from[0].style.left = this.coords.p_from_fake + "%", this.$cache.s_to[0].style.left = this.coords.p_to_fake + "%", this.old_from === this.result.from && !this.force_redraw || (this.$cache.from[0].style.left = this.labels.p_from_left + "%"), this.old_to === this.result.to && !this.force_redraw || (this.$cache.to[0].style.left = this.labels.p_to_left + "%")), this.$cache.single[0].style.left = this.labels.p_single_left + "%", this.writeToInput(), this.old_from === this.result.from && this.old_to === this.result.to || this.is_start || (this.$cache.input.trigger("change"), this.$cache.input.trigger("input")), this.old_from = this.result.from, this.old_to = this.result.to, this.is_resize || this.is_update || this.is_start || this.is_finish || this.callOnChange(), (this.is_key || this.is_click) && (this.is_key = !1, this.is_click = !1, this.callOnFinish()), this.is_update = !1, this.is_resize = !1, this.is_finish = !1), this.is_start = !1, this.is_key = !1, this.is_click = !1, this.force_redraw = !1)) }, drawLabels: function () { if (this.options) { var t, e, n, i, o, a = this.options.values.length, r = this.options.p_values; if (!this.options.hide_from_to) if ("single" === this.options.type) t = a ? this.decorate(r[this.result.from]) : (i = this._prettify(this.result.from), this.decorate(i, this.result.from)), this.$cache.single.html(t), this.calcLabels(), this.labels.p_single_left < this.labels.p_min + 1 ? this.$cache.min[0].style.visibility = "hidden" : this.$cache.min[0].style.visibility = "visible", this.labels.p_single_left + this.labels.p_single_fake > 100 - this.labels.p_max - 1 ? this.$cache.max[0].style.visibility = "hidden" : this.$cache.max[0].style.visibility = "visible"; else { n = a ? (this.options.decorate_both ? (t = this.decorate(r[this.result.from]), t += this.options.values_separator, t += this.decorate(r[this.result.to])) : t = this.decorate(r[this.result.from] + this.options.values_separator + r[this.result.to]), e = this.decorate(r[this.result.from]), this.decorate(r[this.result.to])) : (i = this._prettify(this.result.from), o = this._prettify(this.result.to), this.options.decorate_both ? (t = this.decorate(i, this.result.from), t += this.options.values_separator, t += this.decorate(o, this.result.to)) : t = this.decorate(i + this.options.values_separator + o, this.result.to), e = this.decorate(i, this.result.from), this.decorate(o, this.result.to)), this.$cache.single.html(t), this.$cache.from.html(e), this.$cache.to.html(n), this.calcLabels(); var s = Math.min(this.labels.p_single_left, this.labels.p_from_left), g = this.labels.p_single_left + this.labels.p_single_fake, l = this.labels.p_to_left + this.labels.p_to_fake, c = Math.max(g, l); this.labels.p_from_left + this.labels.p_from_fake >= this.labels.p_to_left ? (this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.single[0].style.visibility = "visible", c = this.result.from === this.result.to ? ("from" === this.target ? this.$cache.from[0].style.visibility = "visible" : "to" === this.target ? this.$cache.to[0].style.visibility = "visible" : this.target || (this.$cache.from[0].style.visibility = "visible"), this.$cache.single[0].style.visibility = "hidden", l) : (this.$cache.from[0].style.visibility = "hidden", this.$cache.to[0].style.visibility = "hidden", this.$cache.single[0].style.visibility = "visible", Math.max(g, l))) : (this.$cache.from[0].style.visibility = "visible", this.$cache.to[0].style.visibility = "visible", this.$cache.single[0].style.visibility = "hidden"), s < this.labels.p_min + 1 ? this.$cache.min[0].style.visibility = "hidden" : this.$cache.min[0].style.visibility = "visible", c > 100 - this.labels.p_max - 1 ? this.$cache.max[0].style.visibility = "hidden" : this.$cache.max[0].style.visibility = "visible" } } }, drawShadow: function () { var t, e, n, i, o = this.options, a = this.$cache, r = "number" == typeof o.from_min && !isNaN(o.from_min), s = "number" == typeof o.from_max && !isNaN(o.from_max), g = "number" == typeof o.to_min && !isNaN(o.to_min), l = "number" == typeof o.to_max && !isNaN(o.to_max); "single" === o.type ? o.from_shadow && (r || s) ? (t = this.convertToPercent(r ? o.from_min : o.min), e = this.convertToPercent(s ? o.from_max : o.max) - t, t = this.toFixed(t - this.coords.p_handle / 100 * t), e = this.toFixed(e - this.coords.p_handle / 100 * e), t += this.coords.p_handle / 2, a.shad_single[0].style.display = "block", a.shad_single[0].style.left = t + "%", a.shad_single[0].style.width = e + "%") : a.shad_single[0].style.display = "none" : (o.from_shadow && (r || s) ? (t = this.convertToPercent(r ? o.from_min : o.min), e = this.convertToPercent(s ? o.from_max : o.max) - t, t = this.toFixed(t - this.coords.p_handle / 100 * t), e = this.toFixed(e - this.coords.p_handle / 100 * e), t += this.coords.p_handle / 2, a.shad_from[0].style.display = "block", a.shad_from[0].style.left = t + "%", a.shad_from[0].style.width = e + "%") : a.shad_from[0].style.display = "none", o.to_shadow && (g || l) ? (n = this.convertToPercent(g ? o.to_min : o.min), i = this.convertToPercent(l ? o.to_max : o.max) - n, n = this.toFixed(n - this.coords.p_handle / 100 * n), i = this.toFixed(i - this.coords.p_handle / 100 * i), n += this.coords.p_handle / 2, a.shad_to[0].style.display = "block", a.shad_to[0].style.left = n + "%", a.shad_to[0].style.width = i + "%") : a.shad_to[0].style.display = "none") }, writeToInput: function () { "single" === this.options.type ? (this.options.values.length ? this.$cache.input.prop("value", this.result.from_value) : this.$cache.input.prop("value", this.result.from), this.$cache.input.data("from", this.result.from)) : (this.options.values.length ? this.$cache.input.prop("value", this.result.from_value + this.options.input_values_separator + this.result.to_value) : this.$cache.input.prop("value", this.result.from + this.options.input_values_separator + this.result.to), this.$cache.input.data("from", this.result.from), this.$cache.input.data("to", this.result.to)) }, callOnStart: function () { this.writeToInput(), this.options.onStart && "function" == typeof this.options.onStart && (this.options.scope ? this.options.onStart.call(this.options.scope, this.result) : this.options.onStart(this.result)) }, callOnChange: function () { this.writeToInput(), this.options.onChange && "function" == typeof this.options.onChange && (this.options.scope ? this.options.onChange.call(this.options.scope, this.result) : this.options.onChange(this.result)) }, callOnFinish: function () { this.writeToInput(), this.options.onFinish && "function" == typeof this.options.onFinish && (this.options.scope ? this.options.onFinish.call(this.options.scope, this.result) : this.options.onFinish(this.result)) }, callOnUpdate: function () { this.writeToInput(), this.options.onUpdate && "function" == typeof this.options.onUpdate && (this.options.scope ? this.options.onUpdate.call(this.options.scope, this.result) : this.options.onUpdate(this.result)) }, toggleInput: function () { this.$cache.input.toggleClass("irs-hidden-input"), this.has_tab_index ? this.$cache.input.prop("tabindex", -1) : this.$cache.input.removeProp("tabindex"), this.has_tab_index = !this.has_tab_index }, convertToPercent: function (t, e) { var n, i = this.options.max - this.options.min, o = i / 100; return i ? (n = (e ? t : t - this.options.min) / o, this.toFixed(n)) : (this.no_diapason = !0, 0) }, convertToValue: function (t) { var e, n, i = this.options.min, o = this.options.max, a = i.toString().split(".")[1], r = o.toString().split(".")[1], s = 0, g = 0; if (0 === t) return this.options.min; if (100 === t) return this.options.max; a && (s = e = a.length), r && (s = n = r.length), e && n && (s = n <= e ? e : n), i < 0 && (i = +(i + (g = Math.abs(i))).toFixed(s), o = +(o + g).toFixed(s)); var l, c = (o - i) / 100 * t + i, I = this.options.step.toString().split(".")[1]; return c = I ? +c.toFixed(I.length) : (c /= this.options.step, +(c *= this.options.step).toFixed(0)), g && (c -= g), (l = I ? +c.toFixed(I.length) : this.toFixed(c)) < this.options.min ? l = this.options.min : l > this.options.max && (l = this.options.max), l }, calcWithStep: function (t) { var e = Math.round(t / this.coords.p_step) * this.coords.p_step; return 100 < e && (e = 100), 100 === t && (e = 100), this.toFixed(e) }, checkMinInterval: function (t, e, n) { var i, o, a = this.options; return a.min_interval ? (i = this.convertToValue(t), o = this.convertToValue(e), "from" === n ? o - i < a.min_interval && (i = o - a.min_interval) : i - o < a.min_interval && (i = o + a.min_interval), this.convertToPercent(i)) : t }, checkMaxInterval: function (t, e, n) { var i, o, a = this.options; return a.max_interval ? (i = this.convertToValue(t), o = this.convertToValue(e), "from" === n ? o - i > a.max_interval && (i = o - a.max_interval) : i - o > a.max_interval && (i = o + a.max_interval), this.convertToPercent(i)) : t }, checkDiapason: function (t, e, n) { var i = this.convertToValue(t), o = this.options; return "number" != typeof e && (e = o.min), "number" != typeof n && (n = o.max), i < e && (i = e), n < i && (i = n), this.convertToPercent(i) }, toFixed: function (t) { return +(t = t.toFixed(20)) }, _prettify: function (t) { return this.options.prettify_enabled ? this.options.prettify && "function" == typeof this.options.prettify ? this.options.prettify(t) : this.prettify(t) : t }, prettify: function (t) { return t.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g, "$1" + this.options.prettify_separator) }, checkEdges: function (t, e) { return this.options.force_edges && (t < 0 ? t = 0 : 100 - e < t && (t = 100 - e)), this.toFixed(t) }, validate: function () { var t, e, n = this.options, i = this.result, o = n.values, a = o.length; if ("string" == typeof n.min && (n.min = +n.min), "string" == typeof n.max && (n.max = +n.max), "string" == typeof n.from && (n.from = +n.from), "string" == typeof n.to && (n.to = +n.to), "string" == typeof n.step && (n.step = +n.step), "string" == typeof n.from_min && (n.from_min = +n.from_min), "string" == typeof n.from_max && (n.from_max = +n.from_max), "string" == typeof n.to_min && (n.to_min = +n.to_min), "string" == typeof n.to_max && (n.to_max = +n.to_max), "string" == typeof n.grid_num && (n.grid_num = +n.grid_num), n.max < n.min && (n.max = n.min), a) for (n.p_values = [], n.min = 0, n.max = a - 1, n.step = 1, n.grid_num = n.max, n.grid_snap = !0, e = 0; e < a; e++)t = +o[e], t = isNaN(t) ? o[e] : (o[e] = t, this._prettify(t)), n.p_values.push(t); "number" == typeof n.from && !isNaN(n.from) || (n.from = n.min), "number" == typeof n.to && !isNaN(n.to) || (n.to = n.max), "single" === n.type ? (n.from < n.min && (n.from = n.min), n.from > n.max && (n.from = n.max)) : (n.from < n.min && (n.from = n.min), n.from > n.max && (n.from = n.max), n.to < n.min && (n.to = n.min), n.to > n.max && (n.to = n.max), this.update_check.from && (this.update_check.from !== n.from && n.from > n.to && (n.from = n.to), this.update_check.to !== n.to && n.to < n.from && (n.to = n.from)), n.from > n.to && (n.from = n.to), n.to < n.from && (n.to = n.from)), ("number" != typeof n.step || isNaN(n.step) || !n.step || n.step < 0) && (n.step = 1), "number" == typeof n.from_min && n.from < n.from_min && (n.from = n.from_min), "number" == typeof n.from_max && n.from > n.from_max && (n.from = n.from_max), "number" == typeof n.to_min && n.to < n.to_min && (n.to = n.to_min), "number" == typeof n.to_max && n.from > n.to_max && (n.to = n.to_max), i && (i.min !== n.min && (i.min = n.min), i.max !== n.max && (i.max = n.max), (i.from < i.min || i.from > i.max) && (i.from = n.from), (i.to < i.min || i.to > i.max) && (i.to = n.to)), ("number" != typeof n.min_interval || isNaN(n.min_interval) || !n.min_interval || n.min_interval < 0) && (n.min_interval = 0), ("number" != typeof n.max_interval || isNaN(n.max_interval) || !n.max_interval || n.max_interval < 0) && (n.max_interval = 0), n.min_interval && n.min_interval > n.max - n.min && (n.min_interval = n.max - n.min), n.max_interval && n.max_interval > n.max - n.min && (n.max_interval = n.max - n.min) }, decorate: function (t, e) { var n = "", i = this.options; return i.prefix && (n += i.prefix), n += t, i.max_postfix && (i.values.length && t === i.p_values[i.max] ? (n += i.max_postfix, i.postfix && (n += " ")) : e === i.max && (n += i.max_postfix, i.postfix && (n += " "))), i.postfix && (n += i.postfix), n }, updateFrom: function () { this.result.from = this.options.from, this.result.from_percent = this.convertToPercent(this.result.from), this.result.from_pretty = this._prettify(this.result.from), this.options.values && (this.result.from_value = this.options.values[this.result.from]) }, updateTo: function () { this.result.to = this.options.to, this.result.to_percent = this.convertToPercent(this.result.to), this.result.to_pretty = this._prettify(this.result.to), this.options.values && (this.result.to_value = this.options.values[this.result.to]) }, updateResult: function () { this.result.min = this.options.min, this.result.max = this.options.max, this.updateFrom(), this.updateTo() }, appendGrid: function () { if (this.options.grid) { var t, e, n, i, o, a, r = this.options, s = r.max - r.min, g = r.grid_num, l = 0, c = 4, I = ""; for (this.calcGridMargin(), r.grid_snap && (g = s / r.step), 50 < g && (g = 50), n = this.toFixed(100 / g), 4 < g && (c = 3), 7 < g && (c = 2), 14 < g && (c = 1), 28 < g && (c = 0), t = 0; t < g + 1; t++) { for (i = c, 100 < (l = this.toFixed(n * t)) && (l = 100), o = ((this.coords.big[t] = l) - n * (t - 1)) / (i + 1), e = 1; e <= i && 0 !== l; e++)I += '<span class="irs-grid-pol small" style="left: ' + this.toFixed(l - o * e) + '%"></span>'; I += '<span class="irs-grid-pol" style="left: ' + l + '%"></span>', a = this.convertToValue(l), I += '<span class="irs-grid-text js-grid-text-' + t + '" style="left: ' + l + '%">' + (a = r.values.length ? r.p_values[a] : this._prettify(a)) + "</span>" } this.coords.big_num = Math.ceil(g + 1), this.$cache.cont.addClass("irs-with-grid"), this.$cache.grid.html(I), this.cacheGridLabels() } }, cacheGridLabels: function () { var t, e, n = this.coords.big_num; for (e = 0; e < n; e++)t = this.$cache.grid.find(".js-grid-text-" + e), this.$cache.grid_labels.push(t); this.calcGridLabels() }, calcGridLabels: function () { var t, e, n = [], i = [], o = this.coords.big_num; for (t = 0; t < o; t++)this.coords.big_w[t] = this.$cache.grid_labels[t].outerWidth(!1), this.coords.big_p[t] = this.toFixed(this.coords.big_w[t] / this.coords.w_rs * 100), this.coords.big_x[t] = this.toFixed(this.coords.big_p[t] / 2), n[t] = this.toFixed(this.coords.big[t] - this.coords.big_x[t]), i[t] = this.toFixed(n[t] + this.coords.big_p[t]); for (this.options.force_edges && (n[0] < -this.coords.grid_gap && (n[0] = -this.coords.grid_gap, i[0] = this.toFixed(n[0] + this.coords.big_p[0]), this.coords.big_x[0] = this.coords.grid_gap), i[o - 1] > 100 + this.coords.grid_gap && (i[o - 1] = 100 + this.coords.grid_gap, n[o - 1] = this.toFixed(i[o - 1] - this.coords.big_p[o - 1]), this.coords.big_x[o - 1] = this.toFixed(this.coords.big_p[o - 1] - this.coords.grid_gap))), this.calcGridCollision(2, n, i), this.calcGridCollision(4, n, i), t = 0; t < o; t++)e = this.$cache.grid_labels[t][0], this.coords.big_x[t] !== Number.POSITIVE_INFINITY && (e.style.marginLeft = -this.coords.big_x[t] + "%") }, calcGridCollision: function (t, e, n) { var i, o, a, r = this.coords.big_num; for (i = 0; i < r && !(r <= (o = i + t / 2)); i += t)a = this.$cache.grid_labels[o][0], n[i] <= e[o] ? a.style.visibility = "visible" : a.style.visibility = "hidden" }, calcGridMargin: function () { this.options.grid_margin && (this.coords.w_rs = this.$cache.rs.outerWidth(!1), this.coords.w_rs && ("single" === this.options.type ? this.coords.w_handle = this.$cache.s_single.outerWidth(!1) : this.coords.w_handle = this.$cache.s_from.outerWidth(!1), this.coords.p_handle = this.toFixed(this.coords.w_handle / this.coords.w_rs * 100), this.coords.grid_gap = this.toFixed(this.coords.p_handle / 2 - .1), this.$cache.grid[0].style.width = this.toFixed(100 - this.coords.p_handle) + "%", this.$cache.grid[0].style.left = this.coords.grid_gap + "%")) }, update: function (e) { this.input && (this.is_update = !0, this.options.from = this.result.from, this.options.to = this.result.to, this.update_check.from = this.result.from, this.update_check.to = this.result.to, this.options = t.extend(this.options, e), this.validate(), this.updateResult(e), this.toggleInput(), this.remove(), this.init(!0)) }, reset: function () { this.input && (this.updateResult(), this.update()) }, destroy: function () { this.input && (this.toggleInput(), this.$cache.input.prop("readonly", !1), t.data(this.input, "ionRangeSlider", null), this.remove(), this.input = null, this.options = null) } }, t.fn.ionRangeSlider = function (e) { return this.each(function () { t.data(this, "ionRangeSlider") || t.data(this, "ionRangeSlider", new l(this, e, s++)) }) }, function () { for (var t = 0, e = ["ms", "moz", "webkit", "o"], i = 0; i < e.length && !n.requestAnimationFrame; ++i)n.requestAnimationFrame = n[e[i] + "RequestAnimationFrame"], n.cancelAnimationFrame = n[e[i] + "CancelAnimationFrame"] || n[e[i] + "CancelRequestAnimationFrame"]; n.requestAnimationFrame || (n.requestAnimationFrame = function (e, i) { var o = (new Date).getTime(), a = Math.max(0, 16 - (o - t)), r = n.setTimeout(function () { e(o + a) }, a); return t = o + a, r }), n.cancelAnimationFrame || (n.cancelAnimationFrame = function (t) { clearTimeout(t) }) }() }), function (t, e) { "function" == typeof define && define.amd ? define("bloodhound", ["jquery"], function (n) { return t.Bloodhound = e(n) }) : "object" == typeof exports ? module.exports = e(require("jquery")) : t.Bloodhound = e(jQuery) }(this, function (t) { var e = function () { "use strict"; return { isMsie: function () { return !!/(msie|trident)/i.test(navigator.userAgent) && navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] }, isBlankString: function (t) { return !t || /^\s*$/.test(t) }, escapeRegExChars: function (t) { return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&") }, isString: function (t) { return "string" == typeof t }, isNumber: function (t) { return "number" == typeof t }, isArray: t.isArray, isFunction: t.isFunction, isObject: t.isPlainObject, isUndefined: function (t) { return void 0 === t }, isElement: function (t) { return !(!t || 1 !== t.nodeType) }, isJQuery: function (e) { return e instanceof t }, toStr: function (t) { return e.isUndefined(t) || null === t ? "" : t + "" }, bind: t.proxy, each: function (e, n) { t.each(e, function (t, e) { return n(e, t) }) }, map: t.map, filter: t.grep, every: function (e, n) { var i = !0; return e ? (t.each(e, function (t, o) { if (!(i = n.call(null, o, t, e))) return !1 }), !!i) : i }, some: function (e, n) { var i = !1; return e ? (t.each(e, function (t, o) { if (i = n.call(null, o, t, e)) return !1 }), !!i) : i }, mixin: t.extend, identity: function (t) { return t }, clone: function (e) { return t.extend(!0, {}, e) }, getIdGenerator: function () { var t = 0; return function () { return t++ } }, templatify: function (e) { return t.isFunction(e) ? e : function () { return String(e) } }, defer: function (t) { setTimeout(t, 0) }, debounce: function (t, e, n) { var i, o; return function () { var a, r, s = this, g = arguments; return a = function () { i = null, n || (o = t.apply(s, g)) }, r = n && !i, clearTimeout(i), i = setTimeout(a, e), r && (o = t.apply(s, g)), o } }, throttle: function (t, e) { var n, i, o, a, r, s; return r = 0, s = function () { r = new Date, o = null, a = t.apply(n, i) }, function () { var g = new Date, l = e - (g - r); return n = this, i = arguments, l <= 0 ? (clearTimeout(o), o = null, r = g, a = t.apply(n, i)) : o || (o = setTimeout(s, l)), a } }, stringify: function (t) { return e.isString(t) ? t : JSON.stringify(t) }, noop: function () { } } }(), n = function () { "use strict"; return { nonword: n, whitespace: t, obj: { nonword: i(n), whitespace: i(t) } }; function t(t) { return (t = e.toStr(t)) ? t.split(/\s+/) : [] } function n(t) { return (t = e.toStr(t)) ? t.split(/\W+/) : [] } function i(t) { return function (n) { return n = e.isArray(n) ? n : [].slice.call(arguments, 0), function (i) { var o = []; return e.each(n, function (n) { o = o.concat(t(e.toStr(i[n]))) }), o } } } }(), i = function () { "use strict"; function n(n) { this.maxSize = e.isNumber(n) ? n : 100, this.reset(), this.maxSize <= 0 && (this.set = this.get = t.noop) } function i() { this.head = this.tail = null } function o(t, e) { this.key = t, this.val = e, this.prev = this.next = null } return e.mixin(n.prototype, { set: function (t, e) { var n, i = this.list.tail; this.size >= this.maxSize && (this.list.remove(i), delete this.hash[i.key], this.size--), (n = this.hash[t]) ? (n.val = e, this.list.moveToFront(n)) : (n = new o(t, e), this.list.add(n), this.hash[t] = n, this.size++) }, get: function (t) { var e = this.hash[t]; if (e) return this.list.moveToFront(e), e.val }, reset: function () { this.size = 0, this.hash = {}, this.list = new i } }), e.mixin(i.prototype, { add: function (t) { this.head && (t.next = this.head, this.head.prev = t), this.head = t, this.tail = this.tail || t }, remove: function (t) { t.prev ? t.prev.next = t.next : this.head = t.next, t.next ? t.next.prev = t.prev : this.tail = t.prev }, moveToFront: function (t) { this.remove(t), this.add(t) } }), n }(), o = function () { "use strict"; var n; try { (n = window.localStorage).setItem("~~~", "!"), n.removeItem("~~~") } catch (i) { n = null } function i(t, i) { this.prefix = ["__", t, "__"].join(""), this.ttlKey = "__ttl__", this.keyMatcher = new RegExp("^" + e.escapeRegExChars(this.prefix)), this.ls = i || n, this.ls || this._noop() } return e.mixin(i.prototype, { _prefix: function (t) { return this.prefix + t }, _ttlKey: function (t) { return this._prefix(t) + this.ttlKey }, _noop: function () { this.get = this.set = this.remove = this.clear = this.isExpired = e.noop }, _safeSet: function (t, e) { try { this.ls.setItem(t, e) } catch (t) { "QuotaExceededError" === t.name && (this.clear(), this._noop()) } }, get: function (t) { return this.isExpired(t) && this.remove(t), r(this.ls.getItem(this._prefix(t))) }, set: function (t, n, i) { return e.isNumber(i) ? this._safeSet(this._ttlKey(t), a(o() + i)) : this.ls.removeItem(this._ttlKey(t)), this._safeSet(this._prefix(t), a(n)) }, remove: function (t) { return this.ls.removeItem(this._ttlKey(t)), this.ls.removeItem(this._prefix(t)), this }, clear: function () { var t, e = function (t) { var e, i, o = [], a = n.length; for (e = 0; e < a; e++)(i = n.key(e)).match(t) && o.push(i.replace(t, "")); return o }(this.keyMatcher); for (t = e.length; t--;)this.remove(e[t]); return this }, isExpired: function (t) { var n = r(this.ls.getItem(this._ttlKey(t))); return !!(e.isNumber(n) && o() > n) } }), i; function o() { return (new Date).getTime() } function a(t) { return JSON.stringify(e.isUndefined(t) ? null : t) } function r(e) { return t.parseJSON(e) } }(), a = function () { "use strict"; var n = 0, o = {}, a = 6, r = new i(10); function s(t) { t = t || {}, this.cancelled = !1, this.lastReq = null, this._send = t.transport, this._get = t.limiter ? t.limiter(this._get) : this._get, this._cache = !1 === t.cache ? new i(0) : r } return s.setMaxPendingRequests = function (t) { a = t }, s.resetCache = function () { r.reset() }, e.mixin(s.prototype, { _fingerprint: function (e) { return (e = e || {}).url + e.type + t.param(e.data || {}) }, _get: function (t, e) { var i, r, s = this; function g(t) { e(null, t), s._cache.set(i, t) } function l() { e(!0) } i = this._fingerprint(t), this.cancelled || i !== this.lastReq || ((r = o[i]) ? r.done(g).fail(l) : n < a ? (n++, o[i] = this._send(t).done(g).fail(l).always(function () { n--, delete o[i], s.onDeckRequestArgs && (s._get.apply(s, s.onDeckRequestArgs), s.onDeckRequestArgs = null) })) : this.onDeckRequestArgs = [].slice.call(arguments, 0)) }, get: function (n, i) { var o, a; i = i || t.noop, n = e.isString(n) ? { url: n } : n || {}, a = this._fingerprint(n), this.cancelled = !1, this.lastReq = a, (o = this._cache.get(a)) ? i(null, o) : this._get(n, i) }, cancel: function () { this.cancelled = !0 } }), s }(), r = window.SearchIndex = function () { "use strict"; var n = "c", i = "i"; function o(n) { (n = n || {}).datumTokenizer && n.queryTokenizer || t.error("datumTokenizer and queryTokenizer are both required"), this.identify = n.identify || e.stringify, this.datumTokenizer = n.datumTokenizer, this.queryTokenizer = n.queryTokenizer, this.reset() } return e.mixin(o.prototype, { bootstrap: function (t) { this.datums = t.datums, this.trie = t.trie }, add: function (t) { var o = this; t = e.isArray(t) ? t : [t], e.each(t, function (t) { var s, g; o.datums[s = o.identify(t)] = t, g = a(o.datumTokenizer(t)), e.each(g, function (t) { var e, a, g; for (e = o.trie, a = t.split(""); g = a.shift();)(e = e[n][g] || (e[n][g] = r()))[i].push(s) }) }) }, get: function (t) { var n = this; return e.map(t, function (t) { return n.datums[t] }) }, search: function (t) { var o, r, s = this; return o = a(this.queryTokenizer(t)), e.each(o, function (t) { var e, o, a, g; if (r && 0 === r.length) return !1; for (e = s.trie, o = t.split(""); e && (a = o.shift());)e = e[n][a]; if (!e || 0 !== o.length) return !(r = []); g = e[i].slice(0), r = r ? function (t, e) { var n = 0, i = 0, o = []; t = t.sort(), e = e.sort(); for (var a = t.length, r = e.length; n < a && i < r;)t[n] < e[i] ? n++ : (t[n] > e[i] || (o.push(t[n]), n++), i++); return o }(r, g) : g }), r ? e.map(function (t) { for (var e = {}, n = [], i = 0, o = t.length; i < o; i++)e[t[i]] || (e[t[i]] = !0, n.push(t[i])); return n }(r), function (t) { return s.datums[t] }) : [] }, all: function () { var t = []; for (var e in this.datums) t.push(this.datums[e]); return t }, reset: function () { this.datums = {}, this.trie = r() }, serialize: function () { return { datums: this.datums, trie: this.trie } } }), o; function a(t) { return t = e.filter(t, function (t) { return !!t }), e.map(t, function (t) { return t.toLowerCase() }) } function r() { var t = {}; return t[i] = [], t[n] = {}, t } }(), s = function () { "use strict"; var t; function n(t) { this.url = t.url, this.ttl = t.ttl, this.cache = t.cache, this.prepare = t.prepare, this.transform = t.transform, this.transport = t.transport, this.thumbprint = t.thumbprint, this.storage = new o(t.cacheKey) } return t = { data: "data", protocol: "protocol", thumbprint: "thumbprint" }, e.mixin(n.prototype, { _settings: function () { return { url: this.url, type: "GET", dataType: "json" } }, store: function (e) { this.cache && (this.storage.set(t.data, e, this.ttl), this.storage.set(t.protocol, location.protocol, this.ttl), this.storage.set(t.thumbprint, this.thumbprint, this.ttl)) }, fromCache: function () { var e, n = {}; return this.cache ? (n.data = this.storage.get(t.data), n.protocol = this.storage.get(t.protocol), n.thumbprint = this.storage.get(t.thumbprint), e = n.thumbprint !== this.thumbprint || n.protocol !== location.protocol, n.data && !e ? n.data : null) : null }, fromNetwork: function (t) { var e, n = this; t && (e = this.prepare(this._settings()), this.transport(e).fail(function () { t(!0) }).done(function (e) { t(null, n.transform(e)) })) }, clear: function () { return this.storage.clear(), this } }), n }(), g = function () { "use strict"; function t(t) { this.url = t.url, this.prepare = t.prepare, this.transform = t.transform, this.transport = new a({ cache: t.cache, limiter: t.limiter, transport: t.transport }) } return e.mixin(t.prototype, { _settings: function () { return { url: this.url, type: "GET", dataType: "json" } }, get: function (t, e) { var n, i = this; if (e) return t = t || "", n = this.prepare(t, this._settings()), this.transport.get(n, function (t, n) { e(t ? [] : i.transform(n)) }) }, cancelLastRequest: function () { this.transport.cancel() } }), t }(), l = function () { "use strict"; return function (i) { var o, a; return o = { initialize: !0, identify: e.stringify, datumTokenizer: null, queryTokenizer: null, sufficient: 5, sorter: null, local: [], prefetch: null, remote: null }, (i = e.mixin(o, i || {})).datumTokenizer || t.error("datumTokenizer is required"), i.queryTokenizer || t.error("queryTokenizer is required"), a = i.sorter, i.sorter = a ? function (t) { return t.sort(a) } : e.identity, i.local = e.isFunction(i.local) ? i.local() : i.local, i.prefetch = function (i) { var o; return i ? (o = { url: null, ttl: 864e5, cache: !0, cacheKey: null, thumbprint: "", prepare: e.identity, transform: e.identity, transport: null }, i = e.isString(i) ? { url: i } : i, (i = e.mixin(o, i)).url || t.error("prefetch requires url to be set"), i.transform = i.filter || i.transform, i.cacheKey = i.cacheKey || i.url, i.thumbprint = "0.11.1" + i.thumbprint, i.transport = i.transport ? n(i.transport) : t.ajax, i) : null }(i.prefetch), i.remote = function (i) { var o; return i ? (o = { url: null, cache: !0, prepare: null, replace: null, wildcard: null, limiter: null, rateLimitBy: "debounce", rateLimitWait: 300, transform: e.identity, transport: null }, i = e.isString(i) ? { url: i } : i, (i = e.mixin(o, i)).url || t.error("remote requires url to be set"), i.transform = i.filter || i.transform, i.prepare = function (t) { var e, n, i; return e = t.prepare, n = t.replace, i = t.wildcard, e || (e = n ? function (t, e) { return e.url = n(e.url, t), e } : t.wildcard ? function (t, e) { return e.url = e.url.replace(i, encodeURIComponent(t)), e } : function (t, e) { return e }) }(i), i.limiter = function (t) { var n, i, o; return n = t.limiter, i = t.rateLimitBy, o = t.rateLimitWait, n || (n = /^throttle$/i.test(i) ? function (t) { return function (n) { return e.throttle(n, t) } }(o) : function (t) { return function (n) { return e.debounce(n, t) } }(o)), n }(i), i.transport = i.transport ? n(i.transport) : t.ajax, delete i.replace, delete i.wildcard, delete i.rateLimitBy, delete i.rateLimitWait, i) : void 0 }(i.remote), i }; function n(n) { return function (i) { var o = t.Deferred(); return n(i, function (t) { e.defer(function () { o.resolve(t) }) }, function (t) { e.defer(function () { o.reject(t) }) }), o } } }(); return function () { "use strict"; var i; function o(t) { t = l(t), this.sorter = t.sorter, this.identify = t.identify, this.sufficient = t.sufficient, this.local = t.local, this.remote = t.remote ? new g(t.remote) : null, this.prefetch = t.prefetch ? new s(t.prefetch) : null, this.index = new r({ identify: this.identify, datumTokenizer: t.datumTokenizer, queryTokenizer: t.queryTokenizer }), !1 !== t.initialize && this.initialize() } return i = window && window.Bloodhound, o.noConflict = function () { return window && (window.Bloodhound = i), o }, o.tokenizers = n, e.mixin(o.prototype, { __ttAdapter: function () { var t = this; return this.remote ? function (e, n, i) { return t.search(e, n, i) } : function (e, n) { return t.search(e, n) } }, _loadPrefetch: function () { var e, n, i = this; return e = t.Deferred(), this.prefetch ? (n = this.prefetch.fromCache()) ? (this.index.bootstrap(n), e.resolve()) : this.prefetch.fromNetwork(function (t, n) { if (t) return e.reject(); i.add(n), i.prefetch.store(i.index.serialize()), e.resolve() }) : e.resolve(), e.promise() }, _initialize: function () { var t = this; return this.clear(), (this.initPromise = this._loadPrefetch()).done(function () { t.add(t.local) }), this.initPromise }, initialize: function (t) { return !this.initPromise || t ? this._initialize() : this.initPromise }, add: function (t) { return this.index.add(t), this }, get: function (t) { return t = e.isArray(t) ? t : [].slice.call(arguments), this.index.get(t) }, search: function (t, n, i) { var o, a = this; return o = this.sorter(this.index.search(t)), n(this.remote ? o.slice() : o), this.remote && o.length < this.sufficient ? this.remote.get(t, function (t) { var n = []; e.each(t, function (t) { e.some(o, function (e) { return a.identify(t) === a.identify(e) }) || n.push(t) }), i && i(n) }) : this.remote && this.remote.cancelLastRequest(), this }, all: function () { return this.index.all() }, clear: function () { return this.index.reset(), this }, clearPrefetchCache: function () { return this.prefetch && this.prefetch.clear(), this }, clearRemoteCache: function () { return a.resetCache(), this }, ttAdapter: function () { return this.__ttAdapter() } }), o }() }), function (t, e) { "function" == typeof define && define.amd ? define("typeahead.js", ["jquery"], function (t) { return e(t) }) : "object" == typeof exports ? module.exports = e(require("jquery")) : e(jQuery) }(0, function (t) { var e = function () { "use strict"; return { isMsie: function () { return !!/(msie|trident)/i.test(navigator.userAgent) && navigator.userAgent.match(/(msie |rv:)(\d+(.\d+)?)/i)[2] }, isBlankString: function (t) { return !t || /^\s*$/.test(t) }, escapeRegExChars: function (t) { return t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g, "\\$&") }, isString: function (t) { return "string" == typeof t }, isNumber: function (t) { return "number" == typeof t }, isArray: t.isArray, isFunction: t.isFunction, isObject: t.isPlainObject, isUndefined: function (t) { return void 0 === t }, isElement: function (t) { return !(!t || 1 !== t.nodeType) }, isJQuery: function (e) { return e instanceof t }, toStr: function (t) { return e.isUndefined(t) || null === t ? "" : t + "" }, bind: t.proxy, each: function (e, n) { t.each(e, function (t, e) { return n(e, t) }) }, map: t.map, filter: t.grep, every: function (e, n) { var i = !0; return e ? (t.each(e, function (t, o) { if (!(i = n.call(null, o, t, e))) return !1 }), !!i) : i }, some: function (e, n) { var i = !1; return e ? (t.each(e, function (t, o) { if (i = n.call(null, o, t, e)) return !1 }), !!i) : i }, mixin: t.extend, identity: function (t) { return t }, clone: function (e) { return t.extend(!0, {}, e) }, getIdGenerator: function () { var t = 0; return function () { return t++ } }, templatify: function (e) { return t.isFunction(e) ? e : function () { return String(e) } }, defer: function (t) { setTimeout(t, 0) }, debounce: function (t, e, n) { var i, o; return function () { var a, r, s = this, g = arguments; return a = function () { i = null, n || (o = t.apply(s, g)) }, r = n && !i, clearTimeout(i), i = setTimeout(a, e), r && (o = t.apply(s, g)), o } }, throttle: function (t, e) { var n, i, o, a, r, s; return r = 0, s = function () { r = new Date, o = null, a = t.apply(n, i) }, function () { var g = new Date, l = e - (g - r); return n = this, i = arguments, l <= 0 ? (clearTimeout(o), o = null, r = g, a = t.apply(n, i)) : o || (o = setTimeout(s, l)), a } }, stringify: function (t) { return e.isString(t) ? t : JSON.stringify(t) }, noop: function () { } } }(), n = function () { "use strict"; var t = { wrapper: "twitter-typeahead", input: "tt-input", hint: "tt-hint", menu: "tt-menu", dataset: "tt-dataset", suggestion: "tt-suggestion", selectable: "tt-selectable", empty: "tt-empty", open: "tt-open", cursor: "tt-cursor", highlight: "tt-highlight" }; return function (n) { var i, o; return o = e.mixin({}, t, n), { css: (i = { css: function () { var t = { wrapper: { position: "relative", display: "inline-block" }, hint: { position: "absolute", top: "0", left: "0", borderColor: "transparent", boxShadow: "none", opacity: "1" }, input: { position: "relative", verticalAlign: "top", backgroundColor: "transparent" }, inputWithNoHint: { position: "relative", verticalAlign: "top" }, menu: { position: "absolute", top: "100%", left: "0", zIndex: "100", display: "none" }, ltr: { left: "0", right: "auto" }, rtl: { left: "auto", right: " 0" } }; return e.isMsie() && e.mixin(t.input, { backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)" }), t }(), classes: o, html: function (t) { return { wrapper: '<span class="' + t.wrapper + '"></span>', menu: '<div class="' + t.menu + '"></div>' } }(o), selectors: function (t) { var n = {}; return e.each(t, function (t, e) { n[e] = "." + t }), n }(o) }).css, html: i.html, classes: i.classes, selectors: i.selectors, mixin: function (t) { e.mixin(t, i) } } } }(), i = function () { "use strict"; var n; function i(e) { e && e.el || t.error("EventBus initialized without el"), this.$el = t(e.el) } return n = { render: "rendered", cursorchange: "cursorchanged", select: "selected", autocomplete: "autocompleted" }, e.mixin(i.prototype, { _trigger: function (e, n) { var i; return i = t.Event("typeahead:" + e), (n = n || []).unshift(i), this.$el.trigger.apply(this.$el, n), i }, before: function (t) { var e; return e = [].slice.call(arguments, 1), this._trigger("before" + t, e).isDefaultPrevented() }, trigger: function (t) { var e; this._trigger(t, [].slice.call(arguments, 1)), (e = n[t]) && this._trigger(e, [].slice.call(arguments, 1)) } }), i }(), o = function () { "use strict"; var t = /\s+/, e = window.setImmediate ? function (t) { setImmediate(function () { t() }) } : function (t) { setTimeout(function () { t() }, 0) }; return { onSync: function (t, e, i) { return n.call(this, "sync", t, e, i) }, onAsync: function (t, e, i) { return n.call(this, "async", t, e, i) }, off: function (e) { var n; if (!this._callbacks) return this; for (e = e.split(t); n = e.shift();)delete this._callbacks[n]; return this }, trigger: function (n) { var o, a, r, s, g; if (!this._callbacks) return this; for (n = n.split(t), r = [].slice.call(arguments, 1); (o = n.shift()) && (a = this._callbacks[o]);)s = i(a.sync, this, [o].concat(r)), g = i(a.async, this, [o].concat(r)), s() && e(g); return this } }; function n(e, n, i, o) { var a; if (!i) return this; for (n = n.split(t), i = o ? function (t, e) { return t.bind ? t.bind(e) : function () { t.apply(e, [].slice.call(arguments, 0)) } }(i, o) : i, this._callbacks = this._callbacks || {}; a = n.shift();)this._callbacks[a] = this._callbacks[a] || { sync: [], async: [] }, this._callbacks[a][e].push(i); return this } function i(t, e, n) { return function () { for (var i, o = 0, a = t.length; !i && o < a; o += 1)i = !1 === t[o].apply(e, n); return !i } } }(), a = function (t) { "use strict"; var n = { node: null, pattern: null, tagName: "strong", className: null, wordsOnly: !1, caseSensitive: !1 }; return function (i) { var o; (i = e.mixin({}, n, i)).node && i.pattern && (i.pattern = e.isArray(i.pattern) ? i.pattern : [i.pattern], o = function (t, n, i) { for (var o, a = [], r = 0, s = t.length; r < s; r++)a.push(e.escapeRegExChars(t[r])); return o = i ? "\\b(" + a.join("|") + ")\\b" : "(" + a.join("|") + ")", n ? new RegExp(o) : new RegExp(o, "i") }(i.pattern, i.caseSensitive, i.wordsOnly), function t(e, n) { for (var i, o = 0; o < e.childNodes.length; o++)3 === (i = e.childNodes[o]).nodeType ? o += n(i) ? 1 : 0 : t(i, n) }(i.node, function (e) { var n, a, r; return (n = o.exec(e.data)) && (r = t.createElement(i.tagName), i.className && (r.className = i.className), (a = e.splitText(n.index)).splitText(n[0].length), r.appendChild(a.cloneNode(!0)), e.parentNode.replaceChild(r, a)), !!n })) } }(window.document), r = function () { "use strict"; var n; function i(n, i) { (n = n || {}).input || t.error("input is missing"), i.mixin(this), this.$hint = t(n.hint), this.$input = t(n.input), this.query = this.$input.val(), this.queryWhenFocused = this.hasFocus() ? this.query : null, this.$overflowHelper = function (e) { return t('<pre aria-hidden="true"></pre>').css({ position: "absolute", visibility: "hidden", whiteSpace: "pre", fontFamily: e.css("font-family"), fontSize: e.css("font-size"), fontStyle: e.css("font-style"), fontVariant: e.css("font-variant"), fontWeight: e.css("font-weight"), wordSpacing: e.css("word-spacing"), letterSpacing: e.css("letter-spacing"), textIndent: e.css("text-indent"), textRendering: e.css("text-rendering"), textTransform: e.css("text-transform") }).insertAfter(e) }(this.$input), this._checkLanguageDirection(), 0 === this.$hint.length && (this.setHint = this.getHint = this.clearHint = this.clearHintIfInvalid = e.noop) } return n = { 9: "tab", 27: "esc", 37: "left", 39: "right", 13: "enter", 38: "up", 40: "down" }, i.normalizeQuery = function (t) { return e.toStr(t).replace(/^\s*/g, "").replace(/\s{2,}/g, " ") }, e.mixin(i.prototype, o, { _onBlur: function () { this.resetInputValue(), this.trigger("blurred") }, _onFocus: function () { this.queryWhenFocused = this.query, this.trigger("focused") }, _onKeydown: function (t) { var e = n[t.which || t.keyCode]; this._managePreventDefault(e, t), e && this._shouldTrigger(e, t) && this.trigger(e + "Keyed", t) }, _onInput: function () { this._setQuery(this.getInputValue()), this.clearHintIfInvalid(), this._checkLanguageDirection() }, _managePreventDefault: function (t, e) { var n; switch (t) { case "up": case "down": n = !a(e); break; default: n = !1 }n && e.preventDefault() }, _shouldTrigger: function (t, e) { var n; switch (t) { case "tab": n = !a(e); break; default: n = !0 }return n }, _checkLanguageDirection: function () { var t = (this.$input.css("direction") || "ltr").toLowerCase(); this.dir !== t && (this.dir = t, this.$hint.attr("dir", t), this.trigger("langDirChanged", t)) }, _setQuery: function (t, e) { var n, o; o = !!(n = function (t, e) { return i.normalizeQuery(t) === i.normalizeQuery(e) }(t, this.query)) && this.query.length !== t.length, this.query = t, e || n ? !e && o && this.trigger("whitespaceChanged", this.query) : this.trigger("queryChanged", this.query) }, bind: function () { var t, i, o, a, r = this; return t = e.bind(this._onBlur, this), i = e.bind(this._onFocus, this), o = e.bind(this._onKeydown, this), a = e.bind(this._onInput, this), this.$input.on("blur.tt", t).on("focus.tt", i).on("keydown.tt", o), !e.isMsie() || 9 < e.isMsie() ? this.$input.on("input.tt", a) : this.$input.on("keydown.tt keypress.tt cut.tt paste.tt", function (t) { n[t.which || t.keyCode] || e.defer(e.bind(r._onInput, r, t)) }), this }, focus: function () { this.$input.focus() }, blur: function () { this.$input.blur() }, getLangDir: function () { return this.dir }, getQuery: function () { return this.query || "" }, setQuery: function (t, e) { this.setInputValue(t), this._setQuery(t, e) }, hasQueryChangedSinceLastFocus: function () { return this.query !== this.queryWhenFocused }, getInputValue: function () { return this.$input.val() }, setInputValue: function (t) { this.$input.val(t), this.clearHintIfInvalid(), this._checkLanguageDirection() }, resetInputValue: function () { this.setInputValue(this.query) }, getHint: function () { return this.$hint.val() }, setHint: function (t) { this.$hint.val(t) }, clearHint: function () { this.setHint("") }, clearHintIfInvalid: function () { var t, e, n; n = (t = this.getInputValue()) !== (e = this.getHint()) && 0 === e.indexOf(t), "" !== t && n && !this.hasOverflow() || this.clearHint() }, hasFocus: function () { return this.$input.is(":focus") }, hasOverflow: function () { var t = this.$input.width() - 2; return this.$overflowHelper.text(this.getInputValue()), this.$overflowHelper.width() >= t }, isCursorAtEnd: function () { var t, n, i; return t = this.$input.val().length, n = this.$input[0].selectionStart, e.isNumber(n) ? n === t : !document.selection || ((i = document.selection.createRange()).moveStart("character", -t), t === i.text.length) }, destroy: function () { this.$hint.off(".tt"), this.$input.off(".tt"), this.$overflowHelper.remove(), this.$hint = this.$input = this.$overflowHelper = t("<div>") } }), i; function a(t) { return t.altKey || t.ctrlKey || t.metaKey || t.shiftKey } }(), s = function () { "use strict"; var n, i; function r(n, o) { (n = n || {}).templates = n.templates || {}, n.templates.notFound = n.templates.notFound || n.templates.empty, n.source || t.error("missing source"), n.node || t.error("missing node"), n.name && !function (t) { return /^[_a-zA-Z0-9-]+$/.test(t) }(n.name) && t.error("invalid dataset name: " + n.name), o.mixin(this), this.highlight = !!n.highlight, this.name = n.name || i(), this.limit = n.limit || 5, this.displayFn = function (t) { return t = t || e.stringify, e.isFunction(t) ? t : function (e) { return e[t] } }(n.display || n.displayKey), this.templates = function (n, i) { return { notFound: n.notFound && e.templatify(n.notFound), pending: n.pending && e.templatify(n.pending), header: n.header && e.templatify(n.header), footer: n.footer && e.templatify(n.footer), suggestion: n.suggestion || function (e) { return t("<div>").text(i(e)) } } }(n.templates, this.displayFn), this.source = n.source.__ttAdapter ? n.source.__ttAdapter() : n.source, this.async = e.isUndefined(n.async) ? 2 < this.source.length : !!n.async, this._resetLastSuggestion(), this.$el = t(n.node).addClass(this.classes.dataset).addClass(this.classes.dataset + "-" + this.name) } return n = { val: "tt-selectable-display", obj: "tt-selectable-object" }, i = e.getIdGenerator(), r.extractData = function (e) { var i = t(e); return i.data(n.obj) ? { val: i.data(n.val) || "", obj: i.data(n.obj) || null } : null }, e.mixin(r.prototype, o, { _overwrite: function (t, e) { (e = e || []).length ? this._renderSuggestions(t, e) : this.async && this.templates.pending ? this._renderPending(t) : !this.async && this.templates.notFound ? this._renderNotFound(t) : this._empty(), this.trigger("rendered", this.name, e, !1) }, _append: function (t, e) { (e = e || []).length && this.$lastSuggestion.length ? this._appendSuggestions(t, e) : e.length ? this._renderSuggestions(t, e) : !this.$lastSuggestion.length && this.templates.notFound && this._renderNotFound(t), this.trigger("rendered", this.name, e, !0) }, _renderSuggestions: function (t, e) { var n; n = this._getSuggestionsFragment(t, e), this.$lastSuggestion = n.children().last(), this.$el.html(n).prepend(this._getHeader(t, e)).append(this._getFooter(t, e)) }, _appendSuggestions: function (t, e) { var n, i; i = (n = this._getSuggestionsFragment(t, e)).children().last(), this.$lastSuggestion.after(n), this.$lastSuggestion = i }, _renderPending: function (t) { var e = this.templates.pending; this._resetLastSuggestion(), e && this.$el.html(e({ query: t, dataset: this.name })) }, _renderNotFound: function (t) { var e = this.templates.notFound; this._resetLastSuggestion(), e && this.$el.html(e({ query: t, dataset: this.name })) }, _empty: function () { this.$el.empty(), this._resetLastSuggestion() }, _getSuggestionsFragment: function (i, o) { var r, s = this; return r = document.createDocumentFragment(), e.each(o, function (e) { var o, a; a = s._injectQuery(i, e), o = t(s.templates.suggestion(a)).data(n.obj, e).data(n.val, s.displayFn(e)).addClass(s.classes.suggestion + " " + s.classes.selectable), r.appendChild(o[0]) }), this.highlight && a({ className: this.classes.highlight, node: r, pattern: i }), t(r) }, _getFooter: function (t, e) { return this.templates.footer ? this.templates.footer({ query: t, suggestions: e, dataset: this.name }) : null }, _getHeader: function (t, e) { return this.templates.header ? this.templates.header({ query: t, suggestions: e, dataset: this.name }) : null }, _resetLastSuggestion: function () { this.$lastSuggestion = t() }, _injectQuery: function (t, n) { return e.isObject(n) ? e.mixin({ _query: t }, n) : n }, update: function (e) { var n = this, i = !1, o = !1, a = 0; function r(t) { o || (o = !0, t = (t || []).slice(0, n.limit), a = t.length, n._overwrite(e, t), a < n.limit && n.async && n.trigger("asyncRequested", e)) } this.cancel(), this.cancel = function () { i = !0, n.cancel = t.noop, n.async && n.trigger("asyncCanceled", e) }, this.source(e, r, function (o) { o = o || [], !i && a < n.limit && (n.cancel = t.noop, a += o.length, n._append(e, o.slice(0, n.limit - a)), n.async && n.trigger("asyncReceived", e)) }), o || r([]) }, cancel: t.noop, clear: function () { this._empty(), this.cancel(), this.trigger("cleared") }, isEmpty: function () { return this.$el.is(":empty") }, destroy: function () { this.$el = t("<div>") } }), r }(), g = function () { "use strict"; function n(n, i) { var o = this; (n = n || {}).node || t.error("node is required"), i.mixin(this), this.$node = t(n.node), this.query = null, this.datasets = e.map(n.datasets, function (e) { var n = o.$node.find(e.node).first(); return e.node = n.length ? n : t("<div>").appendTo(o.$node), new s(e, i) }) } return e.mixin(n.prototype, o, { _onSelectableClick: function (e) { this.trigger("selectableClicked", t(e.currentTarget)) }, _onRendered: function (t, e, n, i) { this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty()), this.trigger("datasetRendered", e, n, i) }, _onCleared: function () { this.$node.toggleClass(this.classes.empty, this._allDatasetsEmpty()), this.trigger("datasetCleared") }, _propagate: function () { this.trigger.apply(this, arguments) }, _allDatasetsEmpty: function () { return e.every(this.datasets, function (t) { return t.isEmpty() }) }, _getSelectables: function () { return this.$node.find(this.selectors.selectable) }, _removeCursor: function () { var t = this.getActiveSelectable(); t && t.removeClass(this.classes.cursor) }, _ensureVisible: function (t) { var e, n, i, o; n = (e = t.position().top) + t.outerHeight(!0), i = this.$node.scrollTop(), o = this.$node.height() + parseInt(this.$node.css("paddingTop"), 10) + parseInt(this.$node.css("paddingBottom"), 10), e < 0 ? this.$node.scrollTop(i + e) : o < n && this.$node.scrollTop(i + (n - o)) }, bind: function () { var t, n = this; return t = e.bind(this._onSelectableClick, this), this.$node.on("click.tt", this.selectors.selectable, t), e.each(this.datasets, function (t) { t.onSync("asyncRequested", n._propagate, n).onSync("asyncCanceled", n._propagate, n).onSync("asyncReceived", n._propagate, n).onSync("rendered", n._onRendered, n).onSync("cleared", n._onCleared, n) }), this }, isOpen: function () { return this.$node.hasClass(this.classes.open) }, open: function () { this.$node.addClass(this.classes.open) }, close: function () { this.$node.removeClass(this.classes.open), this._removeCursor() }, setLanguageDirection: function (t) { this.$node.attr("dir", t) }, selectableRelativeToCursor: function (t) { var e, n, i; return n = this.getActiveSelectable(), e = this._getSelectables(), -1 === (i = (i = ((i = (n ? e.index(n) : -1) + t) + 1) % (e.length + 1) - 1) < -1 ? e.length - 1 : i) ? null : e.eq(i) }, setCursor: function (t) { this._removeCursor(), (t = t && t.first()) && (t.addClass(this.classes.cursor), this._ensureVisible(t)) }, getSelectableData: function (t) { return t && t.length ? s.extractData(t) : null }, getActiveSelectable: function () { var t = this._getSelectables().filter(this.selectors.cursor).first(); return t.length ? t : null }, getTopSelectable: function () { var t = this._getSelectables().first(); return t.length ? t : null }, update: function (t) { var n = t !== this.query; return n && (this.query = t, e.each(this.datasets, function (e) { e.update(t) })), n }, empty: function () { e.each(this.datasets, function (t) { t.clear() }), this.query = null, this.$node.addClass(this.classes.empty) }, destroy: function () { this.$node.off(".tt"), this.$node = t("<div>"), e.each(this.datasets, function (t) { t.destroy() }) } }), n }(), l = function () { "use strict"; var t = g.prototype; function n() { g.apply(this, [].slice.call(arguments, 0)) } return e.mixin(n.prototype, g.prototype, { open: function () { return this._allDatasetsEmpty() || this._show(), t.open.apply(this, [].slice.call(arguments, 0)) }, close: function () { return this._hide(), t.close.apply(this, [].slice.call(arguments, 0)) }, _onRendered: function () { return this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show(), t._onRendered.apply(this, [].slice.call(arguments, 0)) }, _onCleared: function () { return this._allDatasetsEmpty() ? this._hide() : this.isOpen() && this._show(), t._onCleared.apply(this, [].slice.call(arguments, 0)) }, setLanguageDirection: function (e) { return this.$node.css("ltr" === e ? this.css.ltr : this.css.rtl), t.setLanguageDirection.apply(this, [].slice.call(arguments, 0)) }, _hide: function () { this.$node.hide() }, _show: function () { this.$node.css("display", "block") } }), n }(), c = function () { "use strict"; function n(n, o) { var a, r, s, g, l, c, I, u, h, d, C; (n = n || {}).input || t.error("missing input"), n.menu || t.error("missing menu"), n.eventBus || t.error("missing event bus"), o.mixin(this), this.eventBus = n.eventBus, this.minLength = e.isNumber(n.minLength) ? n.minLength : 1, this.input = n.input, this.menu = n.menu, this.enabled = !0, this.active = !1, this.input.hasFocus() && this.activate(), this.dir = this.input.getLangDir(), this._hacks(), this.menu.bind().onSync("selectableClicked", this._onSelectableClicked, this).onSync("asyncRequested", this._onAsyncRequested, this).onSync("asyncCanceled", this._onAsyncCanceled, this).onSync("asyncReceived", this._onAsyncReceived, this).onSync("datasetRendered", this._onDatasetRendered, this).onSync("datasetCleared", this._onDatasetCleared, this), a = i(this, "activate", "open", "_onFocused"), r = i(this, "deactivate", "_onBlurred"), s = i(this, "isActive", "isOpen", "_onEnterKeyed"), g = i(this, "isActive", "isOpen", "_onTabKeyed"), l = i(this, "isActive", "_onEscKeyed"), c = i(this, "isActive", "open", "_onUpKeyed"), I = i(this, "isActive", "open", "_onDownKeyed"), u = i(this, "isActive", "isOpen", "_onLeftKeyed"), h = i(this, "isActive", "isOpen", "_onRightKeyed"), d = i(this, "_openIfActive", "_onQueryChanged"), C = i(this, "_openIfActive", "_onWhitespaceChanged"), this.input.bind().onSync("focused", a, this).onSync("blurred", r, this).onSync("enterKeyed", s, this).onSync("tabKeyed", g, this).onSync("escKeyed", l, this).onSync("upKeyed", c, this).onSync("downKeyed", I, this).onSync("leftKeyed", u, this).onSync("rightKeyed", h, this).onSync("queryChanged", d, this).onSync("whitespaceChanged", C, this).onSync("langDirChanged", this._onLangDirChanged, this) } return e.mixin(n.prototype, { _hacks: function () { var n, i; n = this.input.$input || t("<div>"), i = this.menu.$node || t("<div>"), n.on("blur.tt", function (t) { var o, a, r; o = document.activeElement, a = i.is(o), r = 0 < i.has(o).length, e.isMsie() && (a || r) && (t.preventDefault(), t.stopImmediatePropagation(), e.defer(function () { n.focus() })) }), i.on("mousedown.tt", function (t) { t.preventDefault() }) }, _onSelectableClicked: function (t, e) { this.select(e) }, _onDatasetCleared: function () { this._updateHint() }, _onDatasetRendered: function (t, e, n, i) { this._updateHint(), this.eventBus.trigger("render", n, i, e) }, _onAsyncRequested: function (t, e, n) { this.eventBus.trigger("asyncrequest", n, e) }, _onAsyncCanceled: function (t, e, n) { this.eventBus.trigger("asynccancel", n, e) }, _onAsyncReceived: function (t, e, n) { this.eventBus.trigger("asyncreceive", n, e) }, _onFocused: function () { this._minLengthMet() && this.menu.update(this.input.getQuery()) }, _onBlurred: function () { this.input.hasQueryChangedSinceLastFocus() && this.eventBus.trigger("change", this.input.getQuery()) }, _onEnterKeyed: function (t, e) { var n; (n = this.menu.getActiveSelectable()) && this.select(n) && e.preventDefault() }, _onTabKeyed: function (t, e) { var n; (n = this.menu.getActiveSelectable()) ? this.select(n) && e.preventDefault() : (n = this.menu.getTopSelectable()) && this.autocomplete(n) && e.preventDefault() }, _onEscKeyed: function () { this.close() }, _onUpKeyed: function () { this.moveCursor(-1) }, _onDownKeyed: function () { this.moveCursor(1) }, _onLeftKeyed: function () { "rtl" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable()) }, _onRightKeyed: function () { "ltr" === this.dir && this.input.isCursorAtEnd() && this.autocomplete(this.menu.getTopSelectable()) }, _onQueryChanged: function (t, e) { this._minLengthMet(e) ? this.menu.update(e) : this.menu.empty() }, _onWhitespaceChanged: function () { this._updateHint() }, _onLangDirChanged: function (t, e) { this.dir !== e && (this.dir = e, this.menu.setLanguageDirection(e)) }, _openIfActive: function () { this.isActive() && this.open() }, _minLengthMet: function (t) { return (t = e.isString(t) ? t : this.input.getQuery() || "").length >= this.minLength }, _updateHint: function () { var t, n, i, o, a, s; t = this.menu.getTopSelectable(), n = this.menu.getSelectableData(t), i = this.input.getInputValue(), !n || e.isBlankString(i) || this.input.hasOverflow() ? this.input.clearHint() : (o = r.normalizeQuery(i), a = e.escapeRegExChars(o), (s = new RegExp("^(?:" + a + ")(.+$)", "i").exec(n.val)) && this.input.setHint(i + s[1])) }, isEnabled: function () { return this.enabled }, enable: function () { this.enabled = !0 }, disable: function () { this.enabled = !1 }, isActive: function () { return this.active }, activate: function () { return !!this.isActive() || !(!this.isEnabled() || this.eventBus.before("active")) && (this.active = !0, this.eventBus.trigger("active"), !0) }, deactivate: function () { return !this.isActive() || !this.eventBus.before("idle") && (this.active = !1, this.close(), this.eventBus.trigger("idle"), !0) }, isOpen: function () { return this.menu.isOpen() }, open: function () { return this.isOpen() || this.eventBus.before("open") || (this.menu.open(), this._updateHint(), this.eventBus.trigger("open")), this.isOpen() }, close: function () { return this.isOpen() && !this.eventBus.before("close") && (this.menu.close(), this.input.clearHint(), this.input.resetInputValue(), this.eventBus.trigger("close")), !this.isOpen() }, setVal: function (t) { this.input.setQuery(e.toStr(t)) }, getVal: function () { return this.input.getQuery() }, select: function (t) { var e = this.menu.getSelectableData(t); return !(!e || this.eventBus.before("select", e.obj) || (this.input.setQuery(e.val, !0), this.eventBus.trigger("select", e.obj), this.close(), 0)) }, autocomplete: function (t) { var e, n; return e = this.input.getQuery(), !(!(n = this.menu.getSelectableData(t)) || e === n.val || this.eventBus.before("autocomplete", n.obj) || (this.input.setQuery(n.val), this.eventBus.trigger("autocomplete", n.obj), 0)) }, moveCursor: function (t) { var e, n, i, o; return e = this.input.getQuery(), n = this.menu.selectableRelativeToCursor(t), o = (i = this.menu.getSelectableData(n)) ? i.obj : null, !(this._minLengthMet() && this.menu.update(e) || this.eventBus.before("cursorchange", o) || (this.menu.setCursor(n), i ? this.input.setInputValue(i.val) : (this.input.resetInputValue(), this._updateHint()), this.eventBus.trigger("cursorchange", o), 0)) }, destroy: function () { this.input.destroy(), this.menu.destroy() } }), n; function i(t) { var n = [].slice.call(arguments, 1); return function () { var i = [].slice.call(arguments); e.each(n, function (e) { return t[e].apply(t, i) }) } } }(); !function () { "use strict"; var o, a, s; function I(e, n) { e.each(function () { var e, i = t(this); (e = i.data(a.typeahead)) && n(e, i) }) } function u(n) { var i; return (i = e.isJQuery(n) || e.isElement(n) ? t(n).first() : []).length ? i : null } o = t.fn.typeahead, a = { www: "tt-www", attrs: "tt-attrs", typeahead: "tt-typeahead" }, s = { initialize: function (o, s) { var I; return s = e.isArray(s) ? s : [].slice.call(arguments, 1), I = n((o = o || {}).classNames), this.each(function () { var n, h, d, C, A, p, m, f, b, B, y; e.each(s, function (t) { t.highlight = !!o.highlight }), n = t(this), h = t(I.html.wrapper), d = u(o.hint), C = u(o.menu), A = !1 !== o.hint && !d, p = !1 !== o.menu && !C, A && (d = function (t, e) { return t.clone().addClass(e.classes.hint).removeData().css(e.css.hint).css(function (t) { return { backgroundAttachment: t.css("background-attachment"), backgroundClip: t.css("background-clip"), backgroundColor: t.css("background-color"), backgroundImage: t.css("background-image"), backgroundOrigin: t.css("background-origin"), backgroundPosition: t.css("background-position"), backgroundRepeat: t.css("background-repeat"), backgroundSize: t.css("background-size") } }(t)).prop("readonly", !0).removeAttr("id name placeholder required").attr({ autocomplete: "off", spellcheck: "false", tabindex: -1 }) }(n, I)), p && (C = t(I.html.menu).css(I.css.menu)), d && d.val(""), n = function (t, e) { t.data(a.attrs, { dir: t.attr("dir"), autocomplete: t.attr("autocomplete"), spellcheck: t.attr("spellcheck"), style: t.attr("style") }), t.addClass(e.classes.input).attr({ autocomplete: "off", spellcheck: !1 }); try { t.attr("dir") || t.attr("dir", "auto") } catch (t) { } return t }(n, I), (A || p) && (h.css(I.css.wrapper), n.css(A ? I.css.input : I.css.inputWithNoHint), n.wrap(h).parent().prepend(A ? d : null).append(p ? C : null)), y = p ? l : g, m = new i({ el: n }), f = new r({ hint: d, input: n }, I), b = new y({ node: C, datasets: s }, I), B = new c({ input: f, menu: b, eventBus: m, minLength: o.minLength }, I), n.data(a.www, I), n.data(a.typeahead, B) }) }, isEnabled: function () { var t; return I(this.first(), function (e) { t = e.isEnabled() }), t }, enable: function () { return I(this, function (t) { t.enable() }), this }, disable: function () { return I(this, function (t) { t.disable() }), this }, isActive: function () { var t; return I(this.first(), function (e) { t = e.isActive() }), t }, activate: function () { return I(this, function (t) { t.activate() }), this }, deactivate: function () { return I(this, function (t) { t.deactivate() }), this }, isOpen: function () { var t; return I(this.first(), function (e) { t = e.isOpen() }), t }, open: function () { return I(this, function (t) { t.open() }), this }, close: function () { return I(this, function (t) { t.close() }), this }, select: function (e) { var n = !1, i = t(e); return I(this.first(), function (t) { n = t.select(i) }), n }, autocomplete: function (e) { var n = !1, i = t(e); return I(this.first(), function (t) { n = t.autocomplete(i) }), n }, moveCursor: function (t) { var e = !1; return I(this.first(), function (n) { e = n.moveCursor(t) }), e }, val: function (t) { var e; return arguments.length ? (I(this, function (e) { e.setVal(t) }), this) : (I(this.first(), function (t) { e = t.getVal() }), e) }, destroy: function () { return I(this, function (t, n) { !function (t) { var n, i; n = t.data(a.www), i = t.parent().filter(n.selectors.wrapper), e.each(t.data(a.attrs), function (n, i) { e.isUndefined(n) ? t.removeAttr(i) : t.attr(i, n) }), t.removeData(a.typeahead).removeData(a.www).removeData(a.attr).removeClass(n.classes.input), i.length && (t.detach().insertAfter(i), i.remove()) }(n), t.destroy() }), this } }, t.fn.typeahead = function (t) { return s[t] ? s[t].apply(this, [].slice.call(arguments, 1)) : s.initialize.apply(this, arguments) }, t.fn.typeahead.noConflict = function () { return t.fn.typeahead = o, this } }() }), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Handlebars = e() : t.Handlebars = e() }(this, function () { return n = {}, t.m = e = [function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = i(n(2)), a = i(n(35)), r = n(36), s = n(41), g = i(n(42)), l = i(n(39)), c = i(n(34)), I = o.default.create; function u() { var t = I(); return t.compile = function (e, n) { return s.compile(e, n, t) }, t.precompile = function (e, n) { return s.precompile(e, n, t) }, t.AST = a.default, t.Compiler = s.Compiler, t.JavaScriptCompiler = g.default, t.Parser = r.parser, t.parse = r.parse, t } var h = u(); h.create = u, c.default(h), h.Visitor = l.default, h.default = h, e.default = h, t.exports = e.default }, function (t, e) { "use strict"; e.default = function (t) { return t && t.__esModule ? t : { default: t } }, e.__esModule = !0 }, function (t, e, n) { "use strict"; var i = n(3).default, o = n(1).default; e.__esModule = !0; var a = i(n(4)), r = o(n(21)), s = o(n(6)), g = i(n(5)), l = i(n(22)), c = o(n(34)); function I() { var t = new a.HandlebarsEnvironment; return g.extend(t, a), t.SafeString = r.default, t.Exception = s.default, t.Utils = g, t.escapeExpression = g.escapeExpression, t.VM = l, t.template = function (e) { return l.template(e, t) }, t } var u = I(); u.create = I, c.default(u), u.default = u, e.default = u, t.exports = e.default }, function (t, e) { "use strict"; e.default = function (t) { if (t && t.__esModule) return t; var e = {}; if (null != t) for (var n in t) Object.prototype.hasOwnProperty.call(t, n) && (e[n] = t[n]); return e.default = t, e }, e.__esModule = !0 }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.HandlebarsEnvironment = c; var o = n(5), a = i(n(6)), r = n(10), s = n(18), g = i(n(20)); e.VERSION = "4.1.0", e.COMPILER_REVISION = 7, e.REVISION_CHANGES = { 1: "<= 1.0.rc.2", 2: "== 1.0.0-rc.3", 3: "== 1.0.0-rc.4", 4: "== 1.x.x", 5: "== 2.0.0-alpha.x", 6: ">= 2.0.0-beta.1", 7: ">= 4.0.0" }; var l = "[object Object]"; function c(t, e, n) { this.helpers = t || {}, this.partials = e || {}, this.decorators = n || {}, r.registerDefaultHelpers(this), s.registerDefaultDecorators(this) } c.prototype = { constructor: c, logger: g.default, log: g.default.log, registerHelper: function (t, e) { if (o.toString.call(t) === l) { if (e) throw new a.default("Arg not supported with multiple helpers"); o.extend(this.helpers, t) } else this.helpers[t] = e }, unregisterHelper: function (t) { delete this.helpers[t] }, registerPartial: function (t, e) { if (o.toString.call(t) === l) o.extend(this.partials, t); else { if (void 0 === e) throw new a.default('Attempting to register a partial called "' + t + '" as undefined'); this.partials[t] = e } }, unregisterPartial: function (t) { delete this.partials[t] }, registerDecorator: function (t, e) { if (o.toString.call(t) === l) { if (e) throw new a.default("Arg not supported with multiple decorators"); o.extend(this.decorators, t) } else this.decorators[t] = e }, unregisterDecorator: function (t) { delete this.decorators[t] } }; var I = g.default.log; e.log = I, e.createFrame = o.createFrame, e.logger = g.default }, function (t, e) { "use strict"; e.__esModule = !0, e.extend = r, e.indexOf = function (t, e) { for (var n = 0, i = t.length; n < i; n++)if (t[n] === e) return n; return -1 }, e.escapeExpression = function (t) { if ("string" != typeof t) { if (t && t.toHTML) return t.toHTML(); if (null == t) return ""; if (!t) return t + ""; t = "" + t } return o.test(t) ? t.replace(i, a) : t }, e.isEmpty = function (t) { return !t && 0 !== t || !(!l(t) || 0 !== t.length) }, e.createFrame = function (t) { var e = r({}, t); return e._parent = t, e }, e.blockParams = function (t, e) { return t.path = e, t }, e.appendContextPath = function (t, e) { return (t ? t + "." : "") + e }; var n = { "&": "&amp;", "<": "&lt;", ">": "&gt;", '"': "&quot;", "'": "&#x27;", "`": "&#x60;", "=": "&#x3D;" }, i = /[&<>"'`=]/g, o = /[&<>"'`=]/; function a(t) { return n[t] } function r(t) { for (var e = 1; e < arguments.length; e++)for (var n in arguments[e]) Object.prototype.hasOwnProperty.call(arguments[e], n) && (t[n] = arguments[e][n]); return t } var s = Object.prototype.toString; e.toString = s; var g = function (t) { return "function" == typeof t }; g(/x/) && (e.isFunction = g = function (t) { return "function" == typeof t && "[object Function]" === s.call(t) }), e.isFunction = g; var l = Array.isArray || function (t) { return !(!t || "object" != typeof t) && "[object Array]" === s.call(t) }; e.isArray = l }, function (t, e, n) { "use strict"; var i = n(7).default; e.__esModule = !0; var o = ["description", "fileName", "lineNumber", "message", "name", "number", "stack"]; function a(t, e) { var n = e && e.loc, r = void 0, s = void 0; n && (t += " - " + (r = n.start.line) + ":" + (s = n.start.column)); for (var g = Error.prototype.constructor.call(this, t), l = 0; l < o.length; l++)this[o[l]] = g[o[l]]; Error.captureStackTrace && Error.captureStackTrace(this, a); try { n && (this.lineNumber = r, i ? Object.defineProperty(this, "column", { value: s, enumerable: !0 }) : this.column = s) } catch (t) { } } a.prototype = new Error, e.default = a, t.exports = e.default }, function (t, e, n) { t.exports = { default: n(8), __esModule: !0 } }, function (t, e, n) { var i = n(9); t.exports = function (t, e, n) { return i.setDesc(t, e, n) } }, function (t, e) { var n = Object; t.exports = { create: n.create, getProto: n.getPrototypeOf, isEnum: {}.propertyIsEnumerable, getDesc: n.getOwnPropertyDescriptor, setDesc: n.defineProperty, setDescs: n.defineProperties, getKeys: n.keys, getNames: n.getOwnPropertyNames, getSymbols: n.getOwnPropertySymbols, each: [].forEach } }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.registerDefaultHelpers = function (t) { o.default(t), a.default(t), r.default(t), s.default(t), g.default(t), l.default(t), c.default(t) }; var o = i(n(11)), a = i(n(12)), r = i(n(13)), s = i(n(14)), g = i(n(15)), l = i(n(16)), c = i(n(17)) }, function (t, e, n) { "use strict"; e.__esModule = !0; var i = n(5); e.default = function (t) { t.registerHelper("blockHelperMissing", function (e, n) { var o = n.inverse, a = n.fn; if (!0 === e) return a(this); if (!1 === e || null == e) return o(this); if (i.isArray(e)) return 0 < e.length ? (n.ids && (n.ids = [n.name]), t.helpers.each(e, n)) : o(this); if (n.data && n.ids) { var r = i.createFrame(n.data); r.contextPath = i.appendContextPath(n.data.contextPath, n.name), n = { data: r } } return a(e, n) }) }, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = n(5), a = i(n(6)); e.default = function (t) { t.registerHelper("each", function (t, e) { if (!e) throw new a.default("Must pass iterator to #each"); var n = e.fn, i = e.inverse, r = 0, s = "", g = void 0, l = void 0; function c(e, i, a) { g && (g.key = e, g.index = i, g.first = 0 === i, g.last = !!a, l && (g.contextPath = l + e)), s += n(t[e], { data: g, blockParams: o.blockParams([t[e], e], [l + e, null]) }) } if (e.data && e.ids && (l = o.appendContextPath(e.data.contextPath, e.ids[0]) + "."), o.isFunction(t) && (t = t.call(this)), e.data && (g = o.createFrame(e.data)), t && "object" == typeof t) if (o.isArray(t)) for (var I = t.length; r < I; r++)r in t && c(r, r, r === t.length - 1); else { var u = void 0; for (var h in t) t.hasOwnProperty(h) && (void 0 !== u && c(u, r - 1), u = h, r++); void 0 !== u && c(u, r - 1, !0) } return 0 === r && (s = i(this)), s }) }, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = i(n(6)); e.default = function (t) { t.registerHelper("helperMissing", function () { if (1 !== arguments.length) throw new o.default('Missing helper: "' + arguments[arguments.length - 1].name + '"') }) }, t.exports = e.default }, function (t, e, n) { "use strict"; e.__esModule = !0; var i = n(5); e.default = function (t) { t.registerHelper("if", function (t, e) { return i.isFunction(t) && (t = t.call(this)), !e.hash.includeZero && !t || i.isEmpty(t) ? e.inverse(this) : e.fn(this) }), t.registerHelper("unless", function (e, n) { return t.helpers.if.call(this, e, { fn: n.inverse, inverse: n.fn, hash: n.hash }) }) }, t.exports = e.default }, function (t, e) { "use strict"; e.__esModule = !0, e.default = function (t) { t.registerHelper("log", function () { for (var e = [void 0], n = arguments[arguments.length - 1], i = 0; i < arguments.length - 1; i++)e.push(arguments[i]); var o = 1; null != n.hash.level ? o = n.hash.level : n.data && null != n.data.level && (o = n.data.level), e[0] = o, t.log.apply(t, e) }) }, t.exports = e.default }, function (t, e) { "use strict"; e.__esModule = !0, e.default = function (t) { t.registerHelper("lookup", function (t, e) { return t && t[e] }) }, t.exports = e.default }, function (t, e, n) { "use strict"; e.__esModule = !0; var i = n(5); e.default = function (t) { t.registerHelper("with", function (t, e) { i.isFunction(t) && (t = t.call(this)); var n = e.fn; if (i.isEmpty(t)) return e.inverse(this); var o = e.data; return e.data && e.ids && ((o = i.createFrame(e.data)).contextPath = i.appendContextPath(e.data.contextPath, e.ids[0])), n(t, { data: o, blockParams: i.blockParams([t], [o && o.contextPath]) }) }) }, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.registerDefaultDecorators = function (t) { o.default(t) }; var o = i(n(19)) }, function (t, e, n) { "use strict"; e.__esModule = !0; var i = n(5); e.default = function (t) { t.registerDecorator("inline", function (t, e, n, o) { var a = t; return e.partials || (e.partials = {}, a = function (o, a) { var r = n.partials; n.partials = i.extend({}, r, e.partials); var s = t(o, a); return n.partials = r, s }), e.partials[o.args[0]] = o.fn, a }) }, t.exports = e.default }, function (t, e, n) { "use strict"; e.__esModule = !0; var i = n(5), o = { methodMap: ["debug", "info", "warn", "error"], level: "info", lookupLevel: function (t) { if ("string" == typeof t) { var e = i.indexOf(o.methodMap, t.toLowerCase()); t = 0 <= e ? e : parseInt(t, 10) } return t }, log: function (t) { if (t = o.lookupLevel(t), "undefined" != typeof console && o.lookupLevel(o.level) <= t) { var e = o.methodMap[t]; console[e] || (e = "log"); for (var n = arguments.length, i = Array(1 < n ? n - 1 : 0), a = 1; a < n; a++)i[a - 1] = arguments[a]; console[e].apply(console, i) } } }; e.default = o, t.exports = e.default }, function (t, e) { "use strict"; function n(t) { this.string = t } e.__esModule = !0, n.prototype.toString = n.prototype.toHTML = function () { return "" + this.string }, e.default = n, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(23).default, o = n(3).default, a = n(1).default; e.__esModule = !0, e.checkRevision = function (t) { var e = t && t[0] || 1, n = g.COMPILER_REVISION; if (e !== n) { if (e < n) { var i = g.REVISION_CHANGES[n], o = g.REVISION_CHANGES[e]; throw new s.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version (" + i + ") or downgrade your runtime to an older version (" + o + ").") } throw new s.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version (" + t[1] + ").") } }, e.template = function (t, e) { if (!e) throw new s.default("No environment passed to template"); if (!t || !t.main) throw new s.default("Unknown template object: " + typeof t); t.main.decorator = t.main_d, e.VM.checkRevision(t.compiler); var n = { strict: function (t, e) { if (!(e in t)) throw new s.default('"' + e + '" not defined in ' + t); return t[e] }, lookup: function (t, e) { for (var n = t.length, i = 0; i < n; i++)if (t[i] && null != t[i][e]) return t[i][e] }, lambda: function (t, e) { return "function" == typeof t ? t.call(e) : t }, escapeExpression: r.escapeExpression, invokePartial: function (n, i, o) { o.hash && (i = r.extend({}, i, o.hash), o.ids && (o.ids[0] = !0)), n = e.VM.resolvePartial.call(this, n, i, o); var a = e.VM.invokePartial.call(this, n, i, o); if (null == a && e.compile && (o.partials[o.name] = e.compile(n, t.compilerOptions, e), a = o.partials[o.name](i, o)), null == a) throw new s.default("The partial " + o.name + " could not be compiled when running in runtime-only mode"); if (o.indent) { for (var g = a.split("\n"), l = 0, c = g.length; l < c && (g[l] || l + 1 !== c); l++)g[l] = o.indent + g[l]; a = g.join("\n") } return a }, fn: function (e) { var n = t[e]; return n.decorator = t[e + "_d"], n }, programs: [], program: function (t, e, n, i, o) { var a = this.programs[t], r = this.fn(t); return e || o || i || n ? a = l(this, t, r, e, n, i, o) : a || (a = this.programs[t] = l(this, t, r)), a }, data: function (t, e) { for (; t && e--;)t = t._parent; return t }, merge: function (t, e) { var n = t || e; return t && e && t !== e && (n = r.extend({}, e, t)), n }, nullContext: i({}), noop: e.VM.noop, compilerInfo: t.compiler }; function o(e) { var i = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], a = i.data; o._setup(i), !i.partial && t.useData && (a = function (t, e) { return e && "root" in e || ((e = e ? g.createFrame(e) : {}).root = t), e }(e, a)); var r = void 0, s = t.useBlockParams ? [] : void 0; function l(e) { return "" + t.main(n, e, n.helpers, n.partials, a, s, r) } return t.useDepths && (r = i.depths ? e != i.depths[0] ? [e].concat(i.depths) : i.depths : [e]), (l = I(t.main, l, n, i.depths || [], a, s))(e, i) } return o.isTop = !0, o._setup = function (i) { i.partial ? (n.helpers = i.helpers, n.partials = i.partials, n.decorators = i.decorators) : (n.helpers = n.merge(i.helpers, e.helpers), t.usePartial && (n.partials = n.merge(i.partials, e.partials)), (t.usePartial || t.useDecorators) && (n.decorators = n.merge(i.decorators, e.decorators))) }, o._child = function (e, i, o, a) { if (t.useBlockParams && !o) throw new s.default("must pass block params"); if (t.useDepths && !a) throw new s.default("must pass parent depths"); return l(n, e, t[e], i, 0, o, a) }, o }, e.wrapProgram = l, e.resolvePartial = function (t, e, n) { return t ? t.call || n.name || (n.name = t, t = n.partials[t]) : t = "@partial-block" === n.name ? n.data["partial-block"] : n.partials[n.name], t }, e.invokePartial = function (t, e, n) { var i = n.data && n.data["partial-block"]; n.partial = !0, n.ids && (n.data.contextPath = n.ids[0] || n.data.contextPath); var o = void 0; if (n.fn && n.fn !== c && function () { n.data = g.createFrame(n.data); var t = n.fn; o = n.data["partial-block"] = function (e, n) { var o = arguments.length <= 1 || void 0 === n ? {} : n; return o.data = g.createFrame(o.data), o.data["partial-block"] = i, t(e, o) }, t.partials && (n.partials = r.extend({}, n.partials, t.partials)) }(), void 0 === t && o && (t = o), void 0 === t) throw new s.default("The partial " + n.name + " could not be found"); if (t instanceof Function) return t(e, n) }, e.noop = c; var r = o(n(5)), s = a(n(6)), g = n(4); function l(t, e, n, i, o, a, r) { function s(e) { var o = arguments.length <= 1 || void 0 === arguments[1] ? {} : arguments[1], s = r; return !r || e == r[0] || e === t.nullContext && null === r[0] || (s = [e].concat(r)), n(t, e, t.helpers, t.partials, o.data || i, a && [o.blockParams].concat(a), s) } return (s = I(n, s, t, r, i, a)).program = e, s.depth = r ? r.length : 0, s.blockParams = o || 0, s } function c() { return "" } function I(t, e, n, i, o, a) { if (t.decorator) { var s = {}; e = t.decorator(e, s, n, i && i[0], o, a, i), r.extend(e, s) } return e } }, function (t, e, n) { t.exports = { default: n(24), __esModule: !0 } }, function (t, e, n) { n(25), t.exports = n(30).Object.seal }, function (t, e, n) { var i = n(26); n(27)("seal", function (t) { return function (e) { return t && i(e) ? t(e) : e } }) }, function (t, e) { t.exports = function (t) { return "object" == typeof t ? null !== t : "function" == typeof t } }, function (t, e, n) { var i = n(28), o = n(30), a = n(33); t.exports = function (t, e) { var n = (o.Object || {})[t] || Object[t], r = {}; r[t] = e(n), i(i.S + i.F * a(function () { n(1) }), "Object", r) } }, function (t, e, n) { var i = n(29), o = n(30), a = n(31), r = "prototype", s = function (t, e, n) { var g, l, c, I = t & s.F, u = t & s.G, h = t & s.S, d = t & s.P, C = t & s.B, A = t & s.W, p = u ? o : o[e] || (o[e] = {}), m = u ? i : h ? i[e] : (i[e] || {})[r]; for (g in u && (n = e), n) (l = !I && m && g in m) && g in p || (c = l ? m[g] : n[g], p[g] = u && "function" != typeof m[g] ? n[g] : C && l ? a(c, i) : A && m[g] == c ? function (t) { function e(e) { return this instanceof t ? new t(e) : t(e) } return e[r] = t[r], e }(c) : d && "function" == typeof c ? a(Function.call, c) : c, d && ((p[r] || (p[r] = {}))[g] = c)) }; s.F = 1, s.G = 2, s.S = 4, s.P = 8, s.B = 16, s.W = 32, t.exports = s }, function (t, e) { var n = t.exports = "undefined" != typeof window && window.Math == Math ? window : "undefined" != typeof self && self.Math == Math ? self : Function("return this")(); "number" == typeof __g && (__g = n) }, function (t, e) { var n = t.exports = { version: "1.2.6" }; "number" == typeof __e && (__e = n) }, function (t, e, n) { var i = n(32); t.exports = function (t, e, n) { if (i(t), void 0 === e) return t; switch (n) { case 1: return function (n) { return t.call(e, n) }; case 2: return function (n, i) { return t.call(e, n, i) }; case 3: return function (n, i, o) { return t.call(e, n, i, o) } }return function () { return t.apply(e, arguments) } } }, function (t, e) { t.exports = function (t) { if ("function" != typeof t) throw TypeError(t + " is not a function!"); return t } }, function (t, e) { t.exports = function (t) { try { return !!t() } catch (t) { return !0 } } }, function (t, e) { (function (n) { "use strict"; e.__esModule = !0, e.default = function (t) { var e = void 0 !== n ? n : window, i = e.Handlebars; t.noConflict = function () { return e.Handlebars === t && (e.Handlebars = i), t } }, t.exports = e.default }).call(e, function () { return this }()) }, function (t, e) { "use strict"; e.__esModule = !0; var n = { helpers: { helperExpression: function (t) { return "SubExpression" === t.type || ("MustacheStatement" === t.type || "BlockStatement" === t.type) && !!(t.params && t.params.length || t.hash) }, scopedId: function (t) { return /^\.|this\b/.test(t.original) }, simpleId: function (t) { return 1 === t.parts.length && !n.helpers.scopedId(t) && !t.depth } } }; e.default = n, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default, o = n(3).default; e.__esModule = !0, e.parse = function (t, e) { return "Program" !== t.type ? ((a.default.yy = l).locInfo = function (t) { return new l.SourceLocation(e && e.srcName, t) }, new r.default(e).accept(a.default.parse(t))) : t }; var a = i(n(37)), r = i(n(38)), s = o(n(40)), g = n(5); e.parser = a.default; var l = {}; g.extend(l, s) }, function (t, e) { "use strict"; e.__esModule = !0; var n, i, o = (i = { EOF: 1, parseError: function (t, e) { if (!this.yy.parser) throw new Error(t); this.yy.parser.parseError(t, e) }, setInput: function (t) { return this._input = t, this._more = this._less = this.done = !1, this.yylineno = this.yyleng = 0, this.yytext = this.matched = this.match = "", this.conditionStack = ["INITIAL"], this.yylloc = { first_line: 1, first_column: 0, last_line: 1, last_column: 0 }, this.options.ranges && (this.yylloc.range = [0, 0]), this.offset = 0, this }, input: function () { var t = this._input[0]; return this.yytext += t, this.yyleng++, this.offset++, this.match += t, this.matched += t, t.match(/(?:\r\n?|\n).*/g) ? (this.yylineno++, this.yylloc.last_line++) : this.yylloc.last_column++, this.options.ranges && this.yylloc.range[1]++, this._input = this._input.slice(1), t }, unput: function (t) { var e = t.length, n = t.split(/(?:\r\n?|\n)/g); this._input = t + this._input, this.yytext = this.yytext.substr(0, this.yytext.length - e - 1), this.offset -= e; var i = this.match.split(/(?:\r\n?|\n)/g); this.match = this.match.substr(0, this.match.length - 1), this.matched = this.matched.substr(0, this.matched.length - 1), n.length - 1 && (this.yylineno -= n.length - 1); var o = this.yylloc.range; return this.yylloc = { first_line: this.yylloc.first_line, last_line: this.yylineno + 1, first_column: this.yylloc.first_column, last_column: n ? (n.length === i.length ? this.yylloc.first_column : 0) + i[i.length - n.length].length - n[0].length : this.yylloc.first_column - e }, this.options.ranges && (this.yylloc.range = [o[0], o[0] + this.yyleng - e]), this }, more: function () { return this._more = !0, this }, less: function (t) { this.unput(this.match.slice(t)) }, pastInput: function () { var t = this.matched.substr(0, this.matched.length - this.match.length); return (20 < t.length ? "..." : "") + t.substr(-20).replace(/\n/g, "") }, upcomingInput: function () { var t = this.match; return t.length < 20 && (t += this._input.substr(0, 20 - t.length)), (t.substr(0, 20) + (20 < t.length ? "..." : "")).replace(/\n/g, "") }, showPosition: function () { var t = this.pastInput(), e = new Array(t.length + 1).join("-"); return t + this.upcomingInput() + "\n" + e + "^" }, next: function () { if (this.done) return this.EOF; var t, e, n, i, o; this._input || (this.done = !0), this._more || (this.yytext = "", this.match = ""); for (var a = this._currentRules(), r = 0; r < a.length && (!(n = this._input.match(this.rules[a[r]])) || e && !(n[0].length > e[0].length) || (e = n, i = r, this.options.flex)); r++); return e ? ((o = e[0].match(/(?:\r\n?|\n).*/g)) && (this.yylineno += o.length), this.yylloc = { first_line: this.yylloc.last_line, last_line: this.yylineno + 1, first_column: this.yylloc.last_column, last_column: o ? o[o.length - 1].length - o[o.length - 1].match(/\r?\n?/)[0].length : this.yylloc.last_column + e[0].length }, this.yytext += e[0], this.match += e[0], this.matches = e, this.yyleng = this.yytext.length, this.options.ranges && (this.yylloc.range = [this.offset, this.offset += this.yyleng]), this._more = !1, this._input = this._input.slice(e[0].length), this.matched += e[0], t = this.performAction.call(this, this.yy, this, a[i], this.conditionStack[this.conditionStack.length - 1]), this.done && this._input && (this.done = !1), t || void 0) : "" === this._input ? this.EOF : this.parseError("Lexical error on line " + (this.yylineno + 1) + ". Unrecognized text.\n" + this.showPosition(), { text: "", token: null, line: this.yylineno }) }, lex: function () { var t = this.next(); return void 0 !== t ? t : this.lex() }, begin: function (t) { this.conditionStack.push(t) }, popState: function () { return this.conditionStack.pop() }, _currentRules: function () { return this.conditions[this.conditionStack[this.conditionStack.length - 1]].rules }, topState: function () { return this.conditionStack[this.conditionStack.length - 2] }, pushState: function (t) { this.begin(t) }, options: {}, performAction: function (t, e, n, i) { function o(t, n) { return e.yytext = e.yytext.substr(t, e.yyleng - n) } switch (n) { case 0: if ("\\\\" === e.yytext.slice(-2) ? (o(0, 1), this.begin("mu")) : "\\" === e.yytext.slice(-1) ? (o(0, 1), this.begin("emu")) : this.begin("mu"), e.yytext) return 15; break; case 1: return 15; case 2: return this.popState(), 15; case 3: return this.begin("raw"), 15; case 4: return this.popState(), "raw" === this.conditionStack[this.conditionStack.length - 1] ? 15 : (e.yytext = e.yytext.substr(5, e.yyleng - 9), "END_RAW_BLOCK"); case 5: return 15; case 6: return this.popState(), 14; case 7: return 65; case 8: return 68; case 9: return 19; case 10: return this.popState(), this.begin("raw"), 23; case 11: return 55; case 12: return 60; case 13: return 29; case 14: return 47; case 15: case 16: return this.popState(), 44; case 17: return 34; case 18: return 39; case 19: return 51; case 20: return 48; case 21: this.unput(e.yytext), this.popState(), this.begin("com"); break; case 22: return this.popState(), 14; case 23: return 48; case 24: return 73; case 25: case 26: return 72; case 27: return 87; case 28: break; case 29: return this.popState(), 54; case 30: return this.popState(), 33; case 31: return e.yytext = o(1, 2).replace(/\\"/g, '"'), 80; case 32: return e.yytext = o(1, 2).replace(/\\'/g, "'"), 80; case 33: return 85; case 34: case 35: return 82; case 36: return 83; case 37: return 84; case 38: return 81; case 39: return 75; case 40: return 77; case 41: return 72; case 42: return e.yytext = e.yytext.replace(/\\([\\\]])/g, "$1"), 72; case 43: return "INVALID"; case 44: return 5 } }, rules: [/^(?:[^\x00]*?(?=(\{\{)))/, /^(?:[^\x00]+)/, /^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/, /^(?:\{\{\{\{(?=[^\/]))/, /^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/, /^(?:[^\x00]*?(?=(\{\{\{\{)))/, /^(?:[\s\S]*?--(~)?\}\})/, /^(?:\()/, /^(?:\))/, /^(?:\{\{\{\{)/, /^(?:\}\}\}\})/, /^(?:\{\{(~)?>)/, /^(?:\{\{(~)?#>)/, /^(?:\{\{(~)?#\*?)/, /^(?:\{\{(~)?\/)/, /^(?:\{\{(~)?\^\s*(~)?\}\})/, /^(?:\{\{(~)?\s*else\s*(~)?\}\})/, /^(?:\{\{(~)?\^)/, /^(?:\{\{(~)?\s*else\b)/, /^(?:\{\{(~)?\{)/, /^(?:\{\{(~)?&)/, /^(?:\{\{(~)?!--)/, /^(?:\{\{(~)?![\s\S]*?\}\})/, /^(?:\{\{(~)?\*?)/, /^(?:=)/, /^(?:\.\.)/, /^(?:\.(?=([=~}\s\/.)|])))/, /^(?:[\/.])/, /^(?:\s+)/, /^(?:\}(~)?\}\})/, /^(?:(~)?\}\})/, /^(?:"(\\["]|[^"])*")/, /^(?:'(\\[']|[^'])*')/, /^(?:@)/, /^(?:true(?=([~}\s)])))/, /^(?:false(?=([~}\s)])))/, /^(?:undefined(?=([~}\s)])))/, /^(?:null(?=([~}\s)])))/, /^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/, /^(?:as\s+\|)/, /^(?:\|)/, /^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/, /^(?:\[(\\\]|[^\]])*\])/, /^(?:.)/, /^(?:$)/], conditions: { mu: { rules: [7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44], inclusive: !(n = { trace: function () { }, yy: {}, symbols_: { error: 2, root: 3, program: 4, EOF: 5, program_repetition0: 6, statement: 7, mustache: 8, block: 9, rawBlock: 10, partial: 11, partialBlock: 12, content: 13, COMMENT: 14, CONTENT: 15, openRawBlock: 16, rawBlock_repetition_plus0: 17, END_RAW_BLOCK: 18, OPEN_RAW_BLOCK: 19, helperName: 20, openRawBlock_repetition0: 21, openRawBlock_option0: 22, CLOSE_RAW_BLOCK: 23, openBlock: 24, block_option0: 25, closeBlock: 26, openInverse: 27, block_option1: 28, OPEN_BLOCK: 29, openBlock_repetition0: 30, openBlock_option0: 31, openBlock_option1: 32, CLOSE: 33, OPEN_INVERSE: 34, openInverse_repetition0: 35, openInverse_option0: 36, openInverse_option1: 37, openInverseChain: 38, OPEN_INVERSE_CHAIN: 39, openInverseChain_repetition0: 40, openInverseChain_option0: 41, openInverseChain_option1: 42, inverseAndProgram: 43, INVERSE: 44, inverseChain: 45, inverseChain_option0: 46, OPEN_ENDBLOCK: 47, OPEN: 48, mustache_repetition0: 49, mustache_option0: 50, OPEN_UNESCAPED: 51, mustache_repetition1: 52, mustache_option1: 53, CLOSE_UNESCAPED: 54, OPEN_PARTIAL: 55, partialName: 56, partial_repetition0: 57, partial_option0: 58, openPartialBlock: 59, OPEN_PARTIAL_BLOCK: 60, openPartialBlock_repetition0: 61, openPartialBlock_option0: 62, param: 63, sexpr: 64, OPEN_SEXPR: 65, sexpr_repetition0: 66, sexpr_option0: 67, CLOSE_SEXPR: 68, hash: 69, hash_repetition_plus0: 70, hashSegment: 71, ID: 72, EQUALS: 73, blockParams: 74, OPEN_BLOCK_PARAMS: 75, blockParams_repetition_plus0: 76, CLOSE_BLOCK_PARAMS: 77, path: 78, dataName: 79, STRING: 80, NUMBER: 81, BOOLEAN: 82, UNDEFINED: 83, NULL: 84, DATA: 85, pathSegments: 86, SEP: 87, $accept: 0, $end: 1 }, terminals_: { 2: "error", 5: "EOF", 14: "COMMENT", 15: "CONTENT", 18: "END_RAW_BLOCK", 19: "OPEN_RAW_BLOCK", 23: "CLOSE_RAW_BLOCK", 29: "OPEN_BLOCK", 33: "CLOSE", 34: "OPEN_INVERSE", 39: "OPEN_INVERSE_CHAIN", 44: "INVERSE", 47: "OPEN_ENDBLOCK", 48: "OPEN", 51: "OPEN_UNESCAPED", 54: "CLOSE_UNESCAPED", 55: "OPEN_PARTIAL", 60: "OPEN_PARTIAL_BLOCK", 65: "OPEN_SEXPR", 68: "CLOSE_SEXPR", 72: "ID", 73: "EQUALS", 75: "OPEN_BLOCK_PARAMS", 77: "CLOSE_BLOCK_PARAMS", 80: "STRING", 81: "NUMBER", 82: "BOOLEAN", 83: "UNDEFINED", 84: "NULL", 85: "DATA", 87: "SEP" }, productions_: [0, [3, 2], [4, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [7, 1], [13, 1], [10, 3], [16, 5], [9, 4], [9, 4], [24, 6], [27, 6], [38, 6], [43, 2], [45, 3], [45, 1], [26, 3], [8, 5], [8, 5], [11, 5], [12, 3], [59, 5], [63, 1], [63, 1], [64, 5], [69, 1], [71, 3], [74, 3], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [20, 1], [56, 1], [56, 1], [79, 2], [78, 1], [86, 3], [86, 1], [6, 0], [6, 2], [17, 1], [17, 2], [21, 0], [21, 2], [22, 0], [22, 1], [25, 0], [25, 1], [28, 0], [28, 1], [30, 0], [30, 2], [31, 0], [31, 1], [32, 0], [32, 1], [35, 0], [35, 2], [36, 0], [36, 1], [37, 0], [37, 1], [40, 0], [40, 2], [41, 0], [41, 1], [42, 0], [42, 1], [46, 0], [46, 1], [49, 0], [49, 2], [50, 0], [50, 1], [52, 0], [52, 2], [53, 0], [53, 1], [57, 0], [57, 2], [58, 0], [58, 1], [61, 0], [61, 2], [62, 0], [62, 1], [66, 0], [66, 2], [67, 0], [67, 1], [70, 1], [70, 2], [76, 1], [76, 2]], performAction: function (t, e, n, i, o, a, r) { var s = a.length - 1; switch (o) { case 1: return a[s - 1]; case 2: this.$ = i.prepareProgram(a[s]); break; case 3: case 4: case 5: case 6: case 7: case 8: this.$ = a[s]; break; case 9: this.$ = { type: "CommentStatement", value: i.stripComment(a[s]), strip: i.stripFlags(a[s], a[s]), loc: i.locInfo(this._$) }; break; case 10: this.$ = { type: "ContentStatement", original: a[s], value: a[s], loc: i.locInfo(this._$) }; break; case 11: this.$ = i.prepareRawBlock(a[s - 2], a[s - 1], a[s], this._$); break; case 12: this.$ = { path: a[s - 3], params: a[s - 2], hash: a[s - 1] }; break; case 13: this.$ = i.prepareBlock(a[s - 3], a[s - 2], a[s - 1], a[s], !1, this._$); break; case 14: this.$ = i.prepareBlock(a[s - 3], a[s - 2], a[s - 1], a[s], !0, this._$); break; case 15: this.$ = { open: a[s - 5], path: a[s - 4], params: a[s - 3], hash: a[s - 2], blockParams: a[s - 1], strip: i.stripFlags(a[s - 5], a[s]) }; break; case 16: case 17: this.$ = { path: a[s - 4], params: a[s - 3], hash: a[s - 2], blockParams: a[s - 1], strip: i.stripFlags(a[s - 5], a[s]) }; break; case 18: this.$ = { strip: i.stripFlags(a[s - 1], a[s - 1]), program: a[s] }; break; case 19: var g = i.prepareBlock(a[s - 2], a[s - 1], a[s], a[s], !1, this._$), l = i.prepareProgram([g], a[s - 1].loc); l.chained = !0, this.$ = { strip: a[s - 2].strip, program: l, chain: !0 }; break; case 20: this.$ = a[s]; break; case 21: this.$ = { path: a[s - 1], strip: i.stripFlags(a[s - 2], a[s]) }; break; case 22: case 23: this.$ = i.prepareMustache(a[s - 3], a[s - 2], a[s - 1], a[s - 4], i.stripFlags(a[s - 4], a[s]), this._$); break; case 24: this.$ = { type: "PartialStatement", name: a[s - 3], params: a[s - 2], hash: a[s - 1], indent: "", strip: i.stripFlags(a[s - 4], a[s]), loc: i.locInfo(this._$) }; break; case 25: this.$ = i.preparePartialBlock(a[s - 2], a[s - 1], a[s], this._$); break; case 26: this.$ = { path: a[s - 3], params: a[s - 2], hash: a[s - 1], strip: i.stripFlags(a[s - 4], a[s]) }; break; case 27: case 28: this.$ = a[s]; break; case 29: this.$ = { type: "SubExpression", path: a[s - 3], params: a[s - 2], hash: a[s - 1], loc: i.locInfo(this._$) }; break; case 30: this.$ = { type: "Hash", pairs: a[s], loc: i.locInfo(this._$) }; break; case 31: this.$ = { type: "HashPair", key: i.id(a[s - 2]), value: a[s], loc: i.locInfo(this._$) }; break; case 32: this.$ = i.id(a[s - 1]); break; case 33: case 34: this.$ = a[s]; break; case 35: this.$ = { type: "StringLiteral", value: a[s], original: a[s], loc: i.locInfo(this._$) }; break; case 36: this.$ = { type: "NumberLiteral", value: Number(a[s]), original: Number(a[s]), loc: i.locInfo(this._$) }; break; case 37: this.$ = { type: "BooleanLiteral", value: "true" === a[s], original: "true" === a[s], loc: i.locInfo(this._$) }; break; case 38: this.$ = { type: "UndefinedLiteral", original: void 0, value: void 0, loc: i.locInfo(this._$) }; break; case 39: this.$ = { type: "NullLiteral", original: null, value: null, loc: i.locInfo(this._$) }; break; case 40: case 41: this.$ = a[s]; break; case 42: this.$ = i.preparePath(!0, a[s], this._$); break; case 43: this.$ = i.preparePath(!1, a[s], this._$); break; case 44: a[s - 2].push({ part: i.id(a[s]), original: a[s], separator: a[s - 1] }), this.$ = a[s - 2]; break; case 45: this.$ = [{ part: i.id(a[s]), original: a[s] }]; break; case 46: this.$ = []; break; case 47: a[s - 1].push(a[s]); break; case 48: this.$ = [a[s]]; break; case 49: a[s - 1].push(a[s]); break; case 50: this.$ = []; break; case 51: a[s - 1].push(a[s]); break; case 58: this.$ = []; break; case 59: a[s - 1].push(a[s]); break; case 64: this.$ = []; break; case 65: a[s - 1].push(a[s]); break; case 70: this.$ = []; break; case 71: a[s - 1].push(a[s]); break; case 78: this.$ = []; break; case 79: a[s - 1].push(a[s]); break; case 82: this.$ = []; break; case 83: a[s - 1].push(a[s]); break; case 86: this.$ = []; break; case 87: a[s - 1].push(a[s]); break; case 90: this.$ = []; break; case 91: a[s - 1].push(a[s]); break; case 94: this.$ = []; break; case 95: a[s - 1].push(a[s]); break; case 98: this.$ = [a[s]]; break; case 99: a[s - 1].push(a[s]); break; case 100: this.$ = [a[s]]; break; case 101: a[s - 1].push(a[s]) } }, table: [{ 3: 1, 4: 2, 5: [2, 46], 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 1: [3] }, { 5: [1, 4] }, { 5: [2, 2], 7: 5, 8: 6, 9: 7, 10: 8, 11: 9, 12: 10, 13: 11, 14: [1, 12], 15: [1, 20], 16: 17, 19: [1, 23], 24: 15, 27: 16, 29: [1, 21], 34: [1, 22], 39: [2, 2], 44: [2, 2], 47: [2, 2], 48: [1, 13], 51: [1, 14], 55: [1, 18], 59: 19, 60: [1, 24] }, { 1: [2, 1] }, { 5: [2, 47], 14: [2, 47], 15: [2, 47], 19: [2, 47], 29: [2, 47], 34: [2, 47], 39: [2, 47], 44: [2, 47], 47: [2, 47], 48: [2, 47], 51: [2, 47], 55: [2, 47], 60: [2, 47] }, { 5: [2, 3], 14: [2, 3], 15: [2, 3], 19: [2, 3], 29: [2, 3], 34: [2, 3], 39: [2, 3], 44: [2, 3], 47: [2, 3], 48: [2, 3], 51: [2, 3], 55: [2, 3], 60: [2, 3] }, { 5: [2, 4], 14: [2, 4], 15: [2, 4], 19: [2, 4], 29: [2, 4], 34: [2, 4], 39: [2, 4], 44: [2, 4], 47: [2, 4], 48: [2, 4], 51: [2, 4], 55: [2, 4], 60: [2, 4] }, { 5: [2, 5], 14: [2, 5], 15: [2, 5], 19: [2, 5], 29: [2, 5], 34: [2, 5], 39: [2, 5], 44: [2, 5], 47: [2, 5], 48: [2, 5], 51: [2, 5], 55: [2, 5], 60: [2, 5] }, { 5: [2, 6], 14: [2, 6], 15: [2, 6], 19: [2, 6], 29: [2, 6], 34: [2, 6], 39: [2, 6], 44: [2, 6], 47: [2, 6], 48: [2, 6], 51: [2, 6], 55: [2, 6], 60: [2, 6] }, { 5: [2, 7], 14: [2, 7], 15: [2, 7], 19: [2, 7], 29: [2, 7], 34: [2, 7], 39: [2, 7], 44: [2, 7], 47: [2, 7], 48: [2, 7], 51: [2, 7], 55: [2, 7], 60: [2, 7] }, { 5: [2, 8], 14: [2, 8], 15: [2, 8], 19: [2, 8], 29: [2, 8], 34: [2, 8], 39: [2, 8], 44: [2, 8], 47: [2, 8], 48: [2, 8], 51: [2, 8], 55: [2, 8], 60: [2, 8] }, { 5: [2, 9], 14: [2, 9], 15: [2, 9], 19: [2, 9], 29: [2, 9], 34: [2, 9], 39: [2, 9], 44: [2, 9], 47: [2, 9], 48: [2, 9], 51: [2, 9], 55: [2, 9], 60: [2, 9] }, { 20: 25, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 36, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 37, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 4: 38, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 13: 40, 15: [1, 20], 17: 39 }, { 20: 42, 56: 41, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 45, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 5: [2, 10], 14: [2, 10], 15: [2, 10], 18: [2, 10], 19: [2, 10], 29: [2, 10], 34: [2, 10], 39: [2, 10], 44: [2, 10], 47: [2, 10], 48: [2, 10], 51: [2, 10], 55: [2, 10], 60: [2, 10] }, { 20: 46, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 47, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 48, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 42, 56: 49, 64: 43, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [2, 78], 49: 50, 65: [2, 78], 72: [2, 78], 80: [2, 78], 81: [2, 78], 82: [2, 78], 83: [2, 78], 84: [2, 78], 85: [2, 78] }, { 23: [2, 33], 33: [2, 33], 54: [2, 33], 65: [2, 33], 68: [2, 33], 72: [2, 33], 75: [2, 33], 80: [2, 33], 81: [2, 33], 82: [2, 33], 83: [2, 33], 84: [2, 33], 85: [2, 33] }, { 23: [2, 34], 33: [2, 34], 54: [2, 34], 65: [2, 34], 68: [2, 34], 72: [2, 34], 75: [2, 34], 80: [2, 34], 81: [2, 34], 82: [2, 34], 83: [2, 34], 84: [2, 34], 85: [2, 34] }, { 23: [2, 35], 33: [2, 35], 54: [2, 35], 65: [2, 35], 68: [2, 35], 72: [2, 35], 75: [2, 35], 80: [2, 35], 81: [2, 35], 82: [2, 35], 83: [2, 35], 84: [2, 35], 85: [2, 35] }, { 23: [2, 36], 33: [2, 36], 54: [2, 36], 65: [2, 36], 68: [2, 36], 72: [2, 36], 75: [2, 36], 80: [2, 36], 81: [2, 36], 82: [2, 36], 83: [2, 36], 84: [2, 36], 85: [2, 36] }, { 23: [2, 37], 33: [2, 37], 54: [2, 37], 65: [2, 37], 68: [2, 37], 72: [2, 37], 75: [2, 37], 80: [2, 37], 81: [2, 37], 82: [2, 37], 83: [2, 37], 84: [2, 37], 85: [2, 37] }, { 23: [2, 38], 33: [2, 38], 54: [2, 38], 65: [2, 38], 68: [2, 38], 72: [2, 38], 75: [2, 38], 80: [2, 38], 81: [2, 38], 82: [2, 38], 83: [2, 38], 84: [2, 38], 85: [2, 38] }, { 23: [2, 39], 33: [2, 39], 54: [2, 39], 65: [2, 39], 68: [2, 39], 72: [2, 39], 75: [2, 39], 80: [2, 39], 81: [2, 39], 82: [2, 39], 83: [2, 39], 84: [2, 39], 85: [2, 39] }, { 23: [2, 43], 33: [2, 43], 54: [2, 43], 65: [2, 43], 68: [2, 43], 72: [2, 43], 75: [2, 43], 80: [2, 43], 81: [2, 43], 82: [2, 43], 83: [2, 43], 84: [2, 43], 85: [2, 43], 87: [1, 51] }, { 72: [1, 35], 86: 52 }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 52: 53, 54: [2, 82], 65: [2, 82], 72: [2, 82], 80: [2, 82], 81: [2, 82], 82: [2, 82], 83: [2, 82], 84: [2, 82], 85: [2, 82] }, { 25: 54, 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 55, 47: [2, 54] }, { 28: 60, 43: 61, 44: [1, 59], 47: [2, 56] }, { 13: 63, 15: [1, 20], 18: [1, 62] }, { 15: [2, 48], 18: [2, 48] }, { 33: [2, 86], 57: 64, 65: [2, 86], 72: [2, 86], 80: [2, 86], 81: [2, 86], 82: [2, 86], 83: [2, 86], 84: [2, 86], 85: [2, 86] }, { 33: [2, 40], 65: [2, 40], 72: [2, 40], 80: [2, 40], 81: [2, 40], 82: [2, 40], 83: [2, 40], 84: [2, 40], 85: [2, 40] }, { 33: [2, 41], 65: [2, 41], 72: [2, 41], 80: [2, 41], 81: [2, 41], 82: [2, 41], 83: [2, 41], 84: [2, 41], 85: [2, 41] }, { 20: 65, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 66, 47: [1, 67] }, { 30: 68, 33: [2, 58], 65: [2, 58], 72: [2, 58], 75: [2, 58], 80: [2, 58], 81: [2, 58], 82: [2, 58], 83: [2, 58], 84: [2, 58], 85: [2, 58] }, { 33: [2, 64], 35: 69, 65: [2, 64], 72: [2, 64], 75: [2, 64], 80: [2, 64], 81: [2, 64], 82: [2, 64], 83: [2, 64], 84: [2, 64], 85: [2, 64] }, { 21: 70, 23: [2, 50], 65: [2, 50], 72: [2, 50], 80: [2, 50], 81: [2, 50], 82: [2, 50], 83: [2, 50], 84: [2, 50], 85: [2, 50] }, { 33: [2, 90], 61: 71, 65: [2, 90], 72: [2, 90], 80: [2, 90], 81: [2, 90], 82: [2, 90], 83: [2, 90], 84: [2, 90], 85: [2, 90] }, { 20: 75, 33: [2, 80], 50: 72, 63: 73, 64: 76, 65: [1, 44], 69: 74, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 72: [1, 80] }, { 23: [2, 42], 33: [2, 42], 54: [2, 42], 65: [2, 42], 68: [2, 42], 72: [2, 42], 75: [2, 42], 80: [2, 42], 81: [2, 42], 82: [2, 42], 83: [2, 42], 84: [2, 42], 85: [2, 42], 87: [1, 51] }, { 20: 75, 53: 81, 54: [2, 84], 63: 82, 64: 76, 65: [1, 44], 69: 83, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 26: 84, 47: [1, 67] }, { 47: [2, 55] }, { 4: 85, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 39: [2, 46], 44: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 47: [2, 20] }, { 20: 86, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 4: 87, 6: 3, 14: [2, 46], 15: [2, 46], 19: [2, 46], 29: [2, 46], 34: [2, 46], 47: [2, 46], 48: [2, 46], 51: [2, 46], 55: [2, 46], 60: [2, 46] }, { 26: 88, 47: [1, 67] }, { 47: [2, 57] }, { 5: [2, 11], 14: [2, 11], 15: [2, 11], 19: [2, 11], 29: [2, 11], 34: [2, 11], 39: [2, 11], 44: [2, 11], 47: [2, 11], 48: [2, 11], 51: [2, 11], 55: [2, 11], 60: [2, 11] }, { 15: [2, 49], 18: [2, 49] }, { 20: 75, 33: [2, 88], 58: 89, 63: 90, 64: 76, 65: [1, 44], 69: 91, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 65: [2, 94], 66: 92, 68: [2, 94], 72: [2, 94], 80: [2, 94], 81: [2, 94], 82: [2, 94], 83: [2, 94], 84: [2, 94], 85: [2, 94] }, { 5: [2, 25], 14: [2, 25], 15: [2, 25], 19: [2, 25], 29: [2, 25], 34: [2, 25], 39: [2, 25], 44: [2, 25], 47: [2, 25], 48: [2, 25], 51: [2, 25], 55: [2, 25], 60: [2, 25] }, { 20: 93, 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 31: 94, 33: [2, 60], 63: 95, 64: 76, 65: [1, 44], 69: 96, 70: 77, 71: 78, 72: [1, 79], 75: [2, 60], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 66], 36: 97, 63: 98, 64: 76, 65: [1, 44], 69: 99, 70: 77, 71: 78, 72: [1, 79], 75: [2, 66], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 22: 100, 23: [2, 52], 63: 101, 64: 76, 65: [1, 44], 69: 102, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 20: 75, 33: [2, 92], 62: 103, 63: 104, 64: 76, 65: [1, 44], 69: 105, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 106] }, { 33: [2, 79], 65: [2, 79], 72: [2, 79], 80: [2, 79], 81: [2, 79], 82: [2, 79], 83: [2, 79], 84: [2, 79], 85: [2, 79] }, { 33: [2, 81] }, { 23: [2, 27], 33: [2, 27], 54: [2, 27], 65: [2, 27], 68: [2, 27], 72: [2, 27], 75: [2, 27], 80: [2, 27], 81: [2, 27], 82: [2, 27], 83: [2, 27], 84: [2, 27], 85: [2, 27] }, { 23: [2, 28], 33: [2, 28], 54: [2, 28], 65: [2, 28], 68: [2, 28], 72: [2, 28], 75: [2, 28], 80: [2, 28], 81: [2, 28], 82: [2, 28], 83: [2, 28], 84: [2, 28], 85: [2, 28] }, { 23: [2, 30], 33: [2, 30], 54: [2, 30], 68: [2, 30], 71: 107, 72: [1, 108], 75: [2, 30] }, { 23: [2, 98], 33: [2, 98], 54: [2, 98], 68: [2, 98], 72: [2, 98], 75: [2, 98] }, { 23: [2, 45], 33: [2, 45], 54: [2, 45], 65: [2, 45], 68: [2, 45], 72: [2, 45], 73: [1, 109], 75: [2, 45], 80: [2, 45], 81: [2, 45], 82: [2, 45], 83: [2, 45], 84: [2, 45], 85: [2, 45], 87: [2, 45] }, { 23: [2, 44], 33: [2, 44], 54: [2, 44], 65: [2, 44], 68: [2, 44], 72: [2, 44], 75: [2, 44], 80: [2, 44], 81: [2, 44], 82: [2, 44], 83: [2, 44], 84: [2, 44], 85: [2, 44], 87: [2, 44] }, { 54: [1, 110] }, { 54: [2, 83], 65: [2, 83], 72: [2, 83], 80: [2, 83], 81: [2, 83], 82: [2, 83], 83: [2, 83], 84: [2, 83], 85: [2, 83] }, { 54: [2, 85] }, { 5: [2, 13], 14: [2, 13], 15: [2, 13], 19: [2, 13], 29: [2, 13], 34: [2, 13], 39: [2, 13], 44: [2, 13], 47: [2, 13], 48: [2, 13], 51: [2, 13], 55: [2, 13], 60: [2, 13] }, { 38: 56, 39: [1, 58], 43: 57, 44: [1, 59], 45: 112, 46: 111, 47: [2, 76] }, { 33: [2, 70], 40: 113, 65: [2, 70], 72: [2, 70], 75: [2, 70], 80: [2, 70], 81: [2, 70], 82: [2, 70], 83: [2, 70], 84: [2, 70], 85: [2, 70] }, { 47: [2, 18] }, { 5: [2, 14], 14: [2, 14], 15: [2, 14], 19: [2, 14], 29: [2, 14], 34: [2, 14], 39: [2, 14], 44: [2, 14], 47: [2, 14], 48: [2, 14], 51: [2, 14], 55: [2, 14], 60: [2, 14] }, { 33: [1, 114] }, { 33: [2, 87], 65: [2, 87], 72: [2, 87], 80: [2, 87], 81: [2, 87], 82: [2, 87], 83: [2, 87], 84: [2, 87], 85: [2, 87] }, { 33: [2, 89] }, { 20: 75, 63: 116, 64: 76, 65: [1, 44], 67: 115, 68: [2, 96], 69: 117, 70: 77, 71: 78, 72: [1, 79], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 33: [1, 118] }, { 32: 119, 33: [2, 62], 74: 120, 75: [1, 121] }, { 33: [2, 59], 65: [2, 59], 72: [2, 59], 75: [2, 59], 80: [2, 59], 81: [2, 59], 82: [2, 59], 83: [2, 59], 84: [2, 59], 85: [2, 59] }, { 33: [2, 61], 75: [2, 61] }, { 33: [2, 68], 37: 122, 74: 123, 75: [1, 121] }, { 33: [2, 65], 65: [2, 65], 72: [2, 65], 75: [2, 65], 80: [2, 65], 81: [2, 65], 82: [2, 65], 83: [2, 65], 84: [2, 65], 85: [2, 65] }, { 33: [2, 67], 75: [2, 67] }, { 23: [1, 124] }, { 23: [2, 51], 65: [2, 51], 72: [2, 51], 80: [2, 51], 81: [2, 51], 82: [2, 51], 83: [2, 51], 84: [2, 51], 85: [2, 51] }, { 23: [2, 53] }, { 33: [1, 125] }, { 33: [2, 91], 65: [2, 91], 72: [2, 91], 80: [2, 91], 81: [2, 91], 82: [2, 91], 83: [2, 91], 84: [2, 91], 85: [2, 91] }, { 33: [2, 93] }, { 5: [2, 22], 14: [2, 22], 15: [2, 22], 19: [2, 22], 29: [2, 22], 34: [2, 22], 39: [2, 22], 44: [2, 22], 47: [2, 22], 48: [2, 22], 51: [2, 22], 55: [2, 22], 60: [2, 22] }, { 23: [2, 99], 33: [2, 99], 54: [2, 99], 68: [2, 99], 72: [2, 99], 75: [2, 99] }, { 73: [1, 109] }, { 20: 75, 63: 126, 64: 76, 65: [1, 44], 72: [1, 35], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 23], 14: [2, 23], 15: [2, 23], 19: [2, 23], 29: [2, 23], 34: [2, 23], 39: [2, 23], 44: [2, 23], 47: [2, 23], 48: [2, 23], 51: [2, 23], 55: [2, 23], 60: [2, 23] }, { 47: [2, 19] }, { 47: [2, 77] }, { 20: 75, 33: [2, 72], 41: 127, 63: 128, 64: 76, 65: [1, 44], 69: 129, 70: 77, 71: 78, 72: [1, 79], 75: [2, 72], 78: 26, 79: 27, 80: [1, 28], 81: [1, 29], 82: [1, 30], 83: [1, 31], 84: [1, 32], 85: [1, 34], 86: 33 }, { 5: [2, 24], 14: [2, 24], 15: [2, 24], 19: [2, 24], 29: [2, 24], 34: [2, 24], 39: [2, 24], 44: [2, 24], 47: [2, 24], 48: [2, 24], 51: [2, 24], 55: [2, 24], 60: [2, 24] }, { 68: [1, 130] }, { 65: [2, 95], 68: [2, 95], 72: [2, 95], 80: [2, 95], 81: [2, 95], 82: [2, 95], 83: [2, 95], 84: [2, 95], 85: [2, 95] }, { 68: [2, 97] }, { 5: [2, 21], 14: [2, 21], 15: [2, 21], 19: [2, 21], 29: [2, 21], 34: [2, 21], 39: [2, 21], 44: [2, 21], 47: [2, 21], 48: [2, 21], 51: [2, 21], 55: [2, 21], 60: [2, 21] }, { 33: [1, 131] }, { 33: [2, 63] }, { 72: [1, 133], 76: 132 }, { 33: [1, 134] }, { 33: [2, 69] }, { 15: [2, 12] }, { 14: [2, 26], 15: [2, 26], 19: [2, 26], 29: [2, 26], 34: [2, 26], 47: [2, 26], 48: [2, 26], 51: [2, 26], 55: [2, 26], 60: [2, 26] }, { 23: [2, 31], 33: [2, 31], 54: [2, 31], 68: [2, 31], 72: [2, 31], 75: [2, 31] }, { 33: [2, 74], 42: 135, 74: 136, 75: [1, 121] }, { 33: [2, 71], 65: [2, 71], 72: [2, 71], 75: [2, 71], 80: [2, 71], 81: [2, 71], 82: [2, 71], 83: [2, 71], 84: [2, 71], 85: [2, 71] }, { 33: [2, 73], 75: [2, 73] }, { 23: [2, 29], 33: [2, 29], 54: [2, 29], 65: [2, 29], 68: [2, 29], 72: [2, 29], 75: [2, 29], 80: [2, 29], 81: [2, 29], 82: [2, 29], 83: [2, 29], 84: [2, 29], 85: [2, 29] }, { 14: [2, 15], 15: [2, 15], 19: [2, 15], 29: [2, 15], 34: [2, 15], 39: [2, 15], 44: [2, 15], 47: [2, 15], 48: [2, 15], 51: [2, 15], 55: [2, 15], 60: [2, 15] }, { 72: [1, 138], 77: [1, 137] }, { 72: [2, 100], 77: [2, 100] }, { 14: [2, 16], 15: [2, 16], 19: [2, 16], 29: [2, 16], 34: [2, 16], 44: [2, 16], 47: [2, 16], 48: [2, 16], 51: [2, 16], 55: [2, 16], 60: [2, 16] }, { 33: [1, 139] }, { 33: [2, 75] }, { 33: [2, 32] }, { 72: [2, 101], 77: [2, 101] }, { 14: [2, 17], 15: [2, 17], 19: [2, 17], 29: [2, 17], 34: [2, 17], 39: [2, 17], 44: [2, 17], 47: [2, 17], 48: [2, 17], 51: [2, 17], 55: [2, 17], 60: [2, 17] }], defaultActions: { 4: [2, 1], 55: [2, 55], 57: [2, 20], 61: [2, 57], 74: [2, 81], 83: [2, 85], 87: [2, 18], 91: [2, 89], 102: [2, 53], 105: [2, 93], 111: [2, 19], 112: [2, 77], 117: [2, 97], 120: [2, 63], 123: [2, 69], 124: [2, 12], 136: [2, 75], 137: [2, 32] }, parseError: function (t, e) { throw new Error(t) }, parse: function (t) { var e = [0], n = [null], i = [], o = this.table, a = "", r = 0, s = 0, g = 0; this.lexer.setInput(t), this.lexer.yy = this.yy, this.yy.lexer = this.lexer, void 0 === (this.yy.parser = this).lexer.yylloc && (this.lexer.yylloc = {}); var l = this.lexer.yylloc; i.push(l); var c = this.lexer.options && this.lexer.options.ranges; "function" == typeof this.yy.parseError && (this.parseError = this.yy.parseError); for (var I, u, h, d, C, A, p, m, f, b, B = {}; ;) { if (h = e[e.length - 1], void 0 === (d = this.defaultActions[h] ? this.defaultActions[h] : (null == I && (b = void 0, "number" != typeof (b = this.lexer.lex() || 1) && (b = this.symbols_[b] || b), I = b), o[h] && o[h][I])) || !d.length || !d[0]) { var y = ""; if (!g) { for (A in f = [], o[h]) this.terminals_[A] && 2 < A && f.push("'" + this.terminals_[A] + "'"); y = this.lexer.showPosition ? "Parse error on line " + (r + 1) + ":\n" + this.lexer.showPosition() + "\nExpecting " + f.join(", ") + ", got '" + (this.terminals_[I] || I) + "'" : "Parse error on line " + (r + 1) + ": Unexpected " + (1 == I ? "end of input" : "'" + (this.terminals_[I] || I) + "'"), this.parseError(y, { text: this.lexer.match, token: this.terminals_[I] || I, line: this.lexer.yylineno, loc: l, expected: f }) } } if (d[0] instanceof Array && 1 < d.length) throw new Error("Parse Error: multiple actions possible at state: " + h + ", token: " + I); switch (d[0]) { case 1: e.push(I), n.push(this.lexer.yytext), i.push(this.lexer.yylloc), e.push(d[1]), I = null, u ? (I = u, u = null) : (s = this.lexer.yyleng, a = this.lexer.yytext, r = this.lexer.yylineno, l = this.lexer.yylloc, 0 < g && g--); break; case 2: if (p = this.productions_[d[1]][1], B.$ = n[n.length - p], B._$ = { first_line: i[i.length - (p || 1)].first_line, last_line: i[i.length - 1].last_line, first_column: i[i.length - (p || 1)].first_column, last_column: i[i.length - 1].last_column }, c && (B._$.range = [i[i.length - (p || 1)].range[0], i[i.length - 1].range[1]]), void 0 !== (C = this.performAction.call(B, a, s, r, this.yy, d[1], n, i))) return C; p && (e = e.slice(0, -1 * p * 2), n = n.slice(0, -1 * p), i = i.slice(0, -1 * p)), e.push(this.productions_[d[1]][0]), n.push(B.$), i.push(B._$), m = o[e[e.length - 2]][e[e.length - 1]], e.push(m); break; case 3: return !0 } } return !0 } }) }, emu: { rules: [2], inclusive: !1 }, com: { rules: [6], inclusive: !1 }, raw: { rules: [3, 4, 5], inclusive: !1 }, INITIAL: { rules: [0, 1, 44], inclusive: !0 } } }, n.lexer = i, new ((a.prototype = n).Parser = a)); function a() { this.yy = {} } e.default = o, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = i(n(39)); function a() { var t = arguments.length <= 0 || void 0 === arguments[0] ? {} : arguments[0]; this.options = t } function r(t, e, n) { void 0 === e && (e = t.length); var i = t[e - 1], o = t[e - 2]; return i ? "ContentStatement" === i.type ? (o || !n ? /\r?\n\s*?$/ : /(^|\r?\n)\s*?$/).test(i.original) : void 0 : n } function s(t, e, n) { void 0 === e && (e = -1); var i = t[e + 1], o = t[e + 2]; return i ? "ContentStatement" === i.type ? (o || !n ? /^\s*?\r?\n/ : /^\s*?(\r?\n|$)/).test(i.original) : void 0 : n } function g(t, e, n) { var i = t[null == e ? 0 : e + 1]; if (i && "ContentStatement" === i.type && (n || !i.rightStripped)) { var o = i.value; i.value = i.value.replace(n ? /^\s+/ : /^[ \t]*\r?\n?/, ""), i.rightStripped = i.value !== o } } function l(t, e, n) { var i = t[null == e ? t.length - 1 : e - 1]; if (i && "ContentStatement" === i.type && (n || !i.leftStripped)) { var o = i.value; return i.value = i.value.replace(n ? /\s+$/ : /[ \t]+$/, ""), i.leftStripped = i.value !== o, i.leftStripped } } (a.prototype = new o.default).Program = function (t) { var e = !this.options.ignoreStandalone, n = !this.isRootSeen; this.isRootSeen = !0; for (var i = t.body, o = 0, a = i.length; o < a; o++) { var c = i[o], I = this.accept(c); if (I) { var u = r(i, o, n), h = s(i, o, n), d = I.openStandalone && u, C = I.closeStandalone && h, A = I.inlineStandalone && u && h; I.close && g(i, o, !0), I.open && l(i, o, !0), e && A && (g(i, o), l(i, o) && "PartialStatement" === c.type && (c.indent = /([ \t]+$)/.exec(i[o - 1].original)[1])), e && d && (g((c.program || c.inverse).body), l(i, o)), e && C && (g(i, o), l((c.inverse || c.program).body)) } } return t }, a.prototype.BlockStatement = a.prototype.DecoratorBlock = a.prototype.PartialBlockStatement = function (t) { this.accept(t.program), this.accept(t.inverse); var e = t.program || t.inverse, n = t.program && t.inverse, i = n, o = n; if (n && n.chained) for (i = n.body[0].program; o.chained;)o = o.body[o.body.length - 1].program; var a = { open: t.openStrip.open, close: t.closeStrip.close, openStandalone: s(e.body), closeStandalone: r((i || e).body) }; if (t.openStrip.close && g(e.body, null, !0), n) { var c = t.inverseStrip; c.open && l(e.body, null, !0), c.close && g(i.body, null, !0), t.closeStrip.open && l(o.body, null, !0), !this.options.ignoreStandalone && r(e.body) && s(i.body) && (l(e.body), g(i.body)) } else t.closeStrip.open && l(e.body, null, !0); return a }, a.prototype.Decorator = a.prototype.MustacheStatement = function (t) { return t.strip }, a.prototype.PartialStatement = a.prototype.CommentStatement = function (t) { var e = t.strip || {}; return { inlineStandalone: !0, open: e.open, close: e.close } }, e.default = a, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = i(n(6)); function a() { this.parents = [] } function r(t) { this.acceptRequired(t, "path"), this.acceptArray(t.params), this.acceptKey(t, "hash") } function s(t) { r.call(this, t), this.acceptKey(t, "program"), this.acceptKey(t, "inverse") } function g(t) { this.acceptRequired(t, "name"), this.acceptArray(t.params), this.acceptKey(t, "hash") } a.prototype = { constructor: a, mutating: !1, acceptKey: function (t, e) { var n = this.accept(t[e]); if (this.mutating) { if (n && !a.prototype[n.type]) throw new o.default('Unexpected node type "' + n.type + '" found when accepting ' + e + " on " + t.type); t[e] = n } }, acceptRequired: function (t, e) { if (this.acceptKey(t, e), !t[e]) throw new o.default(t.type + " requires " + e) }, acceptArray: function (t) { for (var e = 0, n = t.length; e < n; e++)this.acceptKey(t, e), t[e] || (t.splice(e, 1), e--, n--) }, accept: function (t) { if (t) { if (!this[t.type]) throw new o.default("Unknown type: " + t.type, t); this.current && this.parents.unshift(this.current), this.current = t; var e = this[t.type](t); return this.current = this.parents.shift(), !this.mutating || e ? e : !1 !== e ? t : void 0 } }, Program: function (t) { this.acceptArray(t.body) }, MustacheStatement: r, Decorator: r, BlockStatement: s, DecoratorBlock: s, PartialStatement: g, PartialBlockStatement: function (t) { g.call(this, t), this.acceptKey(t, "program") }, ContentStatement: function () { }, CommentStatement: function () { }, SubExpression: r, PathExpression: function () { }, StringLiteral: function () { }, NumberLiteral: function () { }, BooleanLiteral: function () { }, UndefinedLiteral: function () { }, NullLiteral: function () { }, Hash: function (t) { this.acceptArray(t.pairs) }, HashPair: function (t) { this.acceptRequired(t, "value") } }, e.default = a, t.exports = e.default }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.SourceLocation = function (t, e) { this.source = t, this.start = { line: e.first_line, column: e.first_column }, this.end = { line: e.last_line, column: e.last_column } }, e.id = function (t) { return /^\[.*\]$/.test(t) ? t.substr(1, t.length - 2) : t }, e.stripFlags = function (t, e) { return { open: "~" === t.charAt(2), close: "~" === e.charAt(e.length - 3) } }, e.stripComment = function (t) { return t.replace(/^\{\{~?!-?-?/, "").replace(/-?-?~?\}\}$/, "") }, e.preparePath = function (t, e, n) { n = this.locInfo(n); for (var i = t ? "@" : "", a = [], r = 0, s = 0, g = e.length; s < g; s++) { var l = e[s].part, c = e[s].original !== l; if (i += (e[s].separator || "") + l, c || ".." !== l && "." !== l && "this" !== l) a.push(l); else { if (0 < a.length) throw new o.default("Invalid path: " + i, { loc: n }); ".." === l && r++ } } return { type: "PathExpression", data: t, depth: r, parts: a, original: i, loc: n } }, e.prepareMustache = function (t, e, n, i, o, a) { var r = i.charAt(3) || i.charAt(2), s = "{" !== r && "&" !== r; return { type: /\*/.test(i) ? "Decorator" : "MustacheStatement", path: t, params: e, hash: n, escaped: s, strip: o, loc: this.locInfo(a) } }, e.prepareRawBlock = function (t, e, n, i) { a(t, n); var o = { type: "Program", body: e, strip: {}, loc: i = this.locInfo(i) }; return { type: "BlockStatement", path: t.path, params: t.params, hash: t.hash, program: o, openStrip: {}, inverseStrip: {}, closeStrip: {}, loc: i } }, e.prepareBlock = function (t, e, n, i, r, s) { i && i.path && a(t, i); var g = /\*/.test(t.open); e.blockParams = t.blockParams; var l = void 0, c = void 0; if (n) { if (g) throw new o.default("Unexpected inverse block on decorator", n); n.chain && (n.program.body[0].closeStrip = i.strip), c = n.strip, l = n.program } return r && (r = l, l = e, e = r), { type: g ? "DecoratorBlock" : "BlockStatement", path: t.path, params: t.params, hash: t.hash, program: e, inverse: l, openStrip: t.strip, inverseStrip: c, closeStrip: i && i.strip, loc: this.locInfo(s) } }, e.prepareProgram = function (t, e) { if (!e && t.length) { var n = t[0].loc, i = t[t.length - 1].loc; n && i && (e = { source: n.source, start: { line: n.start.line, column: n.start.column }, end: { line: i.end.line, column: i.end.column } }) } return { type: "Program", body: t, strip: {}, loc: e } }, e.preparePartialBlock = function (t, e, n, i) { return a(t, n), { type: "PartialBlockStatement", name: t.path, params: t.params, hash: t.hash, program: e, openStrip: t.strip, closeStrip: n && n.strip, loc: this.locInfo(i) } }; var o = i(n(6)); function a(t, e) { if (e = e.path ? e.path.original : e, t.path.original !== e) { var n = { loc: t.path.loc }; throw new o.default(t.path.original + " doesn't match " + e, n) } } }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0, e.Compiler = g, e.precompile = function (t, e, n) { if (null == t || "string" != typeof t && "Program" !== t.type) throw new o.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed " + t); "data" in (e = e || {}) || (e.data = !0), e.compat && (e.useDepths = !0); var i = n.parse(t, e), a = (new n.Compiler).compile(i, e); return (new n.JavaScriptCompiler).compile(a, e) }, e.compile = function (t, e, n) { if (void 0 === e && (e = {}), null == t || "string" != typeof t && "Program" !== t.type) throw new o.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed " + t); "data" in (e = a.extend({}, e)) || (e.data = !0), e.compat && (e.useDepths = !0); var i = void 0; function r() { var i = n.parse(t, e), o = (new n.Compiler).compile(i, e), a = (new n.JavaScriptCompiler).compile(o, e, void 0, !0); return n.template(a) } function s(t, e) { return i || (i = r()), i.call(this, t, e) } return s._setup = function (t) { return i || (i = r()), i._setup(t) }, s._child = function (t, e, n, o) { return i || (i = r()), i._child(t, e, n, o) }, s }; var o = i(n(6)), a = n(5), r = i(n(35)), s = [].slice; function g() { } function l(t, e) { if (t === e) return !0; if (a.isArray(t) && a.isArray(e) && t.length === e.length) { for (var n = 0; n < t.length; n++)if (!l(t[n], e[n])) return !1; return !0 } } function c(t) { if (!t.path.parts) { var e = t.path; t.path = { type: "PathExpression", data: !1, depth: 0, parts: [e.original + ""], original: e.original + "", loc: e.loc } } } g.prototype = { compiler: g, equals: function (t) { var e = this.opcodes.length; if (t.opcodes.length !== e) return !1; for (var n = 0; n < e; n++) { var i = this.opcodes[n], o = t.opcodes[n]; if (i.opcode !== o.opcode || !l(i.args, o.args)) return !1 } for (e = this.children.length, n = 0; n < e; n++)if (!this.children[n].equals(t.children[n])) return !1; return !0 }, guid: 0, compile: function (t, e) { this.sourceNode = [], this.opcodes = [], this.children = [], this.options = e, this.stringParams = e.stringParams, this.trackIds = e.trackIds, e.blockParams = e.blockParams || []; var n = e.knownHelpers; if (e.knownHelpers = { helperMissing: !0, blockHelperMissing: !0, each: !0, if: !0, unless: !0, with: !0, log: !0, lookup: !0 }, n) for (var i in n) this.options.knownHelpers[i] = n[i]; return this.accept(t) }, compileProgram: function (t) { var e = (new this.compiler).compile(t, this.options), n = this.guid++; return this.usePartial = this.usePartial || e.usePartial, this.children[n] = e, this.useDepths = this.useDepths || e.useDepths, n }, accept: function (t) { if (!this[t.type]) throw new o.default("Unknown type: " + t.type, t); this.sourceNode.unshift(t); var e = this[t.type](t); return this.sourceNode.shift(), e }, Program: function (t) { this.options.blockParams.unshift(t.blockParams); for (var e = t.body, n = e.length, i = 0; i < n; i++)this.accept(e[i]); return this.options.blockParams.shift(), this.isSimple = 1 === n, this.blockParams = t.blockParams ? t.blockParams.length : 0, this }, BlockStatement: function (t) { c(t); var e = t.program, n = t.inverse; e = e && this.compileProgram(e), n = n && this.compileProgram(n); var i = this.classifySexpr(t); "helper" === i ? this.helperSexpr(t, e, n) : "simple" === i ? (this.simpleSexpr(t), this.opcode("pushProgram", e), this.opcode("pushProgram", n), this.opcode("emptyHash"), this.opcode("blockValue", t.path.original)) : (this.ambiguousSexpr(t, e, n), this.opcode("pushProgram", e), this.opcode("pushProgram", n), this.opcode("emptyHash"), this.opcode("ambiguousBlockValue")), this.opcode("append") }, DecoratorBlock: function (t) { var e = t.program && this.compileProgram(t.program), n = this.setupFullMustacheParams(t, e, void 0), i = t.path; this.useDecorators = !0, this.opcode("registerDecorator", n.length, i.original) }, PartialStatement: function (t) { this.usePartial = !0; var e = t.program; e && (e = this.compileProgram(t.program)); var n = t.params; if (1 < n.length) throw new o.default("Unsupported number of partial arguments: " + n.length, t); n.length || (this.options.explicitPartialContext ? this.opcode("pushLiteral", "undefined") : n.push({ type: "PathExpression", parts: [], depth: 0 })); var i = t.name.original, a = "SubExpression" === t.name.type; a && this.accept(t.name), this.setupFullMustacheParams(t, e, void 0, !0); var r = t.indent || ""; this.options.preventIndent && r && (this.opcode("appendContent", r), r = ""), this.opcode("invokePartial", a, i, r), this.opcode("append") }, PartialBlockStatement: function (t) { this.PartialStatement(t) }, MustacheStatement: function (t) { this.SubExpression(t), t.escaped && !this.options.noEscape ? this.opcode("appendEscaped") : this.opcode("append") }, Decorator: function (t) { this.DecoratorBlock(t) }, ContentStatement: function (t) { t.value && this.opcode("appendContent", t.value) }, CommentStatement: function () { }, SubExpression: function (t) { c(t); var e = this.classifySexpr(t); "simple" === e ? this.simpleSexpr(t) : "helper" === e ? this.helperSexpr(t) : this.ambiguousSexpr(t) }, ambiguousSexpr: function (t, e, n) { var i = t.path, o = i.parts[0], a = null != e || null != n; this.opcode("getContext", i.depth), this.opcode("pushProgram", e), this.opcode("pushProgram", n), i.strict = !0, this.accept(i), this.opcode("invokeAmbiguous", o, a) }, simpleSexpr: function (t) { var e = t.path; e.strict = !0, this.accept(e), this.opcode("resolvePossibleLambda") }, helperSexpr: function (t, e, n) { var i = this.setupFullMustacheParams(t, e, n), a = t.path, s = a.parts[0]; if (this.options.knownHelpers[s]) this.opcode("invokeKnownHelper", i.length, s); else { if (this.options.knownHelpersOnly) throw new o.default("You specified knownHelpersOnly, but used the unknown helper " + s, t); a.strict = !0, a.falsy = !0, this.accept(a), this.opcode("invokeHelper", i.length, a.original, r.default.helpers.simpleId(a)) } }, PathExpression: function (t) { this.addDepth(t.depth), this.opcode("getContext", t.depth); var e = t.parts[0], n = r.default.helpers.scopedId(t), i = !t.depth && !n && this.blockParamIndex(e); i ? this.opcode("lookupBlockParam", i, t.parts) : e ? t.data ? (this.options.data = !0, this.opcode("lookupData", t.depth, t.parts, t.strict)) : this.opcode("lookupOnContext", t.parts, t.falsy, t.strict, n) : this.opcode("pushContext") }, StringLiteral: function (t) { this.opcode("pushString", t.value) }, NumberLiteral: function (t) { this.opcode("pushLiteral", t.value) }, BooleanLiteral: function (t) { this.opcode("pushLiteral", t.value) }, UndefinedLiteral: function () { this.opcode("pushLiteral", "undefined") }, NullLiteral: function () { this.opcode("pushLiteral", "null") }, Hash: function (t) { var e = t.pairs, n = 0, i = e.length; for (this.opcode("pushHash"); n < i; n++)this.pushParam(e[n].value); for (; n--;)this.opcode("assignToHash", e[n].key); this.opcode("popHash") }, opcode: function (t) { this.opcodes.push({ opcode: t, args: s.call(arguments, 1), loc: this.sourceNode[0].loc }) }, addDepth: function (t) { t && (this.useDepths = !0) }, classifySexpr: function (t) { var e = r.default.helpers.simpleId(t.path), n = e && !!this.blockParamIndex(t.path.parts[0]), i = !n && r.default.helpers.helperExpression(t), o = !n && (i || e); if (o && !i) { var a = t.path.parts[0], s = this.options; s.knownHelpers[a] ? i = !0 : s.knownHelpersOnly && (o = !1) } return i ? "helper" : o ? "ambiguous" : "simple" }, pushParams: function (t) { for (var e = 0, n = t.length; e < n; e++)this.pushParam(t[e]) }, pushParam: function (t) { var e = null != t.value ? t.value : t.original || ""; if (this.stringParams) e.replace && (e = e.replace(/^(\.?\.\/)*/g, "").replace(/\//g, ".")), t.depth && this.addDepth(t.depth), this.opcode("getContext", t.depth || 0), this.opcode("pushStringParam", e, t.type), "SubExpression" === t.type && this.accept(t); else { if (this.trackIds) { var n = void 0; if (!t.parts || r.default.helpers.scopedId(t) || t.depth || (n = this.blockParamIndex(t.parts[0])), n) { var i = t.parts.slice(1).join("."); this.opcode("pushId", "BlockParam", n, i) } else (e = t.original || e).replace && (e = e.replace(/^this(?:\.|$)/, "").replace(/^\.\//, "").replace(/^\.$/, "")), this.opcode("pushId", t.type, e) } this.accept(t) } }, setupFullMustacheParams: function (t, e, n, i) { var o = t.params; return this.pushParams(o), this.opcode("pushProgram", e), this.opcode("pushProgram", n), t.hash ? this.accept(t.hash) : this.opcode("emptyHash", i), o }, blockParamIndex: function (t) { for (var e = 0, n = this.options.blockParams.length; e < n; e++) { var i = this.options.blockParams[e], o = i && a.indexOf(i, t); if (i && 0 <= o) return [e, o] } } } }, function (t, e, n) { "use strict"; var i = n(1).default; e.__esModule = !0; var o = n(4), a = i(n(6)), r = n(5), s = i(n(43)); function g(t) { this.value = t } function l() { } l.prototype = { nameLookup: function (t, e) { return "constructor" === e ? ["(", t, ".propertyIsEnumerable('constructor') ? ", t, ".constructor : undefined", ")"] : l.isValidJavaScriptVariableName(e) ? [t, ".", e] : [t, "[", JSON.stringify(e), "]"] }, depthedLookup: function (t) { return [this.aliasable("container.lookup"), '(depths, "', t, '")'] }, compilerInfo: function () { var t = o.COMPILER_REVISION; return [t, o.REVISION_CHANGES[t]] }, appendToBuffer: function (t, e, n) { return r.isArray(t) || (t = [t]), t = this.source.wrap(t, e), this.environment.isSimple ? ["return ", t, ";"] : n ? ["buffer += ", t, ";"] : (t.appendToBuffer = !0, t) }, initializeBuffer: function () { return this.quotedString("") }, compile: function (t, e, n, i) { this.environment = t, this.options = e, this.stringParams = this.options.stringParams, this.trackIds = this.options.trackIds, this.precompile = !i, this.name = this.environment.name, this.isChild = !!n, this.context = n || { decorators: [], programs: [], environments: [] }, this.preamble(), this.stackSlot = 0, this.stackVars = [], this.aliases = {}, this.registers = { list: [] }, this.hashes = [], this.compileStack = [], this.inlineStack = [], this.blockParams = [], this.compileChildren(t, e), this.useDepths = this.useDepths || t.useDepths || t.useDecorators || this.options.compat, this.useBlockParams = this.useBlockParams || t.useBlockParams; var o = t.opcodes, r = void 0, s = void 0, g = void 0, l = void 0; for (g = 0, l = o.length; g < l; g++)r = o[g], this.source.currentLocation = r.loc, s = s || r.loc, this[r.opcode].apply(this, r.args); if (this.source.currentLocation = s, this.pushSource(""), this.stackSlot || this.inlineStack.length || this.compileStack.length) throw new a.default("Compile completed with content left on stack"); this.decorators.isEmpty() ? this.decorators = void 0 : (this.useDecorators = !0, this.decorators.prepend("var decorators = container.decorators;\n"), this.decorators.push("return fn;"), i ? this.decorators = Function.apply(this, ["fn", "props", "container", "depth0", "data", "blockParams", "depths", this.decorators.merge()]) : (this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"), this.decorators.push("}\n"), this.decorators = this.decorators.merge())); var c = this.createFunctionContext(i); if (this.isChild) return c; var I = { compiler: this.compilerInfo(), main: c }; this.decorators && (I.main_d = this.decorators, I.useDecorators = !0); var u = this.context, h = u.programs, d = u.decorators; for (g = 0, l = h.length; g < l; g++)h[g] && (I[g] = h[g], d[g] && (I[g + "_d"] = d[g], I.useDecorators = !0)); return this.environment.usePartial && (I.usePartial = !0), this.options.data && (I.useData = !0), this.useDepths && (I.useDepths = !0), this.useBlockParams && (I.useBlockParams = !0), this.options.compat && (I.compat = !0), i ? I.compilerOptions = this.options : (I.compiler = JSON.stringify(I.compiler), this.source.currentLocation = { start: { line: 1, column: 0 } }, I = this.objectLiteral(I), e.srcName ? (I = I.toStringWithSourceMap({ file: e.destName })).map = I.map && I.map.toString() : I = I.toString()), I }, preamble: function () { this.lastContext = 0, this.source = new s.default(this.options.srcName), this.decorators = new s.default(this.options.srcName) }, createFunctionContext: function (t) { var e = "", n = this.stackVars.concat(this.registers.list); 0 < n.length && (e += ", " + n.join(", ")); var i = 0; for (var o in this.aliases) { var a = this.aliases[o]; this.aliases.hasOwnProperty(o) && a.children && 1 < a.referenceCount && (e += ", alias" + ++i + "=" + o, a.children[0] = "alias" + i) } var r = ["container", "depth0", "helpers", "partials", "data"]; (this.useBlockParams || this.useDepths) && r.push("blockParams"), this.useDepths && r.push("depths"); var s = this.mergeSource(e); return t ? (r.push(s), Function.apply(this, r)) : this.source.wrap(["function(", r.join(","), ") {\n  ", s, "}"]) }, mergeSource: function (t) { var e = this.environment.isSimple, n = !this.forceBuffer, i = void 0, o = void 0, a = void 0, r = void 0; return this.source.each(function (t) { t.appendToBuffer ? (a ? t.prepend("  + ") : a = t, r = t) : (a && (o ? a.prepend("buffer += ") : i = !0, r.add(";"), a = r = void 0), o = !0, e || (n = !1)) }), n ? a ? (a.prepend("return "), r.add(";")) : o || this.source.push('return "";') : (t += ", buffer = " + (i ? "" : this.initializeBuffer()), a ? (a.prepend("return buffer + "), r.add(";")) : this.source.push("return buffer;")), t && this.source.prepend("var " + t.substring(2) + (i ? "" : ";\n")), this.source.merge() }, blockValue: function (t) { var e = this.aliasable("helpers.blockHelperMissing"), n = [this.contextName(0)]; this.setupHelperArgs(t, 0, n); var i = this.popStack(); n.splice(1, 0, i), this.push(this.source.functionCall(e, "call", n)) }, ambiguousBlockValue: function () { var t = this.aliasable("helpers.blockHelperMissing"), e = [this.contextName(0)]; this.setupHelperArgs("", 0, e, !0), this.flushInline(); var n = this.topStack(); e.splice(1, 0, n), this.pushSource(["if (!", this.lastHelper, ") { ", n, " = ", this.source.functionCall(t, "call", e), "}"]) }, appendContent: function (t) { this.pendingContent ? t = this.pendingContent + t : this.pendingLocation = this.source.currentLocation, this.pendingContent = t }, append: function () { if (this.isInline()) this.replaceStack(function (t) { return [" != null ? ", t, ' : ""'] }), this.pushSource(this.appendToBuffer(this.popStack())); else { var t = this.popStack(); this.pushSource(["if (", t, " != null) { ", this.appendToBuffer(t, void 0, !0), " }"]), this.environment.isSimple && this.pushSource(["else { ", this.appendToBuffer("''", void 0, !0), " }"]) } }, appendEscaped: function () { this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"), "(", this.popStack(), ")"])) }, getContext: function (t) { this.lastContext = t }, pushContext: function () { this.pushStackLiteral(this.contextName(this.lastContext)) }, lookupOnContext: function (t, e, n, i) { var o = 0; i || !this.options.compat || this.lastContext ? this.pushContext() : this.push(this.depthedLookup(t[o++])), this.resolvePath("context", t, o, e, n) }, lookupBlockParam: function (t, e) { this.useBlockParams = !0, this.push(["blockParams[", t[0], "][", t[1], "]"]), this.resolvePath("context", e, 1) }, lookupData: function (t, e, n) { t ? this.pushStackLiteral("container.data(data, " + t + ")") : this.pushStackLiteral("data"), this.resolvePath("data", e, 0, !0, n) }, resolvePath: function (t, e, n, i, o) { var a = this; if (this.options.strict || this.options.assumeObjects) this.push(function (t, e, n, i) { var o = e.popStack(), a = 0, r = n.length; for (t && r--; a < r; a++)o = e.nameLookup(o, n[a], i); return t ? [e.aliasable("container.strict"), "(", o, ", ", e.quotedString(n[a]), ")"] : o }(this.options.strict && o, this, e, t)); else for (var r = e.length; n < r; n++)this.replaceStack(function (o) { var r = a.nameLookup(o, e[n], t); return i ? [" && ", r] : [" != null ? ", r, " : ", o] }) }, resolvePossibleLambda: function () { this.push([this.aliasable("container.lambda"), "(", this.popStack(), ", ", this.contextName(0), ")"]) }, pushStringParam: function (t, e) { this.pushContext(), this.pushString(e), "SubExpression" !== e && ("string" == typeof t ? this.pushString(t) : this.pushStackLiteral(t)) }, emptyHash: function (t) { this.trackIds && this.push("{}"), this.stringParams && (this.push("{}"), this.push("{}")), this.pushStackLiteral(t ? "undefined" : "{}") }, pushHash: function () { this.hash && this.hashes.push(this.hash), this.hash = { values: [], types: [], contexts: [], ids: [] } }, popHash: function () { var t = this.hash; this.hash = this.hashes.pop(), this.trackIds && this.push(this.objectLiteral(t.ids)), this.stringParams && (this.push(this.objectLiteral(t.contexts)), this.push(this.objectLiteral(t.types))), this.push(this.objectLiteral(t.values)) }, pushString: function (t) { this.pushStackLiteral(this.quotedString(t)) }, pushLiteral: function (t) { this.pushStackLiteral(t) }, pushProgram: function (t) { null != t ? this.pushStackLiteral(this.programExpression(t)) : this.pushStackLiteral(null) }, registerDecorator: function (t, e) { var n = this.nameLookup("decorators", e, "decorator"), i = this.setupHelperArgs(e, t); this.decorators.push(["fn = ", this.decorators.functionCall(n, "", ["fn", "props", "container", i]), " || fn;"]) }, invokeHelper: function (t, e, n) { var i = this.popStack(), o = this.setupHelper(t, e), a = n ? [o.name, " || "] : "", r = ["("].concat(a, i); this.options.strict || r.push(" || ", this.aliasable("helpers.helperMissing")), r.push(")"), this.push(this.source.functionCall(r, "call", o.callParams)) }, invokeKnownHelper: function (t, e) { var n = this.setupHelper(t, e); this.push(this.source.functionCall(n.name, "call", n.callParams)) }, invokeAmbiguous: function (t, e) { this.useRegister("helper"); var n = this.popStack(); this.emptyHash(); var i = this.setupHelper(0, t, e), o = ["(", "(helper = ", this.lastHelper = this.nameLookup("helpers", t, "helper"), " || ", n, ")"]; this.options.strict || (o[0] = "(helper = ", o.push(" != null ? helper : ", this.aliasable("helpers.helperMissing"))), this.push(["(", o, i.paramsInit ? ["),(", i.paramsInit] : [], "),", "(typeof helper === ", this.aliasable('"function"'), " ? ", this.source.functionCall("helper", "call", i.callParams), " : helper))"]) }, invokePartial: function (t, e, n) { var i = [], o = this.setupParams(e, 1, i); t && (e = this.popStack(), delete o.name), n && (o.indent = JSON.stringify(n)), o.helpers = "helpers", o.partials = "partials", o.decorators = "container.decorators", t ? i.unshift(e) : i.unshift(this.nameLookup("partials", e, "partial")), this.options.compat && (o.depths = "depths"), o = this.objectLiteral(o), i.push(o), this.push(this.source.functionCall("container.invokePartial", "", i)) }, assignToHash: function (t) { var e = this.popStack(), n = void 0, i = void 0, o = void 0; this.trackIds && (o = this.popStack()), this.stringParams && (i = this.popStack(), n = this.popStack()); var a = this.hash; n && (a.contexts[t] = n), i && (a.types[t] = i), o && (a.ids[t] = o), a.values[t] = e }, pushId: function (t, e, n) { "BlockParam" === t ? this.pushStackLiteral("blockParams[" + e[0] + "].path[" + e[1] + "]" + (n ? " + " + JSON.stringify("." + n) : "")) : "PathExpression" === t ? this.pushString(e) : "SubExpression" === t ? this.pushStackLiteral("true") : this.pushStackLiteral("null") }, compiler: l, compileChildren: function (t, e) { for (var n = t.children, i = void 0, o = void 0, a = 0, r = n.length; a < r; a++) { i = n[a], o = new this.compiler; var s = this.matchExistingProgram(i); if (null == s) { this.context.programs.push(""); var g = this.context.programs.length; i.index = g, i.name = "program" + g, this.context.programs[g] = o.compile(i, e, this.context, !this.precompile), this.context.decorators[g] = o.decorators, this.context.environments[g] = i, this.useDepths = this.useDepths || o.useDepths, this.useBlockParams = this.useBlockParams || o.useBlockParams, i.useDepths = this.useDepths, i.useBlockParams = this.useBlockParams } else i.index = s.index, i.name = "program" + s.index, this.useDepths = this.useDepths || s.useDepths, this.useBlockParams = this.useBlockParams || s.useBlockParams } }, matchExistingProgram: function (t) { for (var e = 0, n = this.context.environments.length; e < n; e++) { var i = this.context.environments[e]; if (i && i.equals(t)) return i } }, programExpression: function (t) { var e = this.environment.children[t], n = [e.index, "data", e.blockParams]; return (this.useBlockParams || this.useDepths) && n.push("blockParams"), this.useDepths && n.push("depths"), "container.program(" + n.join(", ") + ")" }, useRegister: function (t) { this.registers[t] || (this.registers[t] = !0, this.registers.list.push(t)) }, push: function (t) { return t instanceof g || (t = this.source.wrap(t)), this.inlineStack.push(t), t }, pushStackLiteral: function (t) { this.push(new g(t)) }, pushSource: function (t) { this.pendingContent && (this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent), this.pendingLocation)), this.pendingContent = void 0), t && this.source.push(t) }, replaceStack: function (t) { var e = ["("], n = void 0, i = void 0, o = void 0; if (!this.isInline()) throw new a.default("replaceStack on non-inline"); var r = this.popStack(!0); if (r instanceof g) e = ["(", n = [r.value]], o = !0; else { i = !0; var s = this.incrStack(); e = ["((", this.push(s), " = ", r, ")"], n = this.topStack() } var l = t.call(this, n); o || this.popStack(), i && this.stackSlot--, this.push(e.concat(l, ")")) }, incrStack: function () { return this.stackSlot++, this.stackSlot > this.stackVars.length && this.stackVars.push("stack" + this.stackSlot), this.topStackName() }, topStackName: function () { return "stack" + this.stackSlot }, flushInline: function () { var t = this.inlineStack; this.inlineStack = []; for (var e = 0, n = t.length; e < n; e++) { var i = t[e]; if (i instanceof g) this.compileStack.push(i); else { var o = this.incrStack(); this.pushSource([o, " = ", i, ";"]), this.compileStack.push(o) } } }, isInline: function () { return this.inlineStack.length }, popStack: function (t) { var e = this.isInline(), n = (e ? this.inlineStack : this.compileStack).pop(); if (!t && n instanceof g) return n.value; if (!e) { if (!this.stackSlot) throw new a.default("Invalid stack pop"); this.stackSlot-- } return n }, topStack: function () { var t = this.isInline() ? this.inlineStack : this.compileStack, e = t[t.length - 1]; return e instanceof g ? e.value : e }, contextName: function (t) { return this.useDepths && t ? "depths[" + t + "]" : "depth" + t }, quotedString: function (t) { return this.source.quotedString(t) }, objectLiteral: function (t) { return this.source.objectLiteral(t) }, aliasable: function (t) { var e = this.aliases[t]; return e ? e.referenceCount++ : ((e = this.aliases[t] = this.source.wrap(t)).aliasable = !0, e.referenceCount = 1), e }, setupHelper: function (t, e, n) { var i = []; return { params: i, paramsInit: this.setupHelperArgs(e, t, i, n), name: this.nameLookup("helpers", e, "helper"), callParams: [this.aliasable(this.contextName(0) + " != null ? " + this.contextName(0) + " : (container.nullContext || {})")].concat(i) } }, setupParams: function (t, e, n) { var i = {}, o = [], a = [], r = [], s = !n, g = void 0; s && (n = []), i.name = this.quotedString(t), i.hash = this.popStack(), this.trackIds && (i.hashIds = this.popStack()), this.stringParams && (i.hashTypes = this.popStack(), i.hashContexts = this.popStack()); var l = this.popStack(), c = this.popStack(); (c || l) && (i.fn = c || "container.noop", i.inverse = l || "container.noop"); for (var I = e; I--;)g = this.popStack(), n[I] = g, this.trackIds && (r[I] = this.popStack()), this.stringParams && (a[I] = this.popStack(), o[I] = this.popStack()); return s && (i.args = this.source.generateArray(n)), this.trackIds && (i.ids = this.source.generateArray(r)), this.stringParams && (i.types = this.source.generateArray(a), i.contexts = this.source.generateArray(o)), this.options.data && (i.data = "data"), this.useBlockParams && (i.blockParams = "blockParams"), i }, setupHelperArgs: function (t, e, n, i) { var o = this.setupParams(t, e, n); return o = this.objectLiteral(o), i ? (this.useRegister("options"), n.push("options"), ["options=", o]) : n ? (n.push(o), "") : o } }, function () { for (var t = "break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "), e = l.RESERVED_WORDS = {}, n = 0, i = t.length; n < i; n++)e[t[n]] = !0 }(), l.isValidJavaScriptVariableName = function (t) { return !l.RESERVED_WORDS[t] && /^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t) }, e.default = l, t.exports = e.default }, function (t, e, n) { "use strict"; e.__esModule = !0; var i = n(5), o = void 0; function a(t, e, n) { if (i.isArray(t)) { for (var o = [], a = 0, r = t.length; a < r; a++)o.push(e.wrap(t[a], n)); return o } return "boolean" == typeof t || "number" == typeof t ? t + "" : t } function r(t) { this.srcFile = t, this.source = [] } o || ((o = function (t, e, n, i) { this.src = "", i && this.add(i) }).prototype = { add: function (t) { i.isArray(t) && (t = t.join("")), this.src += t }, prepend: function (t) { i.isArray(t) && (t = t.join("")), this.src = t + this.src }, toStringWithSourceMap: function () { return { code: this.toString() } }, toString: function () { return this.src } }), r.prototype = { isEmpty: function () { return !this.source.length }, prepend: function (t, e) { this.source.unshift(this.wrap(t, e)) }, push: function (t, e) { this.source.push(this.wrap(t, e)) }, merge: function () { var t = this.empty(); return this.each(function (e) { t.add(["  ", e, "\n"]) }), t }, each: function (t) { for (var e = 0, n = this.source.length; e < n; e++)t(this.source[e]) }, empty: function () { var t = this.currentLocation || { start: {} }; return new o(t.start.line, t.start.column, this.srcFile) }, wrap: function (t, e) { var n = arguments.length <= 1 || void 0 === e ? this.currentLocation || { start: {} } : e; return t instanceof o ? t : (t = a(t, this, n), new o(n.start.line, n.start.column, this.srcFile, t)) }, functionCall: function (t, e, n) { return n = this.generateList(n), this.wrap([t, e ? "." + e + "(" : "(", n, ")"]) }, quotedString: function (t) { return '"' + (t + "").replace(/\\/g, "\\\\").replace(/"/g, '\\"').replace(/\n/g, "\\n").replace(/\r/g, "\\r").replace(/\u2028/g, "\\u2028").replace(/\u2029/g, "\\u2029") + '"' }, objectLiteral: function (t) { var e = []; for (var n in t) if (t.hasOwnProperty(n)) { var i = a(t[n], this); "undefined" !== i && e.push([this.quotedString(n), ":", i]) } var o = this.generateList(e); return o.prepend("{"), o.add("}"), o }, generateList: function (t) { for (var e = this.empty(), n = 0, i = t.length; n < i; n++)n && e.add(","), e.add(a(t[n], this)); return e }, generateArray: function (t) { var e = this.generateList(t); return e.prepend("["), e.add("]"), e } }, e.default = r, t.exports = e.default }], t.c = n, t.p = "", t(0); function t(i) { if (n[i]) return n[i].exports; var o = n[i] = { exports: {}, id: i, loaded: !1 }; return e[i].call(o.exports, o, o.exports, t), o.loaded = !0, o.exports } var e, n }), function (t) { var e = {}; function n(i) { if (e[i]) return e[i].exports; var o = e[i] = { i: i, l: !1, exports: {} }; return t[i].call(o.exports, o, o.exports, n), o.l = !0, o.exports } n.m = t, n.c = e, n.d = function (t, e, i) { n.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: i }) }, n.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, n.t = function (t, e) { if (1 & e && (t = n(t)), 8 & e) return t; if (4 & e && "object" == typeof t && t && t.__esModule) return t; var i = Object.create(null); if (n.r(i), Object.defineProperty(i, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var o in t) n.d(i, o, function (e) { return t[e] }.bind(null, o)); return i }, n.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return n.d(e, "a", e), e }, n.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, n.p = "", n(n.s = 0) }([function (t, e, n) { "use strict"; n(1), n(6), n(7); var i = r(n(2)), o = r(n(3)), a = r(n(4)); function r(t) { return t && t.__esModule ? t : { default: t } } o.default === a.default && n(8), window.Inputmask = i.default }, function (t, e, n) { "use strict"; var i, o, a; "function" == typeof Symbol && Symbol.iterator, o = [n(2)], void 0 === (a = "function" == typeof (i = function (t) { return t.extendDefinitions({ A: { validator: "[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]", casing: "upper" }, "&": { validator: "[0-9A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]", casing: "upper" }, "#": { validator: "[0-9A-Fa-f]", casing: "upper" } }), t.extendAliases({ cssunit: { regex: "[+-]?[0-9]+\\.?([0-9]+)?(px|em|rem|ex|%|in|cm|mm|pt|pc)" }, url: { regex: "(https?|ftp)//.*", autoUnmask: !1 }, ip: { mask: "i[i[i]].i[i[i]].i[i[i]].i[i[i]]", definitions: { i: { validator: function (t, e, n, i, o) { return t = -1 < n - 1 && "." !== e.buffer[n - 1] ? (t = e.buffer[n - 1] + t, -1 < n - 2 && "." !== e.buffer[n - 2] ? e.buffer[n - 2] + t : "0" + t) : "00" + t, new RegExp("25[0-5]|2[0-4][0-9]|[01][0-9][0-9]").test(t) } } }, onUnMask: function (t, e, n) { return t }, inputmode: "numeric" }, email: { mask: "*{1,64}[.*{1,64}][.*{1,64}][.*{1,63}]@-{1,63}.-{1,63}[.-{1,63}][.-{1,63}]", greedy: !1, casing: "lower", onBeforePaste: function (t, e) { return (t = t.toLowerCase()).replace("mailto:", "") }, definitions: { "*": { validator: "[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ!#$%&'*+/=?^_`{|}~-]" }, "-": { validator: "[0-9A-Za-z-]" } }, onUnMask: function (t, e, n) { return t }, inputmode: "email" }, mac: { mask: "##:##:##:##:##:##" }, vin: { mask: "V{13}9{4}", definitions: { V: { validator: "[A-HJ-NPR-Za-hj-npr-z\\d]", casing: "upper" } }, clearIncomplete: !0, autoUnmask: !0 } }), t }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e, n) { "use strict"; var i, o, a, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; o = [n(3), n(5)], void 0 === (a = "function" == typeof (i = function (t, e, n) { var i = e.document, o = navigator.userAgent, a = 0 < o.indexOf("MSIE ") || 0 < o.indexOf("Trident/"), s = h("touchstart"), g = /iemobile/i.test(o), l = /iphone/i.test(o) && !g; function c(e, i, o) { if (!(this instanceof c)) return new c(e, i, o); this.el = n, this.events = {}, this.maskset = n, !(this.refreshValue = !1) !== o && (t.isPlainObject(e) ? i = e : (i = i || {}, e && (i.alias = e)), this.opts = t.extend(!0, {}, this.defaults, i), this.noMasksCache = i && i.definitions !== n, this.userOptions = i || {}, this.isRTL = this.opts.numericInput, I(this.opts.alias, i, this.opts)) } function I(e, i, o) { var a = c.prototype.aliases[e]; return a ? (a.alias && I(a.alias, n, o), t.extend(!0, o, a), t.extend(!0, o, i), !0) : (null === o.mask && (o.mask = e), !1) } function u(e, i) { function o(e, o, a) { var r = !1; if (null !== e && "" !== e || (e = (r = null !== a.regex) ? (e = a.regex).replace(/^(\^)(.*)(\$)$/, "$2") : (r = !0, ".*")), 1 === e.length && !1 === a.greedy && 0 !== a.repeat && (a.placeholder = ""), 0 < a.repeat || "*" === a.repeat || "+" === a.repeat) { var s = "*" === a.repeat ? 0 : "+" === a.repeat ? 1 : a.repeat; e = a.groupmarker[0] + e + a.groupmarker[1] + a.quantifiermarker[0] + s + "," + a.repeat + a.quantifiermarker[1] } var g, l = r ? "regex_" + a.regex : a.numericInput ? e.split("").reverse().join("") : e; return c.prototype.masksCache[l] === n || !0 === i ? (g = { mask: e, maskToken: c.prototype.analyseMask(e, r, a), validPositions: {}, _buffer: n, buffer: n, tests: {}, excludes: {}, metadata: o, maskLength: n, jitOffset: {} }, !0 !== i && (c.prototype.masksCache[l] = g, g = t.extend(!0, {}, c.prototype.masksCache[l]))) : g = t.extend(!0, {}, c.prototype.masksCache[l]), g } if (t.isFunction(e.mask) && (e.mask = e.mask(e)), t.isArray(e.mask)) { if (1 < e.mask.length) { if (null === e.keepStatic) { e.keepStatic = "auto"; for (var a = 0; a < e.mask.length; a++)if (e.mask[a].charAt(0) !== e.mask[0].charAt(0)) { e.keepStatic = !0; break } } var r = e.groupmarker[0]; return t.each(e.isRTL ? e.mask.reverse() : e.mask, function (i, o) { 1 < r.length && (r += e.groupmarker[1] + e.alternatormarker + e.groupmarker[0]), o.mask === n || t.isFunction(o.mask) ? r += o : r += o.mask }), o(r += e.groupmarker[1], e.mask, e) } e.mask = e.mask.pop() } return e.mask && e.mask.mask !== n && !t.isFunction(e.mask.mask) ? o(e.mask.mask, e.mask, e) : o(e.mask, e.mask, e) } function h(t) { var e = i.createElement("input"), n = "on" + t, o = n in e; return o || (e.setAttribute(n, "return;"), o = "function" == typeof e[n]), e = null, o } function d(o, I, u) { I = I || this.maskset, u = u || this.opts; var C, A, p, m, f, b = this, B = this.el, y = this.isRTL, v = !1, x = !1, F = !1, Q = !1, G = function (t, e, i, o, a) { var r = u.greedy; a && (u.greedy = !1), e = e || 0; var s, g, l, c = [], I = 0; S(); do { if (!0 === t && w().validPositions[I]) g = (l = a && !0 === w().validPositions[I].match.optionality && w().validPositions[I + 1] === n && (!0 === w().validPositions[I].generatedInput || w().validPositions[I].input == u.skipOptionalPartCharacter && 0 < I) ? Z(I, N(I, s, I - 1)) : w().validPositions[I]).match, s = l.locator.slice(), c.push(!0 === i ? l.input : !1 === i ? g.nativeDef : J(I, g)); else { g = (l = U(I, s, I - 1)).match, s = l.locator.slice(); var h = !0 !== o && (!1 !== u.jitMasking ? u.jitMasking : g.jit); (!1 === h || h === n || "number" == typeof h && isFinite(h) && I < h) && c.push(!1 === i ? g.nativeDef : J(I, g)) } "auto" === u.keepStatic && g.newBlockMarker && null !== g.fn && (u.keepStatic = I - 1), I++ } while ((p === n || I < p) && (null !== g.fn || "" !== g.def) || I < e); return "" === c[c.length - 1] && c.pop(), !1 === i && w().maskLength !== n || (w().maskLength = I - 1), u.greedy = r, c }; function w() { return I } function X(t) { var e = w(); e.buffer = n, !0 !== t && (e.validPositions = {}, e.p = 0) } function S(t, e, i) { var o = -1, a = -1, r = i || w().validPositions; for (var s in t === n && (t = -1), r) { var g = parseInt(s); r[g] && (e || !0 !== r[g].generatedInput) && (g <= t && (o = g), t <= g && (a = g)) } return -1 === o || o == t ? a : -1 == a ? o : t - o < a - t ? o : a } function k(t) { var e = t.locator[t.alternation]; return "string" == typeof e && 0 < e.length && (e = e.split(",")[0]), e !== n ? e.toString() : "" } function D(t, e) { var i = (t.alternation != n ? t.mloc[k(t)] : t.locator).join(""); if ("" !== i) for (; i.length < e;)i += "0"; return i } function Z(t, e) { for (var i, o, a, r = D(W(t = 0 < t ? t - 1 : 0)), s = 0; s < e.length; s++) { var g = e[s]; i = D(g, r.length); var l = Math.abs(i - r); (o === n || "" !== i && l < o || a && !u.greedy && a.match.optionality && "master" === a.match.newBlockMarker && (!g.match.optionality || !g.match.newBlockMarker) || a && a.match.optionalQuantifier && !g.match.optionalQuantifier) && (o = l, a = g) } return a } function U(t, e, n) { return w().validPositions[t] || Z(t, N(t, e ? e.slice() : e, n)) } function W(t, e) { return w().validPositions[t] ? w().validPositions[t] : (e || N(t))[0] } function T(t, e) { for (var n = !1, i = N(t), o = 0; o < i.length; o++)if (i[o].match && i[o].match.def === e) { n = !0; break } return n } function N(e, i, o) { var a, r = w().maskToken, s = i ? o : 0, g = i ? i.slice() : [0], l = [], c = !1, I = i ? i.join("") : ""; function h(i, o, r, g) { function d(r, g, C) { function A(e, n) { var i = 0 === t.inArray(e, n.matches); return i || t.each(n.matches, function (t, o) { if (!0 === o.isQuantifier ? i = A(e, n.matches[t - 1]) : o.hasOwnProperty("matches") && (i = A(e, o)), i) return !1 }), i } function p(e, i, o) { var a, r; if ((w().tests[e] || w().validPositions[e]) && t.each(w().tests[e] || [w().validPositions[e]], function (t, e) { if (e.mloc[i]) return a = e, !1; var s = o !== n ? o : e.alternation, g = e.locator[s] !== n ? e.locator[s].toString().indexOf(i) : -1; (r === n || g < r) && -1 !== g && (a = e, r = g) }), a) { var s = a.locator[a.alternation]; return (a.mloc[i] || a.mloc[s] || a.locator).slice((o !== n ? o : a.alternation) + 1) } return o !== n ? p(e, i) : n } function m(t, e) { function n(t) { for (var e, n, i = [], o = 0, a = t.length; o < a; o++)if ("-" === t.charAt(o)) for (n = t.charCodeAt(o + 1); ++e < n;)i.push(String.fromCharCode(e)); else e = t.charCodeAt(o), i.push(t.charAt(o)); return i.join("") } return u.regex && null !== t.match.fn && null !== e.match.fn ? -1 !== n(e.match.def.replace(/[\[\]]/g, "")).indexOf(n(t.match.def.replace(/[\[\]]/g, ""))) : t.match.def === e.match.nativeDef } function f(t, n) { var i = t.locator.slice(t.alternation).join("") == n.locator.slice(n.alternation).join(""); return !(!i || null !== t.match.fn || null === n.match.fn) && n.match.fn.test(t.match.def, w(), e, !1, u, !1) } function b(t, e) { if (e === n || t.alternation === e.alternation && -1 === t.locator[t.alternation].toString().indexOf(e.locator[e.alternation])) { t.mloc = t.mloc || {}; var i = t.locator[t.alternation]; if (i !== n) { if ("string" == typeof i && (i = i.split(",")[0]), t.mloc[i] === n && (t.mloc[i] = t.locator.slice()), e !== n) { for (var o in e.mloc) "string" == typeof o && (o = o.split(",")[0]), t.mloc[o] === n && (t.mloc[o] = e.mloc[o]); t.locator[t.alternation] = Object.keys(t.mloc).join(",") } return !0 } t.alternation = n } return !1 } if (500 < s && C !== n) throw "Inputmask: There is probably an error in your mask definition or in the code. Create an issue on github with an example of the mask you are using. " + w().mask; if (s === e && r.matches === n) return l.push({ match: r, locator: g.reverse(), cd: I, mloc: {} }), !0; if (r.matches !== n) { if (r.isGroup && C !== r) { if (r = d(i.matches[t.inArray(r, i.matches) + 1], g, C)) return !0 } else if (r.isOptional) { var B = r; if (r = h(r, o, g, C)) { if (t.each(l, function (t, e) { e.match.optionality = !0 }), a = l[l.length - 1].match, C !== n || !A(a, B)) return !0; c = !0, s = e } } else if (r.isAlternator) { var y, v = r, x = [], F = l.slice(), Q = g.length, G = 0 < o.length ? o.shift() : -1; if (-1 === G || "string" == typeof G) { var X, S = s, k = o.slice(), D = []; if ("string" == typeof G) D = G.split(","); else for (X = 0; X < v.matches.length; X++)D.push(X.toString()); if (w().excludes[e]) { for (var Z = D.slice(), U = 0, W = w().excludes[e].length; U < W; U++)D.splice(D.indexOf(w().excludes[e][U].toString()), 1); 0 === D.length && (w().excludes[e] = n, D = Z) } (!0 === u.keepStatic || isFinite(parseInt(u.keepStatic)) && S >= u.keepStatic) && (D = D.slice(0, 1)); for (var T = !1, N = 0; N < D.length; N++) { X = parseInt(D[N]), l = [], o = "string" == typeof G && p(s, X, Q) || k.slice(), v.matches[X] && d(v.matches[X], [X].concat(g), C) ? r = !0 : 0 === N && (T = !0), y = l.slice(), s = S, l = []; for (var H = 0; H < y.length; H++) { var E = y[H], R = !1; E.match.jit = E.match.jit || T, E.alternation = E.alternation || Q, b(E); for (var Y = 0; Y < x.length; Y++) { var O = x[Y]; if ("string" != typeof G || E.alternation !== n && -1 !== t.inArray(E.locator[E.alternation].toString(), D)) { if (E.match.nativeDef === O.match.nativeDef) { R = !0, b(O, E); break } if (m(E, O)) { b(E, O) && (R = !0, x.splice(x.indexOf(O), 0, E)); break } if (m(O, E)) { b(O, E); break } if (f(E, O)) { b(E, O) && (R = !0, x.splice(x.indexOf(O), 0, E)); break } } } R || x.push(E) } } l = F.concat(x), s = e, c = 0 < l.length, r = 0 < x.length, o = k.slice() } else r = d(v.matches[G] || i.matches[G], [G].concat(g), C); if (r) return !0 } else if (r.isQuantifier && C !== i.matches[t.inArray(r, i.matches) - 1]) for (var _ = r, V = 0 < o.length ? o.shift() : 0; V < (isNaN(_.quantifier.max) ? V + 1 : _.quantifier.max) && s <= e; V++) { var L = i.matches[t.inArray(_, i.matches) - 1]; if (r = d(L, [V].concat(g), L)) { if ((a = l[l.length - 1].match).optionalQuantifier = V >= _.quantifier.min, a.jit = (V || 1) * L.matches.indexOf(a) >= _.quantifier.jit, a.optionalQuantifier && A(a, L)) { c = !0, s = e; break } return a.jit && (w().jitOffset[e] = L.matches.indexOf(a)), !0 } } else if (r = h(r, o, g, C)) return !0 } else s++ } for (var C = 0 < o.length ? o.shift() : 0; C < i.matches.length; C++)if (!0 !== i.matches[C].isQuantifier) { var A = d(i.matches[C], [C].concat(r), g); if (A && s === e) return A; if (e < s) break } } if (-1 < e) { if (i === n) { for (var d, C = e - 1; (d = w().validPositions[C] || w().tests[C]) === n && -1 < C;)C--; d !== n && -1 < C && (g = function (e, i) { var o = []; return t.isArray(i) || (i = [i]), 0 < i.length && (i[0].alternation === n ? 0 === (o = Z(e, i.slice()).locator.slice()).length && (o = i[0].locator.slice()) : t.each(i, function (t, e) { if ("" !== e.def) if (0 === o.length) o = e.locator.slice(); else for (var n = 0; n < o.length; n++)e.locator[n] && -1 === o[n].toString().indexOf(e.locator[n]) && (o[n] += "," + e.locator[n]) })), o }(C, d), I = g.join(""), s = C) } if (w().tests[e] && w().tests[e][0].cd === I) return w().tests[e]; for (var A = g.shift(); A < r.length; A++) { if (h(r[A], g, [A]) && s === e || e < s) break } } return 0 !== l.length && !c || l.push({ match: { fn: null, optionality: !1, casing: null, def: "", placeholder: "" }, locator: [], mloc: {}, cd: I }), i !== n && w().tests[e] ? t.extend(!0, [], l) : (w().tests[e] = t.extend(!0, [], l), w().tests[e]) } function H() { return w()._buffer === n && (w()._buffer = G(!1, 1), w().buffer === n && (w().buffer = w()._buffer.slice())), w()._buffer } function E(t) { return w().buffer !== n && !0 !== t || (w().buffer = G(!0, S(), !0), w()._buffer === n && (w()._buffer = w().buffer.slice())), w().buffer } function R(t, e, i) { var o, a; if (!0 === t) X(), t = 0, e = i.length; else for (o = t; o < e; o++)delete w().validPositions[o]; for (o = a = t; o < e; o++)if (X(!0), i[o] !== u.skipOptionalPartCharacter) { var r = _(a, i[o], !0, !0); !1 !== r && (X(!0), a = r.caret !== n ? r.caret : r.pos + 1) } } function Y(e, i, o) { for (var a, r = u.greedy ? i : i.slice(0, 1), s = !1, g = o !== n ? o.split(",") : [], l = 0; l < g.length; l++)-1 !== (a = e.indexOf(g[l])) && e.splice(a, 1); for (var c = 0; c < e.length; c++)if (-1 !== t.inArray(e[c], r)) { s = !0; break } return s } function O(e, i, o, a, r) { var s, g, l, c, I, u, h, d = t.extend(!0, {}, w().validPositions), C = !1, A = r !== n ? r : S(); if (-1 === A && r === n) g = (c = W(s = 0)).alternation; else for (; 0 <= A; A--)if ((l = w().validPositions[A]) && l.alternation !== n) { if (c && c.locator[l.alternation] !== l.locator[l.alternation]) break; s = A, g = w().validPositions[s].alternation, c = l } if (g !== n) { h = parseInt(s), w().excludes[h] = w().excludes[h] || [], !0 !== e && w().excludes[h].push(k(c)); var p = [], m = 0; for (I = h; I < S(n, !0) + 1; I++)(u = w().validPositions[I]) && !0 !== u.generatedInput ? p.push(u.input) : I < e && m++, delete w().validPositions[I]; for (; w().excludes[h] && w().excludes[h].length < 10;) { var f = -1 * m, b = p.slice(); for (w().tests[h] = n, X(!0), C = !0; 0 < b.length;) { var B = b.shift(); if (!(C = _(S(n, !0) + 1, B, !1, a, !0))) break } if (C && i !== n) { var y = S(e) + 1; for (I = h; I < S() + 1; I++)((u = w().validPositions[I]) === n || null == u.match.fn) && I < e + f && f++; C = _(y < (e += f) ? y : e, i, o, a, !0) } if (C) break; if (X(), c = W(h), w().validPositions = t.extend(!0, {}, d), !w().excludes[h]) { C = O(e, i, o, a, h - 1); break } var v = k(c); if (-1 !== w().excludes[h].indexOf(v)) { C = O(e, i, o, a, h - 1); break } for (w().excludes[h].push(v), I = h; I < S(n, !0) + 1; I++)delete w().validPositions[I] } } return w().excludes[h] = n, C } function _(e, i, o, a, r, s) { function g(t) { return y ? 1 < t.begin - t.end || t.begin - t.end == 1 : 1 < t.end - t.begin || t.end - t.begin == 1 } o = !0 === o; var l = e; function I(i, o, r) { var s = !1; return t.each(N(i), function (l, I) { var h = I.match; if (E(!0), !1 !== (s = null != h.fn ? h.fn.test(o, w(), i, r, u, g(e)) : (o === h.def || o === u.skipOptionalPartCharacter) && "" !== h.def && { c: J(i, h, !0) || h.def, pos: i })) { var d = s.c !== n ? s.c : o, C = i; return d = d === u.skipOptionalPartCharacter && null === h.fn ? J(i, h, !0) || h.def : d, s.remove !== n && (t.isArray(s.remove) || (s.remove = [s.remove]), t.each(s.remove.sort(function (t, e) { return e - t }), function (t, e) { L({ begin: e, end: e + 1 }) })), s.insert !== n && (t.isArray(s.insert) || (s.insert = [s.insert]), t.each(s.insert.sort(function (t, e) { return t - e }), function (t, e) { _(e.pos, e.c, !0, a) })), !0 !== s && s.pos !== n && s.pos !== i && (C = s.pos), (!0 === s || s.pos !== n || s.c !== n) && (L(e, t.extend({}, I, { input: function (e, n, i) { switch (u.casing || n.casing) { case "upper": e = e.toUpperCase(); break; case "lower": e = e.toLowerCase(); break; case "title": var o = w().validPositions[i - 1]; e = 0 === i || o && o.input === String.fromCharCode(c.keyCode.SPACE) ? e.toUpperCase() : e.toLowerCase(); break; default: if (t.isFunction(u.casing)) { var a = Array.prototype.slice.call(arguments); a.push(w().validPositions), e = u.casing.apply(this, a) } }return e }(d, h, C) }), a, C) || (s = !1), !1) } }), s } e.begin !== n && (l = y ? e.end : e.begin); var h = !0, d = t.extend(!0, {}, w().validPositions); if (t.isFunction(u.preValidation) && !o && !0 !== a && !0 !== s && (h = u.preValidation(E(), l, i, g(e), u, w())), !0 === h) { if (V(n, l, !0), (p === n || l < p) && (h = I(l, i, o), (!o || !0 === a) && !1 === h && !0 !== s)) { var C = w().validPositions[l]; if (!C || null !== C.match.fn || C.match.def !== i && i !== u.skipOptionalPartCharacter) { if ((u.insertMode || w().validPositions[z(l)] === n) && (!M(l, !0) || w().jitOffset[l])) if (w().jitOffset[l] && w().validPositions[z(l)] === n) !1 !== (h = _(l + w().jitOffset[l], i, o)) && (h.caret = l); else for (var A = l + 1, m = z(l); A <= m; A++)if (!1 !== (h = I(A, i, o))) { h = V(l, h.pos !== n ? h.pos : A) || h, l = A; break } } else h = { caret: z(l) } } !1 !== h || !1 === u.keepStatic || null != u.regex && !rt(E()) || o || !0 === r || (h = O(l, i, o, a)), !0 === h && (h = { pos: l }) } if (t.isFunction(u.postValidation) && !1 !== h && !o && !0 !== a && !0 !== s) { var f = u.postValidation(E(!0), e.begin !== n ? y ? e.end : e.begin : e, h, u); if (f !== n) { if (f.refreshFromBuffer && f.buffer) { var b = f.refreshFromBuffer; R(!0 === b ? b : b.start, b.end, f.buffer) } h = !0 === f ? h : f } } return h && h.pos === n && (h.pos = l), !1 !== h && !0 !== s || (X(!0), w().validPositions = t.extend(!0, {}, d)), h } function V(e, i, o) { var a; if (e === n) for (e = i - 1; 0 < e && !w().validPositions[e]; e--); for (var r = e; r < i; r++)if (w().validPositions[r] === n && !M(r, !0)) { if (0 == r ? W(r) : w().validPositions[r - 1]) { var s = N(r).slice(); "" === s[s.length - 1].match.def && s.pop(); var g = Z(r, s); if ((g = t.extend({}, g, { input: J(r, g.match, !0) || g.match.def })).generatedInput = !0, L(r, g, !0), !0 !== o) { var l = w().validPositions[i].input; w().validPositions[i] = n, a = _(i, l, !0, !0) } } } return a } function L(e, i, o, a) { function r(t, e, i) { var o = e[t]; if (o === n || (null !== o.match.fn || !0 === o.match.optionality) && o.input !== u.radixPoint) return !1; var a = i.begin <= t - 1 ? e[t - 1] && null === e[t - 1].match.fn && e[t - 1] : e[t - 1], r = i.end > t + 1 ? e[t + 1] && null === e[t + 1].match.fn && e[t + 1] : e[t + 1]; return a && r } var s = e.begin !== n ? e.begin : e, g = e.end !== n ? e.end : e; if (e.begin > e.end && (s = e.end, g = e.begin), a = a !== n ? a : s, s !== g || u.insertMode && w().validPositions[a] !== n && o === n) { var l = t.extend(!0, {}, w().validPositions), c = S(n, !0); for (w().p = s, A = c; s <= A; A--)w().validPositions[A] && "+" === w().validPositions[A].match.nativeDef && (u.isNegative = !1), delete w().validPositions[A]; var I = !0, h = a, d = (w().validPositions, !1), C = h, A = h; for (i && (w().validPositions[a] = t.extend(!0, {}, i), C++, h++, s < g && A++); A <= c; A++) { var p = l[A]; if (p !== n && (g <= A || s <= A && !0 !== p.generatedInput && r(A, l, { begin: s, end: g }))) { for (; "" !== W(C).match.def;) { if (!1 === d && l[C] && l[C].match.nativeDef === p.match.nativeDef) w().validPositions[C] = t.extend(!0, {}, l[C]), w().validPositions[C].input = p.input, V(n, C, !0), h = C + 1, I = !0; else if (u.shiftPositions && T(C, p.match.def)) { var m = _(C, p.input, !0, !0); I = !1 !== m, h = m.caret || m.insert ? S() : C + 1, d = !0 } else I = !0 === p.generatedInput || p.input === u.radixPoint && !0 === u.numericInput; if (I) break; if (!I && g < C && M(C, !0) && (null !== p.match.fn || C > w().maskLength)) break; C++ } "" == W(C).match.def && (I = !1), C = h } if (!I) break } if (!I) return w().validPositions = t.extend(!0, {}, l), X(!0), !1 } else i && (w().validPositions[a] = t.extend(!0, {}, i)); return X(!0), !0 } function M(t, e) { var n = U(t).match; if ("" === n.def && (n = W(t).match), null != n.fn) return n.fn; if (!0 !== e && -1 < t) { var i = N(t); return i.length > 1 + ("" === i[i.length - 1].match.def ? 1 : 0) } return !1 } function z(t, e) { for (var n = t + 1; "" !== W(n).match.def && (!0 === e && (!0 !== W(n).match.newBlockMarker || !M(n)) || !0 !== e && !M(n));)n++; return n } function P(t, e) { var n, i = t; if (i <= 0) return 0; for (; 0 < --i && (!0 === e && !0 !== W(i).match.newBlockMarker || !0 !== e && !M(i) && ((n = N(i)).length < 2 || 2 === n.length && "" === n[1].match.def));); return i } function K(e, i, o, a, r) { if (a && t.isFunction(u.onBeforeWrite)) { var s = u.onBeforeWrite.call(b, a, i, o, u); if (s) { if (s.refreshFromBuffer) { var g = s.refreshFromBuffer; R(!0 === g ? g : g.start, g.end, s.buffer || i), i = E(!0) } o !== n && (o = s.caret !== n ? s.caret : o) } } if (e !== n && (e.inputmask._valueSet(i.join("")), o === n || a !== n && "blur" === a.type ? lt(e, o, 0 === i.length) : it(e, o), !0 === r)) { var l = t(e), c = e.inputmask._valueGet(); x = !0, l.trigger("input"), setTimeout(function () { c === H().join("") ? l.trigger("cleared") : !0 === rt(i) && l.trigger("complete") }, 0) } } function J(e, i, o) { if ((i = i || W(e).match).placeholder !== n || !0 === o) return t.isFunction(i.placeholder) ? i.placeholder(u) : i.placeholder; if (null !== i.fn) return u.placeholder.charAt(e % u.placeholder.length); if (-1 < e && w().validPositions[e] === n) { var a, r = N(e), s = []; if (r.length > 1 + ("" === r[r.length - 1].match.def ? 1 : 0)) for (var g = 0; g < r.length; g++)if (!0 !== r[g].match.optionality && !0 !== r[g].match.optionalQuantifier && (null === r[g].match.fn || a === n || !1 !== r[g].match.fn.test(a.match.def, w(), e, !0, u)) && (s.push(r[g]), null === r[g].match.fn && (a = r[g]), 1 < s.length && /[0-9a-bA-Z]/.test(s[0].match.def))) return u.placeholder.charAt(e % u.placeholder.length) } return i.def } function j(t, e) { if (a) { if (t.inputmask._valueGet() !== e && (t.placeholder !== e || "" === t.placeholder)) { var n = E().slice(), i = t.inputmask._valueGet(); if (i !== e) { var o = S(); -1 === o && i === H().join("") ? n = [] : -1 !== o && at(n), K(t, n) } } } else t.placeholder !== e && (t.placeholder = e, "" === t.placeholder && t.removeAttribute("placeholder")) } var $, q = { on: function (e, i, o) { var a = function (e) { var i = this; if (i.inputmask === n && "FORM" !== this.nodeName) { var a = t.data(i, "_inputmask_opts"); a ? new c(a).mask(i) : q.off(i) } else { if ("setvalue" === e.type || "FORM" === this.nodeName || !(i.disabled || i.readOnly && !("keydown" === e.type && e.ctrlKey && 67 === e.keyCode || !1 === u.tabThrough && e.keyCode === c.keyCode.TAB))) { switch (e.type) { case "input": if (!0 === x) return x = !1, e.preventDefault(); if (s) { var r = arguments; return setTimeout(function () { o.apply(i, r), it(i, i.inputmask.caretPos, n, !0) }, 0), !1 } break; case "keydown": x = v = !1; break; case "keypress": if (!0 === v) return e.preventDefault(); v = !0; break; case "click": if (g || l) { r = arguments; return setTimeout(function () { o.apply(i, r) }, 0), !1 } }var I = o.apply(i, arguments); return !1 === I && (e.preventDefault(), e.stopPropagation()), I } e.preventDefault() } }; e.inputmask.events[i] = e.inputmask.events[i] || [], e.inputmask.events[i].push(a), -1 !== t.inArray(i, ["submit", "reset"]) ? null !== e.form && t(e.form).on(i, a) : t(e).on(i, a) }, off: function (e, n) { var i; e.inputmask && e.inputmask.events && (n ? (i = [])[n] = e.inputmask.events[n] : i = e.inputmask.events, t.each(i, function (n, i) { for (; 0 < i.length;) { var o = i.pop(); -1 !== t.inArray(n, ["submit", "reset"]) ? null !== e.form && t(e.form).off(n, o) : t(e).off(n, o) } delete e.inputmask.events[n] })) } }, tt = { keydownEvent: function (e) { var n = this, i = t(n), o = e.keyCode, a = it(n); if (o === c.keyCode.BACKSPACE || o === c.keyCode.DELETE || l && o === c.keyCode.BACKSPACE_SAFARI || e.ctrlKey && o === c.keyCode.X && !h("cut")) e.preventDefault(), st(n, o, a), K(n, E(!0), w().p, e, n.inputmask._valueGet() !== E().join("")); else if (o === c.keyCode.END || o === c.keyCode.PAGE_DOWN) { e.preventDefault(); var r = z(S()); it(n, e.shiftKey ? a.begin : r, r, !0) } else o === c.keyCode.HOME && !e.shiftKey || o === c.keyCode.PAGE_UP ? (e.preventDefault(), it(n, 0, e.shiftKey ? a.begin : 0, !0)) : (u.undoOnEscape && o === c.keyCode.ESCAPE || 90 === o && e.ctrlKey) && !0 !== e.altKey ? (et(n, !0, !1, C.split("")), i.trigger("click")) : o !== c.keyCode.INSERT || e.shiftKey || e.ctrlKey ? !0 === u.tabThrough && o === c.keyCode.TAB && (!0 === e.shiftKey ? (null === W(a.begin).match.fn && (a.begin = z(a.begin)), a.end = P(a.begin, !0), a.begin = P(a.end, !0)) : (a.begin = z(a.begin, !0), a.end = z(a.begin, !0), a.end < w().maskLength && a.end--), a.begin < w().maskLength && (e.preventDefault(), it(n, a.begin, a.end))) : (u.insertMode = !u.insertMode, n.setAttribute("im-insert", u.insertMode)); u.onKeyDown.call(this, e, E(), it(n).begin, u), F = -1 !== t.inArray(o, u.ignorables) }, keypressEvent: function (e, i, o, a, r) { var s = this, g = t(s), l = e.which || e.charCode || e.keyCode; if (!(!0 === i || e.ctrlKey && e.altKey) && (e.ctrlKey || e.metaKey || F)) return l === c.keyCode.ENTER && C !== E().join("") && (C = E().join(""), setTimeout(function () { g.trigger("change") }, 0)), !0; if (l) { 46 === l && !1 === e.shiftKey && "" !== u.radixPoint && (l = u.radixPoint.charCodeAt(0)); var I, h = i ? { begin: r, end: r } : it(s), d = String.fromCharCode(l), A = 0; if (u._radixDance && u.numericInput) { var p = E().indexOf(u.radixPoint.charAt(0)) + 1; h.begin <= p && (l === u.radixPoint.charCodeAt(0) && (A = 1), h.begin -= 1, h.end -= 1) } w().writeOutBuffer = !0; var m = _(h, d, a); if (!1 !== m && (X(!0), I = m.caret !== n ? m.caret : z(m.pos.begin ? m.pos.begin : m.pos), w().p = I), I = (u.numericInput && m.caret === n ? P(I) : I) + A, !1 !== o && (setTimeout(function () { u.onKeyValidation.call(s, l, m, u) }, 0), w().writeOutBuffer && !1 !== m)) { var f = E(); K(s, f, I, e, !0 !== i) } if (e.preventDefault(), i) return !1 !== m && (m.forwardPosition = I), m } }, pasteEvent: function (n) { var i, o = n.originalEvent || n, a = (t(this), this.inputmask._valueGet(!0)), r = it(this); y && (i = r.end, r.end = r.begin, r.begin = i); var s = a.substr(0, r.begin), g = a.substr(r.end, a.length); if (s === (y ? H().reverse() : H()).slice(0, r.begin).join("") && (s = ""), g === (y ? H().reverse() : H()).slice(r.end).join("") && (g = ""), e.clipboardData && e.clipboardData.getData) a = s + e.clipboardData.getData("Text") + g; else { if (!o.clipboardData || !o.clipboardData.getData) return !0; a = s + o.clipboardData.getData("text/plain") + g } var l = a; if (t.isFunction(u.onBeforePaste)) { if (!1 === (l = u.onBeforePaste.call(b, a, u))) return n.preventDefault(); l || (l = a) } return et(this, !1, !1, l.toString().split("")), K(this, E(), z(S()), n, C !== E().join("")), n.preventDefault() }, inputFallBackEvent: function (e) { var n = this, i = n.inputmask._valueGet(); if (E().join("") !== i) { var o = it(n); if (i = function (t, e, n) { if (g) { var i = e.replace(E().join(""), ""); if (1 === i.length) { var o = e.split(""); o.splice(n.begin, 0, i), e = o.join("") } } return e }(0, i = function (t, e, n) { return "." === e.charAt(n.begin - 1) && "" !== u.radixPoint && ((e = e.split(""))[n.begin - 1] = u.radixPoint.charAt(0), e = e.join("")), e }(0, i, o), o), E().join("") !== i) { var a = E().join(""), r = !u.numericInput && i.length > a.length ? -1 : 0, s = i.substr(0, o.begin), l = i.substr(o.begin), I = a.substr(0, o.begin + r), h = a.substr(o.begin + r), d = o, C = "", A = !1; if (s !== I) { var p, m = (A = s.length >= I.length) ? s.length : I.length; for (p = 0; s.charAt(p) === I.charAt(p) && p < m; p++); A && (d.begin = p - r, C += s.slice(p, d.end)) } if (l !== h && (l.length > h.length ? C += l.slice(0, 1) : l.length < h.length && (d.end += h.length - l.length, A || "" === u.radixPoint || "" !== l || s.charAt(d.begin + r - 1) !== u.radixPoint || (d.begin--, C = u.radixPoint))), K(n, E(), { begin: d.begin + r, end: d.end + r }), 0 < C.length) t.each(C.split(""), function (e, i) { var o = new t.Event("keypress"); o.which = i.charCodeAt(0), F = !1, tt.keypressEvent.call(n, o) }); else { d.begin === d.end - 1 && (d.begin = P(d.begin + 1), d.begin === d.end - 1 ? it(n, d.begin) : it(n, d.begin, d.end)); var f = new t.Event("keydown"); f.keyCode = u.numericInput ? c.keyCode.BACKSPACE : c.keyCode.DELETE, tt.keydownEvent.call(n, f) } e.preventDefault() } } }, beforeInputEvent: function (e) { if (e.cancelable) { var n = this; switch (e.inputType) { case "insertText": return t.each(e.data.split(""), function (e, i) { var o = new t.Event("keypress"); o.which = i.charCodeAt(0), F = !1, tt.keypressEvent.call(n, o) }), e.preventDefault(); case "deleteContentBackward": return (i = new t.Event("keydown")).keyCode = c.keyCode.BACKSPACE, tt.keydownEvent.call(n, i), e.preventDefault(); case "deleteContentForward": var i; return (i = new t.Event("keydown")).keyCode = c.keyCode.DELETE, tt.keydownEvent.call(n, i), e.preventDefault() } } }, setValueEvent: function (e) { this.inputmask.refreshValue = !1; var n = (n = e && e.detail ? e.detail[0] : arguments[1]) || this.inputmask._valueGet(!0); t.isFunction(u.onBeforeMask) && (n = u.onBeforeMask.call(b, n, u) || n), et(this, !0, !1, n = n.toString().split("")), C = E().join(""), (u.clearMaskOnLostFocus || u.clearIncomplete) && this.inputmask._valueGet() === H().join("") && this.inputmask._valueSet("") }, focusEvent: function (t) { var e = this.inputmask._valueGet(); u.showMaskOnFocus && (e !== E().join("") ? K(this, E(), z(S())) : !1 === Q && it(this, z(S()))), !0 === u.positionCaretOnTab && !1 === Q && tt.clickEvent.apply(this, [t, !0]), C = E().join("") }, mouseleaveEvent: function (t) { Q = !1, u.clearMaskOnLostFocus && i.activeElement !== this && j(this, f) }, clickEvent: function (e, o) { var a = this; setTimeout(function () { if (i.activeElement === a) { var e = it(a); if (o && (y ? e.end = e.begin : e.begin = e.end), e.begin === e.end) switch (u.positionCaretOnClick) { case "none": break; case "select": it(a, 0, E().length); break; case "ignore": it(a, z(S())); break; case "radixFocus": if (function (e) { if ("" !== u.radixPoint) { var i = w().validPositions; if (i[e] === n || i[e].input === J(e)) { if (e < z(-1)) return !0; var o = t.inArray(u.radixPoint, E()); if (-1 !== o) { for (var a in i) if (o < a && i[a].input !== J(a)) return !1; return !0 } } } return !1 }(e.begin)) { var r = E().join("").indexOf(u.radixPoint); it(a, u.numericInput ? z(r) : r); break } default: var s = e.begin, g = S(s, !0), l = z(g); if (s < l) it(a, M(s, !0) || M(s - 1, !0) ? s : z(s)); else { var c = w().validPositions[g], I = U(l, c ? c.match.locator : n, c), h = J(l, I.match); if ("" !== h && E()[l] !== h && !0 !== I.match.optionalQuantifier && !0 !== I.match.newBlockMarker || !M(l, u.keepStatic) && I.match.def === h) { var d = z(l); (d <= s || s === l) && (l = d) } it(a, l) } } } }, 0) }, cutEvent: function (n) { t(this); var o = it(this), a = n.originalEvent || n, r = e.clipboardData || a.clipboardData, s = y ? E().slice(o.end, o.begin) : E().slice(o.begin, o.end); r.setData("text", y ? s.reverse().join("") : s.join("")), i.execCommand && i.execCommand("copy"), st(this, c.keyCode.DELETE, o), K(this, E(), w().p, n, C !== E().join("")) }, blurEvent: function (e) { var i = t(this); if (this.inputmask) { j(this, f); var o = this.inputmask._valueGet(), a = E().slice(); "" === o && m === n || (u.clearMaskOnLostFocus && (-1 === S() && o === H().join("") ? a = [] : at(a)), !1 === rt(a) && (setTimeout(function () { i.trigger("incomplete") }, 0), u.clearIncomplete && (X(), a = u.clearMaskOnLostFocus ? [] : H().slice())), K(this, a, n, e)), C !== E().join("") && (C = a.join(""), i.trigger("change")) } }, mouseenterEvent: function (t) { Q = !0, i.activeElement !== this && u.showMaskOnHover && j(this, (y ? E().slice().reverse() : E()).join("")) }, submitEvent: function (t) { C !== E().join("") && A.trigger("change"), u.clearMaskOnLostFocus && -1 === S() && B.inputmask._valueGet && B.inputmask._valueGet() === H().join("") && B.inputmask._valueSet(""), u.clearIncomplete && !1 === rt(E()) && B.inputmask._valueSet(""), u.removeMaskOnSubmit && (B.inputmask._valueSet(B.inputmask.unmaskedvalue(), !0), setTimeout(function () { K(B, E()) }, 0)) }, resetEvent: function (t) { B.inputmask.refreshValue = !0, setTimeout(function () { A.trigger("setvalue") }, 0) } }; function et(e, i, o, a, r) { var s = this || e.inputmask, g = a.slice(), l = "", I = -1, h = n; if (X(), o || !0 === u.autoUnmask) I = z(I); else { var d = H().slice(0, z(-1)).join(""), C = g.join("").match(new RegExp("^" + c.escapeRegex(d), "g")); C && 0 < C.length && (g.splice(0, C.length * d.length), I = z(I)) } -1 === I ? (w().p = z(I), I = 0) : w().p = I, s.caretPos = { begin: I }, t.each(g, function (i, a) { if (a !== n) if (w().validPositions[i] === n && g[i] === J(i) && M(i, !0) && !1 === _(i, g[i], !0, n, n, !0)) w().p++; else { var r = new t.Event("_checkval"); r.which = a.charCodeAt(0), l += a; var c = S(n, !0); !function (t, e) { return -1 !== G(!0, 0, !1).slice(t, z(t)).join("").replace(/'/g, "").indexOf(e) && !M(t) && (W(t).match.nativeDef === e.charAt(0) || null === W(t).match.fn && W(t).match.nativeDef === "'" + e.charAt(0) || " " === W(t).match.nativeDef && (W(t + 1).match.nativeDef === e.charAt(0) || null === W(t + 1).match.fn && W(t + 1).match.nativeDef === "'" + e.charAt(0))) }(I, l) ? (h = tt.keypressEvent.call(e, r, !0, !1, o, s.caretPos.begin)) && (I = s.caretPos.begin + 1, l = "") : h = tt.keypressEvent.call(e, r, !0, !1, o, c + 1), h && (K(n, E(), h.forwardPosition, r, !1), s.caretPos = { begin: h.forwardPosition, end: h.forwardPosition }) } }), i && K(e, E(), h ? h.forwardPosition : n, r || new t.Event("checkval"), r && "input" === r.type) } function nt(e) { if (e) { if (e.inputmask === n) return e.value; e.inputmask && e.inputmask.refreshValue && tt.setValueEvent.call(e) } var i = [], o = w().validPositions; for (var a in o) o[a].match && null != o[a].match.fn && i.push(o[a].input); var r = 0 === i.length ? "" : (y ? i.reverse() : i).join(""); if (t.isFunction(u.onUnMask)) { var s = (y ? E().slice().reverse() : E()).join(""); r = u.onUnMask.call(b, s, r, u) } return r } function it(o, a, r, s) { function g(t) { return !y || "number" != typeof t || u.greedy && "" === u.placeholder || !B || (t = B.inputmask._valueGet().length - t), t } var l; if (a === n) return "selectionStart" in o ? (a = o.selectionStart, r = o.selectionEnd) : e.getSelection ? (l = e.getSelection().getRangeAt(0)).commonAncestorContainer.parentNode !== o && l.commonAncestorContainer !== o || (a = l.startOffset, r = l.endOffset) : i.selection && i.selection.createRange && (r = (a = 0 - (l = i.selection.createRange()).duplicate().moveStart("character", -o.inputmask._valueGet().length)) + l.text.length), { begin: s ? a : g(a), end: s ? r : g(r) }; if (t.isArray(a) && (r = y ? a[0] : a[1], a = y ? a[1] : a[0]), a.begin !== n && (r = y ? a.begin : a.end, a = y ? a.end : a.begin), "number" == typeof a) { a = s ? a : g(a), r = "number" == typeof (r = s ? r : g(r)) ? r : a; var c = parseInt(((o.ownerDocument.defaultView || e).getComputedStyle ? (o.ownerDocument.defaultView || e).getComputedStyle(o, null) : o.currentStyle).fontSize) * r; if (o.scrollLeft = c > o.scrollWidth ? c : 0, o.inputmask.caretPos = { begin: a, end: r }, o === i.activeElement) { if ("selectionStart" in o) o.selectionStart = a, o.selectionEnd = r; else if (e.getSelection) { if (l = i.createRange(), o.firstChild === n || null === o.firstChild) { var I = i.createTextNode(""); o.appendChild(I) } l.setStart(o.firstChild, a < o.inputmask._valueGet().length ? a : o.inputmask._valueGet().length), l.setEnd(o.firstChild, r < o.inputmask._valueGet().length ? r : o.inputmask._valueGet().length), l.collapse(!0); var h = e.getSelection(); h.removeAllRanges(), h.addRange(l) } else o.createTextRange && ((l = o.createTextRange()).collapse(!0), l.moveEnd("character", r), l.moveStart("character", a), l.select()); lt(o, { begin: a, end: r }) } } } function ot(e) { var i, o, a = G(!0, S(), !0, !0), r = a.length, s = S(), g = {}, l = w().validPositions[s], c = l !== n ? l.locator.slice() : n; for (i = s + 1; i < a.length; i++)c = (o = U(i, c, i - 1)).locator.slice(), g[i] = t.extend(!0, {}, o); var I = l && l.alternation !== n ? l.locator[l.alternation] : n; for (i = r - 1; s < i && ((o = g[i]).match.optionality || o.match.optionalQuantifier && o.match.newBlockMarker || I && (I !== g[i].locator[l.alternation] && null != o.match.fn || null === o.match.fn && o.locator[l.alternation] && Y(o.locator[l.alternation].toString().split(","), I.toString().split(",")) && "" !== N(i)[0].def)) && a[i] === J(i, o.match); i--)r--; return e ? { l: r, def: g[r] ? g[r].match : n } : r } function at(t) { t.length = 0; for (var e, i = G(!0, 0, !0, n, !0); (e = i.shift()) !== n;)t.push(e); return t } function rt(e) { if (t.isFunction(u.isComplete)) return u.isComplete(e, u); if ("*" === u.repeat) return n; var i = !1, o = ot(!0), a = P(o.l); if (o.def === n || o.def.newBlockMarker || o.def.optionality || o.def.optionalQuantifier) { i = !0; for (var r = 0; r <= a; r++) { var s = U(r).match; if (null !== s.fn && w().validPositions[r] === n && !0 !== s.optionality && !0 !== s.optionalQuantifier || null === s.fn && e[r] !== J(r, s)) { i = !1; break } } } return i } function st(t, e, i, o, a) { if ((u.numericInput || y) && (e === c.keyCode.BACKSPACE ? e = c.keyCode.DELETE : e === c.keyCode.DELETE && (e = c.keyCode.BACKSPACE), y)) { var r = i.end; i.end = i.begin, i.begin = r } if (e === c.keyCode.BACKSPACE && i.end - i.begin < 1 ? (i.begin = P(i.begin), w().validPositions[i.begin] !== n && w().validPositions[i.begin].input === u.groupSeparator && i.begin--) : e === c.keyCode.DELETE && i.begin === i.end && (i.end = M(i.end, !0) && w().validPositions[i.end] && w().validPositions[i.end].input !== u.radixPoint ? i.end + 1 : z(i.end) + 1, w().validPositions[i.begin] !== n && w().validPositions[i.begin].input === u.groupSeparator && i.end++), L(i), !0 !== o && !1 !== u.keepStatic || null !== u.regex) { var s = O(!0); if (s) { var g = s.caret !== n ? s.caret : s.pos ? z(s.pos.begin ? s.pos.begin : s.pos) : S(-1, !0); (e !== c.keyCode.DELETE || i.begin > g) && i.begin } } var l = S(i.begin, !0); if (l < i.begin || -1 === i.begin) w().p = z(l); else if (!0 !== o && (w().p = i.begin, !0 !== a)) for (; w().p < l && w().validPositions[w().p] === n;)w().p++ } function gt(n) { var o = (n.ownerDocument.defaultView || e).getComputedStyle(n, null), a = i.createElement("div"); a.style.width = o.width, a.style.textAlign = o.textAlign, m = i.createElement("div"), (n.inputmask.colorMask = m).className = "im-colormask", n.parentNode.insertBefore(m, n), n.parentNode.removeChild(n), m.appendChild(n), m.appendChild(a), n.style.left = a.offsetLeft + "px", t(m).on("mouseleave", function (t) { return tt.mouseleaveEvent.call(n, [t]) }), t(m).on("mouseenter", function (t) { return tt.mouseenterEvent.call(n, [t]) }), t(m).on("click", function (t) { return it(n, function (t) { var e, a = i.createElement("span"); for (var r in o) isNaN(r) && -1 !== r.indexOf("font") && (a.style[r] = o[r]); a.style.textTransform = o.textTransform, a.style.letterSpacing = o.letterSpacing, a.style.position = "absolute", a.style.height = "auto", a.style.width = "auto", a.style.visibility = "hidden", a.style.whiteSpace = "nowrap", i.body.appendChild(a); var s, g = n.inputmask._valueGet(), l = 0; for (e = 0, s = g.length; e <= s; e++) { if (a.innerHTML += g.charAt(e) || "_", a.offsetWidth >= t) { var c = t - l, I = a.offsetWidth - t; a.innerHTML = g.charAt(e), e = (c -= a.offsetWidth / 3) < I ? e - 1 : e; break } l = a.offsetWidth } return i.body.removeChild(a), e }(t.clientX)), tt.clickEvent.call(n, [t]) }) } function lt(t, e, o) { var a, r, s, g = [], l = !1, c = 0; function I(t) { if (t === n && (t = ""), l || null !== a.fn && r.input !== n) if (l && (null !== a.fn && r.input !== n || "" === a.def)) { l = !1; var e = g.length; g[e - 1] = g[e - 1] + "</span>", g.push(t) } else g.push(t); else l = !0, g.push("<span class='im-static'>" + t) } if (m !== n) { var h = E(); if (e === n ? e = it(t) : e.begin === n && (e = { begin: e, end: e }), !0 !== o) { for (var d = S(); w().validPositions[c] ? (r = w().validPositions[c], a = r.match, s = r.locator.slice(), I(h[c])) : (r = U(c, s, c - 1), a = r.match, s = r.locator.slice(), !1 === u.jitMasking || c < d || "number" == typeof u.jitMasking && isFinite(u.jitMasking) && u.jitMasking > c ? I(J(c, a)) : l = !1), c++, (p === n || c < p) && (null !== a.fn || "" !== a.def) || c < d || l;); l && I(), i.activeElement === t && (g.splice(e.begin, 0, e.begin === e.end || e.end > w().maskLength ? '<mark class="im-caret" style="border-right-width: 1px;border-right-style: solid;">' : '<mark class="im-caret-select">'), g.splice(e.end + 1, 0, "</mark>")) } var C = m.getElementsByTagName("div")[0]; C.innerHTML = g.join(""), t.inputmask.positionColorMask(t, C) } } if (o !== n) switch (o.action) { case "isComplete": return B = o.el, rt(E()); case "unmaskedvalue": return B !== n && o.value === n || ($ = o.value, $ = (t.isFunction(u.onBeforeMask) && u.onBeforeMask.call(b, $, u) || $).split(""), et.call(this, n, !1, !1, $), t.isFunction(u.onBeforeWrite) && u.onBeforeWrite.call(b, n, E(), 0, u)), nt(B); case "mask": !function (e) { q.off(e); var o = function (e, o) { var a = e.getAttribute("type"), s = "INPUT" === e.tagName && -1 !== t.inArray(a, o.supportsInputType) || e.isContentEditable || "TEXTAREA" === e.tagName; if (!s) if ("INPUT" === e.tagName) { var g = i.createElement("input"); g.setAttribute("type", a), s = "text" === g.type, g = null } else s = "partial"; return !1 !== s ? function (e) { var a, s; function g() { return this.inputmask ? this.inputmask.opts.autoUnmask ? this.inputmask.unmaskedvalue() : -1 !== S() || !0 !== o.nullable ? i.activeElement === this && o.clearMaskOnLostFocus ? (y ? at(E().slice()).reverse() : at(E().slice())).join("") : a.call(this) : "" : a.call(this) } function l(e) { s.call(this, e), this.inputmask && t(this).trigger("setvalue", [e]) } if (!e.inputmask.__valueGet) { if (!0 !== o.noValuePatching) { if (Object.getOwnPropertyDescriptor) { "function" != typeof Object.getPrototypeOf && (Object.getPrototypeOf = "object" === r("test".__proto__) ? function (t) { return t.__proto__ } : function (t) { return t.constructor.prototype }); var c = Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(e), "value") : n; c && c.get && c.set ? (a = c.get, s = c.set, Object.defineProperty(e, "value", { get: g, set: l, configurable: !0 })) : "INPUT" !== e.tagName && (a = function () { return this.textContent }, s = function (t) { this.textContent = t }, Object.defineProperty(e, "value", { get: g, set: l, configurable: !0 })) } else i.__lookupGetter__ && e.__lookupGetter__("value") && (a = e.__lookupGetter__("value"), s = e.__lookupSetter__("value"), e.__defineGetter__("value", g), e.__defineSetter__("value", l)); e.inputmask.__valueGet = a, e.inputmask.__valueSet = s } e.inputmask._valueGet = function (t) { return y && !0 !== t ? a.call(this.el).split("").reverse().join("") : a.call(this.el) }, e.inputmask._valueSet = function (t, e) { s.call(this.el, null === t || t === n ? "" : !0 !== e && y ? t.split("").reverse().join("") : t) }, a === n && (a = function () { return this.value }, s = function (t) { this.value = t }, function (e) { if (t.valHooks && (t.valHooks[e] === n || !0 !== t.valHooks[e].inputmaskpatch)) { var i = t.valHooks[e] && t.valHooks[e].get ? t.valHooks[e].get : function (t) { return t.value }, a = t.valHooks[e] && t.valHooks[e].set ? t.valHooks[e].set : function (t, e) { return t.value = e, t }; t.valHooks[e] = { get: function (t) { if (t.inputmask) { if (t.inputmask.opts.autoUnmask) return t.inputmask.unmaskedvalue(); var e = i(t); return -1 !== S(n, n, t.inputmask.maskset.validPositions) || !0 !== o.nullable ? e : "" } return i(t) }, set: function (e, n) { var i, o = t(e); return i = a(e, n), e.inputmask && o.trigger("setvalue", [n]), i }, inputmaskpatch: !0 } } }(e.type), Dlc = e, q.on(Dlc, "mouseenter", function (e) { var n = t(this); this.inputmask._valueGet() !== E().join("") && n.trigger("setvalue") })) } }(e) : e.inputmask = n, s }(e, u); if (!1 !== o && (A = t(B = e), f = B.placeholder, -1 === (p = B !== n ? B.maxLength : n) && (p = n), !0 === u.colorMask && gt(B), s && ("inputmode" in B && (B.inputmode = u.inputmode, B.setAttribute("inputmode", u.inputmode)), !0 === u.disablePredictiveText && ("autocorrect" in B ? B.autocorrect = !1 : (!0 !== u.colorMask && gt(B), B.type = "password"))), !0 === o && (B.setAttribute("im-insert", u.insertMode), q.on(B, "submit", tt.submitEvent), q.on(B, "reset", tt.resetEvent), q.on(B, "blur", tt.blurEvent), q.on(B, "focus", tt.focusEvent), !0 !== u.colorMask && (q.on(B, "click", tt.clickEvent), q.on(B, "mouseleave", tt.mouseleaveEvent), q.on(B, "mouseenter", tt.mouseenterEvent)), q.on(B, "paste", tt.pasteEvent), q.on(B, "cut", tt.cutEvent), q.on(B, "complete", u.oncomplete), q.on(B, "incomplete", u.onincomplete), q.on(B, "cleared", u.oncleared), s || !0 === u.inputEventOnly ? B.removeAttribute("maxLength") : (q.on(B, "keydown", tt.keydownEvent), q.on(B, "keypress", tt.keypressEvent)), q.on(B, "input", tt.inputFallBackEvent), q.on(B, "beforeinput", tt.beforeInputEvent)), q.on(B, "setvalue", tt.setValueEvent), C = H().join(""), "" !== B.inputmask._valueGet(!0) || !1 === u.clearMaskOnLostFocus || i.activeElement === B)) { var a = t.isFunction(u.onBeforeMask) && u.onBeforeMask.call(b, B.inputmask._valueGet(!0), u) || B.inputmask._valueGet(!0); "" !== a && et(B, !0, !1, a.split("")); var g = E().slice(); C = g.join(""), !1 === rt(g) && u.clearIncomplete && X(), u.clearMaskOnLostFocus && i.activeElement !== B && (-1 === S() ? g = [] : at(g)), (!1 === u.clearMaskOnLostFocus || u.showMaskOnFocus && i.activeElement === B || "" !== B.inputmask._valueGet(!0)) && K(B, g), i.activeElement === B && it(B, z(S())) } }(B); break; case "format": return $ = (t.isFunction(u.onBeforeMask) && u.onBeforeMask.call(b, o.value, u) || o.value).split(""), et.call(this, n, !0, !1, $), o.metadata ? { value: y ? E().slice().reverse().join("") : E().join(""), metadata: d.call(this, { action: "getmetadata" }, I, u) } : y ? E().slice().reverse().join("") : E().join(""); case "isValid": o.value ? ($ = o.value.split(""), et.call(this, n, !0, !0, $)) : o.value = E().join(""); for (var ct = E(), It = ot(), ut = ct.length - 1; It < ut && !M(ut); ut--); return ct.splice(It, ut + 1 - It), rt(ct) && o.value === E().join(""); case "getemptymask": return H().join(""); case "remove": return B && B.inputmask && (t.data(B, "_inputmask_opts", null), A = t(B), B.inputmask._valueSet(u.autoUnmask ? nt(B) : B.inputmask._valueGet(!0)), q.off(B), B.inputmask.colorMask && ((m = B.inputmask.colorMask).removeChild(B), m.parentNode.insertBefore(B, m), m.parentNode.removeChild(m)), Object.getOwnPropertyDescriptor && Object.getPrototypeOf ? Object.getOwnPropertyDescriptor(Object.getPrototypeOf(B), "value") && B.inputmask.__valueGet && Object.defineProperty(B, "value", { get: B.inputmask.__valueGet, set: B.inputmask.__valueSet, configurable: !0 }) : i.__lookupGetter__ && B.__lookupGetter__("value") && B.inputmask.__valueGet && (B.__defineGetter__("value", B.inputmask.__valueGet), B.__defineSetter__("value", B.inputmask.__valueSet)), B.inputmask = n), B; case "getmetadata": if (t.isArray(I.metadata)) { var ht = G(!0, 0, !1).join(""); return t.each(I.metadata, function (t, e) { if (e.mask === ht) return ht = e, !1 }), ht } return I.metadata } } return c.prototype = { dataAttribute: "data-inputmask", defaults: { placeholder: "_", optionalmarker: ["[", "]"], quantifiermarker: ["{", "}"], groupmarker: ["(", ")"], alternatormarker: "|", escapeChar: "\\", mask: null, regex: null, oncomplete: t.noop, onincomplete: t.noop, oncleared: t.noop, repeat: 0, greedy: !1, autoUnmask: !1, removeMaskOnSubmit: !1, clearMaskOnLostFocus: !0, insertMode: !0, clearIncomplete: !1, alias: null, onKeyDown: t.noop, onBeforeMask: null, onBeforePaste: function (e, n) { return t.isFunction(n.onBeforeMask) ? n.onBeforeMask.call(this, e, n) : e }, onBeforeWrite: null, onUnMask: null, showMaskOnFocus: !0, showMaskOnHover: !0, onKeyValidation: t.noop, skipOptionalPartCharacter: " ", numericInput: !1, rightAlign: !1, undoOnEscape: !0, radixPoint: "", _radixDance: !1, groupSeparator: "", keepStatic: null, positionCaretOnTab: !0, tabThrough: !1, supportsInputType: ["text", "tel", "url", "password", "search"], ignorables: [8, 9, 13, 19, 27, 33, 34, 35, 36, 37, 38, 39, 40, 45, 46, 93, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 123, 0, 229], isComplete: null, preValidation: null, postValidation: null, staticDefinitionSymbol: n, jitMasking: !1, nullable: !0, inputEventOnly: !1, noValuePatching: !1, positionCaretOnClick: "lvp", casing: null, inputmode: "verbatim", colorMask: !1, disablePredictiveText: !1, importDataAttributes: !0, shiftPositions: !0 }, definitions: { 9: { validator: "[0-9ï¼-ï¼]", definitionSymbol: "*" }, a: { validator: "[A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]", definitionSymbol: "*" }, "*": { validator: "[0-9ï¼-ï¼A-Za-zÐ-ÑÐÑÃ-Ã¿Âµ]" } }, aliases: {}, masksCache: {}, mask: function (o) { var a = this; return "string" == typeof o && (o = i.getElementById(o) || i.querySelectorAll(o)), o = o.nodeName ? [o] : o, t.each(o, function (i, o) { var r = t.extend(!0, {}, a.opts); if (function (i, o, a, r) { if (!0 === o.importDataAttributes) { var s, g, l, c, u = i.getAttribute(r), h = function (t, o) { null !== (o = o !== n ? o : i.getAttribute(r + "-" + t)) && ("string" == typeof o && (0 === t.indexOf("on") ? o = e[o] : "false" === o ? o = !1 : "true" === o && (o = !0)), a[t] = o) }; if (u && "" !== u && (u = u.replace(/'/g, '"'), g = JSON.parse("{" + u + "}")), g) for (c in l = n, g) if ("alias" === c.toLowerCase()) { l = g[c]; break } for (s in h("alias", l), a.alias && I(a.alias, a, o), o) { if (g) for (c in l = n, g) if (c.toLowerCase() === s.toLowerCase()) { l = g[c]; break } h(s, l) } } return t.extend(!0, o, a), "rtl" !== i.dir && !o.rightAlign || (i.style.textAlign = "right"), "rtl" !== i.dir && !o.numericInput || (i.dir = "ltr", i.removeAttribute("dir"), o.isRTL = !0), Object.keys(a).length }(o, r, t.extend(!0, {}, a.userOptions), a.dataAttribute)) { var s = u(r, a.noMasksCache); s !== n && (o.inputmask !== n && (o.inputmask.opts.autoUnmask = !0, o.inputmask.remove()), o.inputmask = new c(n, n, !0), o.inputmask.opts = r, o.inputmask.noMasksCache = a.noMasksCache, o.inputmask.userOptions = t.extend(!0, {}, a.userOptions), o.inputmask.isRTL = r.isRTL || r.numericInput, (o.inputmask.el = o).inputmask.maskset = s, t.data(o, "_inputmask_opts", r), d.call(o.inputmask, { action: "mask" })) } }), o && o[0] && o[0].inputmask || this }, option: function (e, n) { return "string" == typeof e ? this.opts[e] : "object" === (void 0 === e ? "undefined" : r(e)) ? (t.extend(this.userOptions, e), this.el && !0 !== n && this.mask(this.el), this) : void 0 }, unmaskedvalue: function (t) { return this.maskset = this.maskset || u(this.opts, this.noMasksCache), d.call(this, { action: "unmaskedvalue", value: t }) }, remove: function () { return d.call(this, { action: "remove" }) }, getemptymask: function () { return this.maskset = this.maskset || u(this.opts, this.noMasksCache), d.call(this, { action: "getemptymask" }) }, hasMaskedValue: function () { return !this.opts.autoUnmask }, isComplete: function () { return this.maskset = this.maskset || u(this.opts, this.noMasksCache), d.call(this, { action: "isComplete" }) }, getmetadata: function () { return this.maskset = this.maskset || u(this.opts, this.noMasksCache), d.call(this, { action: "getmetadata" }) }, isValid: function (t) { return this.maskset = this.maskset || u(this.opts, this.noMasksCache), d.call(this, { action: "isValid", value: t }) }, format: function (t, e) { return this.maskset = this.maskset || u(this.opts, this.noMasksCache), d.call(this, { action: "format", value: t, metadata: e }) }, setValue: function (e) { this.el && t(this.el).trigger("setvalue", [e]) }, analyseMask: function (e, i, o) { var a, r, s, g, l, I, u = /(?:[?*+]|\{[0-9\+\*]+(?:,[0-9\+\*]*)?(?:\|[0-9\+\*]*)?\})|[^.?*+^${[]()|\\]+|./g, h = /\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g, d = !1, C = new m, A = [], p = []; function m(t, e, n, i) { this.matches = [], this.openGroup = t || !1, this.alternatorGroup = !1, this.isGroup = t || !1, this.isOptional = e || !1, this.isQuantifier = n || !1, this.isAlternator = i || !1, this.quantifier = { min: 1, max: 1 } } function f(e, a, r) { r = r !== n ? r : e.matches.length; var s = e.matches[r - 1]; if (i) 0 === a.indexOf("[") || d && /\\d|\\s|\\w]/i.test(a) || "." === a ? e.matches.splice(r++, 0, { fn: new RegExp(a, o.casing ? "i" : ""), optionality: !1, newBlockMarker: s === n ? "master" : s.def !== a, casing: null, def: a, placeholder: n, nativeDef: a }) : (d && (a = a[a.length - 1]), t.each(a.split(""), function (t, i) { s = e.matches[r - 1], e.matches.splice(r++, 0, { fn: null, optionality: !1, newBlockMarker: s === n ? "master" : s.def !== i && null !== s.fn, casing: null, def: o.staticDefinitionSymbol || i, placeholder: o.staticDefinitionSymbol !== n ? i : n, nativeDef: (d ? "'" : "") + i }) })), d = !1; else { var g = (o.definitions ? o.definitions[a] : n) || c.prototype.definitions[a]; g && !d ? e.matches.splice(r++, 0, { fn: g.validator ? "string" == typeof g.validator ? new RegExp(g.validator, o.casing ? "i" : "") : new function () { this.test = g.validator } : new RegExp("."), optionality: !1, newBlockMarker: s === n ? "master" : s.def !== (g.definitionSymbol || a), casing: g.casing, def: g.definitionSymbol || a, placeholder: g.placeholder, nativeDef: a }) : (e.matches.splice(r++, 0, { fn: null, optionality: !1, newBlockMarker: s === n ? "master" : s.def !== a && null !== s.fn, casing: null, def: o.staticDefinitionSymbol || a, placeholder: o.staticDefinitionSymbol !== n ? a : n, nativeDef: (d ? "'" : "") + a }), d = !1) } } function b() { if (0 < A.length) { if (f(g = A[A.length - 1], r), g.isAlternator) { l = A.pop(); for (var t = 0; t < l.matches.length; t++)l.matches[t].isGroup && (l.matches[t].isGroup = !1); 0 < A.length ? (g = A[A.length - 1]).matches.push(l) : C.matches.push(l) } } else f(C, r) } function B(t) { var e = new m(!0); return e.openGroup = !1, e.matches = t, e } for (i && (o.optionalmarker[0] = n, o.optionalmarker[1] = n); a = i ? h.exec(e) : u.exec(e);) { if (r = a[0], i) switch (r.charAt(0)) { case "?": r = "{0,1}"; break; case "+": case "*": r = "{" + r + "}" }if (d) b(); else switch (r.charAt(0)) { case "(?=": case "(?!": case "(?<=": case "(?<!": break; case o.escapeChar: d = !0, i && b(); break; case o.optionalmarker[1]: case o.groupmarker[1]: if ((s = A.pop()).openGroup = !1, s !== n) if (0 < A.length) { if ((g = A[A.length - 1]).matches.push(s), g.isAlternator) { l = A.pop(); for (var y = 0; y < l.matches.length; y++)l.matches[y].isGroup = !1, l.matches[y].alternatorGroup = !1; 0 < A.length ? (g = A[A.length - 1]).matches.push(l) : C.matches.push(l) } } else C.matches.push(s); else b(); break; case o.optionalmarker[0]: A.push(new m(!1, !0)); break; case o.groupmarker[0]: A.push(new m(!0)); break; case o.quantifiermarker[0]: var v = new m(!1, !1, !0), x = (r = r.replace(/[{}]/g, "")).split("|"), F = x[0].split(","), Q = isNaN(F[0]) ? F[0] : parseInt(F[0]), G = 1 === F.length ? Q : isNaN(F[1]) ? F[1] : parseInt(F[1]); "*" !== Q && "+" !== Q || (Q = "*" === G ? 0 : 1), v.quantifier = { min: Q, max: G, jit: x[1] }; var w = 0 < A.length ? A[A.length - 1].matches : C.matches; if ((a = w.pop()).isAlternator) { w.push(a), w = a.matches; var X = new m(!0), S = w.pop(); w.push(X), w = X.matches, a = S } a.isGroup || (a = B([a])), w.push(a), w.push(v); break; case o.alternatormarker: var k = function (t) { var e = t.pop(); return e.isQuantifier && (e = B([t.pop(), e])), e }; if (0 < A.length) { var D = (g = A[A.length - 1]).matches[g.matches.length - 1]; I = g.openGroup && (D.matches === n || !1 === D.isGroup && !1 === D.isAlternator) ? A.pop() : k(g.matches) } else I = k(C.matches); if (I.isAlternator) A.push(I); else if (I.alternatorGroup ? (l = A.pop(), I.alternatorGroup = !1) : l = new m(!1, !1, !1, !0), l.matches.push(I), A.push(l), I.openGroup) { var Z = new m(!(I.openGroup = !1)); Z.alternatorGroup = !0, A.push(Z) } break; default: b() } } for (; 0 < A.length;)s = A.pop(), C.matches.push(s); return 0 < C.matches.length && (function e(a) { a && a.matches && t.each(a.matches, function (t, r) { var s = a.matches[t + 1]; (s === n || s.matches === n || !1 === s.isQuantifier) && r && r.isGroup && (r.isGroup = !1, i || (f(r, o.groupmarker[0], 0), !0 !== r.openGroup && f(r, o.groupmarker[1]))), e(r) }) }(C), p.push(C)), (o.numericInput || o.isRTL) && function t(e) { for (var i in e.matches = e.matches.reverse(), e.matches) if (e.matches.hasOwnProperty(i)) { var a = parseInt(i); if (e.matches[i].isQuantifier && e.matches[a + 1] && e.matches[a + 1].isGroup) { var r = e.matches[i]; e.matches.splice(i, 1), e.matches.splice(a + 1, 0, r) } e.matches[i].matches !== n ? e.matches[i] = t(e.matches[i]) : e.matches[i] = ((s = e.matches[i]) === o.optionalmarker[0] ? s = o.optionalmarker[1] : s === o.optionalmarker[1] ? s = o.optionalmarker[0] : s === o.groupmarker[0] ? s = o.groupmarker[1] : s === o.groupmarker[1] && (s = o.groupmarker[0]), s) } var s; return e }(p[0]), p }, positionColorMask: function (t, e) { t.style.left = e.offsetLeft + "px" } }, c.extendDefaults = function (e) { t.extend(!0, c.prototype.defaults, e) }, c.extendDefinitions = function (e) { t.extend(!0, c.prototype.definitions, e) }, c.extendAliases = function (e) { t.extend(!0, c.prototype.aliases, e) }, c.format = function (t, e, n) { return c(e).format(t, n) }, c.unmask = function (t, e) { return c(e).unmaskedvalue(t) }, c.isValid = function (t, e) { return c(e).isValid(t) }, c.remove = function (e) { "string" == typeof e && (e = i.getElementById(e) || i.querySelectorAll(e)), e = e.nodeName ? [e] : e, t.each(e, function (t, e) { e.inputmask && e.inputmask.remove() }) }, c.setValue = function (e, n) { "string" == typeof e && (e = i.getElementById(e) || i.querySelectorAll(e)), e = e.nodeName ? [e] : e, t.each(e, function (e, i) { i.inputmask ? i.inputmask.setValue(n) : t(i).trigger("setvalue", [n]) }) }, c.escapeRegex = function (t) { return t.replace(new RegExp("(\\" + ["/", ".", "*", "+", "?", "|", "(", ")", "[", "]", "{", "}", "\\", "$", "^"].join("|\\") + ")", "gim"), "\\$1") }, c.keyCode = { BACKSPACE: 8, BACKSPACE_SAFARI: 127, DELETE: 46, DOWN: 40, END: 35, ENTER: 13, ESCAPE: 27, HOME: 36, INSERT: 45, LEFT: 37, PAGE_DOWN: 34, PAGE_UP: 33, RIGHT: 39, SPACE: 32, TAB: 9, UP: 38, X: 88, CONTROL: 17 }, c.dependencyLib = t, c }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e, n) { "use strict"; var i, o, a; "function" == typeof Symbol && Symbol.iterator, o = [n(4)], void 0 === (a = "function" == typeof (i = function (t) { return t }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e) { t.exports = jQuery }, function (module, exports, __webpack_require__) { "use strict"; var __WEBPACK_AMD_DEFINE_RESULT__, _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; __WEBPACK_AMD_DEFINE_RESULT__ = function () { return "undefined" != typeof window ? window : new (eval("require('jsdom').JSDOM"))("").window }.call(exports, __webpack_require__, exports, module), void 0 === __WEBPACK_AMD_DEFINE_RESULT__ || (module.exports = __WEBPACK_AMD_DEFINE_RESULT__) }, function (t, e, n) { "use strict"; var i, o, a, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; o = [n(2)], void 0 === (a = "function" == typeof (i = function (t) { var e = t.dependencyLib, n = { d: ["[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate], dd: ["0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function () { return s(Date.prototype.getDate.call(this), 2) }], ddd: [""], dddd: [""], m: ["[1-9]|1[012]", Date.prototype.setMonth, "month", function () { return Date.prototype.getMonth.call(this) + 1 }], mm: ["0[1-9]|1[012]", Date.prototype.setMonth, "month", function () { return s(Date.prototype.getMonth.call(this) + 1, 2) }], mmm: [""], mmmm: [""], yy: ["[0-9]{2}", Date.prototype.setFullYear, "year", function () { return s(Date.prototype.getFullYear.call(this), 2) }], yyyy: ["[0-9]{4}", Date.prototype.setFullYear, "year", function () { return s(Date.prototype.getFullYear.call(this), 4) }], h: ["[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours], hh: ["0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function () { return s(Date.prototype.getHours.call(this), 2) }], hhh: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours], H: ["1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours], HH: ["0[0-9]|1[0-9]|2[0-3]", Date.prototype.setHours, "hours", function () { return s(Date.prototype.getHours.call(this), 2) }], HHH: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours], M: ["[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes], MM: ["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setMinutes, "minutes", function () { return s(Date.prototype.getMinutes.call(this), 2) }], ss: ["[0-5][0-9]", Date.prototype.setSeconds, "seconds", function () { return s(Date.prototype.getSeconds.call(this), 2) }], l: ["[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function () { return s(Date.prototype.getMilliseconds.call(this), 3) }], L: ["[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function () { return s(Date.prototype.getMilliseconds.call(this), 2) }], t: ["[ap]"], tt: ["[ap]m"], T: ["[AP]"], TT: ["[AP]M"], Z: [""], o: [""], S: [""] }, i = { isoDate: "yyyy-mm-dd", isoTime: "HH:MM:ss", isoDateTime: "yyyy-mm-dd'T'HH:MM:ss", isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'" }; function o(t) { if (!t.tokenizer) { var e = []; for (var i in n) -1 === e.indexOf(i[0]) && e.push(i[0]); t.tokenizer = "(" + e.join("+|") + ")+?|.", t.tokenizer = new RegExp(t.tokenizer, "g") } return t.tokenizer } function a(e, i, a, r) { for (var s, g = ""; s = o(a).exec(e);)if (void 0 === i) if (n[s[0]]) g += "(" + n[s[0]][0] + ")"; else switch (s[0]) { case "[": g += "("; break; case "]": g += ")?"; break; default: g += t.escapeRegex(s[0]) } else if (n[s[0]]) if (!0 !== r && n[s[0]][3]) { g += n[s[0]][3].call(i.date) } else n[s[0]][2] ? g += i["raw" + n[s[0]][2]] : g += s[0]; else g += s[0]; return g } function s(t, e) { for (t = String(t), e = e || 2; t.length < e;)t = "0" + t; return t } function g(t, e, i) { var a, s, g, l = { date: new Date(1, 0, 1) }, c = t; function I(t, e, n) { t[a] = function (t) { var e = t.replace(/[^0-9]/g, "0"); if (e != t) { var n = t.replace(/[^0-9]/g, ""), o = (i.min && i.min[a] || t).toString(), r = (i.max && i.max[a] || t).toString(); e = n + (n < o.slice(0, n.length) ? o.slice(n.length) : n > r.slice(0, n.length) ? r.slice(n.length) : e.toString().slice(n.length)) } return e }(e), t["raw" + a] = e, void 0 !== g && g.call(t.date, "month" == a ? parseInt(t[a]) - 1 : t[a]) } if ("string" == typeof c) { for (; s = o(i).exec(e);) { var u = c.slice(0, s[0].length); n.hasOwnProperty(s[0]) && (n[s[0]][0], a = n[s[0]][2], g = n[s[0]][1], I(l, u)), c = c.slice(u.length) } return l } if (c && "object" === (void 0 === c ? "undefined" : r(c)) && c.hasOwnProperty("date")) return c } return t.extendAliases({ datetime: { mask: function (t) { return n.S = t.i18n.ordinalSuffix.join("|"), t.inputFormat = i[t.inputFormat] || t.inputFormat, t.displayFormat = i[t.displayFormat] || t.displayFormat || t.inputFormat, t.outputFormat = i[t.outputFormat] || t.outputFormat || t.inputFormat, t.placeholder = "" !== t.placeholder ? t.placeholder : t.inputFormat.replace(/[\[\]]/, ""), t.regex = a(t.inputFormat, void 0, t), null }, placeholder: "", inputFormat: "isoDateTime", displayFormat: void 0, outputFormat: void 0, min: null, max: null, i18n: { dayNames: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], ordinalSuffix: ["st", "nd", "rd", "th"] }, postValidation: function (t, e, n, i) { i.min = g(i.min, i.inputFormat, i), i.max = g(i.max, i.inputFormat, i); var o = n, r = g(t.join(""), i.inputFormat, i); return o && r.date.getTime() == r.date.getTime() && (o = (o = function (t, e) { return (!isFinite(t.rawday) || "29" == t.day && !isFinite(t.rawyear) || new Date(t.date.getFullYear(), isFinite(t.rawmonth) ? t.month : t.date.getMonth() + 1, 0).getDate() >= t.day) && e }(r, o)) && function (t, e) { var n = !0; if (e.min) { if (t.rawyear) { var i = t.rawyear.replace(/[^0-9]/g, ""); n = e.min.year.substr(0, i.length) <= i } t.year === t.rawyear && e.min.date.getTime() == e.min.date.getTime() && (n = e.min.date.getTime() <= t.date.getTime()) } return n && e.max && e.max.date.getTime() == e.max.date.getTime() && (n = e.max.date.getTime() >= t.date.getTime()), n }(r, i)), e && o && n.pos !== e ? { buffer: a(i.inputFormat, r, i), refreshFromBuffer: { start: e, end: n.pos } } : o }, onKeyDown: function (n, i, a, r) { if (n.ctrlKey && n.keyCode === t.keyCode.RIGHT) { for (var g, l = new Date, c = ""; g = o(r).exec(r.inputFormat);)"d" === g[0].charAt(0) ? c += s(l.getDate(), g[0].length) : "m" === g[0].charAt(0) ? c += s(l.getMonth() + 1, g[0].length) : "yyyy" === g[0] ? c += l.getFullYear().toString() : "y" === g[0].charAt(0) && (c += s(l.getYear(), g[0].length)); this.inputmask._valueSet(c), e(this).trigger("setvalue") } }, onUnMask: function (t, e, n) { return a(n.outputFormat, g(t, n.inputFormat, n), n, !0) }, casing: function (t, e, n, i) { return 0 == e.nativeDef.indexOf("[ap]") ? t.toLowerCase() : 0 == e.nativeDef.indexOf("[AP]") ? t.toUpperCase() : t }, insertMode: !1, shiftPositions: !1 } }), t }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e, n) { "use strict"; var i, o, a; "function" == typeof Symbol && Symbol.iterator, o = [n(2)], void 0 === (a = "function" == typeof (i = function (t) { var e = t.dependencyLib; function n(e, n) { for (var i = "", o = 0; o < e.length; o++)t.prototype.definitions[e.charAt(o)] || n.definitions[e.charAt(o)] || n.optionalmarker.start === e.charAt(o) || n.optionalmarker.end === e.charAt(o) || n.quantifiermarker.start === e.charAt(o) || n.quantifiermarker.end === e.charAt(o) || n.groupmarker.start === e.charAt(o) || n.groupmarker.end === e.charAt(o) || n.alternatormarker === e.charAt(o) ? i += "\\" + e.charAt(o) : i += e.charAt(o); return i } return t.extendAliases({ numeric: { mask: function (t) { if (0 !== t.repeat && isNaN(t.integerDigits) && (t.integerDigits = t.repeat), t.repeat = 0, t.groupSeparator === t.radixPoint && t.digits && "0" !== t.digits && ("." === t.radixPoint ? t.groupSeparator = "," : "," === t.radixPoint ? t.groupSeparator = "." : t.groupSeparator = ""), " " === t.groupSeparator && (t.skipOptionalPartCharacter = void 0), t.autoGroup = t.autoGroup && "" !== t.groupSeparator, t.autoGroup && ("string" == typeof t.groupSize && isFinite(t.groupSize) && (t.groupSize = parseInt(t.groupSize)), isFinite(t.integerDigits))) { var e = Math.floor(t.integerDigits / t.groupSize), i = t.integerDigits % t.groupSize; t.integerDigits = parseInt(t.integerDigits) + (0 == i ? e - 1 : e), t.integerDigits < 1 && (t.integerDigits = "*") } 1 < t.placeholder.length && (t.placeholder = t.placeholder.charAt(0)), "radixFocus" === t.positionCaretOnClick && "" === t.placeholder && !1 === t.integerOptional && (t.positionCaretOnClick = "lvp"), t.definitions[";"] = t.definitions["~"], t.definitions[";"].definitionSymbol = "~", !0 === t.numericInput && (t.positionCaretOnClick = "radixFocus" === t.positionCaretOnClick ? "lvp" : t.positionCaretOnClick, t.digitsOptional = !1, isNaN(t.digits) && (t.digits = 2), t.decimalProtect = !1); var o = "[+]"; if (o += n(t.prefix, t), !0 === t.integerOptional ? o += "~{1," + t.integerDigits + "}" : o += "~{" + t.integerDigits + "}", void 0 !== t.digits) { var a = t.decimalProtect ? ":" : t.radixPoint, r = t.digits.toString().split(","); isFinite(r[0]) && r[1] && isFinite(r[1]) ? o += a + ";{" + t.digits + "}" : (isNaN(t.digits) || 0 < parseInt(t.digits)) && (t.digitsOptional ? o += "[" + a + ";{1," + t.digits + "}]" : o += a + ";{" + t.digits + "}") } return o += n(t.suffix, t), o += "[-]", t.greedy = !1, o }, placeholder: "", greedy: !1, digits: "*", digitsOptional: !0, enforceDigitsOnBlur: !1, radixPoint: ".", positionCaretOnClick: "radixFocus", groupSize: 3, groupSeparator: "", autoGroup: !1, allowMinus: !0, negationSymbol: { front: "-", back: "" }, integerDigits: "+", integerOptional: !0, prefix: "", suffix: "", rightAlign: !0, decimalProtect: !0, min: null, max: null, step: 1, insertMode: !0, autoUnmask: !1, unmaskAsNumber: !1, inputType: "text", inputmode: "numeric", preValidation: function (t, n, i, o, a, r) { if ("-" === i || i === a.negationSymbol.front) return !0 === a.allowMinus && (a.isNegative = void 0 === a.isNegative || !a.isNegative, "" === t.join("") || { caret: r.validPositions[n] ? n : void 0, dopost: !0 }); if (!1 === o && i === a.radixPoint && void 0 !== a.digits && (isNaN(a.digits) || 0 < parseInt(a.digits))) { var s = e.inArray(a.radixPoint, t); if (-1 !== s && void 0 !== r.validPositions[s]) return !0 === a.numericInput ? n === s : { caret: s + 1 } } return !0 }, postValidation: function (n, i, o, a) { var r = a.suffix.split(""), s = a.prefix.split(""); if (void 0 === o.pos && void 0 !== o.caret && !0 !== o.dopost) return o; var g = void 0 !== o.caret ? o.caret : o.pos, l = n.slice(); a.numericInput && (g = l.length - g - 1, l = l.reverse()); var c = l[g]; if (c === a.groupSeparator && (c = l[g += 1]), g === l.length - a.suffix.length - 1 && c === a.radixPoint) return o; void 0 !== c && c !== a.radixPoint && c !== a.negationSymbol.front && c !== a.negationSymbol.back && (l[g] = "?", 0 < a.prefix.length && g >= (!1 === a.isNegative ? 1 : 0) && g < a.prefix.length - 1 + (!1 === a.isNegative ? 1 : 0) ? s[g - (!1 === a.isNegative ? 1 : 0)] = "?" : 0 < a.suffix.length && g >= l.length - a.suffix.length - (!1 === a.isNegative ? 1 : 0) && (r[g - (l.length - a.suffix.length - (!1 === a.isNegative ? 1 : 0))] = "?")), s = s.join(""), r = r.join(""); var I = l.join("").replace(s, ""); if (I = (I = (I = (I = I.replace(r, "")).replace(new RegExp(t.escapeRegex(a.groupSeparator), "g"), "")).replace(new RegExp("[-" + t.escapeRegex(a.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(t.escapeRegex(a.negationSymbol.back) + "$"), ""), isNaN(a.placeholder) && (I = I.replace(new RegExp(t.escapeRegex(a.placeholder), "g"), "")), 1 < I.length && 1 !== I.indexOf(a.radixPoint) && ("0" === c && (I = I.replace(/^\?/g, "")), I = I.replace(/^0/g, "")), I.charAt(0) === a.radixPoint && "" !== a.radixPoint && !0 !== a.numericInput && (I = "0" + I), "" !== I) { if (I = I.split(""), (!a.digitsOptional || a.enforceDigitsOnBlur && "blur" === o.event) && isFinite(a.digits)) { var u = e.inArray(a.radixPoint, I), h = e.inArray(a.radixPoint, l); -1 === u && (I.push(a.radixPoint), u = I.length - 1); for (var d = 1; d <= a.digits; d++)a.digitsOptional && (!a.enforceDigitsOnBlur || "blur" !== o.event) || void 0 !== I[u + d] && I[u + d] !== a.placeholder.charAt(0) ? -1 !== h && void 0 !== l[h + d] && (I[u + d] = I[u + d] || l[h + d]) : I[u + d] = o.placeholder || a.placeholder.charAt(0) } if (!0 !== a.autoGroup || "" === a.groupSeparator || c === a.radixPoint && void 0 === o.pos && !o.dopost) I = I.join(""); else { var C = I[I.length - 1] === a.radixPoint && o.c === a.radixPoint; I = t(function (t, e) { var n = ""; if (n += "(" + e.groupSeparator + "*{" + e.groupSize + "}){*}", "" !== e.radixPoint) { var i = t.join("").split(e.radixPoint); i[1] && (n += e.radixPoint + "*{" + i[1].match(/^\d*\??\d*/)[0].length + "}") } return n }(I, a), { numericInput: !0, jitMasking: !0, definitions: { "*": { validator: "[0-9?]", cardinality: 1 } } }).format(I.join("")), C && (I += a.radixPoint), I.charAt(0) === a.groupSeparator && I.substr(1) } } if (a.isNegative && "blur" === o.event && (a.isNegative = "0" !== I), I = s + I, I += r, a.isNegative && (I = a.negationSymbol.front + I, I += a.negationSymbol.back), I = I.split(""), void 0 !== c) if (c !== a.radixPoint && c !== a.negationSymbol.front && c !== a.negationSymbol.back) -1 < (g = e.inArray("?", I)) ? I[g] = c : g = o.caret || 0; else if (c === a.radixPoint || c === a.negationSymbol.front || c === a.negationSymbol.back) { var A = e.inArray(c, I); -1 !== A && (g = A) } a.numericInput && (g = I.length - g - 1, I = I.reverse()); var p = { caret: void 0 !== c && void 0 === o.pos || void 0 === g ? g : g + (a.numericInput ? -1 : 1), buffer: I, refreshFromBuffer: o.dopost || n.join("") !== I.join("") }; return p.refreshFromBuffer ? p : o }, onBeforeWrite: function (n, i, o, a) { if (n) switch (n.type) { case "keydown": return a.postValidation(i, o, { caret: o, dopost: !0 }, a); case "blur": case "checkval": var r; if (void 0 === (s = a).parseMinMaxOptions && (null !== s.min && (s.min = s.min.toString().replace(new RegExp(t.escapeRegex(s.groupSeparator), "g"), ""), "," === s.radixPoint && (s.min = s.min.replace(s.radixPoint, ".")), s.min = isFinite(s.min) ? parseFloat(s.min) : NaN, isNaN(s.min) && (s.min = Number.MIN_VALUE)), null !== s.max && (s.max = s.max.toString().replace(new RegExp(t.escapeRegex(s.groupSeparator), "g"), ""), "," === s.radixPoint && (s.max = s.max.replace(s.radixPoint, ".")), s.max = isFinite(s.max) ? parseFloat(s.max) : NaN, isNaN(s.max) && (s.max = Number.MAX_VALUE)), s.parseMinMaxOptions = "done"), null !== a.min || null !== a.max) { if (r = a.onUnMask(i.join(""), void 0, e.extend({}, a, { unmaskAsNumber: !0 })), null !== a.min && r < a.min) return a.isNegative = a.min < 0, a.postValidation(a.min.toString().replace(".", a.radixPoint).split(""), o, { caret: o, dopost: !0, placeholder: "0" }, a); if (null !== a.max && r > a.max) return a.isNegative = a.max < 0, a.postValidation(a.max.toString().replace(".", a.radixPoint).split(""), o, { caret: o, dopost: !0, placeholder: "0" }, a) } return a.postValidation(i, o, { caret: o, placeholder: "0", event: "blur" }, a); case "_checkval": return { caret: o } }var s }, regex: { integerPart: function (e, n) { return n ? new RegExp("[" + t.escapeRegex(e.negationSymbol.front) + "+]?") : new RegExp("[" + t.escapeRegex(e.negationSymbol.front) + "+]?\\d+") }, integerNPart: function (e) { return new RegExp("[\\d" + t.escapeRegex(e.groupSeparator) + t.escapeRegex(e.placeholder.charAt(0)) + "]+") } }, definitions: { "~": { validator: function (e, n, i, o, a, r) { var s; if ("k" === e || "m" === e) { s = { insert: [], c: 0 }; for (var g = 0, l = "k" === e ? 2 : 5; g < l; g++)s.insert.push({ pos: i + g, c: 0 }); return s.pos = i + l, s } if (!0 === (s = o ? new RegExp("[0-9" + t.escapeRegex(a.groupSeparator) + "]").test(e) : new RegExp("[0-9]").test(e))) { if (!0 !== a.numericInput && void 0 !== n.validPositions[i] && "~" === n.validPositions[i].match.def && !r) { var c = n.buffer.join(""), I = (c = (c = c.replace(new RegExp("[-" + t.escapeRegex(a.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(t.escapeRegex(a.negationSymbol.back) + "$"), "")).split(a.radixPoint); 1 < I.length && (I[1] = I[1].replace(/0/g, a.placeholder.charAt(0))), "0" === I[0] && (I[0] = I[0].replace(/0/g, a.placeholder.charAt(0))), c = I[0] + a.radixPoint + I[1] || ""; var u = n._buffer.join(""); for (c === a.radixPoint && (c = u); null === c.match(t.escapeRegex(u) + "$");)u = u.slice(1); s = void 0 === (c = (c = c.replace(u, "")).split(""))[i] ? { pos: i, remove: i } : { pos: i } } } else o || e !== a.radixPoint || void 0 !== n.validPositions[i - 1] || (s = { insert: { pos: i, c: 0 }, pos: i + 1 }); return s }, cardinality: 1 }, "+": { validator: function (t, e, n, i, o) { return o.allowMinus && ("-" === t || t === o.negationSymbol.front) }, cardinality: 1, placeholder: "" }, "-": { validator: function (t, e, n, i, o) { return o.allowMinus && t === o.negationSymbol.back }, cardinality: 1, placeholder: "" }, ":": { validator: function (e, n, i, o, a) { var r = "[" + t.escapeRegex(a.radixPoint) + "]", s = new RegExp(r).test(e); return s && n.validPositions[i] && n.validPositions[i].match.placeholder === a.radixPoint && (s = { caret: i + 1 }), s }, cardinality: 1, placeholder: function (t) { return t.radixPoint } } }, onUnMask: function (e, n, i) { if ("" === n && !0 === i.nullable) return n; var o = e.replace(i.prefix, ""); return o = (o = o.replace(i.suffix, "")).replace(new RegExp(t.escapeRegex(i.groupSeparator), "g"), ""), "" !== i.placeholder.charAt(0) && (o = o.replace(new RegExp(i.placeholder.charAt(0), "g"), "0")), i.unmaskAsNumber ? ("" !== i.radixPoint && -1 !== o.indexOf(i.radixPoint) && (o = o.replace(t.escapeRegex.call(this, i.radixPoint), ".")), o = (o = o.replace(new RegExp("^" + t.escapeRegex(i.negationSymbol.front)), "-")).replace(new RegExp(t.escapeRegex(i.negationSymbol.back) + "$"), ""), Number(o)) : o }, isComplete: function (e, n) { var i = (n.numericInput ? e.slice().reverse() : e).join(""); return i = (i = (i = (i = (i = i.replace(new RegExp("^" + t.escapeRegex(n.negationSymbol.front)), "-")).replace(new RegExp(t.escapeRegex(n.negationSymbol.back) + "$"), "")).replace(n.prefix, "")).replace(n.suffix, "")).replace(new RegExp(t.escapeRegex(n.groupSeparator) + "([0-9]{3})", "g"), "$1"), "," === n.radixPoint && (i = i.replace(t.escapeRegex(n.radixPoint), ".")), isFinite(i) }, onBeforeMask: function (n, i) { i.isNegative = void 0; var o = i.radixPoint || ","; "number" != typeof n && "number" !== i.inputType || "" === o || (n = n.toString().replace(".", o)); var a = n.split(o), r = a[0].replace(/[^\-0-9]/g, ""), s = 1 < a.length ? a[1].replace(/[^0-9]/g, "") : ""; n = r + ("" !== s ? o + s : s); var g = 0; if ("" !== o && (g = s.length, "" !== s)) { var l = Math.pow(10, g || 1); isFinite(i.digits) && (g = parseInt(i.digits), l = Math.pow(10, g)), n = n.replace(t.escapeRegex(o), "."), isFinite(n) && (n = Math.round(parseFloat(n) * l) / l), n = n.toString().replace(".", o) } return 0 === i.digits && -1 !== n.indexOf(t.escapeRegex(o)) && (n = n.substring(0, n.indexOf(t.escapeRegex(o)))), function (t, n, i) { if (0 < n) { var o = e.inArray(i.radixPoint, t); -1 === o && (t.push(i.radixPoint), o = t.length - 1); for (var a = 1; a <= n; a++)t[o + a] = t[o + a] || "0" } return t }(n.toString().split(""), g, i).join("") }, onKeyDown: function (n, i, o, a) { var r = e(this); if (n.ctrlKey) switch (n.keyCode) { case t.keyCode.UP: r.val(parseFloat(this.inputmask.unmaskedvalue()) + parseInt(a.step)), r.trigger("setvalue"); break; case t.keyCode.DOWN: r.val(parseFloat(this.inputmask.unmaskedvalue()) - parseInt(a.step)), r.trigger("setvalue") } } }, currency: { prefix: "$ ", groupSeparator: ",", alias: "numeric", placeholder: "0", autoGroup: !0, digits: 2, digitsOptional: !1, clearMaskOnLostFocus: !1 }, decimal: { alias: "numeric" }, integer: { alias: "numeric", digits: 0, radixPoint: "" }, percentage: { alias: "numeric", digits: 2, digitsOptional: !0, radixPoint: ".", placeholder: "0", autoGroup: !1, min: 0, max: 100, suffix: " %", allowMinus: !1 } }), t }) ? i.apply(e, o) : i) || (t.exports = a) }, function (t, e, n) { "use strict"; var i, o, a, r = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; o = [n(4), n(2)], void 0 === (a = "function" == typeof (i = function (t, e) { return void 0 === t.fn.inputmask && (t.fn.inputmask = function (n, i) { var o, a = this[0]; if (void 0 === i && (i = {}), "string" == typeof n) switch (n) { case "unmaskedvalue": return a && a.inputmask ? a.inputmask.unmaskedvalue() : t(a).val(); case "remove": return this.each(function () { this.inputmask && this.inputmask.remove() }); case "getemptymask": return a && a.inputmask ? a.inputmask.getemptymask() : ""; case "hasMaskedValue": return !(!a || !a.inputmask) && a.inputmask.hasMaskedValue(); case "isComplete": return !a || !a.inputmask || a.inputmask.isComplete(); case "getmetadata": return a && a.inputmask ? a.inputmask.getmetadata() : void 0; case "setvalue": e.setValue(a, i); break; case "option": if ("string" != typeof i) return this.each(function () { if (void 0 !== this.inputmask) return this.inputmask.option(i) }); if (a && void 0 !== a.inputmask) return a.inputmask.option(i); break; default: return i.alias = n, o = new e(i), this.each(function () { o.mask(this) }) } else { if (Array.isArray(n)) return i.alias = n, o = new e(i), this.each(function () { o.mask(this) }); if ("object" == (void 0 === n ? "undefined" : r(n))) return o = new e(n), void 0 === n.mask && void 0 === n.alias ? this.each(function () { if (void 0 !== this.inputmask) return this.inputmask.option(n); o.mask(this) }) : this.each(function () { o.mask(this) }); if (void 0 === n) return this.each(function () { (o = new e(i)).mask(this) }) } }), t.fn.inputmask }) ? i.apply(e, o) : i) || (t.exports = a) }]), function (t) { "function" == typeof define && define.amd ? define(["./inputmask"], t) : "object" == typeof exports ? module.exports = t(require("./inputmask")) : t(window.Inputmask) }(function (t) { var e = t.dependencyLib, n = { d: ["[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", Date.prototype.getDate], dd: ["0[1-9]|[12][0-9]|3[01]", Date.prototype.setDate, "day", function () { return r(Date.prototype.getDate.call(this), 2) }], ddd: [""], dddd: [""], m: ["[1-9]|1[012]", Date.prototype.setMonth, "month", function () { return Date.prototype.getMonth.call(this) + 1 }], mm: ["0[1-9]|1[012]", Date.prototype.setMonth, "month", function () { return r(Date.prototype.getMonth.call(this) + 1, 2) }], mmm: [""], mmmm: [""], yy: ["[0-9]{2}", Date.prototype.setFullYear, "year", function () { return r(Date.prototype.getFullYear.call(this), 2) }], yyyy: ["[0-9]{4}", Date.prototype.setFullYear, "year", function () { return r(Date.prototype.getFullYear.call(this), 4) }], h: ["[1-9]|1[0-2]", Date.prototype.setHours, "hours", Date.prototype.getHours], hh: ["0[1-9]|1[0-2]", Date.prototype.setHours, "hours", function () { return r(Date.prototype.getHours.call(this), 2) }], hhh: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours], H: ["1?[0-9]|2[0-3]", Date.prototype.setHours, "hours", Date.prototype.getHours], HH: ["0[0-9]|1[0-9]|2[0-3]", Date.prototype.setHours, "hours", function () { return r(Date.prototype.getHours.call(this), 2) }], HHH: ["[0-9]+", Date.prototype.setHours, "hours", Date.prototype.getHours], M: ["[1-5]?[0-9]", Date.prototype.setMinutes, "minutes", Date.prototype.getMinutes], MM: ["0[0-9]|1[0-9]|2[0-9]|3[0-9]|4[0-9]|5[0-9]", Date.prototype.setMinutes, "minutes", function () { return r(Date.prototype.getMinutes.call(this), 2) }], ss: ["[0-5][0-9]", Date.prototype.setSeconds, "seconds", function () { return r(Date.prototype.getSeconds.call(this), 2) }], l: ["[0-9]{3}", Date.prototype.setMilliseconds, "milliseconds", function () { return r(Date.prototype.getMilliseconds.call(this), 3) }], L: ["[0-9]{2}", Date.prototype.setMilliseconds, "milliseconds", function () { return r(Date.prototype.getMilliseconds.call(this), 2) }], t: ["[ap]"], tt: ["[ap]m"], T: ["[AP]"], TT: ["[AP]M"], Z: [""], o: [""], S: [""] }, i = { isoDate: "yyyy-mm-dd", isoTime: "HH:MM:ss", isoDateTime: "yyyy-mm-dd'T'HH:MM:ss", isoUtcDateTime: "UTC:yyyy-mm-dd'T'HH:MM:ss'Z'" }; function o(t) { if (!t.tokenizer) { var e = []; for (var i in n) -1 === e.indexOf(i[0]) && e.push(i[0]); t.tokenizer = "(" + e.join("+|") + ")+?|.", t.tokenizer = new RegExp(t.tokenizer, "g") } return t.tokenizer } function a(e, i, a, r) { for (var s, g = ""; s = o(a).exec(e);)if (void 0 === i) if (n[s[0]]) g += "(" + n[s[0]][0] + ")"; else switch (s[0]) { case "[": g += "("; break; case "]": g += ")?"; break; default: g += t.escapeRegex(s[0]) } else n[s[0]] ? !0 !== r && n[s[0]][3] ? g += n[s[0]][3].call(i.date) : n[s[0]][2] ? g += i["raw" + n[s[0]][2]] : g += s[0] : g += s[0]; return g } function r(t, e) { for (t = String(t), e = e || 2; t.length < e;)t = "0" + t; return t } function s(t, e, i) { var a, r, s, g = { date: new Date(1, 0, 1) }, l = t; function c(t, e) { t[a] = function (t) { var e = t.replace(/[^0-9]/g, "0"); if (e != t) { var n = t.replace(/[^0-9]/g, ""), o = (i.min && i.min[a] || t).toString(), r = (i.max && i.max[a] || t).toString(); e = n + (n < o.slice(0, n.length) ? o.slice(n.length) : n > r.slice(0, n.length) ? r.slice(n.length) : e.toString().slice(n.length)) } return e }(e), t["raw" + a] = e, void 0 !== s && s.call(t.date, "month" == a ? parseInt(t[a]) - 1 : t[a]) } if ("string" == typeof l) { for (; r = o(i).exec(e);) { var I = l.slice(0, r[0].length); n.hasOwnProperty(r[0]) && (n[r[0]][0], a = n[r[0]][2], s = n[r[0]][1], c(g, I)), l = l.slice(I.length) } return g } if (l && "object" == typeof l && l.hasOwnProperty("date")) return l } return t.extendAliases({ datetime: { mask: function (t) { return n.S = t.i18n.ordinalSuffix.join("|"), t.inputFormat = i[t.inputFormat] || t.inputFormat, t.displayFormat = i[t.displayFormat] || t.displayFormat || t.inputFormat, t.outputFormat = i[t.outputFormat] || t.outputFormat || t.inputFormat, t.placeholder = "" !== t.placeholder ? t.placeholder : t.inputFormat.replace(/[\[\]]/, ""), t.regex = a(t.inputFormat, void 0, t), null }, placeholder: "", inputFormat: "isoDateTime", displayFormat: void 0, outputFormat: void 0, min: null, max: null, i18n: { dayNames: ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"], monthNames: ["Jan", "Feb", "Mar", "Apr", "May", "Jun", "Jul", "Aug", "Sep", "Oct", "Nov", "Dec", "January", "February", "March", "April", "May", "June", "July", "August", "September", "October", "November", "December"], ordinalSuffix: ["st", "nd", "rd", "th"] }, postValidation: function (t, e, n, i) { i.min = s(i.min, i.inputFormat, i), i.max = s(i.max, i.inputFormat, i); var o = n, r = s(t.join(""), i.inputFormat, i); return o && r.date.getTime() == r.date.getTime() && (o = (o = function (t, e) { return (!isFinite(t.rawday) || "29" == t.day && !isFinite(t.rawyear) || new Date(t.date.getFullYear(), isFinite(t.rawmonth) ? t.month : t.date.getMonth() + 1, 0).getDate() >= t.day) && e }(r, o)) && function (t, e) { var n = !0; if (e.min) { if (t.rawyear) { var i = t.rawyear.replace(/[^0-9]/g, ""); n = e.min.year.substr(0, i.length) <= i } t.year === t.rawyear && e.min.date.getTime() == e.min.date.getTime() && (n = e.min.date.getTime() <= t.date.getTime()) } return n && e.max && e.max.date.getTime() == e.max.date.getTime() && (n = e.max.date.getTime() >= t.date.getTime()), n }(r, i)), e && o && n.pos !== e ? { buffer: a(i.inputFormat, r, i), refreshFromBuffer: { start: e, end: n.pos } } : o }, onKeyDown: function (n, i, a, s) { if (n.ctrlKey && n.keyCode === t.keyCode.RIGHT) { for (var g, l = new Date, c = ""; g = o(s).exec(s.inputFormat);)"d" === g[0].charAt(0) ? c += r(l.getDate(), g[0].length) : "m" === g[0].charAt(0) ? c += r(l.getMonth() + 1, g[0].length) : "yyyy" === g[0] ? c += l.getFullYear().toString() : "y" === g[0].charAt(0) && (c += r(l.getYear(), g[0].length)); this.inputmask._valueSet(c), e(this).trigger("setvalue") } }, onUnMask: function (t, e, n) { return a(n.outputFormat, s(t, n.inputFormat, n), n, !0) }, casing: function (t, e, n, i) { return 0 == e.nativeDef.indexOf("[ap]") ? t.toLowerCase() : 0 == e.nativeDef.indexOf("[AP]") ? t.toUpperCase() : t }, insertMode: !1, shiftPositions: !1 } }), t }), function (t) { "function" == typeof define && define.amd ? define(["./inputmask"], t) : "object" == typeof exports ? module.exports = t(require("./inputmask")) : t(window.Inputmask) }(function (t) { var e = t.dependencyLib; function n(e, n) { for (var i = "", o = 0; o < e.length; o++)t.prototype.definitions[e.charAt(o)] || n.definitions[e.charAt(o)] || n.optionalmarker.start === e.charAt(o) || n.optionalmarker.end === e.charAt(o) || n.quantifiermarker.start === e.charAt(o) || n.quantifiermarker.end === e.charAt(o) || n.groupmarker.start === e.charAt(o) || n.groupmarker.end === e.charAt(o) || n.alternatormarker === e.charAt(o) ? i += "\\" + e.charAt(o) : i += e.charAt(o); return i } return t.extendAliases({ numeric: { mask: function (t) { if (0 !== t.repeat && isNaN(t.integerDigits) && (t.integerDigits = t.repeat), t.repeat = 0, t.groupSeparator === t.radixPoint && t.digits && "0" !== t.digits && ("." === t.radixPoint ? t.groupSeparator = "," : "," === t.radixPoint ? t.groupSeparator = "." : t.groupSeparator = ""), " " === t.groupSeparator && (t.skipOptionalPartCharacter = void 0), t.autoGroup = t.autoGroup && "" !== t.groupSeparator, t.autoGroup && ("string" == typeof t.groupSize && isFinite(t.groupSize) && (t.groupSize = parseInt(t.groupSize)), isFinite(t.integerDigits))) { var e = Math.floor(t.integerDigits / t.groupSize), i = t.integerDigits % t.groupSize; t.integerDigits = parseInt(t.integerDigits) + (0 == i ? e - 1 : e), t.integerDigits < 1 && (t.integerDigits = "*") } 1 < t.placeholder.length && (t.placeholder = t.placeholder.charAt(0)), "radixFocus" === t.positionCaretOnClick && "" === t.placeholder && !1 === t.integerOptional && (t.positionCaretOnClick = "lvp"), t.definitions[";"] = t.definitions["~"], t.definitions[";"].definitionSymbol = "~", !0 === t.numericInput && (t.positionCaretOnClick = "radixFocus" === t.positionCaretOnClick ? "lvp" : t.positionCaretOnClick, t.digitsOptional = !1, isNaN(t.digits) && (t.digits = 2), t.decimalProtect = !1); var o = "[+]"; if (o += n(t.prefix, t), !0 === t.integerOptional ? o += "~{1," + t.integerDigits + "}" : o += "~{" + t.integerDigits + "}", void 0 !== t.digits) { var a = t.decimalProtect ? ":" : t.radixPoint, r = t.digits.toString().split(","); isFinite(r[0]) && r[1] && isFinite(r[1]) ? o += a + ";{" + t.digits + "}" : (isNaN(t.digits) || 0 < parseInt(t.digits)) && (t.digitsOptional ? o += "[" + a + ";{1," + t.digits + "}]" : o += a + ";{" + t.digits + "}") } return o += n(t.suffix, t), o += "[-]", t.greedy = !1, o }, placeholder: "", greedy: !1, digits: "*", digitsOptional: !0, enforceDigitsOnBlur: !1, radixPoint: ".", positionCaretOnClick: "radixFocus", groupSize: 3, groupSeparator: "", autoGroup: !1, allowMinus: !0, negationSymbol: { front: "-", back: "" }, integerDigits: "+", integerOptional: !0, prefix: "", suffix: "", rightAlign: !0, decimalProtect: !0, min: null, max: null, step: 1, insertMode: !0, autoUnmask: !1, unmaskAsNumber: !1, inputType: "text", inputmode: "numeric", preValidation: function (t, n, i, o, a, r) { if ("-" === i || i === a.negationSymbol.front) return !0 === a.allowMinus && (a.isNegative = void 0 === a.isNegative || !a.isNegative, "" === t.join("") || { caret: r.validPositions[n] ? n : void 0, dopost: !0 }); if (!1 === o && i === a.radixPoint && void 0 !== a.digits && (isNaN(a.digits) || 0 < parseInt(a.digits))) { var s = e.inArray(a.radixPoint, t); if (-1 !== s && void 0 !== r.validPositions[s]) return !0 === a.numericInput ? n === s : { caret: s + 1 } } return !0 }, postValidation: function (n, i, o, a) { var r = a.suffix.split(""), s = a.prefix.split(""); if (void 0 === o.pos && void 0 !== o.caret && !0 !== o.dopost) return o; var g = void 0 !== o.caret ? o.caret : o.pos, l = n.slice(); a.numericInput && (g = l.length - g - 1, l = l.reverse()); var c = l[g]; if (c === a.groupSeparator && (c = l[g += 1]), g === l.length - a.suffix.length - 1 && c === a.radixPoint) return o; void 0 !== c && c !== a.radixPoint && c !== a.negationSymbol.front && c !== a.negationSymbol.back && (l[g] = "?", 0 < a.prefix.length && g >= (!1 === a.isNegative ? 1 : 0) && g < a.prefix.length - 1 + (!1 === a.isNegative ? 1 : 0) ? s[g - (!1 === a.isNegative ? 1 : 0)] = "?" : 0 < a.suffix.length && g >= l.length - a.suffix.length - (!1 === a.isNegative ? 1 : 0) && (r[g - (l.length - a.suffix.length - (!1 === a.isNegative ? 1 : 0))] = "?")), s = s.join(""), r = r.join(""); var I = l.join("").replace(s, ""); if (I = (I = (I = (I = I.replace(r, "")).replace(new RegExp(t.escapeRegex(a.groupSeparator), "g"), "")).replace(new RegExp("[-" + t.escapeRegex(a.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(t.escapeRegex(a.negationSymbol.back) + "$"), ""), isNaN(a.placeholder) && (I = I.replace(new RegExp(t.escapeRegex(a.placeholder), "g"), "")), 1 < I.length && 1 !== I.indexOf(a.radixPoint) && ("0" === c && (I = I.replace(/^\?/g, "")), I = I.replace(/^0/g, "")), I.charAt(0) === a.radixPoint && "" !== a.radixPoint && !0 !== a.numericInput && (I = "0" + I), "" !== I) { if (I = I.split(""), (!a.digitsOptional || a.enforceDigitsOnBlur && "blur" === o.event) && isFinite(a.digits)) { var u = e.inArray(a.radixPoint, I), h = e.inArray(a.radixPoint, l); -1 === u && (I.push(a.radixPoint), u = I.length - 1); for (var d = 1; d <= a.digits; d++)a.digitsOptional && (!a.enforceDigitsOnBlur || "blur" !== o.event) || void 0 !== I[u + d] && I[u + d] !== a.placeholder.charAt(0) ? -1 !== h && void 0 !== l[h + d] && (I[u + d] = I[u + d] || l[h + d]) : I[u + d] = o.placeholder || a.placeholder.charAt(0) } if (!0 !== a.autoGroup || "" === a.groupSeparator || c === a.radixPoint && void 0 === o.pos && !o.dopost) I = I.join(""); else { var C = I[I.length - 1] === a.radixPoint && o.c === a.radixPoint; I = t(function (t, e) { var n = ""; if (n += "(" + e.groupSeparator + "*{" + e.groupSize + "}){*}", "" !== e.radixPoint) { var i = t.join("").split(e.radixPoint); i[1] && (n += e.radixPoint + "*{" + i[1].match(/^\d*\??\d*/)[0].length + "}") } return n }(I, a), { numericInput: !0, jitMasking: !0, definitions: { "*": { validator: "[0-9?]", cardinality: 1 } } }).format(I.join("")), C && (I += a.radixPoint), I.charAt(0) === a.groupSeparator && I.substr(1) } } if (a.isNegative && "blur" === o.event && (a.isNegative = "0" !== I), I = s + I, I += r, a.isNegative && (I = a.negationSymbol.front + I, I += a.negationSymbol.back), I = I.split(""), void 0 !== c) if (c !== a.radixPoint && c !== a.negationSymbol.front && c !== a.negationSymbol.back) -1 < (g = e.inArray("?", I)) ? I[g] = c : g = o.caret || 0; else if (c === a.radixPoint || c === a.negationSymbol.front || c === a.negationSymbol.back) { var A = e.inArray(c, I); -1 !== A && (g = A) } a.numericInput && (g = I.length - g - 1, I = I.reverse()); var p = { caret: void 0 !== c && void 0 === o.pos || void 0 === g ? g : g + (a.numericInput ? -1 : 1), buffer: I, refreshFromBuffer: o.dopost || n.join("") !== I.join("") }; return p.refreshFromBuffer ? p : o }, onBeforeWrite: function (n, i, o, a) { if (n) switch (n.type) { case "keydown": return a.postValidation(i, o, { caret: o, dopost: !0 }, a); case "blur": case "checkval": var r; if (void 0 === (s = a).parseMinMaxOptions && (null !== s.min && (s.min = s.min.toString().replace(new RegExp(t.escapeRegex(s.groupSeparator), "g"), ""), "," === s.radixPoint && (s.min = s.min.replace(s.radixPoint, ".")), s.min = isFinite(s.min) ? parseFloat(s.min) : NaN, isNaN(s.min) && (s.min = Number.MIN_VALUE)), null !== s.max && (s.max = s.max.toString().replace(new RegExp(t.escapeRegex(s.groupSeparator), "g"), ""), "," === s.radixPoint && (s.max = s.max.replace(s.radixPoint, ".")), s.max = isFinite(s.max) ? parseFloat(s.max) : NaN, isNaN(s.max) && (s.max = Number.MAX_VALUE)), s.parseMinMaxOptions = "done"), null !== a.min || null !== a.max) { if (r = a.onUnMask(i.join(""), void 0, e.extend({}, a, { unmaskAsNumber: !0 })), null !== a.min && r < a.min) return a.isNegative = a.min < 0, a.postValidation(a.min.toString().replace(".", a.radixPoint).split(""), o, { caret: o, dopost: !0, placeholder: "0" }, a); if (null !== a.max && r > a.max) return a.isNegative = a.max < 0, a.postValidation(a.max.toString().replace(".", a.radixPoint).split(""), o, { caret: o, dopost: !0, placeholder: "0" }, a) } return a.postValidation(i, o, { caret: o, placeholder: "0", event: "blur" }, a); case "_checkval": return { caret: o } }var s }, regex: { integerPart: function (e, n) { return n ? new RegExp("[" + t.escapeRegex(e.negationSymbol.front) + "+]?") : new RegExp("[" + t.escapeRegex(e.negationSymbol.front) + "+]?\\d+") }, integerNPart: function (e) { return new RegExp("[\\d" + t.escapeRegex(e.groupSeparator) + t.escapeRegex(e.placeholder.charAt(0)) + "]+") } }, definitions: { "~": { validator: function (e, n, i, o, a, r) { var s; if ("k" === e || "m" === e) { s = { insert: [], c: 0 }; for (var g = 0, l = "k" === e ? 2 : 5; g < l; g++)s.insert.push({ pos: i + g, c: 0 }); return s.pos = i + l, s } if (!0 === (s = o ? new RegExp("[0-9" + t.escapeRegex(a.groupSeparator) + "]").test(e) : new RegExp("[0-9]").test(e))) { if (!0 !== a.numericInput && void 0 !== n.validPositions[i] && "~" === n.validPositions[i].match.def && !r) { var c = n.buffer.join(""), I = (c = (c = c.replace(new RegExp("[-" + t.escapeRegex(a.negationSymbol.front) + "]", "g"), "")).replace(new RegExp(t.escapeRegex(a.negationSymbol.back) + "$"), "")).split(a.radixPoint); 1 < I.length && (I[1] = I[1].replace(/0/g, a.placeholder.charAt(0))), "0" === I[0] && (I[0] = I[0].replace(/0/g, a.placeholder.charAt(0))), c = I[0] + a.radixPoint + I[1] || ""; var u = n._buffer.join(""); for (c === a.radixPoint && (c = u); null === c.match(t.escapeRegex(u) + "$");)u = u.slice(1); s = void 0 === (c = (c = c.replace(u, "")).split(""))[i] ? { pos: i, remove: i } : { pos: i } } } else o || e !== a.radixPoint || void 0 !== n.validPositions[i - 1] || (s = { insert: { pos: i, c: 0 }, pos: i + 1 }); return s }, cardinality: 1 }, "+": { validator: function (t, e, n, i, o) { return o.allowMinus && ("-" === t || t === o.negationSymbol.front) }, cardinality: 1, placeholder: "" }, "-": { validator: function (t, e, n, i, o) { return o.allowMinus && t === o.negationSymbol.back }, cardinality: 1, placeholder: "" }, ":": { validator: function (e, n, i, o, a) { var r = "[" + t.escapeRegex(a.radixPoint) + "]", s = new RegExp(r).test(e); return s && n.validPositions[i] && n.validPositions[i].match.placeholder === a.radixPoint && (s = { caret: i + 1 }), s }, cardinality: 1, placeholder: function (t) { return t.radixPoint } } }, onUnMask: function (e, n, i) { if ("" === n && !0 === i.nullable) return n; var o = e.replace(i.prefix, ""); return o = (o = o.replace(i.suffix, "")).replace(new RegExp(t.escapeRegex(i.groupSeparator), "g"), ""), "" !== i.placeholder.charAt(0) && (o = o.replace(new RegExp(i.placeholder.charAt(0), "g"), "0")), i.unmaskAsNumber ? ("" !== i.radixPoint && -1 !== o.indexOf(i.radixPoint) && (o = o.replace(t.escapeRegex.call(this, i.radixPoint), ".")), o = (o = o.replace(new RegExp("^" + t.escapeRegex(i.negationSymbol.front)), "-")).replace(new RegExp(t.escapeRegex(i.negationSymbol.back) + "$"), ""), Number(o)) : o }, isComplete: function (e, n) { var i = (n.numericInput ? e.slice().reverse() : e).join(""); return i = (i = (i = (i = (i = i.replace(new RegExp("^" + t.escapeRegex(n.negationSymbol.front)), "-")).replace(new RegExp(t.escapeRegex(n.negationSymbol.back) + "$"), "")).replace(n.prefix, "")).replace(n.suffix, "")).replace(new RegExp(t.escapeRegex(n.groupSeparator) + "([0-9]{3})", "g"), "$1"), "," === n.radixPoint && (i = i.replace(t.escapeRegex(n.radixPoint), ".")), isFinite(i) }, onBeforeMask: function (n, i) { i.isNegative = void 0; var o = i.radixPoint || ","; "number" != typeof n && "number" !== i.inputType || "" === o || (n = n.toString().replace(".", o)); var a = n.split(o), r = a[0].replace(/[^\-0-9]/g, ""), s = 1 < a.length ? a[1].replace(/[^0-9]/g, "") : ""; n = r + ("" !== s ? o + s : s); var g = 0; if ("" !== o && (g = s.length, "" !== s)) { var l = Math.pow(10, g || 1); isFinite(i.digits) && (g = parseInt(i.digits), l = Math.pow(10, g)), n = n.replace(t.escapeRegex(o), "."), isFinite(n) && (n = Math.round(parseFloat(n) * l) / l), n = n.toString().replace(".", o) } return 0 === i.digits && -1 !== n.indexOf(t.escapeRegex(o)) && (n = n.substring(0, n.indexOf(t.escapeRegex(o)))), function (t, n, i) { if (0 < n) { var o = e.inArray(i.radixPoint, t); -1 === o && (t.push(i.radixPoint), o = t.length - 1); for (var a = 1; a <= n; a++)t[o + a] = t[o + a] || "0" } return t }(n.toString().split(""), g, i).join("") }, onKeyDown: function (n, i, o, a) { var r = e(this); if (n.ctrlKey) switch (n.keyCode) { case t.keyCode.UP: r.val(parseFloat(this.inputmask.unmaskedvalue()) + parseInt(a.step)), r.trigger("setvalue"); break; case t.keyCode.DOWN: r.val(parseFloat(this.inputmask.unmaskedvalue()) - parseInt(a.step)), r.trigger("setvalue") } } }, currency: { prefix: "$ ", groupSeparator: ",", alias: "numeric", placeholder: "0", autoGroup: !0, digits: 2, digitsOptional: !1, clearMaskOnLostFocus: !1 }, decimal: { alias: "numeric" }, integer: { alias: "numeric", digits: 0, radixPoint: "" }, percentage: { alias: "numeric", digits: 2, digitsOptional: !0, radixPoint: ".", placeholder: "0", autoGroup: !1, min: 0, max: 100, suffix: " %", allowMinus: !1 } }), t }), function (t) { "function" == typeof define && define.amd ? define([], t) : "object" == typeof exports ? module.exports = t() : window.noUiSlider = t() }(function () { "use strict"; var t = "13.1.5"; function e(t) { t.parentElement.removeChild(t) } function n(t) { return null != t } function i(t) { t.preventDefault() } function o(t) { return "number" == typeof t && !isNaN(t) && isFinite(t) } function a(t, e, n) { 0 < n && (l(t, e), setTimeout(function () { c(t, e) }, n)) } function r(t) { return Math.max(Math.min(t, 100), 0) } function s(t) { return Array.isArray(t) ? t : [t] } function g(t) { var e = (t = String(t)).split("."); return 1 < e.length ? e[1].length : 0 } function l(t, e) { t.classList ? t.classList.add(e) : t.className += " " + e } function c(t, e) { t.classList ? t.classList.remove(e) : t.className = t.className.replace(new RegExp("(^|\\b)" + e.split(" ").join("|") + "(\\b|$)", "gi"), " ") } function I(t) { var e = void 0 !== window.pageXOffset, n = "CSS1Compat" === (t.compatMode || ""); return { x: e ? window.pageXOffset : n ? t.documentElement.scrollLeft : t.body.scrollLeft, y: e ? window.pageYOffset : n ? t.documentElement.scrollTop : t.body.scrollTop } } function u(t, e) { return 100 / (e - t) } function h(t, e) { return 100 * e / (t[1] - t[0]) } function d(t, e) { for (var n = 1; t >= e[n];)n += 1; return n } function C(e, n, i) { var a; if ("number" == typeof n && (n = [n]), !Array.isArray(n)) throw new Error("noUiSlider (" + t + "): 'range' contains invalid value."); if (!o(a = "min" === e ? 0 : "max" === e ? 100 : parseFloat(e)) || !o(n[0])) throw new Error("noUiSlider (" + t + "): 'range' value isn't numeric."); i.xPct.push(a), i.xVal.push(n[0]), a ? i.xSteps.push(!isNaN(n[1]) && n[1]) : isNaN(n[1]) || (i.xSteps[0] = n[1]), i.xHighestCompleteStep.push(0) } function A(t, e, n) { if (e) if (n.xVal[t] !== n.xVal[t + 1]) { n.xSteps[t] = h([n.xVal[t], n.xVal[t + 1]], e) / u(n.xPct[t], n.xPct[t + 1]); var i = (n.xVal[t + 1] - n.xVal[t]) / n.xNumSteps[t], o = Math.ceil(Number(i.toFixed(3)) - 1), a = n.xVal[t] + n.xNumSteps[t] * o; n.xHighestCompleteStep[t] = a } else n.xSteps[t] = n.xHighestCompleteStep[t] = n.xVal[t] } function p(t, e, n) { var i; this.xPct = [], this.xVal = [], this.xSteps = [n || !1], this.xNumSteps = [!1], this.xHighestCompleteStep = [], this.snap = e; var o = []; for (i in t) t.hasOwnProperty(i) && o.push([t[i], i]); for (o.length && "object" == typeof o[0][0] ? o.sort(function (t, e) { return t[0][0] - e[0][0] }) : o.sort(function (t, e) { return t[0] - e[0] }), i = 0; i < o.length; i++)C(o[i][1], o[i][0], this); for (this.xNumSteps = this.xSteps.slice(0), i = 0; i < this.xNumSteps.length; i++)A(i, this.xNumSteps[i], this) } p.prototype.getMargin = function (e) { var n = this.xNumSteps[0]; if (n && e / n % 1 != 0) throw new Error("noUiSlider (" + t + "): 'limit', 'margin' and 'padding' must be divisible by step."); return 2 === this.xPct.length && h(this.xVal, e) }, p.prototype.toStepping = function (t) { return function (t, e, n) { if (n >= t.slice(-1)[0]) return 100; var i = d(n, t), o = t[i - 1], a = t[i], r = e[i - 1], s = e[i]; return r + function (t, e) { return h(t, t[0] < 0 ? e + Math.abs(t[0]) : e - t[0]) }([o, a], n) / u(r, s) }(this.xVal, this.xPct, t) }, p.prototype.fromStepping = function (t) { return function (t, e, n) { if (100 <= n) return t.slice(-1)[0]; var i = d(n, e), o = t[i - 1], a = t[i], r = e[i - 1]; return function (t, e) { return e * (t[1] - t[0]) / 100 + t[0] }([o, a], (n - r) * u(r, e[i])) }(this.xVal, this.xPct, t) }, p.prototype.getStep = function (t) { return function (t, e, n, i) { if (100 === i) return i; var o = d(i, t), a = t[o - 1], r = t[o]; return n ? (r - a) / 2 < i - a ? r : a : e[o - 1] ? t[o - 1] + function (t, e) { return Math.round(t / e) * e }(i - t[o - 1], e[o - 1]) : i }(this.xPct, this.xSteps, this.snap, t) }, p.prototype.getDefaultStep = function (t, e, n) { var i = d(t, this.xPct); return (100 === t || e && t === this.xPct[i - 1]) && (i = Math.max(i - 1, 1)), (this.xVal[i] - this.xVal[i - 1]) / n }, p.prototype.getNearbySteps = function (t) { var e = d(t, this.xPct); return { stepBefore: { startValue: this.xVal[e - 2], step: this.xNumSteps[e - 2], highestStep: this.xHighestCompleteStep[e - 2] }, thisStep: { startValue: this.xVal[e - 1], step: this.xNumSteps[e - 1], highestStep: this.xHighestCompleteStep[e - 1] }, stepAfter: { startValue: this.xVal[e], step: this.xNumSteps[e], highestStep: this.xHighestCompleteStep[e] } } }, p.prototype.countStepDecimals = function () { var t = this.xNumSteps.map(g); return Math.max.apply(null, t) }, p.prototype.convert = function (t) { return this.getStep(this.toStepping(t)) }; var m = { to: function (t) { return void 0 !== t && t.toFixed(2) }, from: Number }; function f(e) { if (function (t) { return "object" == typeof t && "function" == typeof t.to && "function" == typeof t.from }(e)) return !0; throw new Error("noUiSlider (" + t + "): 'format' requires 'to' and 'from' methods.") } function b(e, n) { if (!o(n)) throw new Error("noUiSlider (" + t + "): 'step' is not numeric."); e.singleStep = n } function B(e, n) { if ("object" != typeof n || Array.isArray(n)) throw new Error("noUiSlider (" + t + "): 'range' is not an object."); if (void 0 === n.min || void 0 === n.max) throw new Error("noUiSlider (" + t + "): Missing 'min' or 'max' in 'range'."); if (n.min === n.max) throw new Error("noUiSlider (" + t + "): 'range' 'min' and 'max' cannot be equal."); e.spectrum = new p(n, e.snap, e.singleStep) } function y(e, n) { if (n = s(n), !Array.isArray(n) || !n.length) throw new Error("noUiSlider (" + t + "): 'start' option is incorrect."); e.handles = n.length, e.start = n } function v(e, n) { if ("boolean" != typeof (e.snap = n)) throw new Error("noUiSlider (" + t + "): 'snap' option must be a boolean.") } function x(e, n) { if ("boolean" != typeof (e.animate = n)) throw new Error("noUiSlider (" + t + "): 'animate' option must be a boolean.") } function F(e, n) { if ("number" != typeof (e.animationDuration = n)) throw new Error("noUiSlider (" + t + "): 'animationDuration' option must be a number.") } function Q(e, n) { var i, o = [!1]; if ("lower" === n ? n = [!0, !1] : "upper" === n && (n = [!1, !0]), !0 === n || !1 === n) { for (i = 1; i < e.handles; i++)o.push(n); o.push(!1) } else { if (!Array.isArray(n) || !n.length || n.length !== e.handles + 1) throw new Error("noUiSlider (" + t + "): 'connect' option doesn't match handle count."); o = n } e.connect = o } function G(e, n) { switch (n) { case "horizontal": e.ort = 0; break; case "vertical": e.ort = 1; break; default: throw new Error("noUiSlider (" + t + "): 'orientation' option is invalid.") } } function w(e, n) { if (!o(n)) throw new Error("noUiSlider (" + t + "): 'margin' option must be numeric."); if (0 !== n && (e.margin = e.spectrum.getMargin(n), !e.margin)) throw new Error("noUiSlider (" + t + "): 'margin' option is only supported on linear sliders.") } function X(e, n) { if (!o(n)) throw new Error("noUiSlider (" + t + "): 'limit' option must be numeric."); if (e.limit = e.spectrum.getMargin(n), !e.limit || e.handles < 2) throw new Error("noUiSlider (" + t + "): 'limit' option is only supported on linear sliders with 2 or more handles.") } function S(e, n) { if (!o(n) && !Array.isArray(n)) throw new Error("noUiSlider (" + t + "): 'padding' option must be numeric or array of exactly 2 numbers."); if (Array.isArray(n) && 2 !== n.length && !o(n[0]) && !o(n[1])) throw new Error("noUiSlider (" + t + "): 'padding' option must be numeric or array of exactly 2 numbers."); if (0 !== n) { if (Array.isArray(n) || (n = [n, n]), !(e.padding = [e.spectrum.getMargin(n[0]), e.spectrum.getMargin(n[1])]) === e.padding[0] || !1 === e.padding[1]) throw new Error("noUiSlider (" + t + "): 'padding' option is only supported on linear sliders."); if (e.padding[0] < 0 || e.padding[1] < 0) throw new Error("noUiSlider (" + t + "): 'padding' option must be a positive number(s)."); if (100 < e.padding[0] + e.padding[1]) throw new Error("noUiSlider (" + t + "): 'padding' option must not exceed 100% of the range.") } } function k(e, n) { switch (n) { case "ltr": e.dir = 0; break; case "rtl": e.dir = 1; break; default: throw new Error("noUiSlider (" + t + "): 'direction' option was not recognized.") } } function D(e, n) { if ("string" != typeof n) throw new Error("noUiSlider (" + t + "): 'behaviour' must be a string containing options."); var i = 0 <= n.indexOf("tap"), o = 0 <= n.indexOf("drag"), a = 0 <= n.indexOf("fixed"), r = 0 <= n.indexOf("snap"), s = 0 <= n.indexOf("hover"), g = 0 <= n.indexOf("unconstrained"); if (a) { if (2 !== e.handles) throw new Error("noUiSlider (" + t + "): 'fixed' behaviour must be used with 2 handles"); w(e, e.start[1] - e.start[0]) } if (g && (e.margin || e.limit)) throw new Error("noUiSlider (" + t + "): 'unconstrained' behaviour cannot be used with margin or limit"); e.events = { tap: i || r, drag: o, fixed: a, snap: r, hover: s, unconstrained: g } } function Z(e, n) { if (!1 !== n) if (!0 === n) { e.tooltips = []; for (var i = 0; i < e.handles; i++)e.tooltips.push(!0) } else { if (e.tooltips = s(n), e.tooltips.length !== e.handles) throw new Error("noUiSlider (" + t + "): must pass a formatter for all handles."); e.tooltips.forEach(function (e) { if ("boolean" != typeof e && ("object" != typeof e || "function" != typeof e.to)) throw new Error("noUiSlider (" + t + "): 'tooltips' must be passed a formatter or 'false'.") }) } } function U(t, e) { f(t.ariaFormat = e) } function W(t, e) { f(t.format = e) } function T(e, n) { if ("boolean" != typeof (e.keyboardSupport = n)) throw new Error("noUiSlider (" + t + "): 'keyboardSupport' option must be a boolean.") } function N(t, e) { t.documentElement = e } function H(e, n) { if ("string" != typeof n && !1 !== n) throw new Error("noUiSlider (" + t + "): 'cssPrefix' must be a string or `false`."); e.cssPrefix = n } function E(e, n) { if ("object" != typeof n) throw new Error("noUiSlider (" + t + "): 'cssClasses' must be an object."); if ("string" == typeof e.cssPrefix) for (var i in e.cssClasses = {}, n) n.hasOwnProperty(i) && (e.cssClasses[i] = e.cssPrefix + n[i]); else e.cssClasses = n } function R(e) { var i = { margin: 0, limit: 0, padding: 0, animate: !0, animationDuration: 300, ariaFormat: m, format: m }, o = { step: { r: !1, t: b }, start: { r: !0, t: y }, connect: { r: !0, t: Q }, direction: { r: !0, t: k }, snap: { r: !1, t: v }, animate: { r: !1, t: x }, animationDuration: { r: !1, t: F }, range: { r: !0, t: B }, orientation: { r: !1, t: G }, margin: { r: !1, t: w }, limit: { r: !1, t: X }, padding: { r: !1, t: S }, behaviour: { r: !0, t: D }, ariaFormat: { r: !1, t: U }, format: { r: !1, t: W }, tooltips: { r: !1, t: Z }, keyboardSupport: { r: !0, t: T }, documentElement: { r: !1, t: N }, cssPrefix: { r: !0, t: H }, cssClasses: { r: !0, t: E } }, a = { connect: !1, direction: "ltr", behaviour: "tap", orientation: "horizontal", keyboardSupport: !0, cssPrefix: "noUi-", cssClasses: { target: "target", base: "base", origin: "origin", handle: "handle", handleLower: "handle-lower", handleUpper: "handle-upper", touchArea: "touch-area", horizontal: "horizontal", vertical: "vertical", background: "background", connect: "connect", connects: "connects", ltr: "ltr", rtl: "rtl", draggable: "draggable", drag: "state-drag", tap: "state-tap", active: "active", tooltip: "tooltip", pips: "pips", pipsHorizontal: "pips-horizontal", pipsVertical: "pips-vertical", marker: "marker", markerHorizontal: "marker-horizontal", markerVertical: "marker-vertical", markerNormal: "marker-normal", markerLarge: "marker-large", markerSub: "marker-sub", value: "value", valueHorizontal: "value-horizontal", valueVertical: "value-vertical", valueNormal: "value-normal", valueLarge: "value-large", valueSub: "value-sub" } }; e.format && !e.ariaFormat && (e.ariaFormat = e.format), Object.keys(o).forEach(function (r) { if (!n(e[r]) && void 0 === a[r]) { if (o[r].r) throw new Error("noUiSlider (" + t + "): '" + r + "' is required."); return !0 } o[r].t(i, n(e[r]) ? e[r] : a[r]) }), i.pips = e.pips; var r = document.createElement("div"), s = void 0 !== r.style.msTransform, g = void 0 !== r.style.transform; return i.transformRule = g ? "transform" : s ? "msTransform" : "webkitTransform", i.style = [["left", "top"], ["right", "bottom"]][i.dir][i.ort], i } function Y(n, o, g) { var u, h, d, C, A, p, m, f, b = window.navigator.pointerEnabled ? { start: "pointerdown", move: "pointermove", end: "pointerup" } : window.navigator.msPointerEnabled ? { start: "MSPointerDown", move: "MSPointerMove", end: "MSPointerUp" } : { start: "mousedown touchstart", move: "mousemove touchmove", end: "mouseup touchend" }, B = window.CSS && CSS.supports && CSS.supports("touch-action", "none") && function () { var t = !1; try { var e = Object.defineProperty({}, "passive", { get: function () { t = !0 } }); window.addEventListener("test", null, e) } catch (t) { } return t }(), y = n, v = o.spectrum, x = [], F = [], Q = [], G = 0, w = {}, X = n.ownerDocument, S = o.documentElement || X.documentElement, k = X.body, D = -1, Z = 0, U = 1, W = 2, T = "rtl" === X.dir || 1 === o.ort ? 0 : 100; function N(t, e) { var n = X.createElement("div"); return e && l(n, e), t.appendChild(n), n } function H(t, e) { var n = N(t, o.cssClasses.origin), i = N(n, o.cssClasses.handle); return N(i, o.cssClasses.touchArea), i.setAttribute("data-handle", e), o.keyboardSupport && (i.setAttribute("tabindex", "0"), i.addEventListener("keydown", function (t) { return function (t, e) { if (O() || _(e)) return !1; var n = ["Left", "Right"], i = ["Down", "Up"]; o.dir && !o.ort ? n.reverse() : o.ort && !o.dir && i.reverse(); var a = t.key.replace("Arrow", ""), r = a === i[0] || a === n[0], s = a === i[1] || a === n[1]; if (!r && !s) return !0; t.preventDefault(); var g = r ? 0 : 1, l = Ct(e)[g]; return null !== l && (!1 === l && (l = v.getDefaultStep(F[e], r, 10)), l = Math.max(l, 1e-7), l *= r ? -1 : 1, ht(e, x[e] + l, !0), !1) }(t, e) })), i.setAttribute("role", "slider"), i.setAttribute("aria-orientation", o.ort ? "vertical" : "horizontal"), 0 === e ? l(i, o.cssClasses.handleLower) : e === o.handles - 1 && l(i, o.cssClasses.handleUpper), n } function E(t, e) { return !!e && N(t, o.cssClasses.connect) } function Y(t, e) { return !!o.tooltips[e] && N(t.firstChild, o.cssClasses.tooltip) } function O() { return y.hasAttribute("disabled") } function _(t) { return h[t].hasAttribute("disabled") } function V() { A && (nt("update.tooltips"), A.forEach(function (t) { t && e(t) }), A = null) } function L() { V(), A = h.map(Y), et("update.tooltips", function (t, e, n) { if (A[e]) { var i = t[e]; !0 !== o.tooltips[e] && (i = o.tooltips[e].to(n[e])), A[e].innerHTML = i } }) } function M() { C && (e(C), C = null) } function z(e) { M(); var n = e.mode, i = e.density || 1, a = e.filter || !1, r = function (t, e, n) { var i = {}, o = v.xVal[0], a = v.xVal[v.xVal.length - 1], r = !1, s = !1, g = 0; return (n = function (t) { return t.filter(function (t) { return !this[t] && (this[t] = !0) }, {}) }(n.slice().sort(function (t, e) { return t - e })))[0] !== o && (n.unshift(o), r = !0), n[n.length - 1] !== a && (n.push(a), s = !0), n.forEach(function (o, a) { var l, c, I, u, h, d, C, A, p, m, f = o, b = n[a + 1], B = "steps" === e; if (B && (l = v.xNumSteps[a]), l || (l = b - f), !1 !== f && void 0 !== b) for (l = Math.max(l, 1e-7), c = f; c <= b; c = (c + l).toFixed(7) / 1) { for (A = (h = (u = v.toStepping(c)) - g) / t, m = h / (p = Math.round(A)), I = 1; I <= p; I += 1)i[(d = g + I * m).toFixed(5)] = [v.fromStepping(d), 0]; C = -1 < n.indexOf(c) ? U : B ? W : Z, !a && r && (C = 0), c === b && s || (i[u.toFixed(5)] = [c, C]), g = u } }), i }(i, n, function (e, n, i) { if ("range" === e || "steps" === e) return v.xVal; if ("count" === e) { if (n < 2) throw new Error("noUiSlider (" + t + "): 'values' (>= 2) required for mode 'count'."); var o = n - 1, a = 100 / o; for (n = []; o--;)n[o] = o * a; n.push(100), e = "positions" } return "positions" === e ? n.map(function (t) { return v.fromStepping(i ? v.getStep(t) : t) }) : "values" === e ? i ? n.map(function (t) { return v.fromStepping(v.getStep(v.toStepping(t))) }) : n : void 0 }(n, e.values || !1, e.stepped || !1)), s = e.format || { to: Math.round }; return C = y.appendChild(function (t, e, n) { var i = X.createElement("div"), a = []; a[Z] = o.cssClasses.valueNormal, a[U] = o.cssClasses.valueLarge, a[W] = o.cssClasses.valueSub; var r = []; r[Z] = o.cssClasses.markerNormal, r[U] = o.cssClasses.markerLarge, r[W] = o.cssClasses.markerSub; var s = [o.cssClasses.valueHorizontal, o.cssClasses.valueVertical], g = [o.cssClasses.markerHorizontal, o.cssClasses.markerVertical]; function c(t, e) { var n = e === o.cssClasses.value, i = n ? a : r; return e + " " + (n ? s : g)[o.ort] + " " + i[t] } return l(i, o.cssClasses.pips), l(i, 0 === o.ort ? o.cssClasses.pipsHorizontal : o.cssClasses.pipsVertical), Object.keys(t).forEach(function (a) { !function (t, a, r) { if ((r = e ? e(a, r) : r) !== D) { var s = N(i, !1); s.className = c(r, o.cssClasses.marker), s.style[o.style] = t + "%", Z < r && ((s = N(i, !1)).className = c(r, o.cssClasses.value), s.setAttribute("data-value", a), s.style[o.style] = t + "%", s.innerHTML = n.to(a)) } }(a, t[a][0], t[a][1]) }), i }(r, a, s)) } function P() { var t = u.getBoundingClientRect(), e = "offset" + ["Width", "Height"][o.ort]; return 0 === o.ort ? t.width || u[e] : t.height || u[e] } function K(t, e, n, i) { function a(a) { return !!(a = function (t, e, n) { var i, o, a = 0 === t.type.indexOf("touch"), r = 0 === t.type.indexOf("mouse"), s = 0 === t.type.indexOf("pointer"); if (0 === t.type.indexOf("MSPointer") && (s = !0), a) { var g = function (t) { return t.target === n || n.contains(t.target) }; if ("touchstart" === t.type) { var l = Array.prototype.filter.call(t.touches, g); if (1 < l.length) return !1; i = l[0].pageX, o = l[0].pageY } else { var c = Array.prototype.find.call(t.changedTouches, g); if (!c) return !1; i = c.pageX, o = c.pageY } } return e = e || I(X), (r || s) && (i = t.clientX + e.x, o = t.clientY + e.y), t.pageOffset = e, t.points = [i, o], t.cursor = r || s, t }(a, i.pageOffset, i.target || e)) && !(O() && !i.doNotReject) && !(function (t, e) { return t.classList ? t.classList.contains(e) : new RegExp("\\b" + e + "\\b").test(t.className) }(y, o.cssClasses.tap) && !i.doNotReject) && !(t === b.start && void 0 !== a.buttons && 1 < a.buttons) && (!i.hover || !a.buttons) && (B || a.preventDefault(), a.calcPoint = a.points[o.ort], void n(a, i)) } var r = []; return t.split(" ").forEach(function (t) { e.addEventListener(t, a, !!B && { passive: !0 }), r.push([t, a]) }), r } function J(t) { var e = 100 * (t - function (t, e) { var n = t.getBoundingClientRect(), i = t.ownerDocument, o = i.documentElement, a = I(i); return /webkit.*Chrome.*Mobile/i.test(navigator.userAgent) && (a.x = 0), e ? n.top + a.y - o.clientTop : n.left + a.x - o.clientLeft }(u, o.ort)) / P(); return e = r(e), o.dir ? 100 - e : e } function j(t, e) { "mouseout" === t.type && "HTML" === t.target.nodeName && null === t.relatedTarget && q(t, e) } function $(t, e) { if (-1 === navigator.appVersion.indexOf("MSIE 9") && 0 === t.buttons && 0 !== e.buttonsProperty) return q(t, e); var n = (o.dir ? -1 : 1) * (t.calcPoint - e.startCalcPoint); rt(0 < n, 100 * n / e.baseSize, e.locations, e.handleNumbers) } function q(t, e) { e.handle && (c(e.handle, o.cssClasses.active), G -= 1), e.listeners.forEach(function (t) { S.removeEventListener(t[0], t[1]) }), 0 === G && (c(y, o.cssClasses.drag), gt(), t.cursor && (k.style.cursor = "", k.removeEventListener("selectstart", i))), e.handleNumbers.forEach(function (t) { it("change", t), it("set", t), it("end", t) }) } function tt(t, e) { if (e.handleNumbers.some(_)) return !1; var n; 1 === e.handleNumbers.length && (n = h[e.handleNumbers[0]].children[0], G += 1, l(n, o.cssClasses.active)), t.stopPropagation(); var a = [], r = K(b.move, S, $, { target: t.target, handle: n, listeners: a, startCalcPoint: t.calcPoint, baseSize: P(), pageOffset: t.pageOffset, handleNumbers: e.handleNumbers, buttonsProperty: t.buttons, locations: F.slice() }), s = K(b.end, S, q, { target: t.target, handle: n, listeners: a, doNotReject: !0, handleNumbers: e.handleNumbers }), g = K("mouseout", S, j, { target: t.target, handle: n, listeners: a, doNotReject: !0, handleNumbers: e.handleNumbers }); a.push.apply(a, r.concat(s, g)), t.cursor && (k.style.cursor = getComputedStyle(t.target).cursor, 1 < h.length && l(y, o.cssClasses.drag), k.addEventListener("selectstart", i, !1)), e.handleNumbers.forEach(function (t) { it("start", t) }) } function et(t, e) { w[t] = w[t] || [], w[t].push(e), "update" === t.split(".")[0] && h.forEach(function (t, e) { it("update", e) }) } function nt(t) { var e = t && t.split(".")[0], n = e && t.substring(e.length); Object.keys(w).forEach(function (t) { var i = t.split(".")[0], o = t.substring(i.length); e && e !== i || n && n !== o || delete w[t] }) } function it(t, e, n) { Object.keys(w).forEach(function (i) { var a = i.split(".")[0]; t === a && w[i].forEach(function (t) { t.call(p, x.map(o.format.to), e, x.slice(), n || !1, F.slice()) }) }) } function ot(t, e, n, i, a, s) { return 1 < h.length && !o.events.unconstrained && (i && 0 < e && (n = Math.max(n, t[e - 1] + o.margin)), a && e < h.length - 1 && (n = Math.min(n, t[e + 1] - o.margin))), 1 < h.length && o.limit && (i && 0 < e && (n = Math.min(n, t[e - 1] + o.limit)), a && e < h.length - 1 && (n = Math.max(n, t[e + 1] - o.limit))), o.padding && (0 === e && (n = Math.max(n, o.padding[0])), e === h.length - 1 && (n = Math.min(n, 100 - o.padding[1]))), !((n = r(n = v.getStep(n))) === t[e] && !s) && n } function at(t, e) { var n = o.ort; return (n ? e : t) + ", " + (n ? t : e) } function rt(t, e, n, i) { var o = n.slice(), a = [!t, t], r = [t, !t]; i = i.slice(), t && i.reverse(), 1 < i.length ? i.forEach(function (t, n) { var i = ot(o, t, o[t] + e, a[n], r[n], !1); !1 === i ? e = 0 : (e = i - o[t], o[t] = i) }) : a = r = [!0]; var s = !1; i.forEach(function (t, i) { s = lt(t, n[t] + e, a[i], r[i]) || s }), s && i.forEach(function (t) { it("update", t), it("slide", t) }) } function st(t, e) { return o.dir ? 100 - t - e : t } function gt() { Q.forEach(function (t) { var e = 50 < F[t] ? -1 : 1, n = 3 + (h.length + e * t); h[t].style.zIndex = n }) } function lt(t, e, n, i) { return !1 !== (e = ot(F, t, e, n, i, !1)) && (function (t, e) { F[t] = e, x[t] = v.fromStepping(e); var n = "translate(" + at(st(e, 0) - T + "%", "0") + ")"; h[t].style[o.transformRule] = n, ct(t), ct(t + 1) }(t, e), !0) } function ct(t) { if (d[t]) { var e = 0, n = 100; 0 !== t && (e = F[t - 1]), t !== d.length - 1 && (n = F[t]); var i = n - e, a = "translate(" + at(st(e, i) + "%", "0") + ")", r = "scale(" + at(i / 100, "1") + ")"; d[t].style[o.transformRule] = a + " " + r } } function It(t, e) { return null === t || !1 === t || void 0 === t ? F[e] : ("number" == typeof t && (t = String(t)), t = o.format.from(t), !1 === (t = v.toStepping(t)) || isNaN(t) ? F[e] : t) } function ut(t, e) { var n = s(t), i = void 0 === F[0]; e = void 0 === e || !!e, o.animate && !i && a(y, o.cssClasses.tap, o.animationDuration), Q.forEach(function (t) { lt(t, It(n[t], t), !0, !1) }), Q.forEach(function (t) { lt(t, F[t], !0, !0) }), gt(), Q.forEach(function (t) { it("update", t), null !== n[t] && e && it("set", t) }) } function ht(e, n, i) { if (!(0 <= (e = Number(e)) && e < Q.length)) throw new Error("noUiSlider (" + t + "): invalid handle number, got: " + e); lt(e, It(n, e), !0, !0), it("update", e), i && it("set", e) } function dt() { var t = x.map(o.format.to); return 1 === t.length ? t[0] : t } function Ct(t) { var e = F[t], n = v.getNearbySteps(e), i = x[t], a = n.thisStep.step, r = null; if (o.snap) return [i - n.stepBefore.startValue || null, n.stepAfter.startValue - i || null]; !1 !== a && i + a > n.stepAfter.startValue && (a = n.stepAfter.startValue - i), r = i > n.thisStep.startValue ? n.thisStep.step : !1 !== n.stepBefore.step && i - n.stepBefore.highestStep, 100 === e ? a = null : 0 === e && (r = null); var s = v.countStepDecimals(); return null !== a && !1 !== a && (a = Number(a.toFixed(s))), null !== r && !1 !== r && (r = Number(r.toFixed(s))), [r, a] } return l(f = y, o.cssClasses.target), 0 === o.dir ? l(f, o.cssClasses.ltr) : l(f, o.cssClasses.rtl), 0 === o.ort ? l(f, o.cssClasses.horizontal) : l(f, o.cssClasses.vertical), u = N(f, o.cssClasses.base), function (t, e) { var n = N(e, o.cssClasses.connects); h = [], (d = []).push(E(n, t[0])); for (var i = 0; i < o.handles; i++)h.push(H(e, i)), Q[i] = i, d.push(E(n, t[i + 1])) }(o.connect, u), (m = o.events).fixed || h.forEach(function (t, e) { K(b.start, t.children[0], tt, { handleNumbers: [e] }) }), m.tap && K(b.start, u, function (t) { t.stopPropagation(); var e, n, i, r = J(t.calcPoint), s = (e = r, n = 100, i = !1, h.forEach(function (t, o) { if (!_(o)) { var a = Math.abs(F[o] - e); (a < n || 100 === a && 100 === n) && (i = o, n = a) } }), i); if (!1 === s) return !1; o.events.snap || a(y, o.cssClasses.tap, o.animationDuration), lt(s, r, !0, !0), gt(), it("slide", s, !0), it("update", s, !0), it("change", s, !0), it("set", s, !0), o.events.snap && tt(t, { handleNumbers: [s] }) }, {}), m.hover && K(b.move, u, function (t) { var e = J(t.calcPoint), n = v.getStep(e), i = v.fromStepping(n); Object.keys(w).forEach(function (t) { "hover" === t.split(".")[0] && w[t].forEach(function (t) { t.call(p, i) }) }) }, { hover: !0 }), m.drag && d.forEach(function (t, e) { if (!1 !== t && 0 !== e && e !== d.length - 1) { var n = h[e - 1], i = h[e], a = [t]; l(t, o.cssClasses.draggable), m.fixed && (a.push(n.children[0]), a.push(i.children[0])), a.forEach(function (t) { K(b.start, t, tt, { handles: [n, i], handleNumbers: [e - 1, e] }) }) } }), ut(o.start), o.pips && z(o.pips), o.tooltips && L(), et("update", function (t, e, n, i, a) { Q.forEach(function (t) { var e = h[t], i = ot(F, t, 0, !0, !0, !0), r = ot(F, t, 100, !0, !0, !0), s = a[t], g = o.ariaFormat.to(n[t]); i = v.fromStepping(i).toFixed(1), r = v.fromStepping(r).toFixed(1), s = v.fromStepping(s).toFixed(1), e.children[0].setAttribute("aria-valuemin", i), e.children[0].setAttribute("aria-valuemax", r), e.children[0].setAttribute("aria-valuenow", s), e.children[0].setAttribute("aria-valuetext", g) }) }), p = { destroy: function () { for (var t in o.cssClasses) o.cssClasses.hasOwnProperty(t) && c(y, o.cssClasses[t]); for (; y.firstChild;)y.removeChild(y.firstChild); delete y.noUiSlider }, steps: function () { return Q.map(Ct) }, on: et, off: nt, get: dt, set: ut, setHandle: ht, reset: function (t) { ut(o.start, t) }, __moveHandles: function (t, e, n) { rt(t, e, F, n) }, options: g, updateOptions: function (t, e) { var n = dt(), i = ["margin", "limit", "padding", "range", "animate", "snap", "step", "format", "pips", "tooltips"]; i.forEach(function (e) { void 0 !== t[e] && (g[e] = t[e]) }); var a = R(g); i.forEach(function (e) { void 0 !== t[e] && (o[e] = a[e]) }), v = a.spectrum, o.margin = a.margin, o.limit = a.limit, o.padding = a.padding, o.pips ? z(o.pips) : M(), o.tooltips ? L() : V(), F = [], ut(t.start || n, e) }, target: y, removePips: M, removeTooltips: V, pips: z } } return { __spectrum: p, version: t, create: function (e, n) { if (!e || !e.nodeName) throw new Error("noUiSlider (" + t + "): create requires a single element, got: " + e); if (e.noUiSlider) throw new Error("noUiSlider (" + t + "): Slider was already initialized."); var i = Y(e, R(n), n); return e.noUiSlider = i } } }), function (t, e, n, i) { function o(e, n) { this.settings = null, this.options = t.extend({}, o.Defaults, n), this.$element = t(e), this._handlers = {}, this._plugins = {}, this._supress = {}, this._current = null, this._speed = null, this._coordinates = [], this._breakpoint = null, this._width = null, this._items = [], this._clones = [], this._mergers = [], this._widths = [], this._invalidated = {}, this._pipe = [], this._drag = { time: null, target: null, pointer: null, stage: { start: null, current: null }, direction: null }, this._states = { current: {}, tags: { initializing: ["busy"], animating: ["busy"], dragging: ["interacting"] } }, t.each(["onResize", "onThrottledResize"], t.proxy(function (e, n) { this._handlers[n] = t.proxy(this[n], this) }, this)), t.each(o.Plugins, t.proxy(function (t, e) { this._plugins[t.charAt(0).toLowerCase() + t.slice(1)] = new e(this) }, this)), t.each(o.Workers, t.proxy(function (e, n) { this._pipe.push({ filter: n.filter, run: t.proxy(n.run, this) }) }, this)), this.setup(), this.initialize() } o.Defaults = { items: 3, loop: !1, center: !1, rewind: !1, checkVisibility: !0, mouseDrag: !0, touchDrag: !0, pullDrag: !0, freeDrag: !1, margin: 0, stagePadding: 0, merge: !1, mergeFit: !0, autoWidth: !1, startPosition: 0, rtl: !1, smartSpeed: 250, fluidSpeed: !1, dragEndSpeed: !1, responsive: {}, responsiveRefreshRate: 200, responsiveBaseElement: e, fallbackEasing: "swing", slideTransition: "", info: !1, nestedItemSelector: !1, itemElement: "div", stageElement: "div", refreshClass: "owl-refresh", loadedClass: "owl-loaded", loadingClass: "owl-loading", rtlClass: "owl-rtl", responsiveClass: "owl-responsive", dragClass: "owl-drag", itemClass: "owl-item", stageClass: "owl-stage", stageOuterClass: "owl-stage-outer", grabClass: "owl-grab" }, o.Width = { Default: "default", Inner: "inner", Outer: "outer" }, o.Type = { Event: "event", State: "state" }, o.Plugins = {}, o.Workers = [{ filter: ["width", "settings"], run: function () { this._width = this.$element.width() } }, { filter: ["width", "items", "settings"], run: function (t) { t.current = this._items && this._items[this.relative(this._current)] } }, { filter: ["items", "settings"], run: function () { this.$stage.children(".cloned").remove() } }, { filter: ["width", "items", "settings"], run: function (t) { var e = this.settings.margin || "", n = !this.settings.autoWidth, i = this.settings.rtl, o = { width: "auto", "margin-left": i ? e : "", "margin-right": i ? "" : e }; n || this.$stage.children().css(o), t.css = o } }, { filter: ["width", "items", "settings"], run: function (t) { var e = (this.width() / this.settings.items).toFixed(3) - this.settings.margin, n = null, i = this._items.length, o = !this.settings.autoWidth, a = []; for (t.items = { merge: !1, width: e }; i--;)n = this._mergers[i], n = this.settings.mergeFit && Math.min(n, this.settings.items) || n, t.items.merge = 1 < n || t.items.merge, a[i] = o ? e * n : this._items[i].width(); this._widths = a } }, { filter: ["items", "settings"], run: function () { var e = [], n = this._items, i = this.settings, o = Math.max(2 * i.items, 4), a = 2 * Math.ceil(n.length / 2), r = i.loop && n.length ? i.rewind ? o : Math.max(o, a) : 0, s = "", g = ""; for (r /= 2; 0 < r;)e.push(this.normalize(e.length / 2, !0)), s += n[e[e.length - 1]][0].outerHTML, e.push(this.normalize(n.length - 1 - (e.length - 1) / 2, !0)), g = n[e[e.length - 1]][0].outerHTML + g, r -= 1; this._clones = e, t(s).addClass("cloned").appendTo(this.$stage), t(g).addClass("cloned").prependTo(this.$stage) } }, { filter: ["width", "items", "settings"], run: function () { for (var t = this.settings.rtl ? 1 : -1, e = this._clones.length + this._items.length, n = -1, i = 0, o = 0, a = []; ++n < e;)i = a[n - 1] || 0, o = this._widths[this.relative(n)] + this.settings.margin, a.push(i + o * t); this._coordinates = a } }, { filter: ["width", "items", "settings"], run: function () { var t = this.settings.stagePadding, e = this._coordinates, n = { width: Math.ceil(Math.abs(e[e.length - 1])) + 2 * t, "padding-left": t || "", "padding-right": t || "" }; this.$stage.css(n) } }, { filter: ["width", "items", "settings"], run: function (t) { var e = this._coordinates.length, n = !this.settings.autoWidth, i = this.$stage.children(); if (n && t.items.merge) for (; e--;)t.css.width = this._widths[this.relative(e)], i.eq(e).css(t.css); else n && (t.css.width = t.items.width, i.css(t.css)) } }, { filter: ["items"], run: function () { this._coordinates.length < 1 && this.$stage.removeAttr("style") } }, { filter: ["width", "items", "settings"], run: function (t) { t.current = t.current ? this.$stage.children().index(t.current) : 0, t.current = Math.max(this.minimum(), Math.min(this.maximum(), t.current)), this.reset(t.current) } }, { filter: ["position"], run: function () { this.animate(this.coordinates(this._current)) } }, { filter: ["width", "position", "items", "settings"], run: function () { var t, e, n, i, o = this.settings.rtl ? 1 : -1, a = 2 * this.settings.stagePadding, r = this.coordinates(this.current()) + a, s = r + this.width() * o, g = []; for (n = 0, i = this._coordinates.length; n < i; n++)t = this._coordinates[n - 1] || 0, e = Math.abs(this._coordinates[n]) + a * o, (this.op(t, "<=", r) && this.op(t, ">", s) || this.op(e, "<", r) && this.op(e, ">", s)) && g.push(n); this.$stage.children(".active").removeClass("active"), this.$stage.children(":eq(" + g.join("), :eq(") + ")").addClass("active"), this.$stage.children(".center").removeClass("center"), this.settings.center && this.$stage.children().eq(this.current()).addClass("center") } }], o.prototype.initializeStage = function () { this.$stage = this.$element.find("." + this.settings.stageClass), this.$stage.length || (this.$element.addClass(this.options.loadingClass), this.$stage = t("<" + this.settings.stageElement + ">", { class: this.settings.stageClass }).wrap(t("<div/>", { class: this.settings.stageOuterClass })), this.$element.append(this.$stage.parent())) }, o.prototype.initializeItems = function () { var e = this.$element.find(".owl-item"); if (e.length) return this._items = e.get().map(function (e) { return t(e) }), this._mergers = this._items.map(function () { return 1 }), void this.refresh(); this.replace(this.$element.children().not(this.$stage.parent())), this.isVisible() ? this.refresh() : this.invalidate("width"), this.$element.removeClass(this.options.loadingClass).addClass(this.options.loadedClass) }, o.prototype.initialize = function () { var t, e, n; this.enter("initializing"), this.trigger("initialize"), this.$element.toggleClass(this.settings.rtlClass, this.settings.rtl), this.settings.autoWidth && !this.is("pre-loading") && (t = this.$element.find("img"), e = this.settings.nestedItemSelector ? "." + this.settings.nestedItemSelector : i, n = this.$element.children(e).width(), t.length && n <= 0 && this.preloadAutoWidthImages(t)), this.initializeStage(), this.initializeItems(), this.registerEventHandlers(), this.leave("initializing"), this.trigger("initialized") }, o.prototype.isVisible = function () { return !this.settings.checkVisibility || this.$element.is(":visible") }, o.prototype.setup = function () { var e = this.viewport(), n = this.options.responsive, i = -1, o = null; n ? (t.each(n, function (t) { t <= e && i < t && (i = Number(t)) }), "function" == typeof (o = t.extend({}, this.options, n[i])).stagePadding && (o.stagePadding = o.stagePadding()), delete o.responsive, o.responsiveClass && this.$element.attr("class", this.$element.attr("class").replace(new RegExp("(" + this.options.responsiveClass + "-)\\S+\\s", "g"), "$1" + i))) : o = t.extend({}, this.options), this.trigger("change", { property: { name: "settings", value: o } }), this._breakpoint = i, this.settings = o, this.invalidate("settings"), this.trigger("changed", { property: { name: "settings", value: this.settings } }) }, o.prototype.optionsLogic = function () { this.settings.autoWidth && (this.settings.stagePadding = !1, this.settings.merge = !1) }, o.prototype.prepare = function (e) { var n = this.trigger("prepare", { content: e }); return n.data || (n.data = t("<" + this.settings.itemElement + "/>").addClass(this.options.itemClass).append(e)), this.trigger("prepared", { content: n.data }), n.data }, o.prototype.update = function () { for (var e = 0, n = this._pipe.length, i = t.proxy(function (t) { return this[t] }, this._invalidated), o = {}; e < n;)(this._invalidated.all || 0 < t.grep(this._pipe[e].filter, i).length) && this._pipe[e].run(o), e++; this._invalidated = {}, this.is("valid") || this.enter("valid") }, o.prototype.width = function (t) { switch (t = t || o.Width.Default) { case o.Width.Inner: case o.Width.Outer: return this._width; default: return this._width - 2 * this.settings.stagePadding + this.settings.margin } }, o.prototype.refresh = function () { this.enter("refreshing"), this.trigger("refresh"), this.setup(), this.optionsLogic(), this.$element.addClass(this.options.refreshClass), this.update(), this.$element.removeClass(this.options.refreshClass), this.leave("refreshing"), this.trigger("refreshed") }, o.prototype.onThrottledResize = function () { e.clearTimeout(this.resizeTimer), this.resizeTimer = e.setTimeout(this._handlers.onResize, this.settings.responsiveRefreshRate) }, o.prototype.onResize = function () { return !!this._items.length && this._width !== this.$element.width() && !!this.isVisible() && (this.enter("resizing"), this.trigger("resize").isDefaultPrevented() ? (this.leave("resizing"), !1) : (this.invalidate("width"), this.refresh(), this.leave("resizing"), void this.trigger("resized"))) }, o.prototype.registerEventHandlers = function () { t.support.transition && this.$stage.on(t.support.transition.end + ".owl.core", t.proxy(this.onTransitionEnd, this)), !1 !== this.settings.responsive && this.on(e, "resize", this._handlers.onThrottledResize), this.settings.mouseDrag && (this.$element.addClass(this.options.dragClass), this.$stage.on("mousedown.owl.core", t.proxy(this.onDragStart, this)), this.$stage.on("dragstart.owl.core selectstart.owl.core", function () { return !1 })), this.settings.touchDrag && (this.$stage.on("touchstart.owl.core", t.proxy(this.onDragStart, this)), this.$stage.on("touchcancel.owl.core", t.proxy(this.onDragEnd, this))) }, o.prototype.onDragStart = function (e) { var i = null; 3 !== e.which && (i = t.support.transform ? { x: (i = this.$stage.css("transform").replace(/.*\(|\)| /g, "").split(","))[16 === i.length ? 12 : 4], y: i[16 === i.length ? 13 : 5] } : (i = this.$stage.position(), { x: this.settings.rtl ? i.left + this.$stage.width() - this.width() + this.settings.margin : i.left, y: i.top }), this.is("animating") && (t.support.transform ? this.animate(i.x) : this.$stage.stop(), this.invalidate("position")), this.$element.toggleClass(this.options.grabClass, "mousedown" === e.type), this.speed(0), this._drag.time = (new Date).getTime(), this._drag.target = t(e.target), this._drag.stage.start = i, this._drag.stage.current = i, this._drag.pointer = this.pointer(e), t(n).on("mouseup.owl.core touchend.owl.core", t.proxy(this.onDragEnd, this)), t(n).one("mousemove.owl.core touchmove.owl.core", t.proxy(function (e) { var i = this.difference(this._drag.pointer, this.pointer(e)); t(n).on("mousemove.owl.core touchmove.owl.core", t.proxy(this.onDragMove, this)), Math.abs(i.x) < Math.abs(i.y) && this.is("valid") || (e.preventDefault(), this.enter("dragging"), this.trigger("drag")) }, this))) }, o.prototype.onDragMove = function (t) { var e = null, n = null, i = null, o = this.difference(this._drag.pointer, this.pointer(t)), a = this.difference(this._drag.stage.start, o); this.is("dragging") && (t.preventDefault(), this.settings.loop ? (e = this.coordinates(this.minimum()), n = this.coordinates(this.maximum() + 1) - e, a.x = ((a.x - e) % n + n) % n + e) : (e = this.settings.rtl ? this.coordinates(this.maximum()) : this.coordinates(this.minimum()), n = this.settings.rtl ? this.coordinates(this.minimum()) : this.coordinates(this.maximum()), i = this.settings.pullDrag ? -1 * o.x / 5 : 0, a.x = Math.max(Math.min(a.x, e + i), n + i)), this._drag.stage.current = a, this.animate(a.x)) }, o.prototype.onDragEnd = function (e) { var i = this.difference(this._drag.pointer, this.pointer(e)), o = this._drag.stage.current, a = 0 < i.x ^ this.settings.rtl ? "left" : "right"; t(n).off(".owl.core"), this.$element.removeClass(this.options.grabClass), (0 !== i.x && this.is("dragging") || !this.is("valid")) && (this.speed(this.settings.dragEndSpeed || this.settings.smartSpeed), this.current(this.closest(o.x, 0 !== i.x ? a : this._drag.direction)), this.invalidate("position"), this.update(), this._drag.direction = a, (3 < Math.abs(i.x) || 300 < (new Date).getTime() - this._drag.time) && this._drag.target.one("click.owl.core", function () { return !1 })), this.is("dragging") && (this.leave("dragging"), this.trigger("dragged")) }, o.prototype.closest = function (e, n) { var o = -1, a = this.width(), r = this.coordinates(); return this.settings.freeDrag || t.each(r, t.proxy(function (t, s) { return "left" === n && s - 30 < e && e < s + 30 ? o = t : "right" === n && s - a - 30 < e && e < s - a + 30 ? o = t + 1 : this.op(e, "<", s) && this.op(e, ">", r[t + 1] !== i ? r[t + 1] : s - a) && (o = "left" === n ? t + 1 : t), -1 === o }, this)), this.settings.loop || (this.op(e, ">", r[this.minimum()]) ? o = e = this.minimum() : this.op(e, "<", r[this.maximum()]) && (o = e = this.maximum())), o }, o.prototype.animate = function (e) { var n = 0 < this.speed(); this.is("animating") && this.onTransitionEnd(), n && (this.enter("animating"), this.trigger("translate")), t.support.transform3d && t.support.transition ? this.$stage.css({ transform: "translate3d(" + e + "px,0px,0px)", transition: this.speed() / 1e3 + "s" + (this.settings.slideTransition ? " " + this.settings.slideTransition : "") }) : n ? this.$stage.animate({ left: e + "px" }, this.speed(), this.settings.fallbackEasing, t.proxy(this.onTransitionEnd, this)) : this.$stage.css({ left: e + "px" }) }, o.prototype.is = function (t) { return this._states.current[t] && 0 < this._states.current[t] }, o.prototype.current = function (t) { if (t === i) return this._current; if (0 === this._items.length) return i; if (t = this.normalize(t), this._current !== t) { var e = this.trigger("change", { property: { name: "position", value: t } }); e.data !== i && (t = this.normalize(e.data)), this._current = t, this.invalidate("position"), this.trigger("changed", { property: { name: "position", value: this._current } }) } return this._current }, o.prototype.invalidate = function (e) { return "string" === t.type(e) && (this._invalidated[e] = !0, this.is("valid") && this.leave("valid")), t.map(this._invalidated, function (t, e) { return e }) }, o.prototype.reset = function (t) { (t = this.normalize(t)) !== i && (this._speed = 0, this._current = t, this.suppress(["translate", "translated"]), this.animate(this.coordinates(t)), this.release(["translate", "translated"])) }, o.prototype.normalize = function (t, e) { var n = this._items.length, o = e ? 0 : this._clones.length; return !this.isNumeric(t) || n < 1 ? t = i : (t < 0 || n + o <= t) && (t = ((t - o / 2) % n + n) % n + o / 2), t }, o.prototype.relative = function (t) { return t -= this._clones.length / 2, this.normalize(t, !0) }, o.prototype.maximum = function (t) { var e, n, i, o = this.settings, a = this._coordinates.length; if (o.loop) a = this._clones.length / 2 + this._items.length - 1; else if (o.autoWidth || o.merge) { if (e = this._items.length) for (n = this._items[--e].width(), i = this.$element.width(); e-- && !(i < (n += this._items[e].width() + this.settings.margin));); a = e + 1 } else a = o.center ? this._items.length - 1 : this._items.length - o.items; return t && (a -= this._clones.length / 2), Math.max(a, 0) }, o.prototype.minimum = function (t) { return t ? 0 : this._clones.length / 2 }, o.prototype.items = function (t) { return t === i ? this._items.slice() : (t = this.normalize(t, !0), this._items[t]) }, o.prototype.mergers = function (t) { return t === i ? this._mergers.slice() : (t = this.normalize(t, !0), this._mergers[t]) }, o.prototype.clones = function (e) { function n(t) { return t % 2 == 0 ? a + t / 2 : o - (t + 1) / 2 } var o = this._clones.length / 2, a = o + this._items.length; return e === i ? t.map(this._clones, function (t, e) { return n(e) }) : t.map(this._clones, function (t, i) { return t === e ? n(i) : null }) }, o.prototype.speed = function (t) { return t !== i && (this._speed = t), this._speed }, o.prototype.coordinates = function (e) { var n, o = 1, a = e - 1; return e === i ? t.map(this._coordinates, t.proxy(function (t, e) { return this.coordinates(e) }, this)) : (this.settings.center ? (this.settings.rtl && (o = -1, a = e + 1), n = this._coordinates[e], n += (this.width() - n + (this._coordinates[a] || 0)) / 2 * o) : n = this._coordinates[a] || 0, n = Math.ceil(n)) }, o.prototype.duration = function (t, e, n) { return 0 === n ? 0 : Math.min(Math.max(Math.abs(e - t), 1), 6) * Math.abs(n || this.settings.smartSpeed) }, o.prototype.to = function (t, e) { var n = this.current(), i = null, o = t - this.relative(n), a = (0 < o) - (o < 0), r = this._items.length, s = this.minimum(), g = this.maximum(); this.settings.loop ? (!this.settings.rewind && Math.abs(o) > r / 2 && (o += -1 * a * r), (i = (((t = n + o) - s) % r + r) % r + s) !== t && i - o <= g && 0 < i - o && (n = i - o, t = i, this.reset(n))) : t = this.settings.rewind ? (t % (g += 1) + g) % g : Math.max(s, Math.min(g, t)), this.speed(this.duration(n, t, e)), this.current(t), this.isVisible() && this.update() }, o.prototype.next = function (t) { t = t || !1, this.to(this.relative(this.current()) + 1, t) }, o.prototype.prev = function (t) { t = t || !1, this.to(this.relative(this.current()) - 1, t) }, o.prototype.onTransitionEnd = function (t) { if (t !== i && (t.stopPropagation(), (t.target || t.srcElement || t.originalTarget) !== this.$stage.get(0))) return !1; this.leave("animating"), this.trigger("translated") }, o.prototype.viewport = function () { var i; return this.options.responsiveBaseElement !== e ? i = t(this.options.responsiveBaseElement).width() : e.innerWidth ? i = e.innerWidth : n.documentElement && n.documentElement.clientWidth ? i = n.documentElement.clientWidth : console.warn("Can not detect viewport width."), i }, o.prototype.replace = function (e) { this.$stage.empty(), this._items = [], e && (e = e instanceof jQuery ? e : t(e)), this.settings.nestedItemSelector && (e = e.find("." + this.settings.nestedItemSelector)), e.filter(function () { return 1 === this.nodeType }).each(t.proxy(function (t, e) { e = this.prepare(e), this.$stage.append(e), this._items.push(e), this._mergers.push(1 * e.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1) }, this)), this.reset(this.isNumeric(this.settings.startPosition) ? this.settings.startPosition : 0), this.invalidate("items") }, o.prototype.add = function (e, n) { var o = this.relative(this._current); n = n === i ? this._items.length : this.normalize(n, !0), e = e instanceof jQuery ? e : t(e), this.trigger("add", { content: e, position: n }), e = this.prepare(e), 0 === this._items.length || n === this._items.length ? (0 === this._items.length && this.$stage.append(e), 0 !== this._items.length && this._items[n - 1].after(e), this._items.push(e), this._mergers.push(1 * e.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)) : (this._items[n].before(e), this._items.splice(n, 0, e), this._mergers.splice(n, 0, 1 * e.find("[data-merge]").addBack("[data-merge]").attr("data-merge") || 1)), this._items[o] && this.reset(this._items[o].index()), this.invalidate("items"), this.trigger("added", { content: e, position: n }) }, o.prototype.remove = function (t) { (t = this.normalize(t, !0)) !== i && (this.trigger("remove", { content: this._items[t], position: t }), this._items[t].remove(), this._items.splice(t, 1), this._mergers.splice(t, 1), this.invalidate("items"), this.trigger("removed", { content: null, position: t })) }, o.prototype.preloadAutoWidthImages = function (e) { e.each(t.proxy(function (e, n) { this.enter("pre-loading"), n = t(n), t(new Image).one("load", t.proxy(function (t) { n.attr("src", t.target.src), n.css("opacity", 1), this.leave("pre-loading"), this.is("pre-loading") || this.is("initializing") || this.refresh() }, this)).attr("src", n.attr("src") || n.attr("data-src") || n.attr("data-src-retina")) }, this)) }, o.prototype.destroy = function () { for (var i in this.$element.off(".owl.core"), this.$stage.off(".owl.core"), t(n).off(".owl.core"), !1 !== this.settings.responsive && (e.clearTimeout(this.resizeTimer), this.off(e, "resize", this._handlers.onThrottledResize)), this._plugins) this._plugins[i].destroy(); this.$stage.children(".cloned").remove(), this.$stage.unwrap(), this.$stage.children().contents().unwrap(), this.$stage.children().unwrap(), this.$stage.remove(), this.$element.removeClass(this.options.refreshClass).removeClass(this.options.loadingClass).removeClass(this.options.loadedClass).removeClass(this.options.rtlClass).removeClass(this.options.dragClass).removeClass(this.options.grabClass).attr("class", this.$element.attr("class").replace(new RegExp(this.options.responsiveClass + "-\\S+\\s", "g"), "")).removeData("owl.carousel") }, o.prototype.op = function (t, e, n) { var i = this.settings.rtl; switch (e) { case "<": return i ? n < t : t < n; case ">": return i ? t < n : n < t; case ">=": return i ? t <= n : n <= t; case "<=": return i ? n <= t : t <= n } }, o.prototype.on = function (t, e, n, i) { t.addEventListener ? t.addEventListener(e, n, i) : t.attachEvent && t.attachEvent("on" + e, n) }, o.prototype.off = function (t, e, n, i) { t.removeEventListener ? t.removeEventListener(e, n, i) : t.detachEvent && t.detachEvent("on" + e, n) }, o.prototype.trigger = function (e, n, i, a, r) { var s = { item: { count: this._items.length, index: this.current() } }, g = t.camelCase(t.grep(["on", e, i], function (t) { return t }).join("-").toLowerCase()), l = t.Event([e, "owl", i || "carousel"].join(".").toLowerCase(), t.extend({ relatedTarget: this }, s, n)); return this._supress[e] || (t.each(this._plugins, function (t, e) { e.onTrigger && e.onTrigger(l) }), this.register({ type: o.Type.Event, name: e }), this.$element.trigger(l), this.settings && "function" == typeof this.settings[g] && this.settings[g].call(this, l)), l }, o.prototype.enter = function (e) { t.each([e].concat(this._states.tags[e] || []), t.proxy(function (t, e) { this._states.current[e] === i && (this._states.current[e] = 0), this._states.current[e]++ }, this)) }, o.prototype.leave = function (e) { t.each([e].concat(this._states.tags[e] || []), t.proxy(function (t, e) { this._states.current[e]-- }, this)) }, o.prototype.register = function (e) { if (e.type === o.Type.Event) { if (t.event.special[e.name] || (t.event.special[e.name] = {}), !t.event.special[e.name].owl) { var n = t.event.special[e.name]._default; t.event.special[e.name]._default = function (t) { return !n || !n.apply || t.namespace && -1 !== t.namespace.indexOf("owl") ? t.namespace && -1 < t.namespace.indexOf("owl") : n.apply(this, arguments) }, t.event.special[e.name].owl = !0 } } else e.type === o.Type.State && (this._states.tags[e.name] ? this._states.tags[e.name] = this._states.tags[e.name].concat(e.tags) : this._states.tags[e.name] = e.tags, this._states.tags[e.name] = t.grep(this._states.tags[e.name], t.proxy(function (n, i) { return t.inArray(n, this._states.tags[e.name]) === i }, this))) }, o.prototype.suppress = function (e) { t.each(e, t.proxy(function (t, e) { this._supress[e] = !0 }, this)) }, o.prototype.release = function (e) { t.each(e, t.proxy(function (t, e) { delete this._supress[e] }, this)) }, o.prototype.pointer = function (t) { var n = { x: null, y: null }; return (t = (t = t.originalEvent || t || e.event).touches && t.touches.length ? t.touches[0] : t.changedTouches && t.changedTouches.length ? t.changedTouches[0] : t).pageX ? (n.x = t.pageX, n.y = t.pageY) : (n.x = t.clientX, n.y = t.clientY), n }, o.prototype.isNumeric = function (t) { return !isNaN(parseFloat(t)) }, o.prototype.difference = function (t, e) { return { x: t.x - e.x, y: t.y - e.y } }, t.fn.owlCarousel = function (e) { var n = Array.prototype.slice.call(arguments, 1); return this.each(function () { var i = t(this), a = i.data("owl.carousel"); a || (a = new o(this, "object" == typeof e && e), i.data("owl.carousel", a), t.each(["next", "prev", "to", "destroy", "refresh", "replace", "add", "remove"], function (e, n) { a.register({ type: o.Type.Event, name: n }), a.$element.on(n + ".owl.carousel.core", t.proxy(function (t) { t.namespace && t.relatedTarget !== this && (this.suppress([n]), a[n].apply(this, [].slice.call(arguments, 1)), this.release([n])) }, a)) })), "string" == typeof e && "_" !== e.charAt(0) && a[e].apply(a, n) }) }, t.fn.owlCarousel.Constructor = o }(window.Zepto || window.jQuery, window, document), function (t, e) { var n = function (e) { this._core = e, this._interval = null, this._visible = null, this._handlers = { "initialized.owl.carousel": t.proxy(function (t) { t.namespace && this._core.settings.autoRefresh && this.watch() }, this) }, this._core.options = t.extend({}, n.Defaults, this._core.options), this._core.$element.on(this._handlers) }; n.Defaults = { autoRefresh: !0, autoRefreshInterval: 500 }, n.prototype.watch = function () { this._interval || (this._visible = this._core.isVisible(), this._interval = e.setInterval(t.proxy(this.refresh, this), this._core.settings.autoRefreshInterval)) }, n.prototype.refresh = function () { this._core.isVisible() !== this._visible && (this._visible = !this._visible, this._core.$element.toggleClass("owl-hidden", !this._visible), this._visible && this._core.invalidate("width") && this._core.refresh()) }, n.prototype.destroy = function () { var t, n; for (t in e.clearInterval(this._interval), this._handlers) this._core.$element.off(t, this._handlers[t]); for (n in Object.getOwnPropertyNames(this)) "function" != typeof this[n] && (this[n] = null) }, t.fn.owlCarousel.Constructor.Plugins.AutoRefresh = n }(window.Zepto || window.jQuery, window, document), function (t, e) { var n = function (e) { this._core = e, this._loaded = [], this._handlers = { "initialized.owl.carousel change.owl.carousel resized.owl.carousel": t.proxy(function (e) { if (e.namespace && this._core.settings && this._core.settings.lazyLoad && (e.property && "position" == e.property.name || "initialized" == e.type)) { var n = this._core.settings, i = n.center && Math.ceil(n.items / 2) || n.items, o = n.center && -1 * i || 0, a = (e.property && void 0 !== e.property.value ? e.property.value : this._core.current()) + o, r = this._core.clones().length, s = t.proxy(function (t, e) { this.load(e) }, this); for (0 < n.lazyLoadEager && (i += n.lazyLoadEager, n.loop && (a -= n.lazyLoadEager, i++)); o++ < i;)this.load(r / 2 + this._core.relative(a)), r && t.each(this._core.clones(this._core.relative(a)), s), a++ } }, this) }, this._core.options = t.extend({}, n.Defaults, this._core.options), this._core.$element.on(this._handlers) }; n.Defaults = { lazyLoad: !1, lazyLoadEager: 0 }, n.prototype.load = function (n) { var i = this._core.$stage.children().eq(n), o = i && i.find(".owl-lazy"); !o || -1 < t.inArray(i.get(0), this._loaded) || (o.each(t.proxy(function (n, i) { var o, a = t(i), r = 1 < e.devicePixelRatio && a.attr("data-src-retina") || a.attr("data-src") || a.attr("data-srcset"); this._core.trigger("load", { element: a, url: r }, "lazy"), a.is("img") ? a.one("load.owl.lazy", t.proxy(function () { a.css("opacity", 1), this._core.trigger("loaded", { element: a, url: r }, "lazy") }, this)).attr("src", r) : a.is("source") ? a.one("load.owl.lazy", t.proxy(function () { this._core.trigger("loaded", { element: a, url: r }, "lazy") }, this)).attr("srcset", r) : ((o = new Image).onload = t.proxy(function () { a.css({ "background-image": 'url("' + r + '")', opacity: "1" }), this._core.trigger("loaded", { element: a, url: r }, "lazy") }, this), o.src = r) }, this)), this._loaded.push(i.get(0))) }, n.prototype.destroy = function () { var t, e; for (t in this.handlers) this._core.$element.off(t, this.handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, t.fn.owlCarousel.Constructor.Plugins.Lazy = n }(window.Zepto || window.jQuery, window, document), function (t, e) { var n = function (i) { this._core = i, this._previousHeight = null, this._handlers = { "initialized.owl.carousel refreshed.owl.carousel": t.proxy(function (t) { t.namespace && this._core.settings.autoHeight && this.update() }, this), "changed.owl.carousel": t.proxy(function (t) { t.namespace && this._core.settings.autoHeight && "position" === t.property.name && this.update() }, this), "loaded.owl.lazy": t.proxy(function (t) { t.namespace && this._core.settings.autoHeight && t.element.closest("." + this._core.settings.itemClass).index() === this._core.current() && this.update() }, this) }, this._core.options = t.extend({}, n.Defaults, this._core.options), this._core.$element.on(this._handlers), this._intervalId = null; var o = this; t(e).on("load", function () { o._core.settings.autoHeight && o.update() }), t(e).resize(function () { o._core.settings.autoHeight && (null != o._intervalId && clearTimeout(o._intervalId), o._intervalId = setTimeout(function () { o.update() }, 250)) }) }; n.Defaults = { autoHeight: !1, autoHeightClass: "owl-height" }, n.prototype.update = function () { var e = this._core._current, n = e + this._core.settings.items, i = this._core.settings.lazyLoad, o = this._core.$stage.children().toArray().slice(e, n), a = [], r = 0; t.each(o, function (e, n) { a.push(t(n).height()) }), (r = Math.max.apply(null, a)) <= 1 && i && this._previousHeight && (r = this._previousHeight), this._previousHeight = r, this._core.$stage.parent().height(r).addClass(this._core.settings.autoHeightClass) }, n.prototype.destroy = function () { var t, e; for (t in this._handlers) this._core.$element.off(t, this._handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, t.fn.owlCarousel.Constructor.Plugins.AutoHeight = n }(window.Zepto || window.jQuery, window, document), function (t, e, n) { var i = function (e) { this._core = e, this._videos = {}, this._playing = null, this._handlers = { "initialized.owl.carousel": t.proxy(function (t) { t.namespace && this._core.register({ type: "state", name: "playing", tags: ["interacting"] }) }, this), "resize.owl.carousel": t.proxy(function (t) { t.namespace && this._core.settings.video && this.isInFullScreen() && t.preventDefault() }, this), "refreshed.owl.carousel": t.proxy(function (t) { t.namespace && this._core.is("resizing") && this._core.$stage.find(".cloned .owl-video-frame").remove() }, this), "changed.owl.carousel": t.proxy(function (t) { t.namespace && "position" === t.property.name && this._playing && this.stop() }, this), "prepared.owl.carousel": t.proxy(function (e) { if (e.namespace) { var n = t(e.content).find(".owl-video"); n.length && (n.css("display", "none"), this.fetch(n, t(e.content))) } }, this) }, this._core.options = t.extend({}, i.Defaults, this._core.options), this._core.$element.on(this._handlers), this._core.$element.on("click.owl.video", ".owl-video-play-icon", t.proxy(function (t) { this.play(t) }, this)) }; i.Defaults = { video: !1, videoHeight: !1, videoWidth: !1 }, i.prototype.fetch = function (t, e) { var n = t.attr("data-vimeo-id") ? "vimeo" : t.attr("data-vzaar-id") ? "vzaar" : "youtube", i = t.attr("data-vimeo-id") || t.attr("data-youtube-id") || t.attr("data-vzaar-id"), o = t.attr("data-width") || this._core.settings.videoWidth, a = t.attr("data-height") || this._core.settings.videoHeight, r = t.attr("href"); if (!r) throw new Error("Missing video URL."); if (-1 < (i = r.match(/(http:|https:|)\/\/(player.|www.|app.)?(vimeo\.com|youtu(be\.com|\.be|be\.googleapis\.com|be\-nocookie\.com)|vzaar\.com)\/(video\/|videos\/|embed\/|channels\/.+\/|groups\/.+\/|watch\?v=|v\/)?([A-Za-z0-9._%-]*)(\&\S+)?/))[3].indexOf("youtu")) n = "youtube"; else if (-1 < i[3].indexOf("vimeo")) n = "vimeo"; else { if (!(-1 < i[3].indexOf("vzaar"))) throw new Error("Video URL not supported."); n = "vzaar" } i = i[6], this._videos[r] = { type: n, id: i, width: o, height: a }, e.attr("data-video", r), this.thumbnail(t, this._videos[r]) }, i.prototype.thumbnail = function (e, n) { function i(n) { o = l.lazyLoad ? t("<div/>", { class: "owl-video-tn " + g, srcType: n }) : t("<div/>", { class: "owl-video-tn", style: "opacity:1;background-image:url(" + n + ")" }), e.after(o), e.after('<div class="owl-video-play-icon"></div>') } var o, a = n.width && n.height ? "width:" + n.width + "px;height:" + n.height + "px;" : "", r = e.find("img"), s = "src", g = "", l = this._core.settings; if (e.wrap(t("<div/>", { class: "owl-video-wrapper", style: a })), this._core.settings.lazyLoad && (s = "data-src", g = "owl-lazy"), r.length) return i(r.attr(s)), r.remove(), !1; "youtube" === n.type ? i("//img.youtube.com/vi/" + n.id + "/hqdefault.jpg") : "vimeo" === n.type ? t.ajax({ type: "GET", url: "//vimeo.com/api/v2/video/" + n.id + ".json", jsonp: "callback", dataType: "jsonp", success: function (t) { i(t[0].thumbnail_large) } }) : "vzaar" === n.type && t.ajax({ type: "GET", url: "//vzaar.com/api/videos/" + n.id + ".json", jsonp: "callback", dataType: "jsonp", success: function (t) { i(t.framegrab_url) } }) }, i.prototype.stop = function () { this._core.trigger("stop", null, "video"), this._playing.find(".owl-video-frame").remove(), this._playing.removeClass("owl-video-playing"), this._playing = null, this._core.leave("playing"), this._core.trigger("stopped", null, "video") }, i.prototype.play = function (e) { var n, i = t(e.target).closest("." + this._core.settings.itemClass), o = this._videos[i.attr("data-video")], a = o.width || "100%", r = o.height || this._core.$stage.height(); this._playing || (this._core.enter("playing"), this._core.trigger("play", null, "video"), i = this._core.items(this._core.relative(i.index())), this._core.reset(i.index()), (n = t('<iframe frameborder="0" allowfullscreen mozallowfullscreen webkitAllowFullScreen ></iframe>')).attr("height", r), n.attr("width", a), "youtube" === o.type ? n.attr("src", "//www.youtube.com/embed/" + o.id + "?autoplay=1&rel=0&v=" + o.id) : "vimeo" === o.type ? n.attr("src", "//player.vimeo.com/video/" + o.id + "?autoplay=1") : "vzaar" === o.type && n.attr("src", "//view.vzaar.com/" + o.id + "/player?autoplay=true"), t(n).wrap('<div class="owl-video-frame" />').insertAfter(i.find(".owl-video")), this._playing = i.addClass("owl-video-playing")) }, i.prototype.isInFullScreen = function () { var e = n.fullscreenElement || n.mozFullScreenElement || n.webkitFullscreenElement; return e && t(e).parent().hasClass("owl-video-frame") }, i.prototype.destroy = function () { var t, e; for (t in this._core.$element.off("click.owl.video"), this._handlers) this._core.$element.off(t, this._handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, t.fn.owlCarousel.Constructor.Plugins.Video = i }(window.Zepto || window.jQuery, window, document), function (t) { var e = function (n) { this.core = n, this.core.options = t.extend({}, e.Defaults, this.core.options), this.swapping = !0, this.previous = void 0, this.next = void 0, this.handlers = { "change.owl.carousel": t.proxy(function (t) { t.namespace && "position" == t.property.name && (this.previous = this.core.current(), this.next = t.property.value) }, this), "drag.owl.carousel dragged.owl.carousel translated.owl.carousel": t.proxy(function (t) { t.namespace && (this.swapping = "translated" == t.type) }, this), "translate.owl.carousel": t.proxy(function (t) { t.namespace && this.swapping && (this.core.options.animateOut || this.core.options.animateIn) && this.swap() }, this) }, this.core.$element.on(this.handlers) }; e.Defaults = { animateOut: !1, animateIn: !1 }, e.prototype.swap = function () { if (1 === this.core.settings.items && t.support.animation && t.support.transition) { this.core.speed(0); var e, n = t.proxy(this.clear, this), i = this.core.$stage.children().eq(this.previous), o = this.core.$stage.children().eq(this.next), a = this.core.settings.animateIn, r = this.core.settings.animateOut; this.core.current() !== this.previous && (r && (e = this.core.coordinates(this.previous) - this.core.coordinates(this.next), i.one(t.support.animation.end, n).css({ left: e + "px" }).addClass("animated owl-animated-out").addClass(r)), a && o.one(t.support.animation.end, n).addClass("animated owl-animated-in").addClass(a)) } }, e.prototype.clear = function (e) { t(e.target).css({ left: "" }).removeClass("animated owl-animated-out owl-animated-in").removeClass(this.core.settings.animateIn).removeClass(this.core.settings.animateOut), this.core.onTransitionEnd() }, e.prototype.destroy = function () { var t, e; for (t in this.handlers) this.core.$element.off(t, this.handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, t.fn.owlCarousel.Constructor.Plugins.Animate = e }(window.Zepto || window.jQuery, window, document), function (t, e, n) { var i = function (e) { this._core = e, this._call = null, this._time = 0, this._timeout = 0, this._paused = !0, this._handlers = { "changed.owl.carousel": t.proxy(function (t) { t.namespace && "settings" === t.property.name ? this._core.settings.autoplay ? this.play() : this.stop() : t.namespace && "position" === t.property.name && this._paused && (this._time = 0) }, this), "initialized.owl.carousel": t.proxy(function (t) { t.namespace && this._core.settings.autoplay && this.play() }, this), "play.owl.autoplay": t.proxy(function (t, e, n) { t.namespace && this.play(e, n) }, this), "stop.owl.autoplay": t.proxy(function (t) { t.namespace && this.stop() }, this), "mouseover.owl.autoplay": t.proxy(function () { this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause() }, this), "mouseleave.owl.autoplay": t.proxy(function () { this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.play() }, this), "touchstart.owl.core": t.proxy(function () { this._core.settings.autoplayHoverPause && this._core.is("rotating") && this.pause() }, this), "touchend.owl.core": t.proxy(function () { this._core.settings.autoplayHoverPause && this.play() }, this) }, this._core.$element.on(this._handlers), this._core.options = t.extend({}, i.Defaults, this._core.options) }; i.Defaults = { autoplay: !1, autoplayTimeout: 5e3, autoplayHoverPause: !1, autoplaySpeed: !1 }, i.prototype._next = function (i) { this._call = e.setTimeout(t.proxy(this._next, this, i), this._timeout * (Math.round(this.read() / this._timeout) + 1) - this.read()), this._core.is("interacting") || n.hidden || this._core.next(i || this._core.settings.autoplaySpeed) }, i.prototype.read = function () { return (new Date).getTime() - this._time }, i.prototype.play = function (n, i) { var o; this._core.is("rotating") || this._core.enter("rotating"), n = n || this._core.settings.autoplayTimeout, o = Math.min(this._time % (this._timeout || n), n), this._paused ? (this._time = this.read(), this._paused = !1) : e.clearTimeout(this._call), this._time += this.read() % n - o, this._timeout = n, this._call = e.setTimeout(t.proxy(this._next, this, i), n - o) }, i.prototype.stop = function () { this._core.is("rotating") && (this._time = 0, this._paused = !0, e.clearTimeout(this._call), this._core.leave("rotating")) }, i.prototype.pause = function () { this._core.is("rotating") && !this._paused && (this._time = this.read(), this._paused = !0, e.clearTimeout(this._call)) }, i.prototype.destroy = function () { var t, e; for (t in this.stop(), this._handlers) this._core.$element.off(t, this._handlers[t]); for (e in Object.getOwnPropertyNames(this)) "function" != typeof this[e] && (this[e] = null) }, t.fn.owlCarousel.Constructor.Plugins.autoplay = i }(window.Zepto || window.jQuery, window, document), function (t) { "use strict"; var e = function (n) { this._core = n, this._initialized = !1, this._pages = [], this._controls = {}, this._templates = [], this.$element = this._core.$element, this._overrides = { next: this._core.next, prev: this._core.prev, to: this._core.to }, this._handlers = { "prepared.owl.carousel": t.proxy(function (e) { e.namespace && this._core.settings.dotsData && this._templates.push('<div class="' + this._core.settings.dotClass + '">' + t(e.content).find("[data-dot]").addBack("[data-dot]").attr("data-dot") + "</div>") }, this), "added.owl.carousel": t.proxy(function (t) { t.namespace && this._core.settings.dotsData && this._templates.splice(t.position, 0, this._templates.pop()) }, this), "remove.owl.carousel": t.proxy(function (t) { t.namespace && this._core.settings.dotsData && this._templates.splice(t.position, 1) }, this), "changed.owl.carousel": t.proxy(function (t) { t.namespace && "position" == t.property.name && this.draw() }, this), "initialized.owl.carousel": t.proxy(function (t) { t.namespace && !this._initialized && (this._core.trigger("initialize", null, "navigation"), this.initialize(), this.update(), this.draw(), this._initialized = !0, this._core.trigger("initialized", null, "navigation")) }, this), "refreshed.owl.carousel": t.proxy(function (t) { t.namespace && this._initialized && (this._core.trigger("refresh", null, "navigation"), this.update(), this.draw(), this._core.trigger("refreshed", null, "navigation")) }, this) }, this._core.options = t.extend({}, e.Defaults, this._core.options), this.$element.on(this._handlers) }; e.Defaults = { nav: !1, navText: ['<span aria-label="Previous">&#x2039;</span>', '<span aria-label="Next">&#x203a;</span>'], navSpeed: !1, navElement: 'button type="button" role="presentation"', navContainer: !1, navContainerClass: "owl-nav", navClass: ["owl-prev", "owl-next"], slideBy: 1, dotClass: "owl-dot", dotsClass: "owl-dots", dots: !0, dotsEach: !1, dotsData: !1, dotsSpeed: !1, dotsContainer: !1 }, e.prototype.initialize = function () { var e, n = this._core.settings; for (e in this._controls.$relative = (n.navContainer ? t(n.navContainer) : t("<div>").addClass(n.navContainerClass).appendTo(this.$element)).addClass("disabled"), this._controls.$previous = t("<" + n.navElement + ">").addClass(n.navClass[0]).html(n.navText[0]).prependTo(this._controls.$relative).on("click", t.proxy(function (t) { this.prev(n.navSpeed) }, this)), this._controls.$next = t("<" + n.navElement + ">").addClass(n.navClass[1]).html(n.navText[1]).appendTo(this._controls.$relative).on("click", t.proxy(function (t) { this.next(n.navSpeed) }, this)), n.dotsData || (this._templates = [t('<button role="button">').addClass(n.dotClass).append(t("<span>")).prop("outerHTML")]), this._controls.$absolute = (n.dotsContainer ? t(n.dotsContainer) : t("<div>").addClass(n.dotsClass).appendTo(this.$element)).addClass("disabled"), this._controls.$absolute.on("click", "button", t.proxy(function (e) { var i = t(e.target).parent().is(this._controls.$absolute) ? t(e.target).index() : t(e.target).parent().index(); e.preventDefault(), this.to(i, n.dotsSpeed) }, this)), this._overrides) this._core[e] = t.proxy(this[e], this) }, e.prototype.destroy = function () { var t, e, n, i, o; for (t in o = this._core.settings, this._handlers) this.$element.off(t, this._handlers[t]); for (e in this._controls) "$relative" === e && o.navContainer ? this._controls[e].html("") : this._controls[e].remove(); for (i in this.overides) this._core[i] = this._overrides[i]; for (n in Object.getOwnPropertyNames(this)) "function" != typeof this[n] && (this[n] = null) }, e.prototype.update = function () { var t, e, n = this._core.clones().length / 2, i = n + this._core.items().length, o = this._core.maximum(!0), a = this._core.settings, r = a.center || a.autoWidth || a.dotsData ? 1 : a.dotsEach || a.items; if ("page" !== a.slideBy && (a.slideBy = Math.min(a.slideBy, a.items)), a.dots || "page" == a.slideBy) for (this._pages = [], t = n, e = 0; t < i; t++) { if (r <= e || 0 === e) { if (this._pages.push({ start: Math.min(o, t - n), end: t - n + r - 1 }), Math.min(o, t - n) === o) break; e = 0 } e += this._core.mergers(this._core.relative(t)) } }, e.prototype.draw = function () { var e, n = this._core.settings, i = this._core.items().length <= n.items, o = this._core.relative(this._core.current()), a = n.loop || n.rewind; this._controls.$relative.toggleClass("disabled", !n.nav || i), n.nav && (this._controls.$previous.toggleClass("disabled", !a && o <= this._core.minimum(!0)), this._controls.$next.toggleClass("disabled", !a && o >= this._core.maximum(!0))), this._controls.$absolute.toggleClass("disabled", !n.dots || i), n.dots && (e = this._pages.length - this._controls.$absolute.children().length, n.dotsData && 0 != e ? this._controls.$absolute.html(this._templates.join("")) : 0 < e ? this._controls.$absolute.append(new Array(1 + e).join(this._templates[0])) : e < 0 && this._controls.$absolute.children().slice(e).remove(), this._controls.$absolute.find(".active").removeClass("active"), this._controls.$absolute.children().eq(t.inArray(this.current(), this._pages)).addClass("active")) }, e.prototype.onTrigger = function (e) { var n = this._core.settings; e.page = { index: t.inArray(this.current(), this._pages), count: this._pages.length, size: n && (n.center || n.autoWidth || n.dotsData ? 1 : n.dotsEach || n.items) } }, e.prototype.current = function () { var e = this._core.relative(this._core.current()); return t.grep(this._pages, t.proxy(function (t, n) { return t.start <= e && t.end >= e }, this)).pop() }, e.prototype.getPosition = function (e) { var n, i, o = this._core.settings; return "page" == o.slideBy ? (n = t.inArray(this.current(), this._pages), i = this._pages.length, e ? ++n : --n, n = this._pages[(n % i + i) % i].start) : (n = this._core.relative(this._core.current()), i = this._core.items().length, e ? n += o.slideBy : n -= o.slideBy), n }, e.prototype.next = function (e) { t.proxy(this._overrides.to, this._core)(this.getPosition(!0), e) }, e.prototype.prev = function (e) { t.proxy(this._overrides.to, this._core)(this.getPosition(!1), e) }, e.prototype.to = function (e, n, i) { var o; !i && this._pages.length ? (o = this._pages.length, t.proxy(this._overrides.to, this._core)(this._pages[(e % o + o) % o].start, n)) : t.proxy(this._overrides.to, this._core)(e, n) }, t.fn.owlCarousel.Constructor.Plugins.Navigation = e }(window.Zepto || window.jQuery, window, document), function (t, e) { "use strict"; var n = function (i) { this._core = i, this._hashes = {}, this.$element = this._core.$element, this._handlers = { "initialized.owl.carousel": t.proxy(function (n) { n.namespace && "URLHash" === this._core.settings.startPosition && t(e).trigger("hashchange.owl.navigation") }, this), "prepared.owl.carousel": t.proxy(function (e) { if (e.namespace) { var n = t(e.content).find("[data-hash]").addBack("[data-hash]").attr("data-hash"); if (!n) return; this._hashes[n] = e.content } }, this), "changed.owl.carousel": t.proxy(function (n) { if (n.namespace && "position" === n.property.name) { var i = this._core.items(this._core.relative(this._core.current())), o = t.map(this._hashes, function (t, e) { return t === i ? e : null }).join(); if (!o || e.location.hash.slice(1) === o) return; e.location.hash = o } }, this) }, this._core.options = t.extend({}, n.Defaults, this._core.options), this.$element.on(this._handlers), t(e).on("hashchange.owl.navigation", t.proxy(function (t) { var n = e.location.hash.substring(1), i = this._core.$stage.children(), o = this._hashes[n] && i.index(this._hashes[n]); void 0 !== o && o !== this._core.current() && this._core.to(this._core.relative(o), !1, !0) }, this)) }; n.Defaults = { URLhashListener: !1 }, n.prototype.destroy = function () { var n, i; for (n in t(e).off("hashchange.owl.navigation"), this._handlers) this._core.$element.off(n, this._handlers[n]); for (i in Object.getOwnPropertyNames(this)) "function" != typeof this[i] && (this[i] = null) }, t.fn.owlCarousel.Constructor.Plugins.Hash = n }(window.Zepto || window.jQuery, window, document), function (t, e, n, i) { var o = t("<support>").get(0).style, a = "Webkit Moz O ms".split(" "), r = { transition: { end: { WebkitTransition: "webkitTransitionEnd", MozTransition: "transitionend", OTransition: "oTransitionEnd", transition: "transitionend" } }, animation: { end: { WebkitAnimation: "webkitAnimationEnd", MozAnimation: "animationend", OAnimation: "oAnimationEnd", animation: "animationend" } } }; function s(e, n) { var r = !1, s = e.charAt(0).toUpperCase() + e.slice(1); return t.each((e + " " + a.join(s + " ") + s).split(" "), function (t, e) { if (o[e] !== i) return r = !n || e, !1 }), r } function g(t) { return s(t, !0) } !s("transition") || (t.support.transition = new String(g("transition")), t.support.transition.end = r.transition.end[t.support.transition]), !!s("animation") && (t.support.animation = new String(g("animation")), t.support.animation.end = r.animation.end[t.support.animation]), s("transform") && (t.support.transform = new String(g("transform")), t.support.transform3d = !!s("perspective")) }(window.Zepto || window.jQuery, window, document), function (t, e) { if ("function" == typeof define && define.amd) define(["module", "exports"], e); else if ("undefined" != typeof exports) e(module, exports); else { var n = { exports: {} }; e(n, n.exports), t.autosize = n.exports } }(this, function (t, e) { "use strict"; var n, i, o = "function" == typeof Map ? new Map : (n = [], i = [], { has: function (t) { return -1 < n.indexOf(t) }, get: function (t) { return i[n.indexOf(t)] }, set: function (t, e) { -1 === n.indexOf(t) && (n.push(t), i.push(e)) }, delete: function (t) { var e = n.indexOf(t); -1 < e && (n.splice(e, 1), i.splice(e, 1)) } }), a = function (t) { return new Event(t, { bubbles: !0 }) }; try { new Event("test") } catch (t) { a = function (t) { var e = document.createEvent("Event"); return e.initEvent(t, !0, !1), e } } function r(t) { var e = o.get(t); e && e.destroy() } function s(t) { var e = o.get(t); e && e.update() } var g = null; "undefined" == typeof window || "function" != typeof window.getComputedStyle ? ((g = function (t) { return t }).destroy = function (t) { return t }, g.update = function (t) { return t }) : ((g = function (t, e) { return t && Array.prototype.forEach.call(t.length ? t : [t], function (t) { return function (t) { if (t && t.nodeName && "TEXTAREA" === t.nodeName && !o.has(t)) { var e, n = null, i = null, r = null, s = function () { t.clientWidth !== i && I() }, g = function (e) { window.removeEventListener("resize", s, !1), t.removeEventListener("input", I, !1), t.removeEventListener("keyup", I, !1), t.removeEventListener("autosize:destroy", g, !1), t.removeEventListener("autosize:update", I, !1), Object.keys(e).forEach(function (n) { t.style[n] = e[n] }), o.delete(t) }.bind(t, { height: t.style.height, resize: t.style.resize, overflowY: t.style.overflowY, overflowX: t.style.overflowX, wordWrap: t.style.wordWrap }); t.addEventListener("autosize:destroy", g, !1), "onpropertychange" in t && "oninput" in t && t.addEventListener("keyup", I, !1), window.addEventListener("resize", s, !1), t.addEventListener("input", I, !1), t.addEventListener("autosize:update", I, !1), t.style.overflowX = "hidden", t.style.wordWrap = "break-word", o.set(t, { destroy: g, update: I }), "vertical" === (e = window.getComputedStyle(t, null)).resize ? t.style.resize = "none" : "both" === e.resize && (t.style.resize = "horizontal"), n = "content-box" === e.boxSizing ? -(parseFloat(e.paddingTop) + parseFloat(e.paddingBottom)) : parseFloat(e.borderTopWidth) + parseFloat(e.borderBottomWidth), isNaN(n) && (n = 0), I() } function l(e) { var n = t.style.width; t.style.width = "0px", t.offsetWidth, t.style.width = n, t.style.overflowY = e } function c() { if (0 !== t.scrollHeight) { var e = function (t) { for (var e = []; t && t.parentNode && t.parentNode instanceof Element;)t.parentNode.scrollTop && e.push({ node: t.parentNode, scrollTop: t.parentNode.scrollTop }), t = t.parentNode; return e }(t), o = document.documentElement && document.documentElement.scrollTop; t.style.height = "", t.style.height = t.scrollHeight + n + "px", i = t.clientWidth, e.forEach(function (t) { t.node.scrollTop = t.scrollTop }), o && (document.documentElement.scrollTop = o) } } function I() { c(); var e = Math.round(parseFloat(t.style.height)), n = window.getComputedStyle(t, null), i = "content-box" === n.boxSizing ? Math.round(parseFloat(n.height)) : t.offsetHeight; if (i < e ? "hidden" === n.overflowY && (l("scroll"), c(), i = "content-box" === n.boxSizing ? Math.round(parseFloat(window.getComputedStyle(t, null).height)) : t.offsetHeight) : "hidden" !== n.overflowY && (l("hidden"), c(), i = "content-box" === n.boxSizing ? Math.round(parseFloat(window.getComputedStyle(t, null).height)) : t.offsetHeight), r !== i) { r = i; var o = a("autosize:resized"); try { t.dispatchEvent(o) } catch (e) { } } } }(t) }), t }).destroy = function (t) { return t && Array.prototype.forEach.call(t.length ? t : [t], r), t }, g.update = function (t) { return t && Array.prototype.forEach.call(t.length ? t : [t], s), t }), e.default = g, t.exports = e.default }), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.ClipboardJS = e() : t.ClipboardJS = e() }(this, function () { return n = {}, t.m = e = [function (t, e, n) { "use strict"; var i = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, o = g(n(1)), a = g(n(3)), r = g(n(4)); function s(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function g(t) { return t && t.__esModule ? t : { default: t } } var l = (function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) }(c, a.default), function (t, e, n) { e && s(t.prototype, e), n && s(t, n) }(c, [{ key: "resolveOptions", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; this.action = "function" == typeof t.action ? t.action : this.defaultAction, this.target = "function" == typeof t.target ? t.target : this.defaultTarget, this.text = "function" == typeof t.text ? t.text : this.defaultText, this.container = "object" === i(t.container) ? t.container : document.body } }, { key: "listenClick", value: function (t) { var e = this; this.listener = (0, r.default)(t, "click", function (t) { return e.onClick(t) }) } }, { key: "onClick", value: function (t) { var e = t.delegateTarget || t.currentTarget; this.clipboardAction && (this.clipboardAction = null), this.clipboardAction = new o.default({ action: this.action(e), target: this.target(e), text: this.text(e), container: this.container, trigger: e, emitter: this }) } }, { key: "defaultAction", value: function (t) { return I("action", t) } }, { key: "defaultTarget", value: function (t) { var e = I("target", t); if (e) return document.querySelector(e) } }, { key: "defaultText", value: function (t) { return I("text", t) } }, { key: "destroy", value: function () { this.listener.destroy(), this.clipboardAction && (this.clipboardAction.destroy(), this.clipboardAction = null) } }], [{ key: "isSupported", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : ["copy", "cut"], e = "string" == typeof t ? [t] : t, n = !!document.queryCommandSupported; return e.forEach(function (t) { n = n && !!document.queryCommandSupported(t) }), n } }]), c); function c(t, e) { !function (t) { if (!(t instanceof c)) throw new TypeError("Cannot call a class as a function") }(this); var n = function (t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e }(this, (c.__proto__ || Object.getPrototypeOf(c)).call(this)); return n.resolveOptions(e), n.listenClick(t), n } function I(t, e) { var n = "data-clipboard-" + t; if (e.hasAttribute(n)) return e.getAttribute(n) } t.exports = l }, function (t, e, n) { "use strict"; var i, o = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }, a = (i = n(2)) && i.__esModule ? i : { default: i }; function r(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } var s = (function (t, e, n) { e && r(t.prototype, e), n && r(t, n) }(g, [{ key: "resolveOptions", value: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : {}; this.action = t.action, this.container = t.container, this.emitter = t.emitter, this.target = t.target, this.text = t.text, this.trigger = t.trigger, this.selectedText = "" } }, { key: "initSelection", value: function () { this.text ? this.selectFake() : this.target && this.selectTarget() } }, { key: "selectFake", value: function () { var t = this, e = "rtl" == document.documentElement.getAttribute("dir"); this.removeFake(), this.fakeHandlerCallback = function () { return t.removeFake() }, this.fakeHandler = this.container.addEventListener("click", this.fakeHandlerCallback) || !0, this.fakeElem = document.createElement("textarea"), this.fakeElem.style.fontSize = "12pt", this.fakeElem.style.border = "0", this.fakeElem.style.padding = "0", this.fakeElem.style.margin = "0", this.fakeElem.style.position = "absolute", this.fakeElem.style[e ? "right" : "left"] = "-9999px"; var n = window.pageYOffset || document.documentElement.scrollTop; this.fakeElem.style.top = n + "px", this.fakeElem.setAttribute("readonly", ""), this.fakeElem.value = this.text, this.container.appendChild(this.fakeElem), this.selectedText = (0, a.default)(this.fakeElem), this.copyText() } }, { key: "removeFake", value: function () { this.fakeHandler && (this.container.removeEventListener("click", this.fakeHandlerCallback), this.fakeHandler = null, this.fakeHandlerCallback = null), this.fakeElem && (this.container.removeChild(this.fakeElem), this.fakeElem = null) } }, { key: "selectTarget", value: function () { this.selectedText = (0, a.default)(this.target), this.copyText() } }, { key: "copyText", value: function () { var t = void 0; try { t = document.execCommand(this.action) } catch (e) { t = !1 } this.handleResult(t) } }, { key: "handleResult", value: function (t) { this.emitter.emit(t ? "success" : "error", { action: this.action, text: this.selectedText, trigger: this.trigger, clearSelection: this.clearSelection.bind(this) }) } }, { key: "clearSelection", value: function () { this.trigger && this.trigger.focus(), window.getSelection().removeAllRanges() } }, { key: "destroy", value: function () { this.removeFake() } }, { key: "action", set: function () { var t = 0 < arguments.length && void 0 !== arguments[0] ? arguments[0] : "copy"; if (this._action = t, "copy" !== this._action && "cut" !== this._action) throw new Error('Invalid "action" value, use either "copy" or "cut"') }, get: function () { return this._action } }, { key: "target", set: function (t) { if (void 0 !== t) { if (!t || "object" !== (void 0 === t ? "undefined" : o(t)) || 1 !== t.nodeType) throw new Error('Invalid "target" value, use a valid Element'); if ("copy" === this.action && t.hasAttribute("disabled")) throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute'); if ("cut" === this.action && (t.hasAttribute("readonly") || t.hasAttribute("disabled"))) throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes'); this._target = t } }, get: function () { return this._target } }]), g); function g(t) { !function (t) { if (!(t instanceof g)) throw new TypeError("Cannot call a class as a function") }(this), this.resolveOptions(t), this.initSelection() } t.exports = s }, function (t, e) { t.exports = function (t) { var e; if ("SELECT" === t.nodeName) t.focus(), e = t.value; else if ("INPUT" === t.nodeName || "TEXTAREA" === t.nodeName) { var n = t.hasAttribute("readonly"); n || t.setAttribute("readonly", ""), t.select(), t.setSelectionRange(0, t.value.length), n || t.removeAttribute("readonly"), e = t.value } else { t.hasAttribute("contenteditable") && t.focus(); var i = window.getSelection(), o = document.createRange(); o.selectNodeContents(t), i.removeAllRanges(), i.addRange(o), e = i.toString() } return e } }, function (t, e) { function n() { } n.prototype = { on: function (t, e, n) { var i = this.e || (this.e = {}); return (i[t] || (i[t] = [])).push({ fn: e, ctx: n }), this }, once: function (t, e, n) { var i = this; function o() { i.off(t, o), e.apply(n, arguments) } return o._ = e, this.on(t, o, n) }, emit: function (t) { for (var e = [].slice.call(arguments, 1), n = ((this.e || (this.e = {}))[t] || []).slice(), i = 0, o = n.length; i < o; i++)n[i].fn.apply(n[i].ctx, e); return this }, off: function (t, e) { var n = this.e || (this.e = {}), i = n[t], o = []; if (i && e) for (var a = 0, r = i.length; a < r; a++)i[a].fn !== e && i[a].fn._ !== e && o.push(i[a]); return o.length ? n[t] = o : delete n[t], this } }, t.exports = n }, function (t, e, n) { var i = n(5), o = n(6); t.exports = function (t, e, n) { if (!t && !e && !n) throw new Error("Missing required arguments"); if (!i.string(e)) throw new TypeError("Second argument must be a String"); if (!i.fn(n)) throw new TypeError("Third argument must be a Function"); if (i.node(t)) return u = e, h = n, (I = t).addEventListener(u, h), { destroy: function () { I.removeEventListener(u, h) } }; if (i.nodeList(t)) return g = t, l = e, c = n, Array.prototype.forEach.call(g, function (t) { t.addEventListener(l, c) }), { destroy: function () { Array.prototype.forEach.call(g, function (t) { t.removeEventListener(l, c) }) } }; if (i.string(t)) return a = t, r = e, s = n, o(document.body, a, r, s); throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList"); var a, r, s, g, l, c, I, u, h } }, function (t, e) { e.node = function (t) { return void 0 !== t && t instanceof HTMLElement && 1 === t.nodeType }, e.nodeList = function (t) { var n = Object.prototype.toString.call(t); return void 0 !== t && ("[object NodeList]" === n || "[object HTMLCollection]" === n) && "length" in t && (0 === t.length || e.node(t[0])) }, e.string = function (t) { return "string" == typeof t || t instanceof String }, e.fn = function (t) { return "[object Function]" === Object.prototype.toString.call(t) } }, function (t, e, n) { var i = n(7); function o(t, e, n, o, a) { var r = function (t, e, n, o) { return function (n) { n.delegateTarget = i(n.target, e), n.delegateTarget && o.call(t, n) } }.apply(this, arguments); return t.addEventListener(n, r, a), { destroy: function () { t.removeEventListener(n, r, a) } } } t.exports = function (t, e, n, i, a) { return "function" == typeof t.addEventListener ? o.apply(null, arguments) : "function" == typeof n ? o.bind(null, document).apply(null, arguments) : ("string" == typeof t && (t = document.querySelectorAll(t)), Array.prototype.map.call(t, function (t) { return o(t, e, n, i, a) })) } }, function (t, e) { if ("undefined" != typeof Element && !Element.prototype.matches) { var n = Element.prototype; n.matches = n.matchesSelector || n.mozMatchesSelector || n.msMatchesSelector || n.oMatchesSelector || n.webkitMatchesSelector } t.exports = function (t, e) { for (; t && 9 !== t.nodeType;) { if ("function" == typeof t.matches && t.matches(e)) return t; t = t.parentNode } } }], t.c = n, t.d = function (e, n, i) { t.o(e, n) || Object.defineProperty(e, n, { enumerable: !0, get: i }) }, t.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, t.t = function (e, n) { if (1 & n && (e = t(e)), 8 & n) return e; if (4 & n && "object" == typeof e && e && e.__esModule) return e; var i = Object.create(null); if (t.r(i), Object.defineProperty(i, "default", { enumerable: !0, value: e }), 2 & n && "string" != typeof e) for (var o in e) t.d(i, o, function (t) { return e[t] }.bind(null, o)); return i }, t.n = function (e) { var n = e && e.__esModule ? function () { return e.default } : function () { return e }; return t.d(n, "a", n), n }, t.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, t.p = "", t(t.s = 0); function t(i) { if (n[i]) return n[i].exports; var o = n[i] = { i: i, l: !1, exports: {} }; return e[i].call(o.exports, o, o.exports, t), o.l = !0, o.exports } var e, n }); var _createClass = function () { function t(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } return function (e, n, i) { return n && t(e.prototype, n), i && t(e, i), e } }(); function _possibleConstructorReturn(t, e) { if (!t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return !e || "object" != typeof e && "function" != typeof e ? t : e } function _inherits(t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function, not " + typeof e); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, enumerable: !1, writable: !0, configurable: !0 } }), e && (Object.setPrototypeOf ? Object.setPrototypeOf(t, e) : t.__proto__ = e) } function _classCallCheck(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } var Emitter = function () { function t() { _classCallCheck(this, t) } return _createClass(t, [{ key: "on", value: function (t, e) { return this._callbacks = this._callbacks || {}, this._callbacks[t] || (this._callbacks[t] = []), this._callbacks[t].push(e), this } }, { key: "emit", value: function (t) { this._callbacks = this._callbacks || {}; var e = this._callbacks[t]; if (e) { for (var n = arguments.length, i = Array(1 < n ? n - 1 : 0), o = 1; o < n; o++)i[o - 1] = arguments[o]; for (var a = 0, r = r = e; !(a >= r.length);)r[a++].apply(this, i) } return this } }, { key: "off", value: function (t, e) { if (!this._callbacks || 0 === arguments.length) return this._callbacks = {}, this; var n = this._callbacks[t]; if (!n) return this; if (1 === arguments.length) return delete this._callbacks[t], this; for (var i = 0; i < n.length; i++)if (n[i] === e) { n.splice(i, 1); break } return this } }]), t }(), Dropzone = function () { function t(e, n) { _classCallCheck(this, t); var i, o = _possibleConstructorReturn(this, (t.__proto__ || Object.getPrototypeOf(t)).call(this)), a = void 0; if (o.element = e, o.version = t.version, o.defaultOptions.previewTemplate = o.defaultOptions.previewTemplate.replace(/\n*/g, ""), o.clickableElements = [], o.listeners = [], o.files = [], "string" == typeof o.element && (o.element = document.querySelector(o.element)), !o.element || null == o.element.nodeType) throw new Error("Invalid dropzone element."); if (o.element.dropzone) throw new Error("Dropzone already attached."); t.instances.push(o), o.element.dropzone = o; var r, s = null != (i = t.optionsForElement(o.element)) ? i : {}; if (o.options = t.extend({}, o.defaultOptions, s, null != n ? n : {}), o.options.forceFallback || !t.isBrowserSupported()) return r = o.options.fallback.call(o), _possibleConstructorReturn(o, r); if (null == o.options.url && (o.options.url = o.element.getAttribute("action")), !o.options.url) throw new Error("No URL provided."); if (o.options.acceptedFiles && o.options.acceptedMimeTypes) throw new Error("You can't provide both 'acceptedFiles' and 'acceptedMimeTypes'. 'acceptedMimeTypes' is deprecated."); if (o.options.uploadMultiple && o.options.chunking) throw new Error("You cannot set both: uploadMultiple and chunking."); return o.options.acceptedMimeTypes && (o.options.acceptedFiles = o.options.acceptedMimeTypes, delete o.options.acceptedMimeTypes), null != o.options.renameFilename && (o.options.renameFile = function (t) { return o.options.renameFilename.call(o, t.name, t) }), o.options.method = o.options.method.toUpperCase(), (a = o.getExistingFallback()) && a.parentNode && a.parentNode.removeChild(a), !1 !== o.options.previewsContainer && (o.options.previewsContainer ? o.previewsContainer = t.getElement(o.options.previewsContainer, "previewsContainer") : o.previewsContainer = o.element), o.options.clickable && (!0 === o.options.clickable ? o.clickableElements = [o.element] : o.clickableElements = t.getElements(o.options.clickable, "clickable")), o.init(), o } return _inherits(t, Emitter), _createClass(t, null, [{ key: "initClass", value: function () { this.prototype.Emitter = Emitter, this.prototype.events = ["drop", "dragstart", "dragend", "dragenter", "dragover", "dragleave", "addedfile", "addedfiles", "removedfile", "thumbnail", "error", "errormultiple", "processing", "processingmultiple", "uploadprogress", "totaluploadprogress", "sending", "sendingmultiple", "success", "successmultiple", "canceled", "canceledmultiple", "complete", "completemultiple", "reset", "maxfilesexceeded", "maxfilesreached", "queuecomplete"], this.prototype.defaultOptions = { url: null, method: "post", withCredentials: !1, timeout: 3e4, parallelUploads: 2, uploadMultiple: !1, chunking: !1, forceChunking: !1, chunkSize: 2e6, parallelChunkUploads: !1, retryChunks: !1, retryChunksLimit: 3, maxFilesize: 256, paramName: "file", createImageThumbnails: !0, maxThumbnailFilesize: 10, thumbnailWidth: 120, thumbnailHeight: 120, thumbnailMethod: "crop", resizeWidth: null, resizeHeight: null, resizeMimeType: null, resizeQuality: .8, resizeMethod: "contain", filesizeBase: 1e3, maxFiles: null, headers: null, clickable: !0, ignoreHiddenFiles: !0, acceptedFiles: null, acceptedMimeTypes: null, autoProcessQueue: !0, autoQueue: !0, addRemoveLinks: !1, previewsContainer: null, hiddenInputContainer: "body", capture: null, renameFilename: null, renameFile: null, forceFallback: !1, dictDefaultMessage: "Drop files here to upload", dictFallbackMessage: "Your browser does not support drag'n'drop file uploads.", dictFallbackText: "Please use the fallback form below to upload your files like in the olden days.", dictFileTooBig: "File is too big ({{filesize}}MiB). Max filesize: {{maxFilesize}}MiB.", dictInvalidFileType: "You can't upload files of this type.", dictResponseError: "Server responded with {{statusCode}} code.", dictCancelUpload: "Cancel upload", dictUploadCanceled: "Upload canceled.", dictCancelUploadConfirmation: "Are you sure you want to cancel this upload?", dictRemoveFile: "Remove file", dictRemoveFileConfirmation: null, dictMaxFilesExceeded: "You can not upload any more files.", dictFileSizeUnits: { tb: "TB", gb: "GB", mb: "MB", kb: "KB", b: "b" }, init: function () { }, params: function (t, e, n) { if (n) return { dzuuid: n.file.upload.uuid, dzchunkindex: n.index, dztotalfilesize: n.file.size, dzchunksize: this.options.chunkSize, dztotalchunkcount: n.file.upload.totalChunkCount, dzchunkbyteoffset: n.index * this.options.chunkSize } }, accept: function (t, e) { return e() }, chunksUploaded: function (t, e) { e() }, fallback: function () { var e = void 0; this.element.className = this.element.className + " dz-browser-not-supported"; for (var n = 0, i = i = this.element.getElementsByTagName("div"); !(n >= i.length);) { var o = i[n++]; if (/(^| )dz-message($| )/.test(o.className)) { (e = o).className = "dz-message"; break } } e || (e = t.createElement('<div class="dz-message"><span></span></div>'), this.element.appendChild(e)); var a = e.getElementsByTagName("span")[0]; return a && (null != a.textContent ? a.textContent = this.options.dictFallbackMessage : null != a.innerText && (a.innerText = this.options.dictFallbackMessage)), this.element.appendChild(this.getFallbackForm()) }, resize: function (t, e, n, i) { var o = { srcX: 0, srcY: 0, srcWidth: t.width, srcHeight: t.height }, a = t.width / t.height; null == e && null == n ? (e = o.srcWidth, n = o.srcHeight) : null == e ? e = n * a : null == n && (n = e / a); var r = (e = Math.min(e, o.srcWidth)) / (n = Math.min(n, o.srcHeight)); if (o.srcWidth > e || o.srcHeight > n) if ("crop" === i) r < a ? (o.srcHeight = t.height, o.srcWidth = o.srcHeight * r) : (o.srcWidth = t.width, o.srcHeight = o.srcWidth / r); else { if ("contain" !== i) throw new Error("Unknown resizeMethod '" + i + "'"); r < a ? n = e / a : e = n * a } return o.srcX = (t.width - o.srcWidth) / 2, o.srcY = (t.height - o.srcHeight) / 2, o.trgWidth = e, o.trgHeight = n, o }, transformFile: function (t, e) { return (this.options.resizeWidth || this.options.resizeHeight) && t.type.match(/image.*/) ? this.resizeImage(t, this.options.resizeWidth, this.options.resizeHeight, this.options.resizeMethod, e) : e(t) }, previewTemplate: '<div class="dz-preview dz-file-preview">\n  <div class="dz-image"><img data-dz-thumbnail /></div>\n  <div class="dz-details">\n    <div class="dz-size"><span data-dz-size></span></div>\n    <div class="dz-filename"><span data-dz-name></span></div>\n  </div>\n  <div class="dz-progress"><span class="dz-upload" data-dz-uploadprogress></span></div>\n  <div class="dz-error-message"><span data-dz-errormessage></span></div>\n  <div class="dz-success-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Check</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <path d="M23.5,31.8431458 L17.5852419,25.9283877 C16.0248253,24.3679711 13.4910294,24.366835 11.9289322,25.9289322 C10.3700136,27.4878508 10.3665912,30.0234455 11.9283877,31.5852419 L20.4147581,40.0716123 C20.5133999,40.1702541 20.6159315,40.2626649 20.7218615,40.3488435 C22.2835669,41.8725651 24.794234,41.8626202 26.3461564,40.3106978 L43.3106978,23.3461564 C44.8771021,21.7797521 44.8758057,19.2483887 43.3137085,17.6862915 C41.7547899,16.1273729 39.2176035,16.1255422 37.6538436,17.6893022 L23.5,31.8431458 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" stroke-opacity="0.198794158" stroke="#747474" fill-opacity="0.816519475" fill="#FFFFFF" sketch:type="MSShapeGroup"></path>\n      </g>\n    </svg>\n  </div>\n  <div class="dz-error-mark">\n    <svg width="54px" height="54px" viewBox="0 0 54 54" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:sketch="http://www.bohemiancoding.com/sketch/ns">\n      <title>Error</title>\n      <defs></defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" sketch:type="MSPage">\n        <g id="Check-+-Oval-2" sketch:type="MSLayerGroup" stroke="#747474" stroke-opacity="0.198794158" fill="#FFFFFF" fill-opacity="0.816519475">\n          <path d="M32.6568542,29 L38.3106978,23.3461564 C39.8771021,21.7797521 39.8758057,19.2483887 38.3137085,17.6862915 C36.7547899,16.1273729 34.2176035,16.1255422 32.6538436,17.6893022 L27,23.3431458 L21.3461564,17.6893022 C19.7823965,16.1255422 17.2452101,16.1273729 15.6862915,17.6862915 C14.1241943,19.2483887 14.1228979,21.7797521 15.6893022,23.3461564 L21.3431458,29 L15.6893022,34.6538436 C14.1228979,36.2202479 14.1241943,38.7516113 15.6862915,40.3137085 C17.2452101,41.8726271 19.7823965,41.8744578 21.3461564,40.3106978 L27,34.6568542 L32.6538436,40.3106978 C34.2176035,41.8744578 36.7547899,41.8726271 38.3137085,40.3137085 C39.8758057,38.7516113 39.8771021,36.2202479 38.3106978,34.6538436 L32.6568542,29 Z M27,53 C41.3594035,53 53,41.3594035 53,27 C53,12.6405965 41.3594035,1 27,1 C12.6405965,1 1,12.6405965 1,27 C1,41.3594035 12.6405965,53 27,53 Z" id="Oval-2" sketch:type="MSShapeGroup"></path>\n        </g>\n      </g>\n    </svg>\n  </div>\n</div>', drop: function (t) { return this.element.classList.remove("dz-drag-hover") }, dragstart: function (t) { }, dragend: function (t) { return this.element.classList.remove("dz-drag-hover") }, dragenter: function (t) { return this.element.classList.add("dz-drag-hover") }, dragover: function (t) { return this.element.classList.add("dz-drag-hover") }, dragleave: function (t) { return this.element.classList.remove("dz-drag-hover") }, paste: function (t) { }, reset: function () { return this.element.classList.remove("dz-started") }, addedfile: function (e) { var n = this; if (this.element === this.previewsContainer && this.element.classList.add("dz-started"), this.previewsContainer) { e.previewElement = t.createElement(this.options.previewTemplate.trim()), e.previewTemplate = e.previewElement, this.previewsContainer.appendChild(e.previewElement); for (var i = 0, o = o = e.previewElement.querySelectorAll("[data-dz-name]"); !(i >= o.length);) { var a = o[i++]; a.textContent = e.name } for (var r = 0, s = s = e.previewElement.querySelectorAll("[data-dz-size]"); !(r >= s.length);)(a = s[r++]).innerHTML = this.filesize(e.size); function g(i) { return i.preventDefault(), i.stopPropagation(), e.status === t.UPLOADING ? t.confirm(n.options.dictCancelUploadConfirmation, function () { return n.removeFile(e) }) : n.options.dictRemoveFileConfirmation ? t.confirm(n.options.dictRemoveFileConfirmation, function () { return n.removeFile(e) }) : n.removeFile(e) } this.options.addRemoveLinks && (e._removeLink = t.createElement('<a class="dz-remove" href="javascript:undefined;" data-dz-remove>' + this.options.dictRemoveFile + "</a>"), e.previewElement.appendChild(e._removeLink)); for (var l = 0, c = c = e.previewElement.querySelectorAll("[data-dz-remove]"); !(l >= c.length);)c[l++].addEventListener("click", g) } }, removedfile: function (t) { return null != t.previewElement && null != t.previewElement.parentNode && t.previewElement.parentNode.removeChild(t.previewElement), this._updateMaxFilesReachedClass() }, thumbnail: function (t, e) { if (t.previewElement) { t.previewElement.classList.remove("dz-file-preview"); for (var n = 0, i = i = t.previewElement.querySelectorAll("[data-dz-thumbnail]"); !(n >= i.length);) { var o = i[n++]; o.alt = t.name, o.src = e } return setTimeout(function () { return t.previewElement.classList.add("dz-image-preview") }, 1) } }, error: function (t, e) { if (t.previewElement) { t.previewElement.classList.add("dz-error"), "String" != typeof e && e.error && (e = e.error); for (var n = 0, i = i = t.previewElement.querySelectorAll("[data-dz-errormessage]"); !(n >= i.length);)i[n++].textContent = e } }, errormultiple: function () { }, processing: function (t) { if (t.previewElement && (t.previewElement.classList.add("dz-processing"), t._removeLink)) return t._removeLink.innerHTML = this.options.dictCancelUpload }, processingmultiple: function () { }, uploadprogress: function (t, e, n) { if (t.previewElement) for (var i = 0, o = o = t.previewElement.querySelectorAll("[data-dz-uploadprogress]"); !(i >= o.length);) { var a = o[i++]; "PROGRESS" === a.nodeName ? a.value = e : a.style.width = e + "%" } }, totaluploadprogress: function () { }, sending: function () { }, sendingmultiple: function () { }, success: function (t) { if (t.previewElement) return t.previewElement.classList.add("dz-success") }, successmultiple: function () { }, canceled: function (t) { return this.emit("error", t, this.options.dictUploadCanceled) }, canceledmultiple: function () { }, complete: function (t) { if (t._removeLink && (t._removeLink.innerHTML = this.options.dictRemoveFile), t.previewElement) return t.previewElement.classList.add("dz-complete") }, completemultiple: function () { }, maxfilesexceeded: function () { }, maxfilesreached: function () { }, queuecomplete: function () { }, addedfiles: function () { } }, this.prototype._thumbnailQueue = [], this.prototype._processingThumbnail = !1 } }, { key: "extend", value: function (t) { for (var e = arguments.length, n = Array(1 < e ? e - 1 : 0), i = 1; i < e; i++)n[i - 1] = arguments[i]; for (var o = 0, a = a = n; !(o >= a.length);) { var r = a[o++]; for (var s in r) { var g = r[s]; t[s] = g } } return t } }]), _createClass(t, [{ key: "getAcceptedFiles", value: function () { return this.files.filter(function (t) { return t.accepted }).map(function (t) { return t }) } }, { key: "getRejectedFiles", value: function () { return this.files.filter(function (t) { return !t.accepted }).map(function (t) { return t }) } }, { key: "getFilesWithStatus", value: function (t) { return this.files.filter(function (e) { return e.status === t }).map(function (t) { return t }) } }, { key: "getQueuedFiles", value: function () { return this.getFilesWithStatus(t.QUEUED) } }, { key: "getUploadingFiles", value: function () { return this.getFilesWithStatus(t.UPLOADING) } }, { key: "getAddedFiles", value: function () { return this.getFilesWithStatus(t.ADDED) } }, { key: "getActiveFiles", value: function () { return this.files.filter(function (e) { return e.status === t.UPLOADING || e.status === t.QUEUED }).map(function (t) { return t }) } }, { key: "init", value: function () { var e = this; "form" === this.element.tagName && this.element.setAttribute("enctype", "multipart/form-data"), this.element.classList.contains("dropzone") && !this.element.querySelector(".dz-message") && this.element.appendChild(t.createElement('<div class="dz-default dz-message"><span>' + this.options.dictDefaultMessage + "</span></div>")), this.clickableElements.length && function n() { return e.hiddenFileInput && e.hiddenFileInput.parentNode.removeChild(e.hiddenFileInput), e.hiddenFileInput = document.createElement("input"), e.hiddenFileInput.setAttribute("type", "file"), (null === e.options.maxFiles || 1 < e.options.maxFiles) && e.hiddenFileInput.setAttribute("multiple", "multiple"), e.hiddenFileInput.className = "dz-hidden-input", null !== e.options.acceptedFiles && e.hiddenFileInput.setAttribute("accept", e.options.acceptedFiles), null !== e.options.capture && e.hiddenFileInput.setAttribute("capture", e.options.capture), e.hiddenFileInput.style.visibility = "hidden", e.hiddenFileInput.style.position = "absolute", e.hiddenFileInput.style.top = "0", e.hiddenFileInput.style.left = "0", e.hiddenFileInput.style.height = "0", e.hiddenFileInput.style.width = "0", t.getElement(e.options.hiddenInputContainer, "hiddenInputContainer").appendChild(e.hiddenFileInput), e.hiddenFileInput.addEventListener("change", function () { var t = e.hiddenFileInput.files; if (t.length) for (var i = 0, o = o = t; !(i >= o.length);) { var a = o[i++]; e.addFile(a) } return e.emit("addedfiles", t), n() }) }(), this.URL = null !== window.URL ? window.URL : window.webkitURL; for (var n = 0, i = i = this.events; !(n >= i.length);) { var o = i[n++]; this.on(o, this.options[o]) } function a(t) { return t.stopPropagation(), t.preventDefault ? t.preventDefault() : t.returnValue = !1 } return this.on("uploadprogress", function () { return e.updateTotalUploadProgress() }), this.on("removedfile", function () { return e.updateTotalUploadProgress() }), this.on("canceled", function (t) { return e.emit("complete", t) }), this.on("complete", function (t) { if (0 === e.getAddedFiles().length && 0 === e.getUploadingFiles().length && 0 === e.getQueuedFiles().length) return setTimeout(function () { return e.emit("queuecomplete") }, 0) }), this.listeners = [{ element: this.element, events: { dragstart: function (t) { return e.emit("dragstart", t) }, dragenter: function (t) { return a(t), e.emit("dragenter", t) }, dragover: function (t) { var n = void 0; try { n = t.dataTransfer.effectAllowed } catch (t) { } return t.dataTransfer.dropEffect = "move" === n || "linkMove" === n ? "move" : "copy", a(t), e.emit("dragover", t) }, dragleave: function (t) { return e.emit("dragleave", t) }, drop: function (t) { return a(t), e.drop(t) }, dragend: function (t) { return e.emit("dragend", t) } } }], this.clickableElements.forEach(function (n) { return e.listeners.push({ element: n, events: { click: function (i) { return n === e.element && i.target !== e.element && !t.elementInside(i.target, e.element.querySelector(".dz-message")) || e.hiddenFileInput.click(), !0 } } }) }), this.enable(), this.options.init.call(this) } }, { key: "destroy", value: function () { return this.disable(), this.removeAllFiles(!0), (null != this.hiddenFileInput ? this.hiddenFileInput.parentNode : void 0) && (this.hiddenFileInput.parentNode.removeChild(this.hiddenFileInput), this.hiddenFileInput = null), delete this.element.dropzone, t.instances.splice(t.instances.indexOf(this), 1) } }, { key: "updateTotalUploadProgress", value: function () { var t = void 0, e = 0, n = 0; if (this.getActiveFiles().length) { for (var i = 0, o = o = this.getActiveFiles(); !(i >= o.length);) { var a = o[i++]; e += a.upload.bytesSent, n += a.upload.total } t = 100 * e / n } else t = 100; return this.emit("totaluploadprogress", t, n, e) } }, { key: "_getParamName", value: function (t) { return "function" == typeof this.options.paramName ? this.options.paramName(t) : this.options.paramName + (this.options.uploadMultiple ? "[" + t + "]" : "") } }, { key: "_renameFile", value: function (t) { return "function" != typeof this.options.renameFile ? t.name : this.options.renameFile(t) } }, { key: "getFallbackForm", value: function () { var e, n = void 0; if (e = this.getExistingFallback()) return e; var i = '<div class="dz-fallback">'; this.options.dictFallbackText && (i += "<p>" + this.options.dictFallbackText + "</p>"), i += '<input type="file" name="' + this._getParamName(0) + '" ' + (this.options.uploadMultiple ? 'multiple="multiple"' : void 0) + ' /><input type="submit" value="Upload!"></div>'; var o = t.createElement(i); return "FORM" !== this.element.tagName ? (n = t.createElement('<form action="' + this.options.url + '" enctype="multipart/form-data" method="' + this.options.method + '"></form>')).appendChild(o) : (this.element.setAttribute("enctype", "multipart/form-data"), this.element.setAttribute("method", this.options.method)), null != n ? n : o } }, { key: "getExistingFallback", value: function () { function t(t) { for (var e = 0, n = n = t; !(e >= n.length);) { var i = n[e++]; if (/(^| )fallback($| )/.test(i.className)) return i } } for (var e = ["div", "form"], n = 0; n < e.length; n++) { var i, o = e[n]; if (i = t(this.element.getElementsByTagName(o))) return i } } }, { key: "setupEventListeners", value: function () { return this.listeners.map(function (t) { return function () { var e = []; for (var n in t.events) { var i = t.events[n]; e.push(t.element.addEventListener(n, i, !1)) } return e }() }) } }, { key: "removeEventListeners", value: function () { return this.listeners.map(function (t) { return function () { var e = []; for (var n in t.events) { var i = t.events[n]; e.push(t.element.removeEventListener(n, i, !1)) } return e }() }) } }, { key: "disable", value: function () { var t = this; return this.clickableElements.forEach(function (t) { return t.classList.remove("dz-clickable") }), this.removeEventListeners(), this.disabled = !0, this.files.map(function (e) { return t.cancelUpload(e) }) } }, { key: "enable", value: function () { return delete this.disabled, this.clickableElements.forEach(function (t) { return t.classList.add("dz-clickable") }), this.setupEventListeners() } }, { key: "filesize", value: function (t) { var e = 0, n = "b"; if (0 < t) { for (var i = ["tb", "gb", "mb", "kb", "b"], o = 0; o < i.length; o++) { var a = i[o]; if (Math.pow(this.options.filesizeBase, 4 - o) / 10 <= t) { e = t / Math.pow(this.options.filesizeBase, 4 - o), n = a; break } } e = Math.round(10 * e) / 10 } return "<strong>" + e + "</strong> " + this.options.dictFileSizeUnits[n] } }, { key: "_updateMaxFilesReachedClass", value: function () { return null != this.options.maxFiles && this.getAcceptedFiles().length >= this.options.maxFiles ? (this.getAcceptedFiles().length === this.options.maxFiles && this.emit("maxfilesreached", this.files), this.element.classList.add("dz-max-files-reached")) : this.element.classList.remove("dz-max-files-reached") } }, { key: "drop", value: function (t) { if (t.dataTransfer) { this.emit("drop", t); for (var e = [], n = 0; n < t.dataTransfer.files.length; n++)e[n] = t.dataTransfer.files[n]; if (this.emit("addedfiles", e), e.length) { var i = t.dataTransfer.items; i && i.length && null != i[0].webkitGetAsEntry ? this._addFilesFromItems(i) : this.handleFiles(e) } } } }, { key: "paste", value: function (t) { if (null != __guard__(null != t ? t.clipboardData : void 0, function (t) { return t.items })) { this.emit("paste", t); var e = t.clipboardData.items; return e.length ? this._addFilesFromItems(e) : void 0 } } }, { key: "handleFiles", value: function (t) { for (var e = 0, n = n = t; !(e >= n.length);) { var i = n[e++]; this.addFile(i) } } }, { key: "_addFilesFromItems", value: function (t) { var e = this; return function () { for (var n = [], i = 0, o = o = t; !(i >= o.length);) { var a, r = o[i++]; null != r.webkitGetAsEntry && (a = r.webkitGetAsEntry()) ? a.isFile ? n.push(e.addFile(r.getAsFile())) : a.isDirectory ? n.push(e._addFilesFromDirectory(a, a.name)) : n.push(void 0) : null == r.getAsFile || null != r.kind && "file" !== r.kind ? n.push(void 0) : n.push(e.addFile(r.getAsFile())) } return n }() } }, { key: "_addFilesFromDirectory", value: function (t, e) { function n(t) { return __guardMethod__(console, "log", function (e) { return e.log(t) }) } var i = this, o = t.createReader(); return function t() { return o.readEntries(function (n) { if (0 < n.length) { for (var o = 0, a = a = n; !(o >= a.length);) { var r = a[o++]; r.isFile ? r.file(function (t) { if (!i.options.ignoreHiddenFiles || "." !== t.name.substring(0, 1)) return t.fullPath = e + "/" + t.name, i.addFile(t) }) : r.isDirectory && i._addFilesFromDirectory(r, e + "/" + r.name) } t() } return null }, n) }() } }, { key: "accept", value: function (e, n) { return this.options.maxFilesize && e.size > 1024 * this.options.maxFilesize * 1024 ? n(this.options.dictFileTooBig.replace("{{filesize}}", Math.round(e.size / 1024 / 10.24) / 100).replace("{{maxFilesize}}", this.options.maxFilesize)) : t.isValidFile(e, this.options.acceptedFiles) ? null != this.options.maxFiles && this.getAcceptedFiles().length >= this.options.maxFiles ? (n(this.options.dictMaxFilesExceeded.replace("{{maxFiles}}", this.options.maxFiles)), this.emit("maxfilesexceeded", e)) : this.options.accept.call(this, e, n) : n(this.options.dictInvalidFileType) } }, { key: "addFile", value: function (e) { var n = this; return e.upload = { uuid: t.uuidv4(), progress: 0, total: e.size, bytesSent: 0, filename: this._renameFile(e), chunked: this.options.chunking && (this.options.forceChunking || e.size > this.options.chunkSize), totalChunkCount: Math.ceil(e.size / this.options.chunkSize) }, this.files.push(e), e.status = t.ADDED, this.emit("addedfile", e), this._enqueueThumbnail(e), this.accept(e, function (t) { return t ? (e.accepted = !1, n._errorProcessing([e], t)) : (e.accepted = !0, n.options.autoQueue && n.enqueueFile(e)), n._updateMaxFilesReachedClass() }) } }, { key: "enqueueFiles", value: function (t) { for (var e = 0, n = n = t; !(e >= n.length);) { var i = n[e++]; this.enqueueFile(i) } return null } }, { key: "enqueueFile", value: function (e) { var n = this; if (e.status !== t.ADDED || !0 !== e.accepted) throw new Error("This file can't be queued because it has already been processed or was rejected."); if (e.status = t.QUEUED, this.options.autoProcessQueue) return setTimeout(function () { return n.processQueue() }, 0) } }, { key: "_enqueueThumbnail", value: function (t) { var e = this; if (this.options.createImageThumbnails && t.type.match(/image.*/) && t.size <= 1024 * this.options.maxThumbnailFilesize * 1024) return this._thumbnailQueue.push(t), setTimeout(function () { return e._processThumbnailQueue() }, 0) } }, { key: "_processThumbnailQueue", value: function () { var t = this; if (!this._processingThumbnail && 0 !== this._thumbnailQueue.length) { this._processingThumbnail = !0; var e = this._thumbnailQueue.shift(); return this.createThumbnail(e, this.options.thumbnailWidth, this.options.thumbnailHeight, this.options.thumbnailMethod, !0, function (n) { return t.emit("thumbnail", e, n), t._processingThumbnail = !1, t._processThumbnailQueue() }) } } }, { key: "removeFile", value: function (e) { if (e.status === t.UPLOADING && this.cancelUpload(e), this.files = without(this.files, e), this.emit("removedfile", e), 0 === this.files.length) return this.emit("reset") } }, { key: "removeAllFiles", value: function (e) { null == e && (e = !1); for (var n = 0, i = i = this.files.slice(); !(n >= i.length);) { var o = i[n++]; o.status === t.UPLOADING && !e || this.removeFile(o) } return null } }, { key: "resizeImage", value: function (e, n, i, o, a) { var r = this; return this.createThumbnail(e, n, i, o, !0, function (n, i) { if (null == i) return a(e); var o = r.options.resizeMimeType; null == o && (o = e.type); var s = i.toDataURL(o, r.options.resizeQuality); return "image/jpeg" !== o && "image/jpg" !== o || (s = ExifRestore.restore(e.dataURL, s)), a(t.dataURItoBlob(s)) }) } }, { key: "createThumbnail", value: function (t, e, n, i, o, a) { var r = this, s = new FileReader; return s.onload = function () { if (t.dataURL = s.result, "image/svg+xml" !== t.type) return r.createThumbnailFromUrl(t, e, n, i, o, a); null != a && a(s.result) }, s.readAsDataURL(t) } }, { key: "createThumbnailFromUrl", value: function (t, e, n, i, o, a, r) { var s = this, g = document.createElement("img"); return r && (g.crossOrigin = r), g.onload = function () { var r = function (t) { return t(1) }; return "undefined" != typeof EXIF && null !== EXIF && o && (r = function (t) { return EXIF.getData(g, function () { return t(EXIF.getTag(this, "Orientation")) }) }), r(function (o) { t.width = g.width, t.height = g.height; var r = s.options.resize.call(s, t, e, n, i), l = document.createElement("canvas"), c = l.getContext("2d"); switch (l.width = r.trgWidth, l.height = r.trgHeight, 4 < o && (l.width = r.trgHeight, l.height = r.trgWidth), o) { case 2: c.translate(l.width, 0), c.scale(-1, 1); break; case 3: c.translate(l.width, l.height), c.rotate(Math.PI); break; case 4: c.translate(0, l.height), c.scale(1, -1); break; case 5: c.rotate(.5 * Math.PI), c.scale(1, -1); break; case 6: c.rotate(.5 * Math.PI), c.translate(0, -l.width); break; case 7: c.rotate(.5 * Math.PI), c.translate(l.height, -l.width), c.scale(-1, 1); break; case 8: c.rotate(-.5 * Math.PI), c.translate(-l.height, 0) }drawImageIOSFix(c, g, null != r.srcX ? r.srcX : 0, null != r.srcY ? r.srcY : 0, r.srcWidth, r.srcHeight, null != r.trgX ? r.trgX : 0, null != r.trgY ? r.trgY : 0, r.trgWidth, r.trgHeight); var I = l.toDataURL("image/png"); if (null != a) return a(I, l) }) }, null != a && (g.onerror = a), g.src = t.dataURL } }, { key: "processQueue", value: function () { var t = this.options.parallelUploads, e = this.getUploadingFiles().length, n = e; if (!(t <= e)) { var i = this.getQueuedFiles(); if (0 < i.length) { if (this.options.uploadMultiple) return this.processFiles(i.slice(0, t - e)); for (; n < t;) { if (!i.length) return; this.processFile(i.shift()), n++ } } } } }, { key: "processFile", value: function (t) { return this.processFiles([t]) } }, { key: "processFiles", value: function (e) { for (var n = 0, i = i = e; !(n >= i.length);) { var o = i[n++]; o.processing = !0, o.status = t.UPLOADING, this.emit("processing", o) } return this.options.uploadMultiple && this.emit("processingmultiple", e), this.uploadFiles(e) } }, { key: "_getFilesWithXhr", value: function (t) { return this.files.filter(function (e) { return e.xhr === t }).map(function (t) { return t }) } }, { key: "cancelUpload", value: function (e) { if (e.status === t.UPLOADING) { for (var n = this._getFilesWithXhr(e.xhr), i = 0, o = o = n; !(i >= o.length);)o[i++].status = t.CANCELED; void 0 !== e.xhr && e.xhr.abort(); for (var a = 0, r = r = n; !(a >= r.length);) { var s = r[a++]; this.emit("canceled", s) } this.options.uploadMultiple && this.emit("canceledmultiple", n) } else e.status !== t.ADDED && e.status !== t.QUEUED || (e.status = t.CANCELED, this.emit("canceled", e), this.options.uploadMultiple && this.emit("canceledmultiple", [e])); if (this.options.autoProcessQueue) return this.processQueue() } }, { key: "resolveOption", value: function (t) { if ("function" != typeof t) return t; for (var e = arguments.length, n = Array(1 < e ? e - 1 : 0), i = 1; i < e; i++)n[i - 1] = arguments[i]; return t.apply(this, n) } }, { key: "uploadFile", value: function (t) { return this.uploadFiles([t]) } }, { key: "uploadFiles", value: function (e) { var n = this; this._transformFiles(e, function (i) { if (e[0].upload.chunked) { var o = e[0], a = i[0]; function r() { for (var i = 0; void 0 !== o.upload.chunks[i];)i++; if (!(i >= o.upload.totalChunkCount)) { var r = i * n.options.chunkSize, s = Math.min(r + n.options.chunkSize, o.size), g = { name: n._getParamName(0), data: a.webkitSlice ? a.webkitSlice(r, s) : a.slice(r, s), filename: o.upload.filename, chunkIndex: i }; o.upload.chunks[i] = { file: o, index: i, dataBlock: g, status: t.UPLOADING, progress: 0, retries: 0 }, n._uploadData(e, [g]) } } if (o.upload.chunks = [], o.upload.finishedChunkUpload = function (i) { var a = !0; i.status = t.SUCCESS, i.dataBlock = null, i.xhr = null; for (var s = 0; s < o.upload.totalChunkCount; s++) { if (void 0 === o.upload.chunks[s]) return r(); o.upload.chunks[s].status !== t.SUCCESS && (a = !1) } a && n.options.chunksUploaded(o, function () { n._finished(e, "", null) }) }, n.options.parallelChunkUploads) for (var s = 0; s < o.upload.totalChunkCount; s++)r(); else r() } else { for (var g = [], l = 0; l < e.length; l++)g[l] = { name: n._getParamName(l), data: i[l], filename: e[l].upload.filename }; n._uploadData(e, g) } }) } }, { key: "_getChunk", value: function (t, e) { for (var n = 0; n < t.upload.totalChunkCount; n++)if (void 0 !== t.upload.chunks[n] && t.upload.chunks[n].xhr === e) return t.upload.chunks[n] } }, { key: "_uploadData", value: function (e, n) { for (var i = this, o = new XMLHttpRequest, a = 0, r = r = e; !(a >= r.length);)r[a++].xhr = o; e[0].upload.chunked && (e[0].upload.chunks[n[0].chunkIndex].xhr = o); var s = this.resolveOption(this.options.method, e), g = this.resolveOption(this.options.url, e); o.open(s, g, !0), o.timeout = this.resolveOption(this.options.timeout, e), o.withCredentials = !!this.options.withCredentials, o.onload = function (t) { i._finishedUploading(e, o, t) }, o.onerror = function () { i._handleUploadError(e, o) }, (null != o.upload ? o.upload : o).onprogress = function (t) { return i._updateFilesUploadProgress(e, o, t) }; var l = { Accept: "application/json", "Cache-Control": "no-cache", "X-Requested-With": "XMLHttpRequest" }; for (var c in this.options.headers && t.extend(l, this.options.headers), l) { var I = l[c]; I && o.setRequestHeader(c, I) } var u = new FormData; if (this.options.params) { var h = this.options.params; for (var d in "function" == typeof h && (h = h.call(this, e, o, e[0].upload.chunked ? this._getChunk(e[0], o) : null)), h) { var C = h[d]; u.append(d, C) } } for (var A = 0, p = p = e; !(A >= p.length);) { var m = p[A++]; this.emit("sending", m, o, u) } this.options.uploadMultiple && this.emit("sendingmultiple", e, o, u), this._addFormElementData(u); for (var f = 0; f < n.length; f++) { var b = n[f]; u.append(b.name, b.data, b.filename) } this.submitRequest(o, u, e) } }, { key: "_transformFiles", value: function (t, e) { function n(n) { i.options.transformFile.call(i, t[n], function (i) { o[n] = i, ++a === t.length && e(o) }) } for (var i = this, o = [], a = 0, r = 0; r < t.length; r++)n(r) } }, { key: "_addFormElementData", value: function (t) { if ("FORM" === this.element.tagName) for (var e = 0, n = n = this.element.querySelectorAll("input, textarea, select, button"); !(e >= n.length);) { var i = n[e++], o = i.getAttribute("name"), a = i.getAttribute("type"); if (a && (a = a.toLowerCase()), null != o) if ("SELECT" === i.tagName && i.hasAttribute("multiple")) for (var r = 0, s = s = i.options; !(r >= s.length);) { var g = s[r++]; g.selected && t.append(o, g.value) } else (!a || "checkbox" !== a && "radio" !== a || i.checked) && t.append(o, i.value) } } }, { key: "_updateFilesUploadProgress", value: function (t, e, n) { var i = void 0; if (void 0 !== n) { if (i = 100 * n.loaded / n.total, t[0].upload.chunked) { var o = t[0], a = this._getChunk(o, e); a.progress = i, a.total = n.total, a.bytesSent = n.loaded, o.upload.progress = 0, o.upload.total = 0; for (var r = o.upload.bytesSent = 0; r < o.upload.totalChunkCount; r++)void 0 !== o.upload.chunks[r] && void 0 !== o.upload.chunks[r].progress && (o.upload.progress += o.upload.chunks[r].progress, o.upload.total += o.upload.chunks[r].total, o.upload.bytesSent += o.upload.chunks[r].bytesSent); o.upload.progress = o.upload.progress / o.upload.totalChunkCount } else for (var s = 0, g = g = t; !(s >= g.length);) { var l = g[s++]; l.upload.progress = i, l.upload.total = n.total, l.upload.bytesSent = n.loaded } for (var c = 0, I = I = t; !(c >= I.length);) { var u = I[c++]; this.emit("uploadprogress", u, u.upload.progress, u.upload.bytesSent) } } else { var h = !0; i = 100; for (var d = 0, C = C = t; !(d >= C.length);) { var A = C[d++]; 100 === A.upload.progress && A.upload.bytesSent === A.upload.total || (h = !1), A.upload.progress = i, A.upload.bytesSent = A.upload.total } if (h) return; for (var p = 0, m = m = t; !(p >= m.length);) { var f = m[p++]; this.emit("uploadprogress", f, i, f.upload.bytesSent) } } } }, { key: "_finishedUploading", value: function (e, n, i) { var o = void 0; if (e[0].status !== t.CANCELED && 4 === n.readyState) { if ("arraybuffer" !== n.responseType && "blob" !== n.responseType && (o = n.responseText, n.getResponseHeader("content-type") && ~n.getResponseHeader("content-type").indexOf("application/json"))) try { o = JSON.parse(o) } catch (e) { i = e, o = "Invalid JSON response from server." } this._updateFilesUploadProgress(e), 200 <= n.status && n.status < 300 ? e[0].upload.chunked ? e[0].upload.finishedChunkUpload(this._getChunk(e[0], n)) : this._finished(e, o, i) : this._handleUploadError(e, n, o) } } }, { key: "_handleUploadError", value: function (e, n, i) { if (e[0].status !== t.CANCELED) { if (e[0].upload.chunked && this.options.retryChunks) { var o = this._getChunk(e[0], n); if (o.retries++ < this.options.retryChunksLimit) return void this._uploadData(e, [o.dataBlock]); console.warn("Retried this chunk too often. Giving up.") } for (var a = 0, r = r = e; !(a >= r.length);)r[a++], this._errorProcessing(e, i || this.options.dictResponseError.replace("{{statusCode}}", n.status), n) } } }, { key: "submitRequest", value: function (t, e, n) { t.send(e) } }, { key: "_finished", value: function (e, n, i) { for (var o = 0, a = a = e; !(o >= a.length);) { var r = a[o++]; r.status = t.SUCCESS, this.emit("success", r, n, i), this.emit("complete", r) } if (this.options.uploadMultiple && (this.emit("successmultiple", e, n, i), this.emit("completemultiple", e)), this.options.autoProcessQueue) return this.processQueue() } }, { key: "_errorProcessing", value: function (e, n, i) { for (var o = 0, a = a = e; !(o >= a.length);) { var r = a[o++]; r.status = t.ERROR, this.emit("error", r, n, i), this.emit("complete", r) } if (this.options.uploadMultiple && (this.emit("errormultiple", e, n, i), this.emit("completemultiple", e)), this.options.autoProcessQueue) return this.processQueue() } }], [{ key: "uuidv4", value: function () { return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function (t) { var e = 16 * Math.random() | 0; return ("x" === t ? e : 3 & e | 8).toString(16) }) } }]), t }(); Dropzone.initClass(), Dropzone.version = "5.5.1", Dropzone.options = {}, Dropzone.optionsForElement = function (t) { return t.getAttribute("id") ? Dropzone.options[camelize(t.getAttribute("id"))] : void 0 }, Dropzone.instances = [], Dropzone.forElement = function (t) { if ("string" == typeof t && (t = document.querySelector(t)), null == (null != t ? t.dropzone : void 0)) throw new Error("No Dropzone found for given element. This is probably because you're trying to access it before Dropzone had the time to initialize. Use the `init` option to setup any additional observers on your Dropzone."); return t.dropzone }, Dropzone.autoDiscover = !0, Dropzone.discover = function () { var t = void 0; if (document.querySelectorAll) t = document.querySelectorAll(".dropzone"); else { function e(e) { return function () { for (var n = [], i = 0, o = o = e; !(i >= o.length);) { var a = o[i++]; /(^| )dropzone($| )/.test(a.className) ? n.push(t.push(a)) : n.push(void 0) } return n }() } t = [], e(document.getElementsByTagName("div")), e(document.getElementsByTagName("form")) } return function () { for (var e = [], n = 0, i = i = t; !(n >= i.length);) { var o = i[n++]; !1 !== Dropzone.optionsForElement(o) ? e.push(new Dropzone(o)) : e.push(void 0) } return e }() }, Dropzone.blacklistedBrowsers = [/opera.*(Macintosh|Windows Phone).*version\/12/i], Dropzone.isBrowserSupported = function () { var t = !0; if (window.File && window.FileReader && window.FileList && window.Blob && window.FormData && document.querySelector) if ("classList" in document.createElement("a")) for (var e = 0, n = n = Dropzone.blacklistedBrowsers; !(e >= n.length);)n[e++].test(navigator.userAgent) && (t = !1); else t = !1; else t = !1; return t }, Dropzone.dataURItoBlob = function (t) { for (var e = atob(t.split(",")[1]), n = t.split(",")[0].split(":")[1].split(";")[0], i = new ArrayBuffer(e.length), o = new Uint8Array(i), a = 0, r = e.length, s = 0 <= r; s ? a <= r : r <= a; s ? a++ : a--)o[a] = e.charCodeAt(a); return new Blob([i], { type: n }) }; var without = function (t, e) { return t.filter(function (t) { return t !== e }).map(function (t) { return t }) }, camelize = function (t) { return t.replace(/[\-_](\w)/g, function (t) { return t.charAt(1).toUpperCase() }) }; Dropzone.createElement = function (t) { var e = document.createElement("div"); return e.innerHTML = t, e.childNodes[0] }, Dropzone.elementInside = function (t, e) { if (t === e) return !0; for (; t = t.parentNode;)if (t === e) return !0; return !1 }, Dropzone.getElement = function (t, e) { var n = void 0; if ("string" == typeof t ? n = document.querySelector(t) : null != t.nodeType && (n = t), null == n) throw new Error("Invalid `" + e + "` option provided. Please provide a CSS selector or a plain HTML element."); return n }, Dropzone.getElements = function (t, e) { var n = void 0, i = void 0; if (t instanceof Array) { i = []; try { for (var o = 0, a = a = t; !(o >= a.length);)n = a[o++], i.push(this.getElement(n, e)) } catch (t) { i = null } } else if ("string" == typeof t) { i = []; for (var r = 0, s = s = document.querySelectorAll(t); !(r >= s.length);)n = s[r++], i.push(n) } else null != t.nodeType && (i = [t]); if (null == i || !i.length) throw new Error("Invalid `" + e + "` option provided. Please provide a CSS selector, a plain HTML element or a list of those."); return i }, Dropzone.confirm = function (t, e, n) { return window.confirm(t) ? e() : null != n ? n() : void 0 }, Dropzone.isValidFile = function (t, e) { if (!e) return !0; e = e.split(","); for (var n = t.type, i = n.replace(/\/.*$/, ""), o = 0, a = a = e; !(o >= a.length);) { var r = a[o++]; if ("." === (r = r.trim()).charAt(0)) { if (-1 !== t.name.toLowerCase().indexOf(r.toLowerCase(), t.name.length - r.length)) return !0 } else if (/\/\*$/.test(r)) { if (i === r.replace(/\/.*$/, "")) return !0 } else if (n === r) return !0 } return !1 }, "undefined" != typeof jQuery && null !== jQuery && (jQuery.fn.dropzone = function (t) { return this.each(function () { return new Dropzone(this, t) }) }), "undefined" != typeof module && null !== module ? module.exports = Dropzone : window.Dropzone = Dropzone, Dropzone.ADDED = "added", Dropzone.QUEUED = "queued", Dropzone.ACCEPTED = Dropzone.QUEUED, Dropzone.UPLOADING = "uploading", Dropzone.PROCESSING = Dropzone.UPLOADING, Dropzone.CANCELED = "canceled", Dropzone.ERROR = "error", Dropzone.SUCCESS = "success"; var detectVerticalSquash = function (t) { t.naturalWidth; var e = t.naturalHeight, n = document.createElement("canvas"); n.width = 1, n.height = e; var i = n.getContext("2d"); i.drawImage(t, 0, 0); for (var o = i.getImageData(1, 0, 1, e).data, a = 0, r = e, s = e; a < s;)0 === o[4 * (s - 1) + 3] ? r = s : a = s, s = r + a >> 1; var g = s / e; return 0 == g ? 1 : g }, drawImageIOSFix = function (t, e, n, i, o, a, r, s, g, l) { var c = detectVerticalSquash(e); return t.drawImage(e, n, i, o, a, r, s, g, l / c) }, ExifRestore = function () { function t() { _classCallCheck(this, t) } return _createClass(t, null, [{ key: "initClass", value: function () { this.KEY_STR = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=" } }, { key: "encode64", value: function (t) { for (var e = "", n = void 0, i = void 0, o = "", a = void 0, r = void 0, s = void 0, g = "", l = 0; a = (n = t[l++]) >> 2, r = (3 & n) << 4 | (i = t[l++]) >> 4, s = (15 & i) << 2 | (o = t[l++]) >> 6, g = 63 & o, isNaN(i) ? s = g = 64 : isNaN(o) && (g = 64), e = e + this.KEY_STR.charAt(a) + this.KEY_STR.charAt(r) + this.KEY_STR.charAt(s) + this.KEY_STR.charAt(g), n = i = o = "", a = r = s = g = "", l < t.length;); return e } }, { key: "restore", value: function (t, e) { if (!t.match("data:image/jpeg;base64,")) return e; var n = this.decode64(t.replace("data:image/jpeg;base64,", "")), i = this.slice2Segments(n), o = this.exifManipulation(e, i); return "data:image/jpeg;base64," + this.encode64(o) } }, { key: "exifManipulation", value: function (t, e) { var n = this.getExifArray(e), i = this.insertExif(t, n); return new Uint8Array(i) } }, { key: "getExifArray", value: function (t) { for (var e = void 0, n = 0; n < t.length;) { if (255 === (e = t[n])[0] & 225 === e[1]) return e; n++ } return [] } }, { key: "insertExif", value: function (t, e) { var n = t.replace("data:image/jpeg;base64,", ""), i = this.decode64(n), o = i.indexOf(255, 3), a = i.slice(0, o), r = i.slice(o), s = a; return (s = s.concat(e)).concat(r) } }, { key: "slice2Segments", value: function (t) { for (var e = 0, n = []; !(255 === t[e] & 218 === t[e + 1]);) { if (255 === t[e] & 216 === t[e + 1]) e += 2; else { var i = e + (256 * t[e + 2] + t[e + 3]) + 2, o = t.slice(e, i); n.push(o), e = i } if (e > t.length) break } return n } }, { key: "decode64", value: function (t) { var e = void 0, n = void 0, i = "", o = void 0, a = void 0, r = "", s = 0, g = []; for (/[^A-Za-z0-9\+\/\=]/g.exec(t) && console.warn("There were invalid base64 characters in the input text.\nValid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\nExpect errors in decoding."), t = t.replace(/[^A-Za-z0-9\+\/\=]/g, ""); e = this.KEY_STR.indexOf(t.charAt(s++)) << 2 | (o = this.KEY_STR.indexOf(t.charAt(s++))) >> 4, n = (15 & o) << 4 | (a = this.KEY_STR.indexOf(t.charAt(s++))) >> 2, i = (3 & a) << 6 | (r = this.KEY_STR.indexOf(t.charAt(s++))), g.push(e), 64 !== a && g.push(n), 64 !== r && g.push(i), e = n = i = "", o = a = r = "", s < t.length;); return g } }]), t }(); ExifRestore.initClass(); var contentLoaded = function (t, e) { function n(o) { if ("readystatechange" !== o.type || "complete" === a.readyState) return ("load" === o.type ? t : a)[g](l + o.type, n, !1), !i && (i = !0) ? e.call(t, o.type || o) : void 0 } var i = !1, o = !0, a = t.document, r = a.documentElement, s = a.addEventListener ? "addEventListener" : "attachEvent", g = a.addEventListener ? "removeEventListener" : "detachEvent", l = a.addEventListener ? "" : "on"; if ("complete" !== a.readyState) { if (a.createEventObject && r.doScroll) { try { o = !t.frameElement } catch (o) { } o && function t() { try { r.doScroll("left") } catch (e) { return void setTimeout(t, 50) } return n("poll") }() } return a[s](l + "DOMContentLoaded", n, !1), a[s](l + "readystatechange", n, !1), t[s](l + "load", n, !1) } }; function __guard__(t, e) { return null != t ? e(t) : void 0 } function __guardMethod__(t, e, n) { return null != t && "function" == typeof t[e] ? n(t, e) : void 0 } Dropzone._autoDiscoverFunction = function () { if (Dropzone.autoDiscover) return Dropzone.discover() }, contentLoaded(window, Dropzone._autoDiscoverFunction), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? e(require("jquery")) : "function" == typeof define && define.amd ? define(["jquery"], e) : e(t.jQuery) }(this, function (t) { "use strict"; t = t && t.hasOwnProperty("default") ? t.default : t; var e = (n.prototype.render = function (e) { var n = t(this.markup); if (this.options && this.options.contents && n.html(this.options.contents), this.options && this.options.className && n.addClass(this.options.className), this.options && this.options.data && t.each(this.options.data, function (t, e) { n.attr("data-" + t, e) }), this.options && this.options.click && n.on("click", this.options.click), this.children) { var i = n.find(".note-children-container"); this.children.forEach(function (t) { t.render(i.length ? i : n) }) } return this.callback && this.callback(n, this.options), this.options && this.options.callback && this.options.callback(n), e && e.append(n), n }, n); function n(t, e, n, i) { this.markup = t, this.children = e, this.options = n, this.callback = i } var i = function (n, i) { return function () { var o = "object" == typeof arguments[1] ? arguments[1] : arguments[0], a = t.isArray(arguments[0]) ? arguments[0] : []; return o && o.children && (a = o.children), new e(n, a, o, i) } }, o = i('<div class="note-editor note-frame panel panel-default"/>'), a = i('<div class="note-toolbar panel-heading" role="toolbar"></div></div>'), r = i('<div class="note-editing-area"/>'), s = i('<textarea class="note-codable" role="textbox" aria-multiline="true"/>'), g = i('<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>'), l = i(['<output class="note-status-output" aria-live="polite"/>', '<div class="note-statusbar" role="status">', '  <div class="note-resizebar" role="seperator" aria-orientation="horizontal" aria-label="Resize">', '    <div class="note-icon-bar"/>', '    <div class="note-icon-bar"/>', '    <div class="note-icon-bar"/>', "  </div>", "</div>"].join("")), c = i('<div class="note-editor"/>'), I = i(['<div class="note-editable" contentEditable="true" role="textbox" aria-multiline="true"/>', '<output class="note-status-output" aria-live="polite"/>'].join("")), u = i('<div class="note-btn-group btn-group">'), h = i('<ul class="dropdown-menu" role="list">', function (e, n) { var i = t.isArray(n.items) ? n.items.map(function (t) { var e = "string" == typeof t ? t : t.value || "", i = n.template ? n.template(t) : t, o = "object" == typeof t ? t.option : void 0; return '<li role="listitem" aria-label="' + t + '"><a href="#" data-value="' + e + '"' + (void 0 !== o ? ' data-option="' + o + '"' : "") + ">" + i + "</a></li>" }).join("") : n.items; e.html(i).attr({ "aria-label": n.title }) }), d = i('<ul class="dropdown-menu note-check" role="list">', function (e, n) { var i = t.isArray(n.items) ? n.items.map(function (t) { var e = "string" == typeof t ? t : t.value || "", i = n.template ? n.template(t) : t; return '<li role="listitem" aria-label="' + t + '"><a href="#" data-value="' + e + '">' + f(n.checkClassName) + " " + i + "</a></li>" }).join("") : n.items; e.html(i).attr({ "aria-label": n.title }) }), C = i('<div class="note-color-palette"/>', function (t, e) { for (var n = [], i = 0, o = e.colors.length; i < o; i++) { for (var a = e.eventName, r = e.colors[i], s = e.colorsName[i], g = [], l = 0, c = r.length; l < c; l++) { var I = r[l], u = s[l]; g.push(['<button type="button" class="note-color-btn"', 'style="background-color:', I, '" ', 'data-event="', a, '" ', 'data-value="', I, '" ', 'title="', u, '" ', 'aria-label="', u, '" ', 'data-toggle="button" tabindex="-1"></button>'].join("")) } n.push('<div class="note-color-row">' + g.join("") + "</div>") } t.html(n.join("")), e.tooltip && t.find(".note-color-btn").tooltip({ container: e.container, trigger: "hover", placement: "bottom" }) }), A = i('<div class="modal" aria-hidden="false" tabindex="-1" role="dialog"/>', function (t, e) { e.fade && t.addClass("fade"), t.attr({ "aria-label": e.title }), t.html(['<div class="modal-dialog">', '  <div class="modal-content">', e.title ? '    <div class="modal-header">      <button type="button" class="close" data-dismiss="modal" aria-label="Close" aria-hidden="true">&times;</button>      <h4 class="modal-title">' + e.title + "</h4>    </div>" : "", '    <div class="modal-body">' + e.body + "</div>", e.footer ? '    <div class="modal-footer">' + e.footer + "</div>" : "", "  </div>", "</div>"].join("")) }), p = i(['<div class="note-popover popover in">', '  <div class="arrow"/>', '  <div class="popover-content note-children-container"/>', "</div>"].join(""), function (t, e) { var n = void 0 !== e.direction ? e.direction : "bottom"; t.addClass(n), e.hideArrow && t.find(".arrow").hide() }), m = i('<div class="checkbox"></div>', function (t, e) { t.html(["<label" + (e.id ? ' for="' + e.id + '"' : "") + ">", ' <input role="checkbox" type="checkbox"' + (e.id ? ' id="' + e.id + '"' : ""), e.checked ? " checked" : "", ' aria-checked="' + (e.checked ? "true" : "false") + '"/>', e.text ? e.text : "", "</label>"].join("")) }), f = function (t, e) { return "<" + (e = e || "i") + ' class="' + t + '"/>' }, b = { editor: o, toolbar: a, editingArea: r, codable: s, editable: g, statusbar: l, airEditor: c, airEditable: I, buttonGroup: u, dropdown: h, dropdownButtonContents: function (t, e) { return t + " " + f(e.icons.caret, "span") }, dropdownCheck: d, palette: C, dialog: A, popover: p, checkbox: m, icon: f, options: {}, button: function (t, e) { return i('<button type="button" class="note-btn btn btn-default btn-sm" role="button" tabindex="-1">', function (t, e) { e && e.tooltip && t.attr({ title: e.tooltip, "aria-label": e.tooltip }).tooltip({ container: void 0 !== e.container ? e.container : "body", trigger: "hover", placement: "bottom" }) })(t, e) }, toggleBtn: function (t, e) { t.toggleClass("disabled", !e), t.attr("disabled", !e) }, toggleBtnActive: function (t, e) { t.toggleClass("active", e) }, onDialogShown: function (t, e) { t.one("shown.bs.modal", e) }, onDialogHidden: function (t, e) { t.one("hidden.bs.modal", e) }, showDialog: function (t) { t.modal("show") }, hideDialog: function (t) { t.modal("hide") }, createLayout: function (t, e) { var n = (e.airMode ? b.airEditor([b.editingArea([b.airEditable()])]) : b.editor([b.toolbar(), b.editingArea([b.codable(), b.editable()]), b.statusbar()])).render(); return n.insertAfter(t), { note: t, editor: n, toolbar: n.find(".note-toolbar"), editingArea: n.find(".note-editing-area"), editable: n.find(".note-editable"), codable: n.find(".note-codable"), statusbar: n.find(".note-statusbar") } }, removeLayout: function (t, e) { t.html(e.editable.html()), e.editor.remove(), t.show() } }, B = 0, y = { eq: function (t) { return function (e) { return t === e } }, eq2: function (t, e) { return t === e }, peq2: function (t) { return function (e, n) { return e[t] === n[t] } }, ok: function () { return !0 }, fail: function () { return !1 }, self: function (t) { return t }, not: function (t) { return function () { return !t.apply(t, arguments) } }, and: function (t, e) { return function (n) { return t(n) && e(n) } }, invoke: function (t, e) { return function () { return t[e].apply(t, arguments) } }, uniqueId: function (t) { var e = ++B + ""; return t ? t + e : e }, rect2bnd: function (t) { var e = $(document); return { top: t.top + e.scrollTop(), left: t.left + e.scrollLeft(), width: t.right - t.left, height: t.bottom - t.top } }, invertObject: function (t) { var e = {}; for (var n in t) t.hasOwnProperty(n) && (e[t[n]] = n); return e }, namespaceToCamel: function (t, e) { return (e = e || "") + t.split(".").map(function (t) { return t.substring(0, 1).toUpperCase() + t.substring(1) }).join("") }, debounce: function (t, e, n) { var i; return function () { var o = this, a = arguments, r = n && !i; clearTimeout(i), i = setTimeout(function () { i = null, n || t.apply(o, a) }, e), r && t.apply(o, a) } } }; function v(t) { return t[0] } function x(t) { return t[t.length - 1] } function F(t) { return t.slice(1) } function Q(e, n) { return t.inArray(n, e) } function G(t, e) { return -1 !== Q(t, e) } var w, X = { head: v, last: x, initial: function (t) { return t.slice(0, t.length - 1) }, tail: F, prev: function (t, e) { var n = Q(t, e); return -1 === n ? null : t[n - 1] }, next: function (t, e) { var n = Q(t, e); return -1 === n ? null : t[n + 1] }, find: function (t, e) { for (var n = 0, i = t.length; n < i; n++) { var o = t[n]; if (e(o)) return o } }, contains: G, all: function (t, e) { for (var n = 0, i = t.length; n < i; n++)if (!e(t[n])) return !1; return !0 }, sum: function (t, e) { return e = e || y.self, t.reduce(function (t, n) { return t + e(n) }, 0) }, from: function (t) { for (var e = [], n = t.length, i = -1; ++i < n;)e[i] = t[i]; return e }, isEmpty: function (t) { return !t || !t.length }, clusterBy: function (t, e) { return t.length ? F(t).reduce(function (t, n) { var i = x(t); return e(x(i), n) ? i[i.length] = n : t[t.length] = [n], t }, [[v(t)]]) : [] }, compact: function (t) { for (var e = [], n = 0, i = t.length; n < i; n++)t[n] && e.push(t[n]); return e }, unique: function (t) { for (var e = [], n = 0, i = t.length; n < i; n++)G(e, t[n]) || e.push(t[n]); return e } }, S = "function" == typeof define && define.amd, k = navigator.userAgent, D = /MSIE|Trident/i.test(k); if (D) { var Z = /MSIE (\d+[.]\d+)/.exec(k); Z && (w = parseFloat(Z[1])), (Z = /Trident\/.*rv:([0-9]{1,}[.0-9]{0,})/.exec(k)) && (w = parseFloat(Z[1])) } var U = /Edge\/\d+/.test(k), W = !!window.CodeMirror; if (!W && S) if ("function" == typeof __webpack_require__) try { require.resolve("codemirror"), W = !0 } catch (n) { } else if ("undefined" != typeof require) if (void 0 !== require.resolve) try { require.resolve("codemirror"), W = !0 } catch (n) { } else void 0 !== require.specified && (W = require.specified("codemirror")); var T = "ontouchstart" in window || 0 < navigator.MaxTouchPoints || 0 < navigator.msMaxTouchPoints, N = D || U ? "DOMCharacterDataModified DOMSubtreeModified DOMNodeInserted" : "input", H = { isMac: -1 < navigator.appVersion.indexOf("Mac"), isMSIE: D, isEdge: U, isFF: !U && /firefox/i.test(k), isPhantom: /PhantomJS/i.test(k), isWebkit: !U && /webkit/i.test(k), isChrome: !U && /chrome/i.test(k), isSafari: !U && /safari/i.test(k), browserVersion: w, jqueryVersion: parseFloat(t.fn.jquery), isSupportAmd: S, isSupportTouch: T, hasCodeMirror: W, isFontInstalled: function (e) { var n = "Comic Sans MS" === e ? "Courier New" : "Comic Sans MS", i = t("<div>").css({ position: "absolute", left: "-9999px", top: "-9999px", fontSize: "200px" }).text("mmmmmmmmmwwwwwww").appendTo(document.body), o = i.css("fontFamily", n).width(), a = i.css("fontFamily", e + "," + n).width(); return i.remove(), o !== a }, isW3CRangeSupport: !!document.createRange, inputEventName: N }, E = String.fromCharCode(160); function R(e) { return e && t(e).hasClass("note-editable") } function Y(t) { return t = t.toUpperCase(), function (e) { return e && e.nodeName.toUpperCase() === t } } function O(t) { return t && 3 === t.nodeType } function _(t) { return t && /^BR|^IMG|^HR|^IFRAME|^BUTTON|^INPUT|^VIDEO|^EMBED/.test(t.nodeName.toUpperCase()) } function V(t) { return !R(t) && t && /^DIV|^P|^LI|^H[1-7]/.test(t.nodeName.toUpperCase()) } var L = Y("PRE"), M = Y("LI"), z = Y("TABLE"), P = Y("DATA"); function K(t) { return !(et(t) || J(t) || j(t) || V(t) || z(t) || tt(t) || P(t)) } function J(t) { return t && /^UL|^OL/.test(t.nodeName.toUpperCase()) } var j = Y("HR"); function q(t) { return t && /^TD|^TH/.test(t.nodeName.toUpperCase()) } var tt = Y("BLOCKQUOTE"); function et(t) { return q(t) || tt(t) || R(t) } var nt = Y("A"), it = Y("BODY"), ot = H.isMSIE && H.browserVersion < 11 ? "&nbsp;" : "<br>"; function at(t) { return O(t) ? t.nodeValue.length : t ? t.childNodes.length : 0 } function rt(t) { var e = at(t); return 0 === e || !O(t) && 1 === e && t.innerHTML === ot || !(!X.all(t.childNodes, O) || "" !== t.innerHTML) } function st(t) { _(t) || at(t) || (t.innerHTML = ot) } function gt(t, e) { for (; t;) { if (e(t)) return t; if (R(t)) break; t = t.parentNode } return null } function lt(t, e) { e = e || y.fail; var n = []; return gt(t, function (t) { return R(t) || n.push(t), e(t) }), n } function ct(t, e) { e = e || y.fail; for (var n = []; t && !e(t);)n.push(t), t = t.nextSibling; return n } function It(t, e) { var n = e.nextSibling, i = e.parentNode; return n ? i.insertBefore(t, n) : i.appendChild(t), t } function ut(e, n) { return t.each(n, function (t, n) { e.appendChild(n) }), e } function ht(t) { return 0 === t.offset } function dt(t) { return t.offset === at(t.node) } function Ct(t) { return ht(t) || dt(t) } function At(t, e) { for (; t && t !== e;) { if (0 !== mt(t)) return !1; t = t.parentNode } return !0 } function pt(t, e) { if (!e) return !1; for (; t && t !== e;) { if (mt(t) !== at(t.parentNode) - 1) return !1; t = t.parentNode } return !0 } function mt(t) { for (var e = 0; t = t.previousSibling;)e += 1; return e } function ft(t) { return !!(t && t.childNodes && t.childNodes.length) } function bt(t, e) { var n, i; if (0 === t.offset) { if (R(t.node)) return null; n = t.node.parentNode, i = mt(t.node) } else i = ft(t.node) ? at(n = t.node.childNodes[t.offset - 1]) : (n = t.node, e ? 0 : t.offset - 1); return { node: n, offset: i } } function Bt(t, e) { var n, i; if (at(t.node) === t.offset) { if (R(t.node)) return null; n = t.node.parentNode, i = mt(t.node) + 1 } else i = ft(t.node) ? (n = t.node.childNodes[t.offset], 0) : (n = t.node, e ? at(t.node) : t.offset + 1); return { node: n, offset: i } } function yt(t, e) { return t.node === e.node && t.offset === e.offset } function vt(t, e) { var n = e && e.isSkipPaddingBlankHTML, i = e && e.isNotSplitEdgePoint, o = e && e.isDiscardEmptySplits; if (o && (n = !0), Ct(t) && (O(t.node) || i)) { if (ht(t)) return t.node; if (dt(t)) return t.node.nextSibling } if (O(t.node)) return t.node.splitText(t.offset); var a = t.node.childNodes[t.offset], r = It(t.node.cloneNode(!1), t.node); return ut(r, ct(a)), n || (st(t.node), st(r)), o && (rt(t.node) && Qt(t.node), rt(r)) ? (Qt(r), t.node.nextSibling) : r } function xt(t, e, n) { var i = lt(e.node, y.eq(t)); return i.length ? 1 === i.length ? vt(e, n) : i.reduce(function (t, i) { return t === e.node && (t = vt(e, n)), vt({ node: i, offset: t ? mt(t) : at(i) }, n) }) : null } function Ft(t) { return document.createElement(t) } function Qt(t, e) { if (t && t.parentNode) { if (t.removeNode) return t.removeNode(e); var n = t.parentNode; if (!e) { for (var i = [], o = 0, a = t.childNodes.length; o < a; o++)i.push(t.childNodes[o]); for (o = 0, a = i.length; o < a; o++)n.insertBefore(i[o], t) } n.removeChild(t) } } var Gt = Y("TEXTAREA"); function wt(t, e) { var n = Gt(t[0]) ? t.val() : t.html(); return e ? n.replace(/[\n\r]/g, "") : n } var Xt = { NBSP_CHAR: E, ZERO_WIDTH_NBSP_CHAR: "\ufeff", blank: ot, emptyPara: "<p>" + ot + "</p>", makePredByNodeName: Y, isEditable: R, isControlSizing: function (e) { return e && t(e).hasClass("note-control-sizing") }, isText: O, isElement: function (t) { return t && 1 === t.nodeType }, isVoid: _, isPara: V, isPurePara: function (t) { return V(t) && !M(t) }, isHeading: function (t) { return t && /^H[1-7]/.test(t.nodeName.toUpperCase()) }, isInline: K, isBlock: y.not(K), isBodyInline: function (t) { return K(t) && !gt(t, V) }, isBody: it, isParaInline: function (t) { return K(t) && !!gt(t, V) }, isPre: L, isList: J, isTable: z, isData: P, isCell: q, isBlockquote: tt, isBodyContainer: et, isAnchor: nt, isDiv: Y("DIV"), isLi: M, isBR: Y("BR"), isSpan: Y("SPAN"), isB: Y("B"), isU: Y("U"), isS: Y("S"), isI: Y("I"), isImg: Y("IMG"), isTextarea: Gt, isEmpty: rt, isEmptyAnchor: y.and(nt, rt), isClosestSibling: function (t, e) { return t.nextSibling === e || t.previousSibling === e }, withClosestSiblings: function (t, e) { e = e || y.ok; var n = []; return t.previousSibling && e(t.previousSibling) && n.push(t.previousSibling), n.push(t), t.nextSibling && e(t.nextSibling) && n.push(t.nextSibling), n }, nodeLength: at, isLeftEdgePoint: ht, isRightEdgePoint: dt, isEdgePoint: Ct, isLeftEdgeOf: At, isRightEdgeOf: pt, isLeftEdgePointOf: function (t, e) { return ht(t) && At(t.node, e) }, isRightEdgePointOf: function (t, e) { return dt(t) && pt(t.node, e) }, prevPoint: bt, nextPoint: Bt, isSamePoint: yt, isVisiblePoint: function (t) { if (O(t.node) || !ft(t.node) || rt(t.node)) return !0; var e = t.node.childNodes[t.offset - 1], n = t.node.childNodes[t.offset]; return !(e && !_(e) || n && !_(n)) }, prevPointUntil: function (t, e) { for (; t;) { if (e(t)) return t; t = bt(t) } return null }, nextPointUntil: function (t, e) { for (; t;) { if (e(t)) return t; t = Bt(t) } return null }, isCharPoint: function (t) { if (!O(t.node)) return !1; var e = t.node.nodeValue.charAt(t.offset - 1); return e && " " !== e && e !== E }, walkPoint: function (t, e, n, i) { for (var o = t; o && (n(o), !yt(o, e));)o = Bt(o, i && t.node !== o.node && e.node !== o.node) }, ancestor: gt, singleChildAncestor: function (t, e) { for (t = t.parentNode; t && 1 === at(t);) { if (e(t)) return t; if (R(t)) break; t = t.parentNode } return null }, listAncestor: lt, lastAncestor: function (t, e) { var n = lt(t); return X.last(n.filter(e)) }, listNext: ct, listPrev: function (t, e) { e = e || y.fail; for (var n = []; t && !e(t);)n.push(t), t = t.previousSibling; return n }, listDescendant: function (t, e) { var n = []; return e = e || y.ok, function i(o) { t !== o && e(o) && n.push(o); for (var a = 0, r = o.childNodes.length; a < r; a++)i(o.childNodes[a]) }(t), n }, commonAncestor: function (e, n) { for (var i = lt(e), o = n; o; o = o.parentNode)if (-1 < t.inArray(o, i)) return o; return null }, wrap: function (e, n) { var i = e.parentNode, o = t("<" + n + ">")[0]; return i.insertBefore(o, e), o.appendChild(e), o }, insertAfter: It, appendChildNodes: ut, position: mt, hasChildren: ft, makeOffsetPath: function (t, e) { return lt(e, y.eq(t)).map(mt).reverse() }, fromOffsetPath: function (t, e) { for (var n = t, i = 0, o = e.length; i < o; i++)n = n.childNodes.length <= e[i] ? n.childNodes[n.childNodes.length - 1] : n.childNodes[e[i]]; return n }, splitTree: xt, splitPoint: function (t, e) { var n, i, o = e ? V : et, a = lt(t.node, o), r = X.last(a) || t.node; i = o(r) ? (n = a[a.length - 2], r) : (n = r).parentNode; var s = n && xt(n, t, { isSkipPaddingBlankHTML: e, isNotSplitEdgePoint: e }); return s || i !== t.node || (s = t.node.childNodes[t.offset]), { rightNode: s, container: i } }, create: Ft, createText: function (t) { return document.createTextNode(t) }, remove: Qt, removeWhile: function (t, e) { for (; t && !R(t) && e(t);) { var n = t.parentNode; Qt(t), t = n } }, replace: function (t, e) { if (t.nodeName.toUpperCase() === e.toUpperCase()) return t; var n = Ft(e); return t.style.cssText && (n.style.cssText = t.style.cssText), ut(n, X.from(t.childNodes)), It(n, t), Qt(t), n }, html: function (e, n) { var i = wt(e); return n && (i = i.replace(/<(\/?)(\b(?!!)[^>\s]*)(.*?)(\s*\/?>)/g, function (t, e, n) { n = n.toUpperCase(); var i = /^DIV|^TD|^TH|^P|^LI|^H[1-7]/.test(n) && !!e, o = /^BLOCKQUOTE|^TABLE|^TBODY|^TR|^HR|^UL|^OL/.test(n); return t + (i || o ? "\n" : "") }), i = t.trim(i)), i }, value: wt, posFromPlaceholder: function (e) { var n = t(e), i = n.offset(), o = n.outerHeight(!0); return { left: i.left, top: i.top + o } }, attachEvents: function (t, e) { Object.keys(e).forEach(function (n) { t.on(n, e[n]) }) }, detachEvents: function (t, e) { Object.keys(e).forEach(function (n) { t.off(n, e[n]) }) }, isCustomStyleTag: function (t) { return t && !O(t) && X.contains(t.classList, "note-styletag") } }; function St(t, e) { var n, i, o = t.parentElement(), a = document.body.createTextRange(), r = X.from(o.childNodes); for (n = 0; n < r.length; n++)if (!Xt.isText(r[n])) { if (a.moveToElementText(r[n]), 0 <= a.compareEndPoints("StartToStart", t)) break; i = r[n] } if (0 !== n && Xt.isText(r[n - 1])) { var s = document.body.createTextRange(), g = null; s.moveToElementText(i || o), s.collapse(!i), g = i ? i.nextSibling : o.firstChild; var l = t.duplicate(); l.setEndPoint("StartToStart", s); for (var c = l.text.replace(/[\r\n]/g, "").length; c > g.nodeValue.length && g.nextSibling;)c -= g.nodeValue.length, g = g.nextSibling; g.nodeValue, e && g.nextSibling && Xt.isText(g.nextSibling) && c === g.nodeValue.length && (c -= g.nodeValue.length, g = g.nextSibling), o = g, n = c } return { cont: o, offset: n } } function kt(t) { var e = function (t, n) { var i, o; if (Xt.isText(t)) { var a = Xt.listPrev(t, y.not(Xt.isText)), r = X.last(a).previousSibling; i = r || t.parentNode, n += X.sum(X.tail(a), Xt.nodeLength), o = !r } else { if (i = t.childNodes[n] || t, Xt.isText(i)) return e(i, 0); n = 0, o = !1 } return { node: i, collapseToStart: o, offset: n } }, n = document.body.createTextRange(), i = e(t.node, t.offset); return n.moveToElementText(i.node), n.collapse(i.collapseToStart), n.moveStart("character", i.offset), n } var Dt = (Zt.prototype.nativeRange = function () { if (H.isW3CRangeSupport) { var t = document.createRange(); return t.setStart(this.sc, this.so), t.setEnd(this.ec, this.eo), t } var e = kt({ node: this.sc, offset: this.so }); return e.setEndPoint("EndToEnd", kt({ node: this.ec, offset: this.eo })), e }, Zt.prototype.getPoints = function () { return { sc: this.sc, so: this.so, ec: this.ec, eo: this.eo } }, Zt.prototype.getStartPoint = function () { return { node: this.sc, offset: this.so } }, Zt.prototype.getEndPoint = function () { return { node: this.ec, offset: this.eo } }, Zt.prototype.select = function () { var t = this.nativeRange(); if (H.isW3CRangeSupport) { var e = document.getSelection(); 0 < e.rangeCount && e.removeAllRanges(), e.addRange(t) } else t.select(); return this }, Zt.prototype.scrollIntoView = function (e) { var n = t(e).height(); return e.scrollTop + n < this.sc.offsetTop && (e.scrollTop += Math.abs(e.scrollTop + n - this.sc.offsetTop)), this }, Zt.prototype.normalize = function () { function t(t, e) { if (Xt.isVisiblePoint(t) && !Xt.isEdgePoint(t) || Xt.isVisiblePoint(t) && Xt.isRightEdgePoint(t) && !e || Xt.isVisiblePoint(t) && Xt.isLeftEdgePoint(t) && e || Xt.isVisiblePoint(t) && Xt.isBlock(t.node) && Xt.isEmpty(t.node)) return t; var n = Xt.ancestor(t.node, Xt.isBlock); if ((Xt.isLeftEdgePointOf(t, n) || Xt.isVoid(Xt.prevPoint(t).node)) && !e || (Xt.isRightEdgePointOf(t, n) || Xt.isVoid(Xt.nextPoint(t).node)) && e) { if (Xt.isVisiblePoint(t)) return t; e = !e } return (e ? Xt.nextPointUntil(Xt.nextPoint(t), Xt.isVisiblePoint) : Xt.prevPointUntil(Xt.prevPoint(t), Xt.isVisiblePoint)) || t } var e = t(this.getEndPoint(), !1), n = this.isCollapsed() ? e : t(this.getStartPoint(), !0); return new Zt(n.node, n.offset, e.node, e.offset) }, Zt.prototype.nodes = function (t, e) { t = t || y.ok; var n = e && e.includeAncestor, i = e && e.fullyContains, o = this.getStartPoint(), a = this.getEndPoint(), r = [], s = []; return Xt.walkPoint(o, a, function (e) { var o; Xt.isEditable(e.node) || (i ? (Xt.isLeftEdgePoint(e) && s.push(e.node), Xt.isRightEdgePoint(e) && X.contains(s, e.node) && (o = e.node)) : o = n ? Xt.ancestor(e.node, t) : e.node, o && t(o) && r.push(o)) }, !0), X.unique(r) }, Zt.prototype.commonAncestor = function () { return Xt.commonAncestor(this.sc, this.ec) }, Zt.prototype.expand = function (t) { var e = Xt.ancestor(this.sc, t), n = Xt.ancestor(this.ec, t); if (!e && !n) return new Zt(this.sc, this.so, this.ec, this.eo); var i = this.getPoints(); return e && (i.sc = e, i.so = 0), n && (i.ec = n, i.eo = Xt.nodeLength(n)), new Zt(i.sc, i.so, i.ec, i.eo) }, Zt.prototype.collapse = function (t) { return t ? new Zt(this.sc, this.so, this.sc, this.so) : new Zt(this.ec, this.eo, this.ec, this.eo) }, Zt.prototype.splitText = function () { var t = this.sc === this.ec, e = this.getPoints(); return Xt.isText(this.ec) && !Xt.isEdgePoint(this.getEndPoint()) && this.ec.splitText(this.eo), Xt.isText(this.sc) && !Xt.isEdgePoint(this.getStartPoint()) && (e.sc = this.sc.splitText(this.so), e.so = 0, t && (e.ec = e.sc, e.eo = this.eo - this.so)), new Zt(e.sc, e.so, e.ec, e.eo) }, Zt.prototype.deleteContents = function () { if (this.isCollapsed()) return this; var e = this.splitText(), n = e.nodes(null, { fullyContains: !0 }), i = Xt.prevPointUntil(e.getStartPoint(), function (t) { return !X.contains(n, t.node) }), o = []; return t.each(n, function (t, e) { var n = e.parentNode; i.node !== n && 1 === Xt.nodeLength(n) && o.push(n), Xt.remove(e, !1) }), t.each(o, function (t, e) { Xt.remove(e, !1) }), new Zt(i.node, i.offset, i.node, i.offset).normalize() }, Zt.prototype.makeIsOn = function (t) { return function () { var e = Xt.ancestor(this.sc, t); return !!e && e === Xt.ancestor(this.ec, t) } }, Zt.prototype.isLeftEdgeOf = function (t) { if (!Xt.isLeftEdgePoint(this.getStartPoint())) return !1; var e = Xt.ancestor(this.sc, t); return e && Xt.isLeftEdgeOf(this.sc, e) }, Zt.prototype.isCollapsed = function () { return this.sc === this.ec && this.so === this.eo }, Zt.prototype.wrapBodyInlineWithPara = function () { if (Xt.isBodyContainer(this.sc) && Xt.isEmpty(this.sc)) return this.sc.innerHTML = Xt.emptyPara, new Zt(this.sc.firstChild, 0, this.sc.firstChild, 0); var t, e = this.normalize(); if (Xt.isParaInline(this.sc) || Xt.isPara(this.sc)) return e; if (Xt.isInline(e.sc)) { var n = Xt.listAncestor(e.sc, y.not(Xt.isInline)); t = X.last(n), Xt.isInline(t) || (t = n[n.length - 2] || e.sc.childNodes[e.so]) } else t = e.sc.childNodes[0 < e.so ? e.so - 1 : 0]; var i = Xt.listPrev(t, Xt.isParaInline).reverse(); if ((i = i.concat(Xt.listNext(t.nextSibling, Xt.isParaInline))).length) { var o = Xt.wrap(X.head(i), "p"); Xt.appendChildNodes(o, X.tail(i)) } return this.normalize() }, Zt.prototype.insertNode = function (t) { var e = this.wrapBodyInlineWithPara().deleteContents(), n = Xt.splitPoint(e.getStartPoint(), Xt.isInline(t)); return n.rightNode ? n.rightNode.parentNode.insertBefore(t, n.rightNode) : n.container.appendChild(t), t }, Zt.prototype.pasteHTML = function (e) { var n = t("<div></div>").html(e)[0], i = X.from(n.childNodes), o = this.wrapBodyInlineWithPara().deleteContents(); return 0 < o.so && (i = i.reverse()), i = i.map(function (t) { return o.insertNode(t) }), 0 < o.so && (i = i.reverse()), i }, Zt.prototype.toString = function () { var t = this.nativeRange(); return H.isW3CRangeSupport ? t.toString() : t.text }, Zt.prototype.getWordRange = function (t) { var e = this.getEndPoint(); if (!Xt.isCharPoint(e)) return this; var n = Xt.prevPointUntil(e, function (t) { return !Xt.isCharPoint(t) }); return t && (e = Xt.nextPointUntil(e, function (t) { return !Xt.isCharPoint(t) })), new Zt(n.node, n.offset, e.node, e.offset) }, Zt.prototype.bookmark = function (t) { return { s: { path: Xt.makeOffsetPath(t, this.sc), offset: this.so }, e: { path: Xt.makeOffsetPath(t, this.ec), offset: this.eo } } }, Zt.prototype.paraBookmark = function (t) { return { s: { path: X.tail(Xt.makeOffsetPath(X.head(t), this.sc)), offset: this.so }, e: { path: X.tail(Xt.makeOffsetPath(X.last(t), this.ec)), offset: this.eo } } }, Zt.prototype.getClientRects = function () { return this.nativeRange().getClientRects() }, Zt); function Zt(t, e, n, i) { this.sc = t, this.so = e, this.ec = n, this.eo = i, this.isOnEditable = this.makeIsOn(Xt.isEditable), this.isOnList = this.makeIsOn(Xt.isList), this.isOnAnchor = this.makeIsOn(Xt.isAnchor), this.isOnCell = this.makeIsOn(Xt.isCell), this.isOnData = this.makeIsOn(Xt.isData) } var Ut = { create: function (t, e, n, i) { if (4 === arguments.length) return new Dt(t, e, n, i); if (2 === arguments.length) return new Dt(n = t, i = e, n, i); var o = this.createFromSelection(); return o || 1 !== arguments.length ? o : (o = this.createFromNode(t)).collapse(Xt.emptyPara === t.innerHTML) }, createFromSelection: function () { var t, e, n, i; if (H.isW3CRangeSupport) { var o = document.getSelection(); if (!o || 0 === o.rangeCount) return null; if (Xt.isBody(o.anchorNode)) return null; var a = o.getRangeAt(0); t = a.startContainer, e = a.startOffset, n = a.endContainer, i = a.endOffset } else { var r = document.selection.createRange(), s = r.duplicate(); s.collapse(!1); var g = r; g.collapse(!0); var l = St(g, !0), c = St(s, !1); Xt.isText(l.node) && Xt.isLeftEdgePoint(l) && Xt.isTextNode(c.node) && Xt.isRightEdgePoint(c) && c.node.nextSibling === l.node && (l = c), t = l.cont, e = l.offset, n = c.cont, i = c.offset } return new Dt(t, e, n, i) }, createFromNode: function (t) { var e = t, n = 0, i = t, o = Xt.nodeLength(i); return Xt.isVoid(e) && (n = Xt.listPrev(e).length - 1, e = e.parentNode), Xt.isBR(i) ? (o = Xt.listPrev(i).length - 1, i = i.parentNode) : Xt.isVoid(i) && (o = Xt.listPrev(i).length, i = i.parentNode), this.create(e, n, i, o) }, createFromNodeBefore: function (t) { return this.createFromNode(t).collapse(!0) }, createFromNodeAfter: function (t) { return this.createFromNode(t).collapse() }, createFromBookmark: function (t, e) { var n = Xt.fromOffsetPath(t, e.s.path), i = e.s.offset, o = Xt.fromOffsetPath(t, e.e.path), a = e.e.offset; return new Dt(n, i, o, a) }, createFromParaBookmark: function (t, e) { var n = t.s.offset, i = t.e.offset, o = Xt.fromOffsetPath(X.head(e), t.s.path), a = Xt.fromOffsetPath(X.last(e), t.e.path); return new Dt(o, n, a, i) } }; t.summernote = t.summernote || { lang: {} }, t.extend(t.summernote.lang, { "en-US": { font: { bold: "Bold", italic: "Italic", underline: "Underline", clear: "Remove Font Style", height: "Line Height", name: "Font Family", strikethrough: "Strikethrough", subscript: "Subscript", superscript: "Superscript", size: "Font Size" }, image: { image: "Picture", insert: "Insert Image", resizeFull: "Resize Full", resizeHalf: "Resize Half", resizeQuarter: "Resize Quarter", floatLeft: "Float Left", floatRight: "Float Right", floatNone: "Float None", shapeRounded: "Shape: Rounded", shapeCircle: "Shape: Circle", shapeThumbnail: "Shape: Thumbnail", shapeNone: "Shape: None", dragImageHere: "Drag image or text here", dropImage: "Drop image or Text", selectFromFiles: "Select from files", maximumFileSize: "Maximum file size", maximumFileSizeError: "Maximum file size exceeded.", url: "Image URL", remove: "Remove Image", original: "Original" }, video: { video: "Video", videoLink: "Video Link", insert: "Insert Video", url: "Video URL", providers: "(YouTube, Vimeo, Vine, Instagram, DailyMotion or Youku)" }, link: { link: "Link", insert: "Insert Link", unlink: "Unlink", edit: "Edit", textToDisplay: "Text to display", url: "To what URL should this link go?", openInNewWindow: "Open in new window" }, table: { table: "Table", addRowAbove: "Add row above", addRowBelow: "Add row below", addColLeft: "Add column left", addColRight: "Add column right", delRow: "Delete row", delCol: "Delete column", delTable: "Delete table" }, hr: { insert: "Insert Horizontal Rule" }, style: { style: "Style", p: "Normal", blockquote: "Quote", pre: "Code", h1: "Header 1", h2: "Header 2", h3: "Header 3", h4: "Header 4", h5: "Header 5", h6: "Header 6" }, lists: { unordered: "Unordered list", ordered: "Ordered list" }, options: { help: "Help", fullscreen: "Full Screen", codeview: "Code View" }, paragraph: { paragraph: "Paragraph", outdent: "Outdent", indent: "Indent", left: "Align left", center: "Align center", right: "Align right", justify: "Justify full" }, color: { recent: "Recent Color", more: "More Color", background: "Background Color", foreground: "Foreground Color", transparent: "Transparent", setTransparent: "Set transparent", reset: "Reset", resetToDefault: "Reset to default", cpSelect: "Select" }, shortcut: { shortcuts: "Keyboard shortcuts", close: "Close", textFormatting: "Text formatting", action: "Action", paragraphFormatting: "Paragraph formatting", documentStyle: "Document Style", extraKeys: "Extra keys" }, help: { insertParagraph: "Insert Paragraph", undo: "Undoes the last command", redo: "Redoes the last command", tab: "Tab", untab: "Untab", bold: "Set a bold style", italic: "Set a italic style", underline: "Set a underline style", strikethrough: "Set a strikethrough style", removeFormat: "Clean a style", justifyLeft: "Set left align", justifyCenter: "Set center align", justifyRight: "Set right align", justifyFull: "Set full align", insertUnorderedList: "Toggle unordered list", insertOrderedList: "Toggle ordered list", outdent: "Outdent on current paragraph", indent: "Indent on current paragraph", formatPara: "Change current block's format as a paragraph(P tag)", formatH1: "Change current block's format as H1", formatH2: "Change current block's format as H2", formatH3: "Change current block's format as H3", formatH4: "Change current block's format as H4", formatH5: "Change current block's format as H5", formatH6: "Change current block's format as H6", insertHorizontalRule: "Insert horizontal rule", "linkDialog.show": "Show Link Dialog" }, history: { undo: "Undo", redo: "Redo" }, specialChar: { specialChar: "SPECIAL CHARACTERS", select: "Select Special characters" } } }); var Wt = { BACKSPACE: 8, TAB: 9, ENTER: 13, SPACE: 32, DELETE: 46, LEFT: 37, UP: 38, RIGHT: 39, DOWN: 40, NUM0: 48, NUM1: 49, NUM2: 50, NUM3: 51, NUM4: 52, NUM5: 53, NUM6: 54, NUM7: 55, NUM8: 56, B: 66, E: 69, I: 73, J: 74, K: 75, L: 76, R: 82, S: 83, U: 85, V: 86, Y: 89, Z: 90, SLASH: 191, LEFTBRACKET: 219, BACKSLASH: 220, RIGHTBRACKET: 221 }, Tt = { isEdit: function (t) { return X.contains([Wt.BACKSPACE, Wt.TAB, Wt.ENTER, Wt.SPACE, Wt.DELETE], t) }, isMove: function (t) { return X.contains([Wt.LEFT, Wt.UP, Wt.RIGHT, Wt.DOWN], t) }, nameFromCode: y.invertObject(Wt), code: Wt }, Nt = (Ht.prototype.makeSnapshot = function () { var t = Ut.create(this.editable); return { contents: this.$editable.html(), bookmark: t ? t.bookmark(this.editable) : { s: { path: [], offset: 0 }, e: { path: [], offset: 0 } } } }, Ht.prototype.applySnapshot = function (t) { null !== t.contents && this.$editable.html(t.contents), null !== t.bookmark && Ut.createFromBookmark(this.editable, t.bookmark).select() }, Ht.prototype.rewind = function () { this.$editable.html() !== this.stack[this.stackOffset].contents && this.recordUndo(), this.stackOffset = 0, this.applySnapshot(this.stack[this.stackOffset]) }, Ht.prototype.commit = function () { this.stack = [], this.stackOffset = -1, this.recordUndo() }, Ht.prototype.reset = function () { this.stack = [], this.stackOffset = -1, this.$editable.html(""), this.recordUndo() }, Ht.prototype.undo = function () { this.$editable.html() !== this.stack[this.stackOffset].contents && this.recordUndo(), 0 < this.stackOffset && (this.stackOffset--, this.applySnapshot(this.stack[this.stackOffset])) }, Ht.prototype.redo = function () { this.stack.length - 1 > this.stackOffset && (this.stackOffset++, this.applySnapshot(this.stack[this.stackOffset])) }, Ht.prototype.recordUndo = function () { this.stackOffset++, this.stack.length > this.stackOffset && (this.stack = this.stack.slice(0, this.stackOffset)), this.stack.push(this.makeSnapshot()) }, Ht); function Ht(t) { this.stack = [], this.stackOffset = -1, this.$editable = t, this.editable = t[0] } var Et = (Rt.prototype.jQueryCSS = function (e, n) { if (H.jqueryVersion < 1.9) { var i = {}; return t.each(n, function (t, n) { i[n] = e.css(n) }), i } return e.css(n) }, Rt.prototype.fromNode = function (t) { var e = this.jQueryCSS(t, ["font-family", "font-size", "text-align", "list-style-type", "line-height"]) || {}; return e["font-size"] = parseInt(e["font-size"], 10), e }, Rt.prototype.stylePara = function (e, n) { t.each(e.nodes(Xt.isPara, { includeAncestor: !0 }), function (e, i) { t(i).css(n) }) }, Rt.prototype.styleNodes = function (e, n) { e = e.splitText(); var i = n && n.nodeName || "SPAN", o = !(!n || !n.expandClosestSibling), a = !(!n || !n.onlyPartialContains); if (e.isCollapsed()) return [e.insertNode(Xt.create(i))]; var r = Xt.makePredByNodeName(i), s = e.nodes(Xt.isText, { fullyContains: !0 }).map(function (t) { return Xt.singleChildAncestor(t, r) || Xt.wrap(t, i) }); if (o) { if (a) { var g = e.nodes(); r = y.and(r, function (t) { return X.contains(g, t) }) } return s.map(function (e) { var n = Xt.withClosestSiblings(e, r), i = X.head(n), o = X.tail(n); return t.each(o, function (t, e) { Xt.appendChildNodes(i, e.childNodes), Xt.remove(e) }), X.head(n) }) } return s }, Rt.prototype.current = function (e) { var n = t(Xt.isElement(e.sc) ? e.sc : e.sc.parentNode), i = this.fromNode(n); try { i = t.extend(i, { "font-bold": document.queryCommandState("bold") ? "bold" : "normal", "font-italic": document.queryCommandState("italic") ? "italic" : "normal", "font-underline": document.queryCommandState("underline") ? "underline" : "normal", "font-subscript": document.queryCommandState("subscript") ? "subscript" : "normal", "font-superscript": document.queryCommandState("superscript") ? "superscript" : "normal", "font-strikethrough": document.queryCommandState("strikethrough") ? "strikethrough" : "normal", "font-family": document.queryCommandValue("fontname") || i["font-family"] }) } catch (e) { } if (e.isOnList()) { var o = -1 < t.inArray(i["list-style-type"], ["circle", "disc", "disc-leading-zero", "square"]); i["list-style"] = o ? "unordered" : "ordered" } else i["list-style"] = "none"; var a = Xt.ancestor(e.sc, Xt.isPara); if (a && a.style["line-height"]) i["line-height"] = a.style.lineHeight; else { var r = parseInt(i["line-height"], 10) / parseInt(i["font-size"], 10); i["line-height"] = r.toFixed(1) } return i.anchor = e.isOnAnchor() && Xt.ancestor(e.sc, Xt.isAnchor), i.ancestors = Xt.listAncestor(e.sc, Xt.isEditable), i.range = e, i }, Rt); function Rt() { } var Yt = (Ot.prototype.insertOrderedList = function (t) { this.toggleList("OL", t) }, Ot.prototype.insertUnorderedList = function (t) { this.toggleList("UL", t) }, Ot.prototype.indent = function (e) { var n = this, i = Ut.create(e).wrapBodyInlineWithPara(), o = i.nodes(Xt.isPara, { includeAncestor: !0 }), a = X.clusterBy(o, y.peq2("parentNode")); t.each(a, function (e, i) { var o = X.head(i); if (Xt.isLi(o)) { var a = n.findList(o.previousSibling); a ? i.map(function (t) { return a.appendChild(t) }) : (n.wrapList(i, o.parentNode.nodeName), i.map(function (t) { return t.parentNode }).map(function (t) { return n.appendToPrevious(t) })) } else t.each(i, function (e, n) { t(n).css("marginLeft", function (t, e) { return (parseInt(e, 10) || 0) + 25 }) }) }), i.select() }, Ot.prototype.outdent = function (e) { var n = this, i = Ut.create(e).wrapBodyInlineWithPara(), o = i.nodes(Xt.isPara, { includeAncestor: !0 }), a = X.clusterBy(o, y.peq2("parentNode")); t.each(a, function (e, i) { var o = X.head(i); Xt.isLi(o) ? n.releaseList([i]) : t.each(i, function (e, n) { t(n).css("marginLeft", function (t, e) { return 25 < (e = parseInt(e, 10) || 0) ? e - 25 : "" }) }) }), i.select() }, Ot.prototype.toggleList = function (e, n) { var i = this, o = Ut.create(n).wrapBodyInlineWithPara(), a = o.nodes(Xt.isPara, { includeAncestor: !0 }), r = o.paraBookmark(a), s = X.clusterBy(a, y.peq2("parentNode")); if (X.find(a, Xt.isPurePara)) { var g = []; t.each(s, function (t, n) { g = g.concat(i.wrapList(n, e)) }), a = g } else { var l = o.nodes(Xt.isList, { includeAncestor: !0 }).filter(function (n) { return !t.nodeName(n, e) }); l.length ? t.each(l, function (t, n) { Xt.replace(n, e) }) : a = this.releaseList(s, !0) } Ut.createFromParaBookmark(r, a).select() }, Ot.prototype.wrapList = function (t, e) { var n = X.head(t), i = X.last(t), o = Xt.isList(n.previousSibling) && n.previousSibling, a = Xt.isList(i.nextSibling) && i.nextSibling, r = o || Xt.insertAfter(Xt.create(e || "UL"), i); return t = t.map(function (t) { return Xt.isPurePara(t) ? Xt.replace(t, "LI") : t }), Xt.appendChildNodes(r, t), a && (Xt.appendChildNodes(r, X.from(a.childNodes)), Xt.remove(a)), t }, Ot.prototype.releaseList = function (e, n) { var i = this, o = []; return t.each(e, function (e, a) { var r = X.head(a), s = X.last(a), g = n ? Xt.lastAncestor(r, Xt.isList) : r.parentNode, l = g.parentNode; if ("LI" === g.parentNode.nodeName) a.map(function (t) { var e = i.findNextSiblings(t); l.nextSibling ? l.parentNode.insertBefore(t, l.nextSibling) : l.parentNode.appendChild(t), e.length && (i.wrapList(e, g.nodeName), t.appendChild(e[0].parentNode)) }), 0 === g.children.length && l.removeChild(g), 0 === l.childNodes.length && l.parentNode.removeChild(l); else { var c = 1 < g.childNodes.length ? Xt.splitTree(g, { node: s.parentNode, offset: Xt.position(s) + 1 }, { isSkipPaddingBlankHTML: !0 }) : null, I = Xt.splitTree(g, { node: r.parentNode, offset: Xt.position(r) }, { isSkipPaddingBlankHTML: !0 }); a = n ? Xt.listDescendant(I, Xt.isLi) : X.from(I.childNodes).filter(Xt.isLi), !n && Xt.isList(g.parentNode) || (a = a.map(function (t) { return Xt.replace(t, "P") })), t.each(X.from(a).reverse(), function (t, e) { Xt.insertAfter(e, g) }); var u = X.compact([g, I, c]); t.each(u, function (e, n) { var i = [n].concat(Xt.listDescendant(n, Xt.isList)); t.each(i.reverse(), function (t, e) { Xt.nodeLength(e) || Xt.remove(e, !0) }) }) } o = o.concat(a) }), o }, Ot.prototype.appendToPrevious = function (t) { return t.previousSibling ? Xt.appendChildNodes(t.previousSibling, [t]) : this.wrapList([t], "LI") }, Ot.prototype.findList = function (t) { return t ? X.find(t.children, function (t) { return -1 < ["OL", "UL"].indexOf(t.nodeName) }) : null }, Ot.prototype.findNextSiblings = function (t) { for (var e = []; t.nextSibling;)e.push(t.nextSibling), t = t.nextSibling; return e }, Ot); function Ot() { } var _t = (Vt.prototype.insertTab = function (t, e) { var n = Xt.createText(new Array(e + 1).join(Xt.NBSP_CHAR)); (t = t.deleteContents()).insertNode(n, !0), (t = Ut.create(n, e)).select() }, Vt.prototype.insertParagraph = function (e, n) { n = (n = (n = n || Ut.create(e)).deleteContents()).wrapBodyInlineWithPara(); var i, o = Xt.ancestor(n.sc, Xt.isPara); if (o) { if (Xt.isEmpty(o) && Xt.isLi(o)) return void this.bullet.toggleList(o.parentNode.nodeName); var a = null; if (1 === this.options.blockquoteBreakingLevel ? a = Xt.ancestor(o, Xt.isBlockquote) : 2 === this.options.blockquoteBreakingLevel && (a = Xt.lastAncestor(o, Xt.isBlockquote)), a) { i = t(Xt.emptyPara)[0], Xt.isRightEdgePoint(n.getStartPoint()) && Xt.isBR(n.sc.nextSibling) && t(n.sc.nextSibling).remove(); var r = Xt.splitTree(a, n.getStartPoint(), { isDiscardEmptySplits: !0 }); r ? r.parentNode.insertBefore(i, r) : Xt.insertAfter(i, a) } else { i = Xt.splitTree(o, n.getStartPoint()); var s = Xt.listDescendant(o, Xt.isEmptyAnchor); s = s.concat(Xt.listDescendant(i, Xt.isEmptyAnchor)), t.each(s, function (t, e) { Xt.remove(e) }), (Xt.isHeading(i) || Xt.isPre(i) || Xt.isCustomStyleTag(i)) && Xt.isEmpty(i) && (i = Xt.replace(i, "p")) } } else { var g = n.sc.childNodes[n.so]; i = t(Xt.emptyPara)[0], g ? n.sc.insertBefore(i, g) : n.sc.appendChild(i) } Ut.create(i, 0).normalize().select().scrollIntoView(e) }, Vt); function Vt(t) { this.bullet = new Yt, this.options = t.options } var Lt = function (t, e, n, i) { var o = { colPos: 0, rowPos: 0 }, a = [], r = []; function s(t, e, n, i, o, r, s) { var g = { baseRow: n, baseCell: i, isRowSpan: o, isColSpan: r, isVirtual: s }; a[t] || (a[t] = []), a[t][e] = g } function g(t, e) { if (!a[t]) return e; if (!a[t][e]) return e; for (var n = e; a[t][n];)if (n++, !a[t][n]) return n } function l(t, e) { var n = g(t.rowIndex, e.cellIndex), i = 1 < e.colSpan, a = 1 < e.rowSpan, r = t.rowIndex === o.rowPos && e.cellIndex === o.colPos; s(t.rowIndex, n, t, e, a, i, !1); var l = e.attributes.rowSpan ? parseInt(e.attributes.rowSpan.value, 10) : 0; if (1 < l) for (var I = 1; I < l; I++) { var u = t.rowIndex + I; c(u, n, e, r), s(u, n, t, e, !0, i, !0) } var h = e.attributes.colSpan ? parseInt(e.attributes.colSpan.value, 10) : 0; if (1 < h) for (var d = 1; d < h; d++) { var C = g(t.rowIndex, n + d); c(t.rowIndex, C, e, r), s(t.rowIndex, C, t, e, a, !0, !0) } } function c(t, e, n, i) { t === o.rowPos && o.colPos >= n.cellIndex && n.cellIndex <= e && !i && o.colPos++ } function I(t) { switch (e) { case Lt.where.Column: if (t.isColSpan) return Lt.resultAction.SubtractSpanCount; break; case Lt.where.Row: if (!t.isVirtual && t.isRowSpan) return Lt.resultAction.AddCell; if (t.isRowSpan) return Lt.resultAction.SubtractSpanCount }return Lt.resultAction.RemoveCell } function u(t) { switch (e) { case Lt.where.Column: if (t.isColSpan) return Lt.resultAction.SumSpanCount; if (t.isRowSpan && t.isVirtual) return Lt.resultAction.Ignore; break; case Lt.where.Row: if (t.isRowSpan) return Lt.resultAction.SumSpanCount; if (t.isColSpan && t.isVirtual) return Lt.resultAction.Ignore }return Lt.resultAction.AddCell } this.getActionList = function () { for (var t, i, s, g = e === Lt.where.Row ? o.rowPos : -1, l = e === Lt.where.Column ? o.colPos : -1, c = 0, h = !0; h;) { var d = 0 <= g ? g : c, C = 0 <= l ? l : c, A = a[d]; if (!A) return h = !1, r; var p = A[C]; if (!p) return h = !1, r; var m = Lt.resultAction.Ignore; switch (n) { case Lt.requestAction.Add: m = u(p); break; case Lt.requestAction.Delete: m = I(p) }r.push((t = m, i = d, s = C, { baseCell: p.baseCell, action: t, virtualTable: { rowIndex: i, cellIndex: s } })), c++ } return r }, t && t.tagName && ("td" === t.tagName.toLowerCase() || "th" === t.tagName.toLowerCase()) ? (o.colPos = t.cellIndex, t.parentElement && t.parentElement.tagName && "tr" === t.parentElement.tagName.toLowerCase() ? o.rowPos = t.parentElement.rowIndex : console.error("Impossible to identify start Row point.", t)) : console.error("Impossible to identify start Cell point.", t), function () { for (var t = i.rows, e = 0; e < t.length; e++)for (var n = t[e].cells, o = 0; o < n.length; o++)l(t[e], n[o]) }() }; Lt.where = { Row: 0, Column: 1 }, Lt.requestAction = { Add: 0, Delete: 1 }, Lt.resultAction = { Ignore: 0, SubtractSpanCount: 1, RemoveCell: 2, AddCell: 3, SumSpanCount: 4 }; var Mt = (zt.prototype.tab = function (t, e) { var n = Xt.ancestor(t.commonAncestor(), Xt.isCell), i = Xt.ancestor(n, Xt.isTable), o = Xt.listDescendant(i, Xt.isCell), a = X[e ? "prev" : "next"](o, n); a && Ut.create(a, 0).select() }, zt.prototype.addRow = function (e, n) { for (var i = Xt.ancestor(e.commonAncestor(), Xt.isCell), o = t(i).closest("tr"), a = this.recoverAttributes(o), r = t("<tr" + a + "></tr>"), s = new Lt(i, Lt.where.Row, Lt.requestAction.Add, t(o).closest("table")[0]).getActionList(), g = 0; g < s.length; g++) { var l = s[g], c = this.recoverAttributes(l.baseCell); switch (l.action) { case Lt.resultAction.AddCell: r.append("<td" + c + ">" + Xt.blank + "</td>"); break; case Lt.resultAction.SumSpanCount: if ("top" === n && (l.baseCell.parent ? l.baseCell.closest("tr").rowIndex : 0) <= o[0].rowIndex) { var I = t("<div></div>").append(t("<td" + c + ">" + Xt.blank + "</td>").removeAttr("rowspan")).html(); r.append(I); break } var u = parseInt(l.baseCell.rowSpan, 10); u++, l.baseCell.setAttribute("rowSpan", u) } } if ("top" === n) o.before(r); else { if (1 < i.rowSpan) { var h = o[0].rowIndex + (i.rowSpan - 2); return void t(t(o).parent().find("tr")[h]).after(t(r)) } o.after(r) } }, zt.prototype.addCol = function (e, n) { var i = Xt.ancestor(e.commonAncestor(), Xt.isCell), o = t(i).closest("tr"); t(o).siblings().push(o); for (var a = new Lt(i, Lt.where.Column, Lt.requestAction.Add, t(o).closest("table")[0]).getActionList(), r = 0; r < a.length; r++) { var s = a[r], g = this.recoverAttributes(s.baseCell); switch (s.action) { case Lt.resultAction.AddCell: "right" === n ? t(s.baseCell).after("<td" + g + ">" + Xt.blank + "</td>") : t(s.baseCell).before("<td" + g + ">" + Xt.blank + "</td>"); break; case Lt.resultAction.SumSpanCount: if ("right" === n) { var l = parseInt(s.baseCell.colSpan, 10); l++, s.baseCell.setAttribute("colSpan", l) } else t(s.baseCell).before("<td" + g + ">" + Xt.blank + "</td>") } } }, zt.prototype.recoverAttributes = function (t) { var e = ""; if (!t) return e; for (var n = t.attributes || [], i = 0; i < n.length; i++)"id" !== n[i].name.toLowerCase() && n[i].specified && (e += " " + n[i].name + "='" + n[i].value + "'"); return e }, zt.prototype.deleteRow = function (e) { for (var n = Xt.ancestor(e.commonAncestor(), Xt.isCell), i = t(n).closest("tr"), o = i.children("td, th").index(t(n)), a = i[0].rowIndex, r = new Lt(n, Lt.where.Row, Lt.requestAction.Delete, t(i).closest("table")[0]).getActionList(), s = 0; s < r.length; s++)if (r[s]) { var g = r[s].baseCell, l = r[s].virtualTable, c = g.rowSpan && 1 < g.rowSpan, I = c ? parseInt(g.rowSpan, 10) : 0; switch (r[s].action) { case Lt.resultAction.Ignore: continue; case Lt.resultAction.AddCell: var u = i.next("tr")[0]; if (!u) continue; var h = i[0].cells[o]; c && (2 < I ? (I--, u.insertBefore(h, u.cells[o]), u.cells[o].setAttribute("rowSpan", I), u.cells[o].innerHTML = "") : 2 === I && (u.insertBefore(h, u.cells[o]), u.cells[o].removeAttribute("rowSpan"), u.cells[o].innerHTML = "")); continue; case Lt.resultAction.SubtractSpanCount: c && (2 < I ? (I--, g.setAttribute("rowSpan", I), l.rowIndex !== a && g.cellIndex === o && (g.innerHTML = "")) : 2 === I && (g.removeAttribute("rowSpan"), l.rowIndex !== a && g.cellIndex === o && (g.innerHTML = ""))); continue; case Lt.resultAction.RemoveCell: continue } } i.remove() }, zt.prototype.deleteCol = function (e) { for (var n = Xt.ancestor(e.commonAncestor(), Xt.isCell), i = t(n).closest("tr"), o = i.children("td, th").index(t(n)), a = new Lt(n, Lt.where.Column, Lt.requestAction.Delete, t(i).closest("table")[0]).getActionList(), r = 0; r < a.length; r++)if (a[r]) switch (a[r].action) { case Lt.resultAction.Ignore: continue; case Lt.resultAction.SubtractSpanCount: var s = a[r].baseCell; if (s.colSpan && 1 < s.colSpan) { var g = s.colSpan ? parseInt(s.colSpan, 10) : 0; 2 < g ? (g--, s.setAttribute("colSpan", g), s.cellIndex === o && (s.innerHTML = "")) : 2 === g && (s.removeAttribute("colSpan"), s.cellIndex === o && (s.innerHTML = "")) } continue; case Lt.resultAction.RemoveCell: Xt.remove(a[r].baseCell, !0); continue } }, zt.prototype.createTable = function (e, n, i) { for (var o, a = [], r = 0; r < e; r++)a.push("<td>" + Xt.blank + "</td>"); o = a.join(""); for (var s, g = [], l = 0; l < n; l++)g.push("<tr>" + o + "</tr>"); s = g.join(""); var c = t("<table>" + s + "</table>"); return i && i.tableClassName && c.addClass(i.tableClassName), c[0] }, zt.prototype.deleteTable = function (e) { var n = Xt.ancestor(e.commonAncestor(), Xt.isCell); t(n).closest("table").remove() }, zt); function zt() { } var Pt = (Kt.prototype.initialize = function () { var t = this; this.$editable.on("keydown", function (e) { if (e.keyCode === Tt.code.ENTER && t.context.triggerEvent("enter", e), t.context.triggerEvent("keydown", e), e.isDefaultPrevented() || (t.options.shortcuts ? t.handleKeyMap(e) : t.preventDefaultEditableShortCuts(e)), t.isLimited(1, e)) return !1 }).on("keyup", function (e) { t.context.triggerEvent("keyup", e) }).on("focus", function (e) { t.context.triggerEvent("focus", e) }).on("blur", function (e) { t.context.triggerEvent("blur", e) }).on("mousedown", function (e) { t.context.triggerEvent("mousedown", e) }).on("mouseup", function (e) { t.context.triggerEvent("mouseup", e) }).on("scroll", function (e) { t.context.triggerEvent("scroll", e) }).on("paste", function (e) { t.context.triggerEvent("paste", e) }), this.$editable.html(Xt.html(this.$note) || Xt.emptyPara), this.$editable.on(H.inputEventName, y.debounce(function () { t.context.triggerEvent("change", t.$editable.html()) }, 10)), this.$editor.on("focusin", function (e) { t.context.triggerEvent("focusin", e) }).on("focusout", function (e) { t.context.triggerEvent("focusout", e) }), this.options.airMode || (this.options.width && this.$editor.outerWidth(this.options.width), this.options.height && this.$editable.outerHeight(this.options.height), this.options.maxHeight && this.$editable.css("max-height", this.options.maxHeight), this.options.minHeight && this.$editable.css("min-height", this.options.minHeight)), this.history.recordUndo() }, Kt.prototype.destroy = function () { this.$editable.off() }, Kt.prototype.handleKeyMap = function (t) { var e = this.options.keyMap[H.isMac ? "mac" : "pc"], n = []; t.metaKey && n.push("CMD"), t.ctrlKey && !t.altKey && n.push("CTRL"), t.shiftKey && n.push("SHIFT"); var i = Tt.nameFromCode[t.keyCode]; i && n.push(i); var o = e[n.join("+")]; o ? !1 !== this.context.invoke(o) && t.preventDefault() : Tt.isEdit(t.keyCode) && this.afterCommand() }, Kt.prototype.preventDefaultEditableShortCuts = function (t) { (t.ctrlKey || t.metaKey) && X.contains([66, 73, 85], t.keyCode) && t.preventDefault() }, Kt.prototype.isLimited = function (t, e) { return t = t || 0, (void 0 === e || !(Tt.isMove(e.keyCode) || e.ctrlKey || e.metaKey || X.contains([Tt.code.BACKSPACE, Tt.code.DELETE], e.keyCode))) && 0 < this.options.maxTextLength && this.$editable.text().length + t >= this.options.maxTextLength }, Kt.prototype.createRange = function () { return this.focus(), Ut.create(this.editable) }, Kt.prototype.saveRange = function (t) { this.lastRange = this.createRange(), t && this.lastRange.collapse().select() }, Kt.prototype.restoreRange = function () { this.lastRange && (this.lastRange.select(), this.focus()) }, Kt.prototype.saveTarget = function (t) { this.$editable.data("target", t) }, Kt.prototype.clearTarget = function () { this.$editable.removeData("target") }, Kt.prototype.restoreTarget = function () { return this.$editable.data("target") }, Kt.prototype.currentStyle = function () { var t = Ut.create(); return t && (t = t.normalize()), t ? this.style.current(t) : this.style.fromNode(this.$editable) }, Kt.prototype.styleFromNode = function (t) { return this.style.fromNode(t) }, Kt.prototype.undo = function () { this.context.triggerEvent("before.command", this.$editable.html()), this.history.undo(), this.context.triggerEvent("change", this.$editable.html()) }, Kt.prototype.commit = function () { this.context.triggerEvent("before.command", this.$editable.html()), this.history.commit(), this.context.triggerEvent("change", this.$editable.html()) }, Kt.prototype.redo = function () { this.context.triggerEvent("before.command", this.$editable.html()), this.history.redo(), this.context.triggerEvent("change", this.$editable.html()) }, Kt.prototype.beforeCommand = function () { this.context.triggerEvent("before.command", this.$editable.html()), this.focus() }, Kt.prototype.afterCommand = function (t) { this.normalizeContent(), this.history.recordUndo(), t || this.context.triggerEvent("change", this.$editable.html()) }, Kt.prototype.tab = function () { var t = this.createRange(); if (t.isCollapsed() && t.isOnCell()) this.table.tab(t); else { if (0 === this.options.tabSize) return !1; this.isLimited(this.options.tabSize) || (this.beforeCommand(), this.typing.insertTab(t, this.options.tabSize), this.afterCommand()) } }, Kt.prototype.untab = function () { var t = this.createRange(); if (t.isCollapsed() && t.isOnCell()) this.table.tab(t, !0); else if (0 === this.options.tabSize) return !1 }, Kt.prototype.wrapCommand = function (t) { return function () { this.beforeCommand(), t.apply(this, arguments), this.afterCommand() } }, Kt.prototype.insertImage = function (e, n) { var i = this; return function (e) { return t.Deferred(function (n) { var i = t("<img>"); i.one("load", function () { i.off("error abort"), n.resolve(i) }).one("error abort", function () { i.off("load").detach(), n.reject(i) }).css({ display: "none" }).appendTo(document.body).attr("src", e) }).promise() }(e).then(function (t) { i.beforeCommand(), "function" == typeof n ? n(t) : ("string" == typeof n && t.attr("data-filename", n), t.css("width", Math.min(i.$editable.width(), t.width()))), t.show(), Ut.create(i.editable).insertNode(t[0]), Ut.createFromNodeAfter(t[0]).select(), i.afterCommand() }).fail(function (t) { i.context.triggerEvent("image.upload.error", t) }) }, Kt.prototype.insertImagesAsDataURL = function (e) { var n = this; t.each(e, function (e, i) { var o = i.name; n.options.maximumImageFileSize && n.options.maximumImageFileSize < i.size ? n.context.triggerEvent("image.upload.error", n.lang.image.maximumFileSizeError) : function (e) { return t.Deferred(function (n) { t.extend(new FileReader, { onload: function (t) { var e = t.target.result; n.resolve(e) }, onerror: function (t) { n.reject(t) } }).readAsDataURL(e) }).promise() }(i).then(function (t) { return n.insertImage(t, o) }).fail(function () { n.context.triggerEvent("image.upload.error") }) }) }, Kt.prototype.getSelectedText = function () { var t = this.createRange(); return t.isOnAnchor() && (t = Ut.createFromNode(Xt.ancestor(t.sc, Xt.isAnchor))), t.toString() }, Kt.prototype.onFormatBlock = function (e, n) { if (e = H.isMSIE ? "<" + e + ">" : e, document.execCommand("FormatBlock", !1, e), n && n.length) { var i = n[0].className || ""; if (i) { var o = this.createRange(); t([o.sc, o.ec]).closest(e).addClass(i) } } }, Kt.prototype.formatPara = function () { this.formatBlock("P") }, Kt.prototype.fontStyling = function (e, n) { var i = this.createRange(); if (i) { var o = this.style.styleNodes(i); if (t(o).css(e, n), i.isCollapsed()) { var a = X.head(o); a && !Xt.nodeLength(a) && (a.innerHTML = Xt.ZERO_WIDTH_NBSP_CHAR, Ut.createFromNodeAfter(a.firstChild).select(), this.$editable.data("bogus", a)) } } }, Kt.prototype.unlink = function () { var t = this.createRange(); if (t.isOnAnchor()) { var e = Xt.ancestor(t.sc, Xt.isAnchor); (t = Ut.createFromNode(e)).select(), this.beforeCommand(), document.execCommand("unlink"), this.afterCommand() } }, Kt.prototype.getLinkInfo = function () { var e = this.createRange().expand(Xt.isAnchor), n = t(X.head(e.nodes(Xt.isAnchor))), i = { range: e, text: e.toString(), url: n.length ? n.attr("href") : "" }; return n.length && (i.isNewWindow = "_blank" === n.attr("target")), i }, Kt.prototype.addRow = function (t) { var e = this.createRange(this.$editable); e.isCollapsed() && e.isOnCell() && (this.beforeCommand(), this.table.addRow(e, t), this.afterCommand()) }, Kt.prototype.addCol = function (t) { var e = this.createRange(this.$editable); e.isCollapsed() && e.isOnCell() && (this.beforeCommand(), this.table.addCol(e, t), this.afterCommand()) }, Kt.prototype.deleteRow = function () { var t = this.createRange(this.$editable); t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteRow(t), this.afterCommand()) }, Kt.prototype.deleteCol = function () { var t = this.createRange(this.$editable); t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteCol(t), this.afterCommand()) }, Kt.prototype.deleteTable = function () { var t = this.createRange(this.$editable); t.isCollapsed() && t.isOnCell() && (this.beforeCommand(), this.table.deleteTable(t), this.afterCommand()) }, Kt.prototype.resizeTo = function (t, e, n) { var i; if (n) { var o = t.y / t.x, a = e.data("ratio"); i = { width: o < a ? t.x : t.y / a, height: o < a ? t.x * a : t.y } } else i = { width: t.x, height: t.y }; e.css(i) }, Kt.prototype.hasFocus = function () { return this.$editable.is(":focus") }, Kt.prototype.focus = function () { this.hasFocus() || this.$editable.focus() }, Kt.prototype.isEmpty = function () { return Xt.isEmpty(this.$editable[0]) || Xt.emptyPara === this.$editable.html() }, Kt.prototype.empty = function () { this.context.invoke("code", Xt.emptyPara) }, Kt.prototype.normalizeContent = function () { this.$editable[0].normalize() }, Kt); function Kt(e) { var n = this; this.context = e, this.$note = e.layoutInfo.note, this.$editor = e.layoutInfo.editor, this.$editable = e.layoutInfo.editable, this.options = e.options, this.lang = this.options.langInfo, this.editable = this.$editable[0], this.lastRange = null, this.style = new Et, this.table = new Mt, this.typing = new _t(e), this.bullet = new Yt, this.history = new Nt(this.$editable), this.context.memo("help.undo", this.lang.help.undo), this.context.memo("help.redo", this.lang.help.redo), this.context.memo("help.tab", this.lang.help.tab), this.context.memo("help.untab", this.lang.help.untab), this.context.memo("help.insertParagraph", this.lang.help.insertParagraph), this.context.memo("help.insertOrderedList", this.lang.help.insertOrderedList), this.context.memo("help.insertUnorderedList", this.lang.help.insertUnorderedList), this.context.memo("help.indent", this.lang.help.indent), this.context.memo("help.outdent", this.lang.help.outdent), this.context.memo("help.formatPara", this.lang.help.formatPara), this.context.memo("help.insertHorizontalRule", this.lang.help.insertHorizontalRule), this.context.memo("help.fontName", this.lang.help.fontName); for (var i = ["bold", "italic", "underline", "strikethrough", "superscript", "subscript", "justifyLeft", "justifyCenter", "justifyRight", "justifyFull", "formatBlock", "removeFormat", "backColor"], o = 0, a = i.length; o < a; o++)this[i[o]] = function (t) { return function (e) { n.beforeCommand(), document.execCommand(t, !1, e), n.afterCommand(!0) } }(i[o]), this.context.memo("help." + i[o], this.lang.help[i[o]]); for (this.fontName = this.wrapCommand(function (t) { return n.fontStyling("font-family", "'" + t + "'") }), this.fontSize = this.wrapCommand(function (t) { return n.fontStyling("font-size", t + "px") }), o = 1; o <= 6; o++)this["formatH" + o] = function (t) { return function () { n.formatBlock("H" + t) } }(o), this.context.memo("help.formatH" + o, this.lang.help["formatH" + o]); this.insertParagraph = this.wrapCommand(function () { n.typing.insertParagraph(n.editable) }), this.insertOrderedList = this.wrapCommand(function () { n.bullet.insertOrderedList(n.editable) }), this.insertUnorderedList = this.wrapCommand(function () { n.bullet.insertUnorderedList(n.editable) }), this.indent = this.wrapCommand(function () { n.bullet.indent(n.editable) }), this.outdent = this.wrapCommand(function () { n.bullet.outdent(n.editable) }), this.insertNode = this.wrapCommand(function (e) { n.isLimited(t(e).text().length) || (n.createRange().insertNode(e), Ut.createFromNodeAfter(e).select()) }), this.insertText = this.wrapCommand(function (t) { if (!n.isLimited(t.length)) { var e = n.createRange().insertNode(Xt.createText(t)); Ut.create(e, Xt.nodeLength(e)).select() } }), this.pasteHTML = this.wrapCommand(function (t) { if (!n.isLimited(t.length)) { var e = n.createRange().pasteHTML(t); Ut.createFromNodeAfter(X.last(e)).select() } }), this.formatBlock = this.wrapCommand(function (t, e) { var i = n.options.callbacks.onApplyCustomStyle; i ? i.call(n, e, n.context, n.onFormatBlock) : n.onFormatBlock(t, e) }), this.insertHorizontalRule = this.wrapCommand(function () { var t = n.createRange().insertNode(Xt.create("HR")); t.nextSibling && Ut.create(t.nextSibling, 0).normalize().select() }), this.lineHeight = this.wrapCommand(function (t) { n.style.stylePara(n.createRange(), { lineHeight: t }) }), this.createLink = this.wrapCommand(function (e) { var i = e.url, o = e.text, a = e.isNewWindow, r = e.range || n.createRange(), s = o.length - r.toString().length; if (!(0 < s && n.isLimited(s))) { var g = r.toString() !== o; "string" == typeof i && (i = i.trim()), n.options.onCreateLink ? i = n.options.onCreateLink(i) : /^\.?\/(.*)/.test(i) || (i = /^[A-Za-z][A-Za-z0-9+-.]*\:[\/\/]?/.test(i) ? i : "http://" + i); var l = []; if (g) { var c = (r = r.deleteContents()).insertNode(t("<A>" + o + "</A>")[0]); l.push(c) } else l = n.style.styleNodes(r, { nodeName: "A", expandClosestSibling: !0, onlyPartialContains: !0 }); t.each(l, function (e, n) { t(n).attr("href", i), a ? t(n).attr("target", "_blank") : t(n).removeAttr("target") }); var I = Ut.createFromNodeBefore(X.head(l)).getStartPoint(), u = Ut.createFromNodeAfter(X.last(l)).getEndPoint(); Ut.create(I.node, I.offset, u.node, u.offset).select() } }), this.color = this.wrapCommand(function (t) { var e = t.foreColor, n = t.backColor; e && document.execCommand("foreColor", !1, e), n && document.execCommand("backColor", !1, n) }), this.foreColor = this.wrapCommand(function (t) { document.execCommand("styleWithCSS", !1, !0), document.execCommand("foreColor", !1, t) }), this.insertTable = this.wrapCommand(function (t) { var e = t.split("x"); n.createRange().deleteContents().insertNode(n.table.createTable(e[0], e[1], n.options)) }), this.removeMedia = this.wrapCommand(function () { var e = t(n.restoreTarget()).parent(); e.parent("figure").length ? e.parent("figure").remove() : e = t(n.restoreTarget()).detach(), n.context.triggerEvent("media.delete", e, n.$editable) }), this.floatMe = this.wrapCommand(function (e) { var i = t(n.restoreTarget()); i.toggleClass("note-float-left", "left" === e), i.toggleClass("note-float-right", "right" === e), i.css("float", e) }), this.resize = this.wrapCommand(function (e) { t(n.restoreTarget()).css({ width: 100 * e + "%", height: "" }) }) } var Jt = (jt.prototype.initialize = function () { this.$editable.on("paste", this.pasteByEvent.bind(this)) }, jt.prototype.pasteByEvent = function (t) { var e = t.originalEvent.clipboardData; if (e && e.items && e.items.length) { var n = 1 < e.items.length ? e.items[1] : X.head(e.items); "file" === n.kind && -1 !== n.type.indexOf("image/") && this.context.invoke("editor.insertImagesOrCallback", [n.getAsFile()]), this.context.invoke("editor.afterCommand") } }, jt); function jt(t) { this.context = t, this.$editable = t.layoutInfo.editable } var $t, qt = (te.prototype.initialize = function () { this.options.disableDragAndDrop ? (this.documentEventHandlers.onDrop = function (t) { t.preventDefault() }, this.$eventListener = this.$dropzone, this.$eventListener.on("drop", this.documentEventHandlers.onDrop)) : this.attachDragAndDropEvent() }, te.prototype.attachDragAndDropEvent = function () { var e = this, n = t(), i = this.$dropzone.find(".note-dropzone-message"); this.documentEventHandlers.onDragenter = function (t) { var o = e.context.invoke("codeview.isActivated"), a = 0 < e.$editor.width() && 0 < e.$editor.height(); o || n.length || !a || (e.$editor.addClass("dragover"), e.$dropzone.width(e.$editor.width()), e.$dropzone.height(e.$editor.height()), i.text(e.lang.image.dragImageHere)), n = n.add(t.target) }, this.documentEventHandlers.onDragleave = function (t) { (n = n.not(t.target)).length || e.$editor.removeClass("dragover") }, this.documentEventHandlers.onDrop = function () { n = t(), e.$editor.removeClass("dragover") }, this.$eventListener.on("dragenter", this.documentEventHandlers.onDragenter).on("dragleave", this.documentEventHandlers.onDragleave).on("drop", this.documentEventHandlers.onDrop), this.$dropzone.on("dragenter", function () { e.$dropzone.addClass("hover"), i.text(e.lang.image.dropImage) }).on("dragleave", function () { e.$dropzone.removeClass("hover"), i.text(e.lang.image.dragImageHere) }), this.$dropzone.on("drop", function (n) { var i = n.originalEvent.dataTransfer; n.preventDefault(), i && i.files && i.files.length ? (e.$editable.focus(), e.context.invoke("editor.insertImagesOrCallback", i.files)) : t.each(i.types, function (n, o) { var a = i.getData(o); -1 < o.toLowerCase().indexOf("text") ? e.context.invoke("editor.pasteHTML", a) : t(a).each(function (t, n) { e.context.invoke("editor.insertNode", n) }) }) }).on("dragover", !1) }, te.prototype.destroy = function () { var t = this; Object.keys(this.documentEventHandlers).forEach(function (e) { t.$eventListener.off(e.substr(2).toLowerCase(), t.documentEventHandlers[e]) }), this.documentEventHandlers = {} }, te); function te(e) { this.context = e, this.$eventListener = t(document), this.$editor = e.layoutInfo.editor, this.$editable = e.layoutInfo.editable, this.options = e.options, this.lang = this.options.langInfo, this.documentEventHandlers = {}, this.$dropzone = t(['<div class="note-dropzone">', '  <div class="note-dropzone-message"/>', "</div>"].join("")).prependTo(this.$editor) } H.hasCodeMirror && (H.isSupportAmd ? require(["codemirror"], function (t) { $t = t }) : $t = window.CodeMirror); var ee = (ne.prototype.sync = function () { this.isActivated() && H.hasCodeMirror && this.$codable.data("cmEditor").save() }, ne.prototype.isActivated = function () { return this.$editor.hasClass("codeview") }, ne.prototype.toggle = function () { this.isActivated() ? this.deactivate() : this.activate(), this.context.triggerEvent("codeview.toggled") }, ne.prototype.activate = function () { var t = this; if (this.$codable.val(Xt.html(this.$editable, this.options.prettifyHtml)), this.$codable.height(this.$editable.height()), this.context.invoke("toolbar.updateCodeview", !0), this.$editor.addClass("codeview"), this.$codable.focus(), H.hasCodeMirror) { var e = $t.fromTextArea(this.$codable[0], this.options.codemirror); if (this.options.codemirror.tern) { var n = new $t.TernServer(this.options.codemirror.tern); e.ternServer = n, e.on("cursorActivity", function (t) { n.updateArgHints(t) }) } e.on("blur", function (n) { t.context.triggerEvent("blur.codeview", e.getValue(), n) }), e.setSize(null, this.$editable.outerHeight()), this.$codable.data("cmEditor", e) } else this.$codable.on("blur", function (e) { t.context.triggerEvent("blur.codeview", t.$codable.val(), e) }) }, ne.prototype.deactivate = function () { if (H.hasCodeMirror) { var t = this.$codable.data("cmEditor"); this.$codable.val(t.getValue()), t.toTextArea() } var e = Xt.value(this.$codable, this.options.prettifyHtml) || Xt.emptyPara, n = this.$editable.html() !== e; this.$editable.html(e), this.$editable.height(this.options.height ? this.$codable.height() : "auto"), this.$editor.removeClass("codeview"), n && this.context.triggerEvent("change", this.$editable.html(), this.$editable), this.$editable.focus(), this.context.invoke("toolbar.updateCodeview", !1) }, ne.prototype.destroy = function () { this.isActivated() && this.deactivate() }, ne); function ne(t) { this.context = t, this.$editor = t.layoutInfo.editor, this.$editable = t.layoutInfo.editable, this.$codable = t.layoutInfo.codable, this.options = t.options } var ie = (oe.prototype.initialize = function () { var t = this; this.options.airMode || this.options.disableResizeEditor ? this.destroy() : this.$statusbar.on("mousedown", function (e) { function n(e) { var n = e.clientY - (24 + i); n = 0 < t.options.minheight ? Math.max(n, t.options.minheight) : n, n = 0 < t.options.maxHeight ? Math.min(n, t.options.maxHeight) : n, t.$editable.height(n) } e.preventDefault(), e.stopPropagation(); var i = t.$editable.offset().top - t.$document.scrollTop(); t.$document.on("mousemove", n).one("mouseup", function () { t.$document.off("mousemove", n) }) }) }, oe.prototype.destroy = function () { this.$statusbar.off(), this.$statusbar.addClass("locked") }, oe); function oe(e) { this.$document = t(document), this.$statusbar = e.layoutInfo.statusbar, this.$editable = e.layoutInfo.editable, this.options = e.options } var ae = (re.prototype.resizeTo = function (t) { this.$editable.css("height", t.h), this.$codable.css("height", t.h), this.$codable.data("cmeditor") && this.$codable.data("cmeditor").setsize(null, t.h) }, re.prototype.toggle = function () { this.$editor.toggleClass("fullscreen"), this.isFullscreen() ? (this.$editable.data("orgHeight", this.$editable.css("height")), this.$editable.data("orgMaxHeight", this.$editable.css("maxHeight")), this.$editable.css("maxHeight", ""), this.$window.on("resize", this.onResize).trigger("resize"), this.$scrollbar.css("overflow", "hidden")) : (this.$window.off("resize", this.onResize), this.resizeTo({ h: this.$editable.data("orgHeight") }), this.$editable.css("maxHeight", this.$editable.css("orgMaxHeight")), this.$scrollbar.css("overflow", "visible")), this.context.invoke("toolbar.updateFullscreen", this.isFullscreen()) }, re.prototype.isFullscreen = function () { return this.$editor.hasClass("fullscreen") }, re); function re(e) { var n = this; this.context = e, this.$editor = e.layoutInfo.editor, this.$toolbar = e.layoutInfo.toolbar, this.$editable = e.layoutInfo.editable, this.$codable = e.layoutInfo.codable, this.$window = t(window), this.$scrollbar = t("html, body"), this.onResize = function () { n.resizeTo({ h: n.$window.height() - n.$toolbar.outerHeight() }) } } var se = (ge.prototype.initialize = function () { var e = this; this.$handle = t(['<div class="note-handle">', '<div class="note-control-selection">', '<div class="note-control-selection-bg"></div>', '<div class="note-control-holder note-control-nw"></div>', '<div class="note-control-holder note-control-ne"></div>', '<div class="note-control-holder note-control-sw"></div>', '<div class="', this.options.disableResizeImage ? "note-control-holder" : "note-control-sizing", ' note-control-se"></div>', this.options.disableResizeImage ? "" : '<div class="note-control-selection-info"></div>', "</div>", "</div>"].join("")).prependTo(this.$editingArea), this.$handle.on("mousedown", function (t) { if (Xt.isControlSizing(t.target)) { t.preventDefault(), t.stopPropagation(); var n = e.$handle.find(".note-control-selection").data("target"), i = n.offset(), o = e.$document.scrollTop(), a = function (t) { e.context.invoke("editor.resizeTo", { x: t.clientX - i.left, y: t.clientY - (i.top - o) }, n, !t.shiftKey), e.update(n[0]) }; e.$document.on("mousemove", a).one("mouseup", function (t) { t.preventDefault(), e.$document.off("mousemove", a), e.context.invoke("editor.afterCommand") }), n.data("ratio") || n.data("ratio", n.height() / n.width()) } }), this.$handle.on("wheel", function (t) { t.preventDefault(), e.update() }) }, ge.prototype.destroy = function () { this.$handle.remove() }, ge.prototype.update = function (e) { if (this.context.isDisabled()) return !1; var n = Xt.isImg(e), i = this.$handle.find(".note-control-selection"); if (this.context.invoke("imagePopover.update", e), n) { var o = t(e), a = o.position(), r = { left: a.left + parseInt(o.css("marginLeft"), 10), top: a.top + parseInt(o.css("marginTop"), 10) }, s = { w: o.outerWidth(!1), h: o.outerHeight(!1) }; i.css({ display: "block", left: r.left, top: r.top, width: s.w, height: s.h }).data("target", o); var g = new Image; g.src = o.attr("src"); var l = s.w + "x" + s.h + " (" + this.lang.image.original + ": " + g.width + "x" + g.height + ")"; i.find(".note-control-selection-info").text(l), this.context.invoke("editor.saveTarget", e) } else this.hide(); return n }, ge.prototype.hide = function () { this.context.invoke("editor.clearTarget"), this.$handle.children().hide() }, ge); function ge(e) { var n = this; this.context = e, this.$document = t(document), this.$editingArea = e.layoutInfo.editingArea, this.options = e.options, this.lang = this.options.langInfo, this.events = { "summernote.mousedown": function (t, e) { n.update(e.target) && e.preventDefault() }, "summernote.keyup summernote.scroll summernote.change summernote.dialog.shown": function () { n.update() }, "summernote.disable": function () { n.hide() }, "summernote.codeview.toggled": function () { n.update() } } } var le = /^([A-Za-z][A-Za-z0-9+-.]*\:[\/]{2}|mailto:[A-Z0-9._%+-]+@)?(www\.)?(.+)$/i, ce = (Ie.prototype.initialize = function () { this.lastWordRange = null }, Ie.prototype.destroy = function () { this.lastWordRange = null }, Ie.prototype.replace = function () { if (this.lastWordRange) { var e = this.lastWordRange.toString(), n = e.match(le); if (n && (n[1] || n[2])) { var i = n[1] ? e : "http://" + e, o = t("<a />").html(e).attr("href", i)[0]; this.context.options.linkTargetBlank && t(o).attr("target", "_blank"), this.lastWordRange.insertNode(o), this.lastWordRange = null, this.context.invoke("editor.focus") } } }, Ie.prototype.handleKeydown = function (t) { if (X.contains([Tt.code.ENTER, Tt.code.SPACE], t.keyCode)) { var e = this.context.invoke("editor.createRange").getWordRange(); this.lastWordRange = e } }, Ie.prototype.handleKeyup = function (t) { X.contains([Tt.code.ENTER, Tt.code.SPACE], t.keyCode) && this.replace() }, Ie); function Ie(t) { var e = this; this.context = t, this.events = { "summernote.keyup": function (t, n) { n.isDefaultPrevented() || e.handleKeyup(n) }, "summernote.keydown": function (t, n) { e.handleKeydown(n) } } } var ue = (he.prototype.shouldInitialize = function () { return Xt.isTextarea(this.$note[0]) }, he); function he(t) { var e = this; this.$note = t.layoutInfo.note, this.events = { "summernote.change": function () { e.$note.val(t.invoke("code")) } } } var de = (Ce.prototype.shouldInitialize = function () { return !!this.options.placeholder }, Ce.prototype.initialize = function () { var e = this; this.$placeholder = t('<div class="note-placeholder">'), this.$placeholder.on("click", function () { e.context.invoke("focus") }).html(this.options.placeholder).prependTo(this.$editingArea), this.update() }, Ce.prototype.destroy = function () { this.$placeholder.remove() }, Ce.prototype.update = function () { var t = !this.context.invoke("codeview.isActivated") && this.context.invoke("editor.isEmpty"); this.$placeholder.toggle(t) }, Ce); function Ce(t) { var e = this; this.context = t, this.$editingArea = t.layoutInfo.editingArea, this.options = t.options, this.events = { "summernote.init summernote.change": function () { e.update() }, "summernote.codeview.toggled": function () { e.update() } } } var Ae = (pe.prototype.representShortcut = function (t) { var e = this.invertedKeyMap[t]; return this.options.shortcuts && e ? (H.isMac && (e = e.replace("CMD", "â").replace("SHIFT", "â§")), " (" + (e = e.replace("BACKSLASH", "\\").replace("SLASH", "/").replace("LEFTBRACKET", "[").replace("RIGHTBRACKET", "]")) + ")") : "" }, pe.prototype.button = function (t) { return !this.options.tooltip && t.tooltip && delete t.tooltip, t.container = this.options.container, this.ui.button(t) }, pe.prototype.initialize = function () { this.addToolbarButtons(), this.addImagePopoverButtons(), this.addLinkPopoverButtons(), this.addTablePopoverButtons(), this.fontInstalledMap = {} }, pe.prototype.destroy = function () { delete this.fontInstalledMap }, pe.prototype.isFontInstalled = function (t) { return this.fontInstalledMap.hasOwnProperty(t) || (this.fontInstalledMap[t] = H.isFontInstalled(t) || X.contains(this.options.fontNamesIgnoreCheck, t)), this.fontInstalledMap[t] }, pe.prototype.isFontDeservedToAdd = function (e) { return "" !== (e = e.toLowerCase()) && this.isFontInstalled(e) && -1 === t.inArray(e, ["sans-serif", "serif", "monospace", "cursive", "fantasy"]) }, pe.prototype.colorPalette = function (e, n, i, o) { var a = this; return this.ui.buttonGroup({ className: "note-color " + e, children: [this.button({ className: "note-current-color-button", contents: this.ui.icon(this.options.icons.font + " note-recent-color"), tooltip: n, click: function (e) { var n = t(e.currentTarget); i && o ? a.context.invoke("editor.color", { backColor: n.attr("data-backColor"), foreColor: n.attr("data-foreColor") }) : i ? a.context.invoke("editor.color", { backColor: n.attr("data-backColor") }) : o && a.context.invoke("editor.color", { foreColor: n.attr("data-foreColor") }) }, callback: function (t) { var e = t.find(".note-recent-color"); i && (e.css("background-color", "#FFFF00"), t.attr("data-backColor", "#FFFF00")), o || e.css("color", "transparent") } }), this.button({ className: "dropdown-toggle", contents: this.ui.dropdownButtonContents("", this.options), tooltip: this.lang.color.more, data: { toggle: "dropdown" } }), this.ui.dropdown({ items: (i ? ['<div class="note-palette">', '  <div class="note-palette-title">' + this.lang.color.background + "</div>", "  <div>", '    <button type="button" class="note-color-reset btn btn-light" data-event="backColor" data-value="inherit">', this.lang.color.transparent, "    </button>", "  </div>", '  <div class="note-holder" data-event="backColor"/>', "  <div>", '    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="backColorPicker">', this.lang.color.cpSelect, "    </button>", '    <input type="color" id="backColorPicker" class="note-btn note-color-select-btn" value="#FFFF00" data-event="backColorPalette">', "  </div>", '  <div class="note-holder-custom" id="backColorPalette" data-event="backColor"/>', "</div>"].join("") : "") + (o ? ['<div class="note-palette">', '  <div class="note-palette-title">' + this.lang.color.foreground + "</div>", "  <div>", '    <button type="button" class="note-color-reset btn btn-light" data-event="removeFormat" data-value="foreColor">', this.lang.color.resetToDefault, "    </button>", "  </div>", '  <div class="note-holder" data-event="foreColor"/>', "  <div>", '    <button type="button" class="note-color-select btn" data-event="openPalette" data-value="foreColorPicker">', this.lang.color.cpSelect, "    </button>", '    <input type="color" id="foreColorPicker" class="note-btn note-color-select-btn" value="#000000" data-event="foreColorPalette">', '  <div class="note-holder-custom" id="foreColorPalette" data-event="foreColor"/>', "</div>"].join("") : ""), callback: function (e) { e.find(".note-holder").each(function (e, n) { var i = t(n); i.append(a.ui.palette({ colors: a.options.colors, colorsName: a.options.colorsName, eventName: i.data("event"), container: a.options.container, tooltip: a.options.tooltip }).render()) }); var n = [["#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF", "#FFFFFF"]]; e.find(".note-holder-custom").each(function (e, i) { var o = t(i); o.append(a.ui.palette({ colors: n, colorsName: n, eventName: o.data("event"), container: a.options.container, tooltip: a.options.tooltip }).render()) }), e.find("input[type=color]").each(function (n, i) { t(i).change(function () { var n = e.find("#" + t(this).data("event")).find(".note-color-btn").first(), i = this.value.toUpperCase(); n.css("background-color", i).attr("aria-label", i).attr("data-value", i).attr("data-original-title", i), n.click() }) }) }, click: function (n) { n.stopPropagation(); var i = t("." + e), o = t(n.target), r = o.data("event"), s = o.attr("data-value"); if ("openPalette" === r) { var g = i.find("#" + s), l = t(i.find("#" + g.data("event")).find(".note-color-row")[0]), c = l.find(".note-color-btn").last().detach(), I = g.val(); c.css("background-color", I).attr("aria-label", I).attr("data-value", I).attr("data-original-title", I), l.prepend(c), g.click() } else if (X.contains(["backColor", "foreColor"], r)) { var u = "backColor" === r ? "background-color" : "color", h = o.closest(".note-color").find(".note-recent-color"), d = o.closest(".note-color").find(".note-current-color-button"); h.css(u, s), d.attr("data-" + r, s), a.context.invoke("editor." + r, s) } } })] }).render() }, pe.prototype.addToolbarButtons = function () { var e = this; this.context.memo("button.style", function () { return e.ui.buttonGroup([e.button({ className: "dropdown-toggle", contents: e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.magic), e.options), tooltip: e.lang.style.style, data: { toggle: "dropdown" } }), e.ui.dropdown({ className: "dropdown-style", items: e.options.styleTags, title: e.lang.style.style, template: function (t) { "string" == typeof t && (t = { tag: t, title: e.lang.style.hasOwnProperty(t) ? e.lang.style[t] : t }); var n = t.tag, i = t.title; return "<" + n + (t.style ? ' style="' + t.style + '" ' : "") + (t.className ? ' class="' + t.className + '"' : "") + ">" + i + "</" + n + ">" }, click: e.context.createInvokeHandler("editor.formatBlock") })]).render() }); for (var n = function (t, n) { var o = i.options.styleTags[t]; i.context.memo("button.style." + o, function () { return e.button({ className: "note-btn-style-" + o, contents: '<div data-value="' + o + '">' + o.toUpperCase() + "</div>", tooltip: e.lang.style[o], click: e.context.createInvokeHandler("editor.formatBlock") }).render() }) }, i = this, o = 0, a = this.options.styleTags.length; o < a; o++)n(o); this.context.memo("button.bold", function () { return e.button({ className: "note-btn-bold", contents: e.ui.icon(e.options.icons.bold), tooltip: e.lang.font.bold + e.representShortcut("bold"), click: e.context.createInvokeHandlerAndUpdateState("editor.bold") }).render() }), this.context.memo("button.italic", function () { return e.button({ className: "note-btn-italic", contents: e.ui.icon(e.options.icons.italic), tooltip: e.lang.font.italic + e.representShortcut("italic"), click: e.context.createInvokeHandlerAndUpdateState("editor.italic") }).render() }), this.context.memo("button.underline", function () { return e.button({ className: "note-btn-underline", contents: e.ui.icon(e.options.icons.underline), tooltip: e.lang.font.underline + e.representShortcut("underline"), click: e.context.createInvokeHandlerAndUpdateState("editor.underline") }).render() }), this.context.memo("button.clear", function () { return e.button({ contents: e.ui.icon(e.options.icons.eraser), tooltip: e.lang.font.clear + e.representShortcut("removeFormat"), click: e.context.createInvokeHandler("editor.removeFormat") }).render() }), this.context.memo("button.strikethrough", function () { return e.button({ className: "note-btn-strikethrough", contents: e.ui.icon(e.options.icons.strikethrough), tooltip: e.lang.font.strikethrough + e.representShortcut("strikethrough"), click: e.context.createInvokeHandlerAndUpdateState("editor.strikethrough") }).render() }), this.context.memo("button.superscript", function () { return e.button({ className: "note-btn-superscript", contents: e.ui.icon(e.options.icons.superscript), tooltip: e.lang.font.superscript, click: e.context.createInvokeHandlerAndUpdateState("editor.superscript") }).render() }), this.context.memo("button.subscript", function () { return e.button({ className: "note-btn-subscript", contents: e.ui.icon(e.options.icons.subscript), tooltip: e.lang.font.subscript, click: e.context.createInvokeHandlerAndUpdateState("editor.subscript") }).render() }), this.context.memo("button.fontname", function () { var n = e.context.invoke("editor.currentStyle"); return t.each(n["font-family"].split(","), function (n, i) { i = i.trim().replace(/['"]+/g, ""), e.isFontDeservedToAdd(i) && -1 === t.inArray(i, e.options.fontNames) && e.options.fontNames.push(i) }), e.ui.buttonGroup([e.button({ className: "dropdown-toggle", contents: e.ui.dropdownButtonContents('<span class="note-current-fontname"/>', e.options), tooltip: e.lang.font.name, data: { toggle: "dropdown" } }), e.ui.dropdownCheck({ className: "dropdown-fontname", checkClassName: e.options.icons.menuCheck, items: e.options.fontNames.filter(e.isFontInstalled.bind(e)), title: e.lang.font.name, template: function (t) { return "<span style=\"font-family: '" + t + "'\">" + t + "</span>" }, click: e.context.createInvokeHandlerAndUpdateState("editor.fontName") })]).render() }), this.context.memo("button.fontsize", function () { return e.ui.buttonGroup([e.button({ className: "dropdown-toggle", contents: e.ui.dropdownButtonContents('<span class="note-current-fontsize"/>', e.options), tooltip: e.lang.font.size, data: { toggle: "dropdown" } }), e.ui.dropdownCheck({ className: "dropdown-fontsize", checkClassName: e.options.icons.menuCheck, items: e.options.fontSizes, title: e.lang.font.size, click: e.context.createInvokeHandlerAndUpdateState("editor.fontSize") })]).render() }), this.context.memo("button.color", function () { return e.colorPalette("note-color-all", e.lang.color.recent, !0, !0) }), this.context.memo("button.forecolor", function () { return e.colorPalette("note-color-fore", e.lang.color.foreground, !1, !0) }), this.context.memo("button.backcolor", function () { return e.colorPalette("note-color-back", e.lang.color.background, !0, !1) }), this.context.memo("button.ul", function () { return e.button({ contents: e.ui.icon(e.options.icons.unorderedlist), tooltip: e.lang.lists.unordered + e.representShortcut("insertUnorderedList"), click: e.context.createInvokeHandler("editor.insertUnorderedList") }).render() }), this.context.memo("button.ol", function () { return e.button({ contents: e.ui.icon(e.options.icons.orderedlist), tooltip: e.lang.lists.ordered + e.representShortcut("insertOrderedList"), click: e.context.createInvokeHandler("editor.insertOrderedList") }).render() }); var r = this.button({ contents: this.ui.icon(this.options.icons.alignLeft), tooltip: this.lang.paragraph.left + this.representShortcut("justifyLeft"), click: this.context.createInvokeHandler("editor.justifyLeft") }), s = this.button({ contents: this.ui.icon(this.options.icons.alignCenter), tooltip: this.lang.paragraph.center + this.representShortcut("justifyCenter"), click: this.context.createInvokeHandler("editor.justifyCenter") }), g = this.button({ contents: this.ui.icon(this.options.icons.alignRight), tooltip: this.lang.paragraph.right + this.representShortcut("justifyRight"), click: this.context.createInvokeHandler("editor.justifyRight") }), l = this.button({ contents: this.ui.icon(this.options.icons.alignJustify), tooltip: this.lang.paragraph.justify + this.representShortcut("justifyFull"), click: this.context.createInvokeHandler("editor.justifyFull") }), c = this.button({ contents: this.ui.icon(this.options.icons.outdent), tooltip: this.lang.paragraph.outdent + this.representShortcut("outdent"), click: this.context.createInvokeHandler("editor.outdent") }), I = this.button({ contents: this.ui.icon(this.options.icons.indent), tooltip: this.lang.paragraph.indent + this.representShortcut("indent"), click: this.context.createInvokeHandler("editor.indent") }); this.context.memo("button.justifyLeft", y.invoke(r, "render")), this.context.memo("button.justifyCenter", y.invoke(s, "render")), this.context.memo("button.justifyRight", y.invoke(g, "render")), this.context.memo("button.justifyFull", y.invoke(l, "render")), this.context.memo("button.outdent", y.invoke(c, "render")), this.context.memo("button.indent", y.invoke(I, "render")), this.context.memo("button.paragraph", function () { return e.ui.buttonGroup([e.button({ className: "dropdown-toggle", contents: e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.alignLeft), e.options), tooltip: e.lang.paragraph.paragraph, data: { toggle: "dropdown" } }), e.ui.dropdown([e.ui.buttonGroup({ className: "note-align", children: [r, s, g, l] }), e.ui.buttonGroup({ className: "note-list", children: [c, I] })])]).render() }), this.context.memo("button.height", function () { return e.ui.buttonGroup([e.button({ className: "dropdown-toggle", contents: e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.textHeight), e.options), tooltip: e.lang.font.height, data: { toggle: "dropdown" } }), e.ui.dropdownCheck({ items: e.options.lineHeights, checkClassName: e.options.icons.menuCheck, className: "dropdown-line-height", title: e.lang.font.height, click: e.context.createInvokeHandler("editor.lineHeight") })]).render() }), this.context.memo("button.table", function () { return e.ui.buttonGroup([e.button({ className: "dropdown-toggle", contents: e.ui.dropdownButtonContents(e.ui.icon(e.options.icons.table), e.options), tooltip: e.lang.table.table, data: { toggle: "dropdown" } }), e.ui.dropdown({ title: e.lang.table.table, className: "note-table", items: ['<div class="note-dimension-picker">', '  <div class="note-dimension-picker-mousecatcher" data-event="insertTable" data-value="1x1"/>', '  <div class="note-dimension-picker-highlighted"/>', '  <div class="note-dimension-picker-unhighlighted"/>', "</div>", '<div class="note-dimension-display">1 x 1</div>'].join("") })], { callback: function (t) { t.find(".note-dimension-picker-mousecatcher").css({ width: e.options.insertTableMaxSize.col + "em", height: e.options.insertTableMaxSize.row + "em" }).mousedown(e.context.createInvokeHandler("editor.insertTable")).on("mousemove", e.tableMoveHandler.bind(e)) } }).render() }), this.context.memo("button.link", function () { return e.button({ contents: e.ui.icon(e.options.icons.link), tooltip: e.lang.link.link + e.representShortcut("linkDialog.show"), click: e.context.createInvokeHandler("linkDialog.show") }).render() }), this.context.memo("button.picture", function () { return e.button({ contents: e.ui.icon(e.options.icons.picture), tooltip: e.lang.image.image, click: e.context.createInvokeHandler("imageDialog.show") }).render() }), this.context.memo("button.video", function () { return e.button({ contents: e.ui.icon(e.options.icons.video), tooltip: e.lang.video.video, click: e.context.createInvokeHandler("videoDialog.show") }).render() }), this.context.memo("button.hr", function () { return e.button({ contents: e.ui.icon(e.options.icons.minus), tooltip: e.lang.hr.insert + e.representShortcut("insertHorizontalRule"), click: e.context.createInvokeHandler("editor.insertHorizontalRule") }).render() }), this.context.memo("button.fullscreen", function () { return e.button({ className: "btn-fullscreen", contents: e.ui.icon(e.options.icons.arrowsAlt), tooltip: e.lang.options.fullscreen, click: e.context.createInvokeHandler("fullscreen.toggle") }).render() }), this.context.memo("button.codeview", function () { return e.button({ className: "btn-codeview", contents: e.ui.icon(e.options.icons.code), tooltip: e.lang.options.codeview, click: e.context.createInvokeHandler("codeview.toggle") }).render() }), this.context.memo("button.redo", function () { return e.button({ contents: e.ui.icon(e.options.icons.redo), tooltip: e.lang.history.redo + e.representShortcut("redo"), click: e.context.createInvokeHandler("editor.redo") }).render() }), this.context.memo("button.undo", function () { return e.button({ contents: e.ui.icon(e.options.icons.undo), tooltip: e.lang.history.undo + e.representShortcut("undo"), click: e.context.createInvokeHandler("editor.undo") }).render() }), this.context.memo("button.help", function () { return e.button({ contents: e.ui.icon(e.options.icons.question), tooltip: e.lang.options.help, click: e.context.createInvokeHandler("helpDialog.show") }).render() }) }, pe.prototype.addImagePopoverButtons = function () { var t = this; this.context.memo("button.imageSize100", function () { return t.button({ contents: '<span class="note-fontsize-10">100%</span>', tooltip: t.lang.image.resizeFull, click: t.context.createInvokeHandler("editor.resize", "1") }).render() }), this.context.memo("button.imageSize50", function () { return t.button({ contents: '<span class="note-fontsize-10">50%</span>', tooltip: t.lang.image.resizeHalf, click: t.context.createInvokeHandler("editor.resize", "0.5") }).render() }), this.context.memo("button.imageSize25", function () { return t.button({ contents: '<span class="note-fontsize-10">25%</span>', tooltip: t.lang.image.resizeQuarter, click: t.context.createInvokeHandler("editor.resize", "0.25") }).render() }), this.context.memo("button.floatLeft", function () { return t.button({ contents: t.ui.icon(t.options.icons.alignLeft), tooltip: t.lang.image.floatLeft, click: t.context.createInvokeHandler("editor.floatMe", "left") }).render() }), this.context.memo("button.floatRight", function () { return t.button({ contents: t.ui.icon(t.options.icons.alignRight), tooltip: t.lang.image.floatRight, click: t.context.createInvokeHandler("editor.floatMe", "right") }).render() }), this.context.memo("button.floatNone", function () { return t.button({ contents: t.ui.icon(t.options.icons.alignJustify), tooltip: t.lang.image.floatNone, click: t.context.createInvokeHandler("editor.floatMe", "none") }).render() }), this.context.memo("button.removeMedia", function () { return t.button({ contents: t.ui.icon(t.options.icons.trash), tooltip: t.lang.image.remove, click: t.context.createInvokeHandler("editor.removeMedia") }).render() }) }, pe.prototype.addLinkPopoverButtons = function () { var t = this; this.context.memo("button.linkDialogShow", function () { return t.button({ contents: t.ui.icon(t.options.icons.link), tooltip: t.lang.link.edit, click: t.context.createInvokeHandler("linkDialog.show") }).render() }), this.context.memo("button.unlink", function () { return t.button({ contents: t.ui.icon(t.options.icons.unlink), tooltip: t.lang.link.unlink, click: t.context.createInvokeHandler("editor.unlink") }).render() }) }, pe.prototype.addTablePopoverButtons = function () { var t = this; this.context.memo("button.addRowUp", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.rowAbove), tooltip: t.lang.table.addRowAbove, click: t.context.createInvokeHandler("editor.addRow", "top") }).render() }), this.context.memo("button.addRowDown", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.rowBelow), tooltip: t.lang.table.addRowBelow, click: t.context.createInvokeHandler("editor.addRow", "bottom") }).render() }), this.context.memo("button.addColLeft", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.colBefore), tooltip: t.lang.table.addColLeft, click: t.context.createInvokeHandler("editor.addCol", "left") }).render() }), this.context.memo("button.addColRight", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.colAfter), tooltip: t.lang.table.addColRight, click: t.context.createInvokeHandler("editor.addCol", "right") }).render() }), this.context.memo("button.deleteRow", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.rowRemove), tooltip: t.lang.table.delRow, click: t.context.createInvokeHandler("editor.deleteRow") }).render() }), this.context.memo("button.deleteCol", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.colRemove), tooltip: t.lang.table.delCol, click: t.context.createInvokeHandler("editor.deleteCol") }).render() }), this.context.memo("button.deleteTable", function () { return t.button({ className: "btn-md", contents: t.ui.icon(t.options.icons.trash), tooltip: t.lang.table.delTable, click: t.context.createInvokeHandler("editor.deleteTable") }).render() }) }, pe.prototype.build = function (e, n) { for (var i = 0, o = n.length; i < o; i++) { for (var a = n[i], r = t.isArray(a) ? a[0] : a, s = t.isArray(a) ? 1 === a.length ? [a[0]] : a[1] : [a], g = this.ui.buttonGroup({ className: "note-" + r }).render(), l = 0, c = s.length; l < c; l++) { var I = this.context.memo("button." + s[l]); I && g.append("function" == typeof I ? I(this.context) : I) } g.appendTo(e) } }, pe.prototype.updateCurrentStyle = function (e) { var n = this, i = e || this.$toolbar, o = this.context.invoke("editor.currentStyle"); if (this.updateBtnStates(i, { ".note-btn-bold": function () { return "bold" === o["font-bold"] }, ".note-btn-italic": function () { return "italic" === o["font-italic"] }, ".note-btn-underline": function () { return "underline" === o["font-underline"] }, ".note-btn-subscript": function () { return "subscript" === o["font-subscript"] }, ".note-btn-superscript": function () { return "superscript" === o["font-superscript"] }, ".note-btn-strikethrough": function () { return "strikethrough" === o["font-strikethrough"] } }), o["font-family"]) { var a = o["font-family"].split(",").map(function (t) { return t.replace(/[\'\"]/g, "").replace(/\s+$/, "").replace(/^\s+/, "") }), r = X.find(a, this.isFontInstalled.bind(this)); i.find(".dropdown-fontname a").each(function (e, n) { var i = t(n), o = i.data("value") + "" == r + ""; i.toggleClass("checked", o) }), i.find(".note-current-fontname").text(r).css("font-family", r) } if (o["font-size"]) { var s = o["font-size"]; i.find(".dropdown-fontsize a").each(function (e, n) { var i = t(n), o = i.data("value") + "" == s + ""; i.toggleClass("checked", o) }), i.find(".note-current-fontsize").text(s) } if (o["line-height"]) { var g = o["line-height"]; i.find(".dropdown-line-height li a").each(function (e, i) { var o = t(i).data("value") + "" == g + ""; n.className = o ? "checked" : "" }) } }, pe.prototype.updateBtnStates = function (e, n) { var i = this; t.each(n, function (t, n) { i.ui.toggleBtnActive(e.find(t), n()) }) }, pe.prototype.tableMoveHandler = function (e) { var n, i = t(e.target.parentNode), o = i.next(), a = i.find(".note-dimension-picker-mousecatcher"), r = i.find(".note-dimension-picker-highlighted"), s = i.find(".note-dimension-picker-unhighlighted"); if (void 0 === e.offsetX) { var g = t(e.target).offset(); n = { x: e.pageX - g.left, y: e.pageY - g.top } } else n = { x: e.offsetX, y: e.offsetY }; var l = Math.ceil(n.x / 18) || 1, c = Math.ceil(n.y / 18) || 1; r.css({ width: l + "em", height: c + "em" }), a.data("value", l + "x" + c), 3 < l && l < this.options.insertTableMaxSize.col && s.css({ width: l + 1 + "em" }), 3 < c && c < this.options.insertTableMaxSize.row && s.css({ height: c + 1 + "em" }), o.html(l + " x " + c) }, pe); function pe(e) { this.ui = t.summernote.ui, this.context = e, this.$toolbar = e.layoutInfo.toolbar, this.options = e.options, this.lang = this.options.langInfo, this.invertedKeyMap = y.invertObject(this.options.keyMap[H.isMac ? "mac" : "pc"]) } var me = (fe.prototype.shouldInitialize = function () { return !this.options.airMode }, fe.prototype.initialize = function () { var t = this; this.options.toolbar = this.options.toolbar || [], this.options.toolbar.length ? this.context.invoke("buttons.build", this.$toolbar, this.options.toolbar) : this.$toolbar.hide(), this.options.toolbarContainer && this.$toolbar.appendTo(this.options.toolbarContainer), this.changeContainer(!1), this.$note.on("summernote.keyup summernote.mouseup summernote.change", function () { t.context.invoke("buttons.updateCurrentStyle") }), this.context.invoke("buttons.updateCurrentStyle"), this.options.followingToolbar && this.$window.on("scroll resize", this.followScroll) }, fe.prototype.destroy = function () { this.$toolbar.children().remove(), this.options.followingToolbar && this.$window.off("scroll resize", this.followScroll) }, fe.prototype.followScroll = function () { if (this.$editor.hasClass("fullscreen")) return !1; var e = this.$toolbar.parent(".note-toolbar-wrapper"), n = this.$editor.outerHeight(), i = this.$editor.width(), o = this.$toolbar.height(); e.css({ height: o }); var a = 0; this.options.otherStaticBar && (a = t(this.options.otherStaticBar).outerHeight()); var r = this.$document.scrollTop(), s = this.$editor.offset().top; s - a < r && r < s + n - a - o ? this.$toolbar.css({ position: "fixed", top: a, width: i }) : this.$toolbar.css({ position: "relative", top: 0, width: "100%" }) }, fe.prototype.changeContainer = function (t) { t ? this.$toolbar.prependTo(this.$editor) : this.options.toolbarContainer && this.$toolbar.appendTo(this.options.toolbarContainer) }, fe.prototype.updateFullscreen = function (t) { this.ui.toggleBtnActive(this.$toolbar.find(".btn-fullscreen"), t), this.changeContainer(t) }, fe.prototype.updateCodeview = function (t) { this.ui.toggleBtnActive(this.$toolbar.find(".btn-codeview"), t), t ? this.deactivate() : this.activate() }, fe.prototype.activate = function (t) { var e = this.$toolbar.find("button"); t || (e = e.not(".btn-codeview")), this.ui.toggleBtn(e, !0) }, fe.prototype.deactivate = function (t) { var e = this.$toolbar.find("button"); t || (e = e.not(".btn-codeview")), this.ui.toggleBtn(e, !1) }, fe); function fe(e) { this.context = e, this.$window = t(window), this.$document = t(document), this.ui = t.summernote.ui, this.$note = e.layoutInfo.note, this.$editor = e.layoutInfo.editor, this.$toolbar = e.layoutInfo.toolbar, this.options = e.options, this.followScroll = this.followScroll.bind(this) } var be = (Be.prototype.initialize = function () { var e = this.options.dialogsInBody ? this.$body : this.$editor, n = ['<div class="form-group note-form-group">', '<label class="note-form-label">' + this.lang.link.textToDisplay + "</label>", '<input class="note-link-text form-control note-form-control note-input" type="text" />', "</div>", '<div class="form-group note-form-group">', '<label class="note-form-label">' + this.lang.link.url + "</label>", '<input class="note-link-url form-control note-form-control note-input" type="text" value="http://" />', "</div>", this.options.disableLinkTarget ? "" : t("<div/>").append(this.ui.checkbox({ className: "sn-checkbox-open-in-new-window", text: this.lang.link.openInNewWindow, checked: !0 }).render()).html()].join(""), i = '<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-link-btn" value="' + this.lang.link.insert + '" disabled>'; this.$dialog = this.ui.dialog({ className: "link-dialog", title: this.lang.link.insert, fade: this.options.dialogsFade, body: n, footer: i }).render().appendTo(e) }, Be.prototype.destroy = function () { this.ui.hideDialog(this.$dialog), this.$dialog.remove() }, Be.prototype.bindEnterKey = function (t, e) { t.on("keypress", function (t) { t.keyCode === Tt.code.ENTER && (t.preventDefault(), e.trigger("click")) }) }, Be.prototype.toggleLinkBtn = function (t, e, n) { this.ui.toggleBtn(t, e.val() && n.val()) }, Be.prototype.showLinkDialog = function (e) { var n = this; return t.Deferred(function (t) { var i = n.$dialog.find(".note-link-text"), o = n.$dialog.find(".note-link-url"), a = n.$dialog.find(".note-link-btn"), r = n.$dialog.find(".sn-checkbox-open-in-new-window input[type=checkbox]"); n.ui.onDialogShown(n.$dialog, function () { function s() { n.toggleLinkBtn(a, i, o), e.text = i.val() } function g() { n.toggleLinkBtn(a, i, o), e.text || i.val(o.val()) } n.context.triggerEvent("dialog.shown"), e.url || (e.url = e.text), i.val(e.text), i.on("input", s).on("paste", function () { setTimeout(s, 0) }), o.on("input", g).on("paste", function () { setTimeout(g, 0) }).val(e.url), H.isSupportTouch || o.trigger("focus"), n.toggleLinkBtn(a, i, o), n.bindEnterKey(o, a), n.bindEnterKey(i, a); var l = void 0 !== e.isNewWindow ? e.isNewWindow : n.context.options.linkTargetBlank; r.prop("checked", l), a.one("click", function (a) { a.preventDefault(), t.resolve({ range: e.range, url: o.val(), text: i.val(), isNewWindow: r.is(":checked") }), n.ui.hideDialog(n.$dialog) }) }), n.ui.onDialogHidden(n.$dialog, function () { i.off("input paste keypress"), o.off("input paste keypress"), a.off("click"), "pending" === t.state() && t.reject() }), n.ui.showDialog(n.$dialog) }).promise() }, Be.prototype.show = function () { var t = this, e = this.context.invoke("editor.getLinkInfo"); this.context.invoke("editor.saveRange"), this.showLinkDialog(e).then(function (e) { t.context.invoke("editor.restoreRange"), t.context.invoke("editor.createLink", e) }).fail(function () { t.context.invoke("editor.restoreRange") }) }, Be); function Be(e) { this.context = e, this.ui = t.summernote.ui, this.$body = t(document.body), this.$editor = e.layoutInfo.editor, this.options = e.options, this.lang = this.options.langInfo, e.memo("help.linkDialog.show", this.options.langInfo.help["linkDialog.show"]) } var ye = (ve.prototype.shouldInitialize = function () { return !X.isEmpty(this.options.popover.link) }, ve.prototype.initialize = function () { this.$popover = this.ui.popover({ className: "note-link-popover", callback: function (t) { t.find(".popover-content,.note-popover-content").prepend('<span><a target="_blank"></a>&nbsp;</span>') } }).render().appendTo(this.options.container); var t = this.$popover.find(".popover-content,.note-popover-content"); this.context.invoke("buttons.build", t, this.options.popover.link) }, ve.prototype.destroy = function () { this.$popover.remove() }, ve.prototype.update = function () { if (this.context.invoke("editor.hasFocus")) { var e = this.context.invoke("editor.createRange"); if (e.isCollapsed() && e.isOnAnchor()) { var n = Xt.ancestor(e.sc, Xt.isAnchor), i = t(n).attr("href"); this.$popover.find("a").attr("href", i).html(i); var o = Xt.posFromPlaceholder(n); this.$popover.css({ display: "block", left: o.left, top: o.top }) } else this.hide() } else this.hide() }, ve.prototype.hide = function () { this.$popover.hide() }, ve); function ve(e) { var n = this; this.context = e, this.ui = t.summernote.ui, this.options = e.options, this.events = { "summernote.keyup summernote.mouseup summernote.change summernote.scroll": function () { n.update() }, "summernote.disable summernote.dialog.shown": function () { n.hide() } } } var xe = (Fe.prototype.initialize = function () { var t = this.options.dialogsInBody ? this.$body : this.$editor, e = ""; if (this.options.maximumImageFileSize) { var n = Math.floor(Math.log(this.options.maximumImageFileSize) / Math.log(1024)), i = 1 * (this.options.maximumImageFileSize / Math.pow(1024, n)).toFixed(2) + " " + " KMGTP"[n] + "B"; e = "<small>" + this.lang.image.maximumFileSize + " : " + i + "</small>" } var o = ['<div class="form-group note-form-group note-group-select-from-files">', '<label class="note-form-label">' + this.lang.image.selectFromFiles + "</label>", '<input class="note-image-input note-form-control note-input" ', ' type="file" name="files" accept="image/*" multiple="multiple" />', e, "</div>", '<div class="form-group note-group-image-url" style="overflow:auto;">', '<label class="note-form-label">' + this.lang.image.url + "</label>", '<input class="note-image-url form-control note-form-control note-input ', ' col-md-12" type="text" />', "</div>"].join(""), a = '<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-image-btn" value="' + this.lang.image.insert + '" disabled>'; this.$dialog = this.ui.dialog({ title: this.lang.image.insert, fade: this.options.dialogsFade, body: o, footer: a }).render().appendTo(t) }, Fe.prototype.destroy = function () { this.ui.hideDialog(this.$dialog), this.$dialog.remove() }, Fe.prototype.bindEnterKey = function (t, e) { t.on("keypress", function (t) { t.keyCode === Tt.code.ENTER && (t.preventDefault(), e.trigger("click")) }) }, Fe.prototype.show = function () { var t = this; this.context.invoke("editor.saveRange"), this.showImageDialog().then(function (e) { t.ui.hideDialog(t.$dialog), t.context.invoke("editor.restoreRange"), "string" == typeof e ? t.options.callbacks.onImageLinkInsert ? t.context.triggerEvent("image.link.insert", e) : t.context.invoke("editor.insertImage", e) : t.options.callbacks.onImageUpload ? t.context.triggerEvent("image.upload", e) : t.context.invoke("editor.insertImagesAsDataURL", e) }).fail(function () { t.context.invoke("editor.restoreRange") }) }, Fe.prototype.showImageDialog = function () { var e = this; return t.Deferred(function (t) { var n = e.$dialog.find(".note-image-input"), i = e.$dialog.find(".note-image-url"), o = e.$dialog.find(".note-image-btn"); e.ui.onDialogShown(e.$dialog, function () { e.context.triggerEvent("dialog.shown"), n.replaceWith(n.clone().on("change", function (e) { t.resolve(e.target.files || e.target.value) }).val("")), o.click(function (e) { e.preventDefault(), t.resolve(i.val()) }), i.on("keyup paste", function () { var t = i.val(); e.ui.toggleBtn(o, t) }).val(""), H.isSupportTouch || i.trigger("focus"), e.bindEnterKey(i, o) }), e.ui.onDialogHidden(e.$dialog, function () { n.off("change"), i.off("keyup paste keypress"), o.off("click"), "pending" === t.state() && t.reject() }), e.ui.showDialog(e.$dialog) }) }, Fe); function Fe(e) { this.context = e, this.ui = t.summernote.ui, this.$body = t(document.body), this.$editor = e.layoutInfo.editor, this.options = e.options, this.lang = this.options.langInfo } var Qe = (Ge.prototype.shouldInitialize = function () { return !X.isEmpty(this.options.popover.image) }, Ge.prototype.initialize = function () { this.$popover = this.ui.popover({ className: "note-image-popover" }).render().appendTo(this.options.container); var t = this.$popover.find(".popover-content,.note-popover-content"); this.context.invoke("buttons.build", t, this.options.popover.image) }, Ge.prototype.destroy = function () { this.$popover.remove() }, Ge.prototype.update = function (t) { if (Xt.isImg(t)) { var e = Xt.posFromPlaceholder(t), n = Xt.posFromPlaceholder(this.editable); this.$popover.css({ display: "block", left: this.options.popatmouse ? event.pageX - 20 : e.left, top: this.options.popatmouse ? event.pageY : Math.min(e.top, n.top) }) } else this.hide() }, Ge.prototype.hide = function () { this.$popover.hide() }, Ge); function Ge(e) { var n = this; this.context = e, this.ui = t.summernote.ui, this.editable = e.layoutInfo.editable[0], this.options = e.options, this.events = { "summernote.disable": function () { n.hide() } } } var we = (Xe.prototype.shouldInitialize = function () { return !X.isEmpty(this.options.popover.table) }, Xe.prototype.initialize = function () { this.$popover = this.ui.popover({ className: "note-table-popover" }).render().appendTo(this.options.container); var t = this.$popover.find(".popover-content,.note-popover-content"); this.context.invoke("buttons.build", t, this.options.popover.table), H.isFF && document.execCommand("enableInlineTableEditing", !1, !1) }, Xe.prototype.destroy = function () { this.$popover.remove() }, Xe.prototype.update = function (t) { if (this.context.isDisabled()) return !1; var e = Xt.isCell(t); if (e) { var n = Xt.posFromPlaceholder(t); this.$popover.css({ display: "block", left: n.left, top: n.top }) } else this.hide(); return e }, Xe.prototype.hide = function () { this.$popover.hide() }, Xe); function Xe(e) { var n = this; this.context = e, this.ui = t.summernote.ui, this.options = e.options, this.events = { "summernote.mousedown": function (t, e) { n.update(e.target) }, "summernote.keyup summernote.scroll summernote.change": function () { n.update() }, "summernote.disable": function () { n.hide() } } } var Se = (ke.prototype.initialize = function () { var t = this.options.dialogsInBody ? this.$body : this.$editor, e = ['<div class="form-group note-form-group row-fluid">', '<label class="note-form-label">' + this.lang.video.url + ' <small class="text-muted">' + this.lang.video.providers + "</small></label>", '<input class="note-video-url form-control note-form-control note-input" type="text" />', "</div>"].join(""), n = '<input type="button" href="#" class="btn btn-primary note-btn note-btn-primary note-video-btn" value="' + this.lang.video.insert + '" disabled>'; this.$dialog = this.ui.dialog({ title: this.lang.video.insert, fade: this.options.dialogsFade, body: e, footer: n }).render().appendTo(t) }, ke.prototype.destroy = function () { this.ui.hideDialog(this.$dialog), this.$dialog.remove() }, ke.prototype.bindEnterKey = function (t, e) { t.on("keypress", function (t) { t.keyCode === Tt.code.ENTER && (t.preventDefault(), e.trigger("click")) }) }, ke.prototype.createVideoNode = function (e) { var n, i = e.match(/\/\/(?:www\.)?(?:youtu\.be\/|youtube\.com\/(?:embed\/|v\/|watch\?v=|watch\?.+&v=))([\w|-]{11})(?:(?:[\?&]t=)(\S+))?$/), o = e.match(/(?:www\.|\/\/)instagram\.com\/p\/(.[a-zA-Z0-9_-]*)/), a = e.match(/\/\/vine\.co\/v\/([a-zA-Z0-9]+)/), r = e.match(/\/\/(player\.)?vimeo\.com\/([a-z]*\/)*(\d+)[?]?.*/), s = e.match(/.+dailymotion.com\/(video|hub)\/([^_]+)[^#]*(#video=([^_&]+))?/), g = e.match(/\/\/v\.youku\.com\/v_show\/id_(\w+)=*\.html/), l = e.match(/\/\/v\.qq\.com.*?vid=(.+)/), c = e.match(/\/\/v\.qq\.com\/x?\/?(page|cover).*?\/([^\/]+)\.html\??.*/), I = e.match(/^.+.(mp4|m4v)$/), u = e.match(/^.+.(ogg|ogv)$/), h = e.match(/^.+.(webm)$/); if (i && 11 === i[1].length) { var d = i[1], C = 0; if (void 0 !== i[2]) { var A = i[2].match(/^(?:(\d+)h)?(?:(\d+)m)?(?:(\d+)s)?$/); if (A) for (var p = [3600, 60, 1], m = 0, f = p.length; m < f; m++)C += void 0 !== A[m + 1] ? p[m] * parseInt(A[m + 1], 10) : 0 } n = t("<iframe>").attr("frameborder", 0).attr("src", "//www.youtube.com/embed/" + d + (0 < C ? "?start=" + C : "")).attr("width", "640").attr("height", "360") } else if (o && o[0].length) n = t("<iframe>").attr("frameborder", 0).attr("src", "https://instagram.com/p/" + o[1] + "/embed/").attr("width", "612").attr("height", "710").attr("scrolling", "no").attr("allowtransparency", "true"); else if (a && a[0].length) n = t("<iframe>").attr("frameborder", 0).attr("src", a[0] + "/embed/simple").attr("width", "600").attr("height", "600").attr("class", "vine-embed"); else if (r && r[3].length) n = t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder", 0).attr("src", "//player.vimeo.com/video/" + r[3]).attr("width", "640").attr("height", "360"); else if (s && s[2].length) n = t("<iframe>").attr("frameborder", 0).attr("src", "//www.dailymotion.com/embed/video/" + s[2]).attr("width", "640").attr("height", "360"); else if (g && g[1].length) n = t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder", 0).attr("height", "498").attr("width", "510").attr("src", "//player.youku.com/embed/" + g[1]); else if (l && l[1].length || c && c[2].length) { var b = l && l[1].length ? l[1] : c[2]; n = t("<iframe webkitallowfullscreen mozallowfullscreen allowfullscreen>").attr("frameborder", 0).attr("height", "310").attr("width", "500").attr("src", "http://v.qq.com/iframe/player.html?vid=" + b + "&amp;auto=0") } else { if (!(I || u || h)) return !1; n = t("<video controls>").attr("src", e).attr("width", "640").attr("height", "360") } return n.addClass("note-video-clip"), n[0] }, ke.prototype.show = function () { var t = this, e = this.context.invoke("editor.getSelectedText"); this.context.invoke("editor.saveRange"), this.showVideoDialog(e).then(function (e) { t.ui.hideDialog(t.$dialog), t.context.invoke("editor.restoreRange"); var n = t.createVideoNode(e); n && t.context.invoke("editor.insertNode", n) }).fail(function () { t.context.invoke("editor.restoreRange") }) }, ke.prototype.showVideoDialog = function (e) { var n = this; return t.Deferred(function (t) { var i = n.$dialog.find(".note-video-url"), o = n.$dialog.find(".note-video-btn"); n.ui.onDialogShown(n.$dialog, function () { n.context.triggerEvent("dialog.shown"), i.val(e).on("input", function () { n.ui.toggleBtn(o, i.val()) }), H.isSupportTouch || i.trigger("focus"), o.click(function (e) { e.preventDefault(), t.resolve(i.val()) }), n.bindEnterKey(i, o) }), n.ui.onDialogHidden(n.$dialog, function () { i.off("input"), o.off("click"), "pending" === t.state() && t.reject() }), n.ui.showDialog(n.$dialog) }) }, ke); function ke(e) { this.context = e, this.ui = t.summernote.ui, this.$body = t(document.body), this.$editor = e.layoutInfo.editor, this.options = e.options, this.lang = this.options.langInfo } var De = (Ze.prototype.initialize = function () { var t = this.options.dialogsInBody ? this.$body : this.$editor, e = ['<p class="text-center">', '<a href="http://summernote.org/" target="_blank">Summernote 0.8.11</a> Â· ', '<a href="https://github.com/summernote/summernote" target="_blank">Project</a> Â· ', '<a href="https://github.com/summernote/summernote/issues" target="_blank">Issues</a>', "</p>"].join(""); this.$dialog = this.ui.dialog({ title: this.lang.options.help, fade: this.options.dialogsFade, body: this.createShortcutList(), footer: e, callback: function (t) { t.find(".modal-body,.note-modal-body").css({ "max-height": 300, overflow: "scroll" }) } }).render().appendTo(t) }, Ze.prototype.destroy = function () { this.ui.hideDialog(this.$dialog), this.$dialog.remove() }, Ze.prototype.createShortcutList = function () { var e = this, n = this.options.keyMap[H.isMac ? "mac" : "pc"]; return Object.keys(n).map(function (i) { var o = n[i], a = t('<div><div class="help-list-item"/></div>'); return a.append(t("<label><kbd>" + i + "</kdb></label>").css({ width: 180, "margin-right": 10 })).append(t("<span/>").html(e.context.memo("help." + o) || o)), a.html() }).join("") }, Ze.prototype.showHelpDialog = function () { var e = this; return t.Deferred(function (t) { e.ui.onDialogShown(e.$dialog, function () { e.context.triggerEvent("dialog.shown"), t.resolve() }), e.ui.showDialog(e.$dialog) }).promise() }, Ze.prototype.show = function () { var t = this; this.context.invoke("editor.saveRange"), this.showHelpDialog().then(function () { t.context.invoke("editor.restoreRange") }) }, Ze); function Ze(e) { this.context = e, this.ui = t.summernote.ui, this.$body = t(document.body), this.$editor = e.layoutInfo.editor, this.options = e.options, this.lang = this.options.langInfo } var Ue = (We.prototype.shouldInitialize = function () { return this.options.airMode && !X.isEmpty(this.options.popover.air) }, We.prototype.initialize = function () { this.$popover = this.ui.popover({ className: "note-air-popover" }).render().appendTo(this.options.container); var t = this.$popover.find(".popover-content"); this.context.invoke("buttons.build", t, this.options.popover.air) }, We.prototype.destroy = function () { this.$popover.remove() }, We.prototype.update = function () { var t = this.context.invoke("editor.currentStyle"); if (t.range && !t.range.isCollapsed()) { var e = X.last(t.range.getClientRects()); if (e) { var n = y.rect2bnd(e); this.$popover.css({ display: "block", left: Math.max(n.left + n.width / 2, 0) - 20, top: n.top + n.height }), this.context.invoke("buttons.updateCurrentStyle", this.$popover) } } else this.hide() }, We.prototype.hide = function () { this.$popover.hide() }, We); function We(e) { var n = this; this.context = e, this.ui = t.summernote.ui, this.options = e.options, this.events = { "summernote.keyup summernote.mouseup summernote.scroll": function () { n.update() }, "summernote.disable summernote.change summernote.dialog.shown": function () { n.hide() }, "summernote.focusout": function (t, e) { H.isFF || e.relatedTarget && Xt.ancestor(e.relatedTarget, y.eq(n.$popover[0])) || n.hide() } } } var Te = (Ne.prototype.shouldInitialize = function () { return 0 < this.hints.length }, Ne.prototype.initialize = function () { var e = this; this.lastWordRange = null, this.$popover = this.ui.popover({ className: "note-hint-popover", hideArrow: !0, direction: "" }).render().appendTo(this.options.container), this.$popover.hide(), this.$content = this.$popover.find(".popover-content,.note-popover-content"), this.$content.on("click", ".note-hint-item", function (n) { e.$content.find(".active").removeClass("active"), t(n.currentTarget).addClass("active"), e.replace() }) }, Ne.prototype.destroy = function () { this.$popover.remove() }, Ne.prototype.selectItem = function (t) { this.$content.find(".active").removeClass("active"), t.addClass("active"), this.$content[0].scrollTop = t[0].offsetTop - this.$content.innerHeight() / 2 }, Ne.prototype.moveDown = function () { var t = this.$content.find(".note-hint-item.active"), e = t.next(); if (e.length) this.selectItem(e); else { var n = t.parent().next(); n.length || (n = this.$content.find(".note-hint-group").first()), this.selectItem(n.find(".note-hint-item").first()) } }, Ne.prototype.moveUp = function () { var t = this.$content.find(".note-hint-item.active"), e = t.prev(); if (e.length) this.selectItem(e); else { var n = t.parent().prev(); n.length || (n = this.$content.find(".note-hint-group").last()), this.selectItem(n.find(".note-hint-item").last()) } }, Ne.prototype.replace = function () { var t = this.$content.find(".note-hint-item.active"); if (t.length) { var e = this.nodeFromItem(t); this.lastWordRange.insertNode(e), Ut.createFromNode(e).collapse().select(), this.lastWordRange = null, this.hide(), this.context.triggerEvent("change", this.$editable.html(), this.$editable[0]), this.context.invoke("editor.focus") } }, Ne.prototype.nodeFromItem = function (t) { var e = this.hints[t.data("index")], n = t.data("item"), i = e.content ? e.content(n) : n; return "string" == typeof i && (i = Xt.createText(i)), i }, Ne.prototype.createItemTemplates = function (e, n) { var i = this.hints[e]; return n.map(function (n, o) { var a = t('<div class="note-hint-item"/>'); return a.append(i.template ? i.template(n) : n + ""), a.data({ index: e, item: n }), a }) }, Ne.prototype.handleKeydown = function (t) { this.$popover.is(":visible") && (t.keyCode === Tt.code.ENTER ? (t.preventDefault(), this.replace()) : t.keyCode === Tt.code.UP ? (t.preventDefault(), this.moveUp()) : t.keyCode === Tt.code.DOWN && (t.preventDefault(), this.moveDown())) }, Ne.prototype.searchKeyword = function (t, e, n) { var i = this.hints[t]; if (i && i.match.test(e) && i.search) { var o = i.match.exec(e); i.search(o[1], n) } else n() }, Ne.prototype.createGroup = function (e, n) { var i = this, o = t('<div class="note-hint-group note-hint-group-' + e + '"/>'); return this.searchKeyword(e, n, function (t) { (t = t || []).length && (o.html(i.createItemTemplates(e, t)), i.show()) }), o }, Ne.prototype.handleKeyup = function (t) { var e = this; if (!X.contains([Tt.code.ENTER, Tt.code.UP, Tt.code.DOWN], t.keyCode)) { var n = this.context.invoke("editor.createRange").getWordRange(), i = n.toString(); if (this.hints.length && i) { this.$content.empty(); var o = y.rect2bnd(X.last(n.getClientRects())); o && (this.$popover.hide(), this.lastWordRange = n, this.hints.forEach(function (t, n) { t.match.test(i) && e.createGroup(n, i).appendTo(e.$content) }), this.$content.find(".note-hint-item:first").addClass("active"), "top" === this.direction ? this.$popover.css({ left: o.left, top: o.top - this.$popover.outerHeight() - 5 }) : this.$popover.css({ left: o.left, top: o.top + o.height + 5 })) } else this.hide() } }, Ne.prototype.show = function () { this.$popover.show() }, Ne.prototype.hide = function () { this.$popover.hide() }, Ne); function Ne(e) { var n = this; this.context = e, this.ui = t.summernote.ui, this.$editable = e.layoutInfo.editable, this.options = e.options, this.hint = this.options.hint || [], this.direction = this.options.hintDirection || "bottom", this.hints = t.isArray(this.hint) ? this.hint : [this.hint], this.events = { "summernote.keyup": function (t, e) { e.isDefaultPrevented() || n.handleKeyup(e) }, "summernote.keydown": function (t, e) { n.handleKeydown(e) }, "summernote.disable summernote.dialog.shown": function () { n.hide() } } } var He = (Ee.prototype.initialize = function () { return this.layoutInfo = this.ui.createLayout(this.$note, this.options), this._initialize(), this.$note.hide(), this }, Ee.prototype.destroy = function () { this._destroy(), this.$note.removeData("summernote"), this.ui.removeLayout(this.$note, this.layoutInfo) }, Ee.prototype.reset = function () { var t = this.isDisabled(); this.code(Xt.emptyPara), this._destroy(), this._initialize(), t && this.disable() }, Ee.prototype._initialize = function () { var e = this, n = t.extend({}, this.options.buttons); Object.keys(n).forEach(function (t) { e.memo("button." + t, n[t]) }); var i = t.extend({}, this.options.modules, t.summernote.plugins || {}); Object.keys(i).forEach(function (t) { e.module(t, i[t], !0) }), Object.keys(this.modules).forEach(function (t) { e.initializeModule(t) }) }, Ee.prototype._destroy = function () { var t = this; Object.keys(this.modules).reverse().forEach(function (e) { t.removeModule(e) }), Object.keys(this.memos).forEach(function (e) { t.removeMemo(e) }), this.triggerEvent("destroy", this) }, Ee.prototype.code = function (t) { var e = this.invoke("codeview.isActivated"); if (void 0 === t) return this.invoke("codeview.sync"), e ? this.layoutInfo.codable.val() : this.layoutInfo.editable.html(); e ? this.layoutInfo.codable.val(t) : this.layoutInfo.editable.html(t), this.$note.val(t), this.triggerEvent("change", t) }, Ee.prototype.isDisabled = function () { return "false" === this.layoutInfo.editable.attr("contenteditable") }, Ee.prototype.enable = function () { this.layoutInfo.editable.attr("contenteditable", !0), this.invoke("toolbar.activate", !0), this.triggerEvent("disable", !1) }, Ee.prototype.disable = function () { this.invoke("codeview.isActivated") && this.invoke("codeview.deactivate"), this.layoutInfo.editable.attr("contenteditable", !1), this.invoke("toolbar.deactivate", !0), this.triggerEvent("disable", !0) }, Ee.prototype.triggerEvent = function () { var t = X.head(arguments), e = X.tail(X.from(arguments)), n = this.options.callbacks[y.namespaceToCamel(t, "on")]; n && n.apply(this.$note[0], e), this.$note.trigger("summernote." + t, e) }, Ee.prototype.initializeModule = function (t) { var e = this.modules[t]; e.shouldInitialize = e.shouldInitialize || y.ok, e.shouldInitialize() && (e.initialize && e.initialize(), e.events && Xt.attachEvents(this.$note, e.events)) }, Ee.prototype.module = function (t, e, n) { if (1 === arguments.length) return this.modules[t]; this.modules[t] = new e(this), n || this.initializeModule(t) }, Ee.prototype.removeModule = function (t) { var e = this.modules[t]; e.shouldInitialize() && (e.events && Xt.detachEvents(this.$note, e.events), e.destroy && e.destroy()), delete this.modules[t] }, Ee.prototype.memo = function (t, e) { if (1 === arguments.length) return this.memos[t]; this.memos[t] = e }, Ee.prototype.removeMemo = function (t) { this.memos[t] && this.memos[t].destroy && this.memos[t].destroy(), delete this.memos[t] }, Ee.prototype.createInvokeHandlerAndUpdateState = function (t, e) { var n = this; return function (i) { n.createInvokeHandler(t, e)(i), n.invoke("buttons.updateCurrentStyle") } }, Ee.prototype.createInvokeHandler = function (e, n) { var i = this; return function (o) { o.preventDefault(); var a = t(o.target); i.invoke(e, n || a.closest("[data-value]").data("value"), a) } }, Ee.prototype.invoke = function () { var t = X.head(arguments), e = X.tail(X.from(arguments)), n = t.split("."), i = 1 < n.length, o = i && X.head(n), a = i ? X.last(n) : X.head(n), r = this.modules[o || "editor"]; return !o && this[a] ? this[a].apply(this, e) : r && r[a] && r.shouldInitialize() ? r[a].apply(r, e) : void 0 }, Ee); function Ee(e, n) { this.ui = t.summernote.ui, this.$note = e, this.memos = {}, this.modules = {}, this.layoutInfo = {}, this.options = n, this.initialize() } t.fn.extend({ summernote: function () { var e = t.type(X.head(arguments)), n = "string" === e, i = "object" === e, o = t.extend({}, t.summernote.options, i ? X.head(arguments) : {}); o.langInfo = t.extend(!0, {}, t.summernote.lang["en-US"], t.summernote.lang[o.lang]), o.icons = t.extend(!0, {}, t.summernote.options.icons, o.icons), o.tooltip = "auto" === o.tooltip ? !H.isSupportTouch : o.tooltip, this.each(function (e, n) { var i = t(n); if (!i.data("summernote")) { var a = new He(i, o); i.data("summernote", a), i.data("summernote").triggerEvent("init", a.layoutInfo) } }); var a = this.first(); if (a.length) { var r = a.data("summernote"); if (n) return r.invoke.apply(r, X.from(arguments)); o.focus && r.invoke("editor.focus") } return this } }), t.summernote = t.extend(t.summernote, { version: "0.8.11", ui: b, dom: Xt, range: Ut, plugins: {}, options: { modules: { editor: Pt, clipboard: Jt, dropzone: qt, codeview: ee, statusbar: ie, fullscreen: ae, handle: se, hintPopover: Te, autoLink: ce, autoSync: ue, placeholder: de, buttons: Ae, toolbar: me, linkDialog: be, linkPopover: ye, imageDialog: xe, imagePopover: Qe, tablePopover: we, videoDialog: Se, helpDialog: De, airPopover: Ue }, buttons: {}, lang: "en-US", followingToolbar: !0, otherStaticBar: "", toolbar: [["style", ["style"]], ["font", ["bold", "underline", "clear"]], ["fontname", ["fontname"]], ["color", ["color"]], ["para", ["ul", "ol", "paragraph"]], ["table", ["table"]], ["insert", ["link", "picture", "video"]], ["view", ["fullscreen", "codeview", "help"]]], popatmouse: !0, popover: { image: [["imagesize", ["imageSize100", "imageSize50", "imageSize25"]], ["float", ["floatLeft", "floatRight", "floatNone"]], ["remove", ["removeMedia"]]], link: [["link", ["linkDialogShow", "unlink"]]], table: [["add", ["addRowDown", "addRowUp", "addColLeft", "addColRight"]], ["delete", ["deleteRow", "deleteCol", "deleteTable"]]], air: [["color", ["color"]], ["font", ["bold", "underline", "clear"]], ["para", ["ul", "paragraph"]], ["table", ["table"]], ["insert", ["link", "picture"]]] }, airMode: !1, width: null, height: null, linkTargetBlank: !0, focus: !1, tabSize: 4, styleWithSpan: !0, shortcuts: !0, textareaAutoSync: !0, hintDirection: "bottom", tooltip: "auto", container: "body", maxTextLength: 0, blockquoteBreakingLevel: 2, styleTags: ["p", "blockquote", "pre", "h1", "h2", "h3", "h4", "h5", "h6"], fontNames: ["Arial", "Arial Black", "Comic Sans MS", "Courier New", "Helvetica Neue", "Helvetica", "Impact", "Lucida Grande", "Tahoma", "Times New Roman", "Verdana"], fontSizes: ["8", "9", "10", "11", "12", "14", "18", "24", "36"], colors: [["#000000", "#424242", "#636363", "#9C9C94", "#CEC6CE", "#EFEFEF", "#F7F7F7", "#FFFFFF"], ["#FF0000", "#FF9C00", "#FFFF00", "#00FF00", "#00FFFF", "#0000FF", "#9C00FF", "#FF00FF"], ["#F7C6CE", "#FFE7CE", "#FFEFC6", "#D6EFD6", "#CEDEE7", "#CEE7F7", "#D6D6E7", "#E7D6DE"], ["#E79C9C", "#FFC69C", "#FFE79C", "#B5D6A5", "#A5C6CE", "#9CC6EF", "#B5A5D6", "#D6A5BD"], ["#E76363", "#F7AD6B", "#FFD663", "#94BD7B", "#73A5AD", "#6BADDE", "#8C7BC6", "#C67BA5"], ["#CE0000", "#E79439", "#EFC631", "#6BA54A", "#4A7B8C", "#3984C6", "#634AA5", "#A54A7B"], ["#9C0000", "#B56308", "#BD9400", "#397B21", "#104A5A", "#085294", "#311873", "#731842"], ["#630000", "#7B3900", "#846300", "#295218", "#083139", "#003163", "#21104A", "#4A1031"]], colorsName: [["Black", "Tundora", "Dove Gray", "Star Dust", "Pale Slate", "Gallery", "Alabaster", "White"], ["Red", "Orange Peel", "Yellow", "Green", "Cyan", "Blue", "Electric Violet", "Magenta"], ["Azalea", "Karry", "Egg White", "Zanah", "Botticelli", "Tropical Blue", "Mischka", "Twilight"], ["Tonys Pink", "Peach Orange", "Cream Brulee", "Sprout", "Casper", "Perano", "Cold Purple", "Careys Pink"], ["Mandy", "Rajah", "Dandelion", "Olivine", "Gulf Stream", "Viking", "Blue Marguerite", "Puce"], ["Guardsman Red", "Fire Bush", "Golden Dream", "Chelsea Cucumber", "Smalt Blue", "Boston Blue", "Butterfly Bush", "Cadillac"], ["Sangria", "Mai Tai", "Buddha Gold", "Forest Green", "Eden", "Venice Blue", "Meteorite", "Claret"], ["Rosewood", "Cinnamon", "Olive", "Parsley", "Tiber", "Midnight Blue", "Valentino", "Loulou"]], lineHeights: ["1.0", "1.2", "1.4", "1.5", "1.6", "1.8", "2.0", "3.0"], tableClassName: "table table-bordered", insertTableMaxSize: { col: 10, row: 10 }, dialogsInBody: !1, dialogsFade: !1, maximumImageFileSize: null, callbacks: { onInit: null, onFocus: null, onBlur: null, onBlurCodeview: null, onEnter: null, onKeyup: null, onKeydown: null, onImageUpload: null, onImageUploadError: null, onImageLinkInsert: null }, codemirror: { mode: "text/html", htmlMode: !0, lineNumbers: !0 }, keyMap: { pc: { ENTER: "insertParagraph", "CTRL+Z": "undo", "CTRL+Y": "redo", TAB: "tab", "SHIFT+TAB": "untab", "CTRL+B": "bold", "CTRL+I": "italic", "CTRL+U": "underline", "CTRL+SHIFT+S": "strikethrough", "CTRL+BACKSLASH": "removeFormat", "CTRL+SHIFT+L": "justifyLeft", "CTRL+SHIFT+E": "justifyCenter", "CTRL+SHIFT+R": "justifyRight", "CTRL+SHIFT+J": "justifyFull", "CTRL+SHIFT+NUM7": "insertUnorderedList", "CTRL+SHIFT+NUM8": "insertOrderedList", "CTRL+LEFTBRACKET": "outdent", "CTRL+RIGHTBRACKET": "indent", "CTRL+NUM0": "formatPara", "CTRL+NUM1": "formatH1", "CTRL+NUM2": "formatH2", "CTRL+NUM3": "formatH3", "CTRL+NUM4": "formatH4", "CTRL+NUM5": "formatH5", "CTRL+NUM6": "formatH6", "CTRL+ENTER": "insertHorizontalRule", "CTRL+K": "linkDialog.show" }, mac: { ENTER: "insertParagraph", "CMD+Z": "undo", "CMD+SHIFT+Z": "redo", TAB: "tab", "SHIFT+TAB": "untab", "CMD+B": "bold", "CMD+I": "italic", "CMD+U": "underline", "CMD+SHIFT+S": "strikethrough", "CMD+BACKSLASH": "removeFormat", "CMD+SHIFT+L": "justifyLeft", "CMD+SHIFT+E": "justifyCenter", "CMD+SHIFT+R": "justifyRight", "CMD+SHIFT+J": "justifyFull", "CMD+SHIFT+NUM7": "insertUnorderedList", "CMD+SHIFT+NUM8": "insertOrderedList", "CMD+LEFTBRACKET": "outdent", "CMD+RIGHTBRACKET": "indent", "CMD+NUM0": "formatPara", "CMD+NUM1": "formatH1", "CMD+NUM2": "formatH2", "CMD+NUM3": "formatH3", "CMD+NUM4": "formatH4", "CMD+NUM5": "formatH5", "CMD+NUM6": "formatH6", "CMD+ENTER": "insertHorizontalRule", "CMD+K": "linkDialog.show" } }, icons: { align: "note-icon-align", alignCenter: "note-icon-align-center", alignJustify: "note-icon-align-justify", alignLeft: "note-icon-align-left", alignRight: "note-icon-align-right", rowBelow: "note-icon-row-below", colBefore: "note-icon-col-before", colAfter: "note-icon-col-after", rowAbove: "note-icon-row-above", rowRemove: "note-icon-row-remove", colRemove: "note-icon-col-remove", indent: "note-icon-align-indent", outdent: "note-icon-align-outdent", arrowsAlt: "note-icon-arrows-alt", bold: "note-icon-bold", caret: "note-icon-caret", circle: "note-icon-circle", close: "note-icon-close", code: "note-icon-code", eraser: "note-icon-eraser", font: "note-icon-font", frame: "note-icon-frame", italic: "note-icon-italic", link: "note-icon-link", unlink: "note-icon-chain-broken", magic: "note-icon-magic", menuCheck: "note-icon-menu-check", minus: "note-icon-minus", orderedlist: "note-icon-orderedlist", pencil: "note-icon-pencil", picture: "note-icon-picture", question: "note-icon-question", redo: "note-icon-redo", square: "note-icon-square", strikethrough: "note-icon-strikethrough", subscript: "note-icon-subscript", superscript: "note-icon-superscript", table: "note-icon-table", textHeight: "note-icon-text-height", trash: "note-icon-trash", underline: "note-icon-underline", undo: "note-icon-undo", unorderedlist: "note-icon-unorderedlist", video: "note-icon-video" } } }) }), function (t) { var e = t.Markdown = function (t) { switch (typeof t) { case "undefined": this.dialect = e.dialects.Gruber; break; case "object": this.dialect = t; break; default: if (!(t in e.dialects)) throw new Error("Unknown Markdown dialect '" + String(t) + "'"); this.dialect = e.dialects[t] }this.em_state = [], this.strong_state = [], this.debug_indent = "" }; function n() { return "Markdown.mk_block( " + uneval(this.toString()) + ", " + uneval(this.trailing) + ", " + uneval(this.lineNumber) + " )" } function i() { var t = require("util"); return "Markdown.mk_block( " + t.inspect(this.toString()) + ", " + t.inspect(this.trailing) + ", " + t.inspect(this.lineNumber) + " )" } t.parse = function (t, n) { return new e(n).toTree(t) }, t.toHTML = function (e, n, i) { var o = t.toHTMLTree(e, n, i); return t.renderJsonML(o) }, t.toHTMLTree = function (t, e, n) { "string" == typeof t && (t = this.parse(t, e)); var i = f(t), o = {}; i && i.references && (o = i.references); var a = function t(e, n, i) { var o; i = i || {}; var a = e.slice(0); "function" == typeof i.preprocessTreeNode && (a = i.preprocessTreeNode(a, n)); var r = f(a); if (r) { for (o in a[1] = {}, r) a[1][o] = r[o]; r = a[1] } if ("string" == typeof a) return a; switch (a[0]) { case "header": a[0] = "h" + a[1].level, delete a[1].level; break; case "bulletlist": a[0] = "ul"; break; case "numberlist": a[0] = "ol"; break; case "listitem": a[0] = "li"; break; case "para": a[0] = "p"; break; case "markdown": a[0] = "html", r && delete r.references; break; case "code_block": a[0] = "pre", o = r ? 2 : 1; var s = ["code"]; s.push.apply(s, a.splice(o, a.length - o)), a[o] = s; break; case "inlinecode": a[0] = "code"; break; case "img": a[1].src = a[1].href, delete a[1].href; break; case "linebreak": a[0] = "br"; break; case "link": a[0] = "a"; break; case "link_ref": if (a[0] = "a", !(g = n[r.ref])) return r.original; delete r.ref, r.href = g.href, g.title && (r.title = g.title), delete r.original; break; case "img_ref": var g; if (a[0] = "img", !(g = n[r.ref])) return r.original; delete r.ref, r.src = g.href, g.title && (r.title = g.title), delete r.original }if (o = 1, r) { for (var l in a[1]) { o = 2; break } 1 === o && a.splice(o, 1) } for (; o < a.length; ++o)a[o] = t(a[o], n, i); return a }(t, o, n); return function t(e) { for (var n = f(e) ? 2 : 1; n < e.length;)"string" == typeof e[n] ? n + 1 < e.length && "string" == typeof e[n + 1] ? e[n] += e.splice(n + 1, 1)[0] : ++n : (t(e[n]), ++n) }(a), a }; var o, r, s, g, l = e.mk_block = function (t, e, o) { 1 == arguments.length && (e = "\n\n"); var a = new String(t); return a.trailing = e, a.inspect = i, a.toSource = n, null != o && (a.lineNumber = o), a }; function c(t) { for (var e = 0, n = -1; -1 !== (n = t.indexOf("\n", n + 1));)e++; return e } function I(t, e, n, i) { if (e) t.push(["para"].concat(n)); else { var o = t[t.length - 1] instanceof Array && "para" == t[t.length - 1][0] ? t[t.length - 1] : t; i && 1 < t.length && n.unshift(i); for (var a = 0; a < n.length; a++) { var r = n[a]; "string" == typeof r && 1 < o.length && "string" == typeof o[o.length - 1] ? o[o.length - 1] += r : o.push(r) } } } function u(t, e) { for (var n = new RegExp("^(" + g + "{" + t + "}.*?\\n?)*$"), i = new RegExp("^" + g + "{" + t + "}", "gm"), o = []; 0 < e.length && n.exec(e[0]);) { var a = e.shift(), r = a.replace(i, ""); o.push(l(r, a.trailing, a.lineNumber)) } return o } function h(t, e, n) { var i = t.list, o = i[i.length - 1]; if (!(o[1] instanceof Array && "para" == o[1][0])) if (e + 1 == n.length) o.push(["para"].concat(o.splice(1, o.length - 1))); else { var a = o.pop(); o.push(["para"].concat(o.splice(1, o.length - 1)), a) } } function d(t, e) { var n = t + "_state", i = "strong" == t ? "em_state" : "strong_state"; function o(t) { this.len_after = t, this.name = "close_" + e } return function (a, r) { if (this[n][0] == e) return this[n].shift(), [a.length, new o(a.length - e.length)]; var s = this[i].slice(), g = this[n].slice(); this[n].unshift(e); var l = this.processInline(a.substr(e.length)), c = l[l.length - 1]; return this[n].shift(), c instanceof o ? (l.pop(), [a.length - c.len_after, [t].concat(l)]) : (this[i] = s, this[n] = g, [e.length, e]) } } e.prototype.split_blocks = function (t, e) { t = t.replace(/(\r\n|\n|\r)/g, "\n"); var n, i = /([\s\S]+?)($|\n#|\n(?:\s*\n|$)+)/g, o = [], a = 1; for (null != (n = /^(\s*\n)/.exec(t)) && (a += c(n[0]), i.lastIndex = n[0].length); null !== (n = i.exec(t));)"\n#" == n[2] && (n[2] = "\n", i.lastIndex--), o.push(l(n[1], n[2], a)), a += c(n[0]); return o }, e.prototype.processBlock = function (t, e) { var n = this.dialect.block, i = n.__order__; if ("__call__" in n) return n.__call__.call(this, t, e); for (var o = 0; o < i.length; o++) { var a = n[i[o]].call(this, t, e); if (a) return (!A(a) || 0 < a.length && !A(a[0])) && this.debug(i[o], "didn't return a proper array"), a } return [] }, e.prototype.processInline = function (t) { return this.dialect.inline.__call__.call(this, String(t)) }, e.prototype.toTree = function (t, e) { var n = t instanceof Array ? t : this.split_blocks(t), i = this.tree; try { for (this.tree = e || this.tree || ["markdown"]; n.length;) { var o = this.processBlock(n.shift(), n); o.length && this.tree.push.apply(this.tree, o) } return this.tree } finally { e && (this.tree = i) } }, e.prototype.debug = function () { var t = Array.prototype.slice.call(arguments); t.unshift(this.debug_indent), "undefined" != typeof print && print.apply(print, t), "undefined" != typeof console && void 0 !== console.log && console.log.apply(null, t) }, e.prototype.loop_re_over_block = function (t, e, n) { for (var i, o = e.valueOf(); o.length && null != (i = t.exec(o));)o = o.substr(i[0].length), n.call(this, i); return o }, e.dialects = {}, e.dialects.Gruber = { block: { atxHeader: function (t, e) { var n = t.match(/^(#{1,6})\s*(.*?)\s*#*\s*(?:\n|$)/); if (n) { var i = ["header", { level: n[1].length }]; return Array.prototype.push.apply(i, this.processInline(n[2])), n[0].length < t.length && e.unshift(l(t.substr(n[0].length), t.trailing, t.lineNumber + 2)), [i] } }, setextHeader: function (t, e) { var n = t.match(/^(.*)\n([-=])\2\2+(?:\n|$)/); if (n) { var i = ["header", { level: "=" === n[2] ? 1 : 2 }, n[1]]; return n[0].length < t.length && e.unshift(l(t.substr(n[0].length), t.trailing, t.lineNumber + 2)), [i] } }, code: function (t, e) { var n = [], i = /^(?: {0,3}\t| {4})(.*)\n?/; if (t.match(i)) { t: for (; ;) { var o = this.loop_re_over_block(i, t.valueOf(), function (t) { n.push(t[1]) }); if (o.length) { e.unshift(l(o, t.trailing)); break t } if (!e.length) break t; if (!e[0].match(i)) break t; n.push(t.trailing.replace(/[^\n]/g, "").substring(2)), t = e.shift() } return [["code_block", n.join("\n")]] } }, horizRule: function (t, e) { var n = t.match(/^(?:([\s\S]*?)\n)?[ \t]*([-_*])(?:[ \t]*\2){2,}[ \t]*(?:\n([\s\S]*))?$/); if (n) { var i = [["hr"]]; return n[1] && i.unshift.apply(i, this.processBlock(n[1], [])), n[3] && e.unshift(l(n[3])), i } }, lists: (o = "[*+-]|\\d+\\.", r = /[*+-]/, s = new RegExp("^( {0,3})(" + o + ")[ \t]+"), g = "(?: {0,3}\\t| {4})", function (t, e) { var n = t.match(s); if (n) { for (var i, a, l, c = [], d = X(n), A = !1, p = [c[0].list]; ;) { for (var m = t.split(/(?=\n)/), f = "", b = 0; b < m.length; b++) { var B = "", y = m[b].replace(/^\n/, function (t) { return B = t, "" }), v = (l = c.length, new RegExp("(?:^(" + g + "{0," + l + "} {0,3})(" + o + ")\\s+)|(^" + g + "{0," + (l - 1) + "}[ ]{0,4})")); if (void 0 !== (n = y.match(v))[1]) { f.length && (I(i, A, this.processInline(f), B), A = !1, f = ""), n[1] = n[1].replace(/ {0,3}\t/g, "    "); var x = Math.floor(n[1].length / 4) + 1; if (x > c.length) d = X(n), i.push(d), i = d[1] = ["listitem"]; else { var F = !1; for (a = 0; a < c.length; a++)if (c[a].indent == n[1]) { d = c[a].list, c.splice(a + 1, c.length - (a + 1)), F = !0; break } F || (++x <= c.length ? (c.splice(x, c.length - x), d = c[x - 1].list) : (d = X(n), i.push(d))), i = ["listitem"], d.push(i) } B = "" } y.length > n[0].length && (f += B + y.substr(n[0].length)) } f.length && (I(i, A, this.processInline(f), B), A = !1, f = ""); var Q = u(c.length, e); 0 < Q.length && (C(c, h, this), i.push.apply(i, this.toTree(Q, []))); var G = e[0] && e[0].valueOf() || ""; if (!G.match(s) && !G.match(/^ /)) break; t = e.shift(); var w = this.dialect.block.horizRule(t, e); if (w) { p.push.apply(p, w); break } C(c, h, this), A = !0 } return p } function X(t) { var e = r.exec(t[2]) ? ["bulletlist"] : ["numberlist"]; return c.push({ list: e, indent: t[1] }), e } }), blockquote: function (t, e) { if (t.match(/^>/m)) { var n = []; if (">" != t[0]) { for (var i = t.split(/\n/), o = [], a = t.lineNumber; i.length && ">" != i[0][0];)o.push(i.shift()), a++; var r = l(o.join("\n"), "\n", t.lineNumber); n.push.apply(n, this.processBlock(r, [])), t = l(i.join("\n"), t.trailing, a) } for (; e.length && ">" == e[0][0];) { var s = e.shift(); t = l(t + t.trailing + s, s.trailing, t.lineNumber) } var g = t.replace(/^> ?/gm, ""), c = (this.tree, this.toTree(g, ["blockquote"])), I = f(c); return I && I.references && (delete I.references, m(I) && c.splice(1, 1)), n.push(c), n } }, referenceDefn: function (t, e) { var n = /^\s*\[(.*?)\]:\s*(\S+)(?:\s+(?:(['"])(.*?)\3|\((.*?)\)))?\n?/; if (t.match(n)) { f(this.tree) || this.tree.splice(1, 0, {}); var i = f(this.tree); void 0 === i.references && (i.references = {}); var o = this.loop_re_over_block(n, t, function (t) { t[2] && "<" == t[2][0] && ">" == t[2][t[2].length - 1] && (t[2] = t[2].substring(1, t[2].length - 1)); var e = i.references[t[1].toLowerCase()] = { href: t[2] }; void 0 !== t[4] ? e.title = t[4] : void 0 !== t[5] && (e.title = t[5]) }); return o.length && e.unshift(l(o, t.trailing)), [] } }, para: function (t, e) { return [["para"].concat(this.processInline(t))] } } }, e.dialects.Gruber.inline = { __oneElement__: function (t, e, n) { var i, o; return e = e || this.dialect.inline.__patterns__, (i = new RegExp("([\\s\\S]*?)(" + (e.source || e) + ")").exec(t)) ? i[1] ? [i[1].length, i[1]] : (i[2] in this.dialect.inline && (o = this.dialect.inline[i[2]].call(this, t.substr(i.index), i, n || [])), o = o || [i[2].length, i[2]]) : [t.length, t] }, __call__: function (t, e) { var n, i = []; function o(t) { "string" == typeof t && "string" == typeof i[i.length - 1] ? i[i.length - 1] += t : i.push(t) } for (; 0 < t.length;)n = this.dialect.inline.__oneElement__.call(this, t, e, i), t = t.substr(n.shift()), C(n, o); return i }, "]": function () { }, "}": function () { }, __escape__: /^\\[\\`\*_{}\[\]()#\+.!\-]/, "\\": function (t) { return this.dialect.inline.__escape__.exec(t) ? [2, t.charAt(1)] : [1, "\\"] }, "![": function (t) { var e = t.match(/^!\[(.*?)\][ \t]*\([ \t]*([^")]*?)(?:[ \t]+(["'])(.*?)\3)?[ \t]*\)/); if (e) { e[2] && "<" == e[2][0] && ">" == e[2][e[2].length - 1] && (e[2] = e[2].substring(1, e[2].length - 1)), e[2] = this.dialect.inline.__call__.call(this, e[2], /\\/)[0]; var n = { alt: e[1], href: e[2] || "" }; return void 0 !== e[4] && (n.title = e[4]), [e[0].length, ["img", n]] } return (e = t.match(/^!\[(.*?)\][ \t]*\[(.*?)\]/)) ? [e[0].length, ["img_ref", { alt: e[1], ref: e[2].toLowerCase(), original: e[0] }]] : [2, "!["] }, "[": function (t) { var n = String(t), i = e.DialectHelpers.inline_until_char.call(this, t.substr(1), "]"); if (!i) return [1, "["]; var o, a = 1 + i[0], r = i[1], s = (t = t.substr(a)).match(/^\s*\([ \t]*([^"']*)(?:[ \t]+(["'])(.*?)\2)?[ \t]*\)/); if (s) { var g = s[1]; if (a += s[0].length, g && "<" == g[0] && ">" == g[g.length - 1] && (g = g.substring(1, g.length - 1)), !s[3]) for (var l = 1, c = 0; c < g.length; c++)switch (g[c]) { case "(": l++; break; case ")": 0 == --l && (a -= g.length - c, g = g.substring(0, c)) }return o = { href: (g = this.dialect.inline.__call__.call(this, g, /\\/)[0]) || "" }, void 0 !== s[3] && (o.title = s[3]), [a, ["link", o].concat(r)] } return (s = t.match(/^\s*\[(.*?)\]/)) ? [a += s[0].length, ["link_ref", o = { ref: (s[1] || String(r)).toLowerCase(), original: n.substr(0, a) }].concat(r)] : 1 == r.length && "string" == typeof r[0] ? [a, ["link_ref", o = { ref: r[0].toLowerCase(), original: n.substr(0, a) }, r[0]]] : [1, "["] }, "<": function (t) { var e; return null != (e = t.match(/^<(?:((https?|ftp|mailto):[^>]+)|(.*?@.*?\.[a-zA-Z]+))>/)) ? e[3] ? [e[0].length, ["link", { href: "mailto:" + e[3] }, e[3]]] : "mailto" == e[2] ? [e[0].length, ["link", { href: e[1] }, e[1].substr("mailto:".length)]] : [e[0].length, ["link", { href: e[1] }, e[1]]] : [1, "<"] }, "`": function (t) { var e = t.match(/(`+)(([\s\S]*?)\1)/); return e && e[2] ? [e[1].length + e[2].length, ["inlinecode", e[3]]] : [1, "`"] }, "  \n": function (t) { return [3, ["linebreak"]] } }, e.dialects.Gruber.inline["**"] = d("strong", "**"), e.dialects.Gruber.inline.__ = d("strong", "__"), e.dialects.Gruber.inline["*"] = d("em", "*"), e.dialects.Gruber.inline._ = d("em", "_"), e.buildBlockOrder = function (t) { var e = []; for (var n in t) "__order__" != n && "__call__" != n && e.push(n); t.__order__ = e }, e.buildInlinePatterns = function (t) { var e = []; for (var n in t) if (!n.match(/^__.*__$/)) { var i = n.replace(/([\\.*+?|()\[\]{}])/g, "\\$1").replace(/\n/, "\\n"); e.push(1 == n.length ? i : "(?:" + i + ")") } e = e.join("|"), t.__patterns__ = e; var o = t.__call__; t.__call__ = function (t, n) { return null != n ? o.call(this, t, n) : o.call(this, t, e) } }, e.DialectHelpers = {}, e.DialectHelpers.inline_until_char = function (t, e) { for (var n = 0, i = []; ;) { if (t.charAt(n) == e) return [++n, i]; if (n >= t.length) return null; var o = this.dialect.inline.__oneElement__.call(this, t.substr(n)); n += o[0], i.push.apply(i, o.slice(1)) } }, e.subclassDialect = function (t) { function e() { } function n() { } return e.prototype = t.block, n.prototype = t.inline, { block: new e, inline: new n } }, e.buildBlockOrder(e.dialects.Gruber.block), e.buildInlinePatterns(e.dialects.Gruber.inline), e.dialects.Maruku = e.subclassDialect(e.dialects.Gruber), e.dialects.Maruku.processMetaHash = function (t) { for (var e = function (t) { for (var e = t.split(""), n = [""], i = !1; e.length;) { var o = e.shift(); switch (o) { case " ": i ? n[n.length - 1] += o : n.push(""); break; case "'": case '"': i = !i; break; case "\\": o = e.shift(); default: n[n.length - 1] += o } } return n }(t), n = {}, i = 0; i < e.length; ++i)if (/^#/.test(e[i])) n.id = e[i].substring(1); else if (/^\./.test(e[i])) n.class ? n.class = n.class + e[i].replace(/./, " ") : n.class = e[i].substring(1); else if (/\=/.test(e[i])) { var o = e[i].split(/\=/); n[o[0]] = o[1] } return n }, e.dialects.Maruku.block.document_meta = function (t, e) { if (!(1 < t.lineNumber) && t.match(/^(?:\w+:.*\n)*\w+:.*$/)) { f(this.tree) || this.tree.splice(1, 0, {}); var n = t.split(/\n/); for (p in n) { var i = n[p].match(/(\w+):\s*(.*)$/), o = i[1].toLowerCase(), a = i[2]; this.tree[1][o] = a } return [] } }, e.dialects.Maruku.block.block_meta = function (t, e) { var n = t.match(/(^|\n) {0,3}\{:\s*((?:\\\}|[^\}])*)\s*\}$/); if (n) { var i, o = this.dialect.processMetaHash(n[2]); if ("" === n[1]) { var r = this.tree[this.tree.length - 1]; if (i = f(r), "string" == typeof r) return; for (a in i || (i = {}, r.splice(1, 0, i)), o) i[a] = o[a]; return [] } var s = t.replace(/\n.*$/, ""), g = this.processBlock(s, []); for (a in (i = f(g[0])) || (i = {}, g[0].splice(1, 0, i)), o) i[a] = o[a]; return g } }, e.dialects.Maruku.block.definition_list = function (t, e) { var n, i = /^((?:[^\s:].*\n)+):\s+([\s\S]+)$/, o = ["dl"]; if (s = t.match(i)) { for (var a = [t]; e.length && i.exec(e[0]);)a.push(e.shift()); for (var r = 0; r < a.length; ++r) { var s, g = (s = a[r].match(i))[1].replace(/\n$/, "").split(/\n/), l = s[2].split(/\n:\s+/); for (n = 0; n < g.length; ++n)o.push(["dt", g[n]]); for (n = 0; n < l.length; ++n)o.push(["dd"].concat(this.processInline(l[n].replace(/(\n)\s+/, "$1")))) } return [o] } }, e.dialects.Maruku.block.table = function (t, e) { function n(t, e) { (e = e || "\\s").match(/^[\\|\[\]{}?*.+^$]$/) && (e = "\\" + e); for (var n, i = [], o = new RegExp("^((?:\\\\.|[^\\\\" + e + "])*)" + e + "(.*)"); n = t.match(o);)i.push(n[1]), t = n[2]; return i.push(t), i } var i, o; if (o = t.match(/^ {0,3}\|(.+)\n {0,3}\|\s*([\-:]+[\-| :]*)\n((?:\s*\|.*(?:\n|$))*)(?=\n|$)/)) o[3] = o[3].replace(/^\s*\|/gm, ""); else if (!(o = t.match(/^ {0,3}(\S(?:\\.|[^\\|])*\|.*)\n {0,3}([\-:]+\s*\|[\-| :]*)\n((?:(?:\\.|[^\\|])*\|.*(?:\n|$))*)(?=\n|$)/))) return; var a = ["table", ["thead", ["tr"]], ["tbody"]]; o[2] = o[2].replace(/\|\s*$/, "").split("|"); var r = []; for (C(o[2], function (t) { t.match(/^\s*-+:\s*$/) ? r.push({ align: "right" }) : t.match(/^\s*:-+\s*$/) ? r.push({ align: "left" }) : t.match(/^\s*:-+:\s*$/) ? r.push({ align: "center" }) : r.push({}) }), o[1] = n(o[1].replace(/\|\s*$/, ""), "|"), i = 0; i < o[1].length; i++)a[1][1].push(["th", r[i] || {}].concat(this.processInline(o[1][i].trim()))); return C(o[3].replace(/\|\s*$/gm, "").split("\n"), function (t) { var e = ["tr"]; for (t = n(t, "|"), i = 0; i < t.length; i++)e.push(["td", r[i] || {}].concat(this.processInline(t[i].trim()))); a[2].push(e) }, this), [a] }, e.dialects.Maruku.inline["{:"] = function (t, e, n) { if (!n.length) return [2, "{:"]; var i = n[n.length - 1]; if ("string" == typeof i) return [2, "{:"]; var o = t.match(/^\{:\s*((?:\\\}|[^\}])*)\s*\}/); if (!o) return [2, "{:"]; var a = this.dialect.processMetaHash(o[1]), r = f(i); for (var s in r || (r = {}, i.splice(1, 0, r)), a) r[s] = a[s]; return [o[0].length, ""] }, e.dialects.Maruku.inline.__escape__ = /^\\[\\`\*_{}\[\]()#\+.!\-|:]/, e.buildBlockOrder(e.dialects.Maruku.block), e.buildInlinePatterns(e.dialects.Maruku.inline); var C, A = Array.isArray || function (t) { return "[object Array]" == Object.prototype.toString.call(t) }; C = Array.prototype.forEach ? function (t, e, n) { return t.forEach(e, n) } : function (t, e, n) { for (var i = 0; i < t.length; i++)e.call(n || t, t[i], i, t) }; var m = function (t) { for (var e in t) if (hasOwnProperty.call(t, e)) return !1; return !0 }; function f(t) { return A(t) && 1 < t.length && "object" == typeof t[1] && !A(t[1]) ? t[1] : void 0 } function b(t) { return t.replace(/&/g, "&amp;").replace(/</g, "&lt;").replace(/>/g, "&gt;").replace(/"/g, "&quot;").replace(/'/g, "&#39;") } function B(t) { if ("string" == typeof t) return b(t); var e = t.shift(), n = {}, i = []; for (!t.length || "object" != typeof t[0] || t[0] instanceof Array || (n = t.shift()); t.length;)i.push(B(t.shift())); var o = ""; for (var a in n) o += " " + a + '="' + b(n[a]) + '"'; return "img" == e || "br" == e || "hr" == e ? "<" + e + o + "/>" : "<" + e + o + ">" + i.join("") + "</" + e + ">" } t.renderJsonML = function (t, e) { (e = e || {}).root = e.root || !1; var n = []; if (e.root) n.push(B(t)); else for (t.shift(), !t.length || "object" != typeof t[0] || t[0] instanceof Array || t.shift(); t.length;)n.push(B(t.shift())); return n.join("\n\n") } }("undefined" == typeof exports ? (window.markdown = {}, window.markdown) : exports), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof exports ? t(require("jquery")) : t(jQuery) }(function (t) { "use strict"; function e(e, n) { t.each(["autofocus", "savable", "hideable", "width", "height", "resize", "iconlibrary", "language", "footer", "fullscreen", "hiddenButtons", "disabledButtons"], function (i, o) { void 0 !== t(e).data(o) && ((n = "object" == typeof n ? n : {})[o] = t(e).data(o)) }), this.$ns = "bootstrap-markdown", this.$element = t(e), this.$editable = { el: null, type: null, attrKeys: [], attrValues: [], content: null }, this.$options = t.extend(!0, {}, t.fn.markdown.defaults, n, this.$element.data("options")), this.$oldContent = null, this.$isPreview = !1, this.$isFullscreen = !1, this.$editor = null, this.$textarea = null, this.$handler = [], this.$callback = [], this.$nextTab = [], this.showEditor() } e.prototype = { constructor: e, __alterButtons: function (e, n) { var i = this.$handler, o = "all" == e, a = this; t.each(i, function (t, i) { !1 == (!o && i.indexOf(e) < 0) && n(a.$editor.find('button[data-handler="' + i + '"]')) }) }, __buildButtons: function (e, n) { var i, o = this.$ns, a = this.$handler, r = this.$callback; for (i = 0; i < e.length; i++) { var s, g = e[i]; for (s = 0; s < g.length; s++) { var l, c = g[s].data, I = t("<div/>", { class: "btn-group" }); for (l = 0; l < c.length; l++) { var u, h, d = c[l], C = o + "-" + d.name, A = this.__getIcon(d.icon), p = d.btnText ? d.btnText : "", m = d.btnClass ? d.btnClass : "btn", f = d.tabIndex ? d.tabIndex : "-1", b = void 0 !== d.hotkey ? d.hotkey : "", B = void 0 !== jQuery.hotkeys && "" !== b ? " (" + b + ")" : ""; (u = t("<button></button>")).text(" " + this.__localize(p)).addClass("btn-default btn-sm").addClass(m), m.match(/btn\-(primary|success|info|warning|danger|link)/) && u.removeClass("btn-default"), u.attr({ type: "button", title: this.__localize(d.title) + B, tabindex: f, "data-provider": o, "data-handler": C, "data-hotkey": b }), !0 === d.toggle && u.attr("data-toggle", "button"), (h = t("<span/>")).addClass(A), h.prependTo(u), I.append(u), a.push(C), r.push(d.callback) } n.append(I) } } return n }, __setListener: function () { var e = void 0 !== this.$textarea.attr("rows"), n = 5 < this.$textarea.val().split("\n").length ? this.$textarea.val().split("\n").length : "5", i = e ? this.$textarea.attr("rows") : n; this.$textarea.attr("rows", i), this.$options.resize && this.$textarea.css("resize", this.$options.resize), this.$textarea.on({ focus: t.proxy(this.focus, this), keyup: t.proxy(this.keyup, this), change: t.proxy(this.change, this), select: t.proxy(this.select, this) }), this.eventSupported("keydown") && this.$textarea.on("keydown", t.proxy(this.keydown, this)), this.eventSupported("keypress") && this.$textarea.on("keypress", t.proxy(this.keypress, this)), this.$textarea.data("markdown", this) }, __handle: function (e) { var n = t(e.currentTarget), i = this.$handler, o = this.$callback, a = n.attr("data-handler"), r = o[i.indexOf(a)]; t(e.currentTarget).focus(), r(this), this.change(this), a.indexOf("cmdSave") < 0 && this.$textarea.focus(), e.preventDefault() }, __localize: function (e) { var n = t.fn.markdown.messages, i = this.$options.language; return void 0 !== n && void 0 !== n[i] && void 0 !== n[i][e] ? n[i][e] : e }, __getIcon: function (t) { return "object" == typeof t ? t[this.$options.iconlibrary] : t }, setFullscreen: function (e) { var n = this.$editor, i = this.$textarea; !0 === e ? (n.addClass("md-fullscreen-mode"), t("body").addClass("md-nooverflow"), this.$options.onFullscreen(this)) : (n.removeClass("md-fullscreen-mode"), t("body").removeClass("md-nooverflow"), 1 == this.$isPreview && this.hidePreview().showPreview()), this.$isFullscreen = e, i.focus() }, showEditor: function () { var e, n = this, i = this.$ns, o = this.$element, a = (o.css("height"), o.css("width"), this.$editable), r = this.$handler, s = this.$callback, g = this.$options, l = t("<div/>", { class: "md-editor", click: function () { n.focus() } }); if (null === this.$editor) { var c = t("<div/>", { class: "md-header btn-toolbar" }), I = []; if (0 < g.buttons.length && (I = I.concat(g.buttons[0])), 0 < g.additionalButtons.length && t.each(g.additionalButtons[0], function (e, n) { var i = t.grep(I, function (t, e) { return t.name === n.name }); 0 < i.length ? i[0].data = i[0].data.concat(n.data) : I.push(g.additionalButtons[0][e]) }), 0 < g.reorderButtonGroups.length && (I = I.filter(function (t) { return -1 < g.reorderButtonGroups.indexOf(t.name) }).sort(function (t, e) { return g.reorderButtonGroups.indexOf(t.name) < g.reorderButtonGroups.indexOf(e.name) ? -1 : g.reorderButtonGroups.indexOf(t.name) > g.reorderButtonGroups.indexOf(e.name) ? 1 : 0 })), 0 < I.length && (c = this.__buildButtons([I], c)), g.fullscreen.enable && c.append('<div class="md-controls"><a class="md-control md-control-fullscreen" href="#"><span class="' + this.__getIcon(g.fullscreen.icons.fullscreenOn) + '"></span></a></div>').on("click", ".md-control-fullscreen", function (t) { t.preventDefault(), n.setFullscreen(!0) }), l.append(c), o.is("textarea")) o.before(l), (e = o).addClass("md-input"), l.append(e); else { var u = "function" == typeof toMarkdown ? toMarkdown(o.html()) : o.html(), h = t.trim(u); e = t("<textarea/>", { class: "md-input", val: h }), l.append(e), a.el = o, a.type = o.prop("tagName").toLowerCase(), a.content = o.html(), t(o[0].attributes).each(function () { a.attrKeys.push(this.nodeName), a.attrValues.push(this.nodeValue) }), o.replaceWith(l) } var d, C = t("<div/>", { class: "md-footer" }), A = !1; if (g.savable && (A = !0, r.push("cmdSave"), s.push(g.onSave), C.append('<button class="btn btn-success" data-provider="' + i + '" data-handler="cmdSave"><i class="icon icon-white icon-ok"></i> ' + this.__localize("Save") + "</button>")), d = "function" == typeof g.footer ? g.footer(this) : g.footer, "" !== t.trim(d) && (A = !0, C.append(d)), A && l.append(C), g.width && "inherit" !== g.width && (jQuery.isNumeric(g.width) ? (l.css("display", "table"), e.css("width", g.width + "px")) : l.addClass(g.width)), g.height && "inherit" !== g.height) if (jQuery.isNumeric(g.height)) { var p = g.height; c && (p = Math.max(0, p - c.outerHeight())), C && (p = Math.max(0, p - C.outerHeight())), e.css("height", p + "px") } else l.addClass(g.height); this.$editor = l, this.$textarea = e, this.$editable = a, this.$oldContent = this.getContent(), this.__setListener(), this.$editor.attr("id", (new Date).getTime()), this.$editor.on("click", '[data-provider="bootstrap-markdown"]', t.proxy(this.__handle, this)), (this.$element.is(":disabled") || this.$element.is("[readonly]")) && (this.$editor.addClass("md-editor-disabled"), this.disableButtons("all")), this.eventSupported("keydown") && "object" == typeof jQuery.hotkeys && c.find('[data-provider="bootstrap-markdown"]').each(function () { var n = t(this), i = n.attr("data-hotkey"); "" !== i.toLowerCase() && e.bind("keydown", i, function () { return n.trigger("click"), !1 }) }), "preview" === g.initialstate ? this.showPreview() : "fullscreen" === g.initialstate && g.fullscreen.enable && this.setFullscreen(!0) } else this.$editor.show(); return g.autofocus && (this.$textarea.focus(), this.$editor.addClass("active")), g.fullscreen.enable && !1 !== g.fullscreen && (this.$editor.append('<div class="md-fullscreen-controls"><a href="#" class="exit-fullscreen" title="Exit fullscreen"><span class="' + this.__getIcon(g.fullscreen.icons.fullscreenOff) + '"></span></a></div>'), this.$editor.on("click", ".exit-fullscreen", function (t) { t.preventDefault(), n.setFullscreen(!1) })), this.hideButtons(g.hiddenButtons), this.disableButtons(g.disabledButtons), g.onShow(this), this }, parseContent: function (t) { return t = t || this.$textarea.val(), this.$options.parser ? this.$options.parser(t) : "object" == typeof markdown ? markdown.toHTML(t) : "function" == typeof marked ? marked(t) : t }, showPreview: function () { var e, n, i = this.$options, o = this.$textarea, a = o.next(), r = t("<div/>", { class: "md-preview", "data-provider": "markdown-preview" }); return 1 == this.$isPreview || (this.$isPreview = !0, this.disableButtons("all").enableButtons("cmdPreview"), e = "string" == typeof (n = i.onPreview(this)) ? n : this.parseContent(), r.html(e), a && "md-footer" == a.attr("class") ? r.insertBefore(a) : o.parent().append(r), r.css({ width: o.outerWidth() + "px", height: o.outerHeight() + "px" }), this.$options.resize && r.css("resize", this.$options.resize), o.hide(), r.data("markdown", this), (this.$element.is(":disabled") || this.$element.is("[readonly]")) && (this.$editor.addClass("md-editor-disabled"), this.disableButtons("all"))), this }, hidePreview: function () { return this.$isPreview = !1, this.$editor.find('div[data-provider="markdown-preview"]').remove(), this.enableButtons("all"), this.disableButtons(this.$options.disabledButtons), this.$textarea.show(), this.__setListener(), this }, isDirty: function () { return this.$oldContent != this.getContent() }, getContent: function () { return this.$textarea.val() }, setContent: function (t) { return this.$textarea.val(t), this }, findSelection: function (t) { var e; if (0 <= (e = this.getContent().indexOf(t)) && 0 < t.length) { var n, i = this.getSelection(); return this.setSelection(e, e + t.length), n = this.getSelection(), this.setSelection(i.start, i.end), n } return null }, getSelection: function () { var t = this.$textarea[0]; return ("selectionStart" in t && function () { var e = t.selectionEnd - t.selectionStart; return { start: t.selectionStart, end: t.selectionEnd, length: e, text: t.value.substr(t.selectionStart, e) } } || function () { return null })() }, setSelection: function (t, e) { var n = this.$textarea[0]; return ("selectionStart" in n && function () { n.selectionStart = t, n.selectionEnd = e } || function () { return null })() }, replaceSelection: function (t) { var e = this.$textarea[0]; return ("selectionStart" in e && function () { return e.value = e.value.substr(0, e.selectionStart) + t + e.value.substr(e.selectionEnd, e.value.length), e.selectionStart = e.value.length, this } || function () { return e.value += t, jQuery(e) })() }, getNextTab: function () { if (0 === this.$nextTab.length) return null; var t, e = this.$nextTab.shift(); return "function" == typeof e ? t = e() : "object" == typeof e && 0 < e.length && (t = e), t }, setNextTab: function (t, e) { if ("string" == typeof t) { var n = this; this.$nextTab.push(function () { return n.findSelection(t) }) } else if ("number" == typeof t && "number" == typeof e) { var i = this.getSelection(); this.setSelection(t, e), this.$nextTab.push(this.getSelection()), this.setSelection(i.start, i.end) } }, __parseButtonNameParam: function (t) { return "string" == typeof t ? t.split(" ") : t }, enableButtons: function (e) { var n = this.__parseButtonNameParam(e), i = this; return t.each(n, function (t, e) { i.__alterButtons(n[t], function (t) { t.removeAttr("disabled") }) }), this }, disableButtons: function (e) { var n = this.__parseButtonNameParam(e), i = this; return t.each(n, function (t, e) { i.__alterButtons(n[t], function (t) { t.attr("disabled", "disabled") }) }), this }, hideButtons: function (e) { var n = this.__parseButtonNameParam(e), i = this; return t.each(n, function (t, e) { i.__alterButtons(n[t], function (t) { t.addClass("hidden") }) }), this }, showButtons: function (e) { var n = this.__parseButtonNameParam(e), i = this; return t.each(n, function (t, e) { i.__alterButtons(n[t], function (t) { t.removeClass("hidden") }) }), this }, eventSupported: function (t) { var e = t in this.$element; return e || (this.$element.setAttribute(t, "return;"), e = "function" == typeof this.$element[t]), e }, keyup: function (t) { var e = !1; switch (t.keyCode) { case 40: case 38: case 16: case 17: case 18: break; case 9: var n; if (null !== (n = this.getNextTab())) { var i = this; setTimeout(function () { i.setSelection(n.start, n.end) }, 500), e = !0 } else { var o = this.getSelection(); e = (o.start != o.end || o.end != this.getContent().length) && (this.setSelection(this.getContent().length, this.getContent().length), !0) } break; case 13: e = !1; break; case 27: this.$isFullscreen && this.setFullscreen(!1), e = !1; break; default: e = !1 }e && (t.stopPropagation(), t.preventDefault()), this.$options.onChange(this) }, change: function (t) { return this.$options.onChange(this), this }, select: function (t) { return this.$options.onSelect(this), this }, focus: function (e) { var n = this.$options, i = (n.hideable, this.$editor); return i.addClass("active"), t(document).find(".md-editor").each(function () { var e; t(this).attr("id") !== i.attr("id") && (null === (e = t(this).find("textarea").data("markdown")) && (e = t(this).find('div[data-provider="markdown-preview"]').data("markdown")), e && e.blur()) }), n.onFocus(this), this }, blur: function (e) { var n = this.$options, i = n.hideable, o = this.$editor, a = this.$editable; if (o.hasClass("active") || 0 === this.$element.parent().length) { if (o.removeClass("active"), i) if (null !== a.el) { var r = t("<" + a.type + "/>"), s = this.getContent(), g = this.parseContent(s); t(a.attrKeys).each(function (t, e) { r.attr(a.attrKeys[t], a.attrValues[t]) }), r.html(g), o.replaceWith(r) } else o.hide(); n.onBlur(this) } return this } }; var n = t.fn.markdown; function i(t) { var e = t; e.data("markdown") ? e.data("markdown").showEditor() : e.markdown() } t.fn.markdown = function (n) { return this.each(function () { var i = t(this), o = i.data("markdown"), a = "object" == typeof n && n; o || i.data("markdown", o = new e(this, a)) }) }, t.fn.markdown.messages = {}, t.fn.markdown.defaults = { autofocus: !1, hideable: !1, savable: !1, width: "inherit", height: "inherit", resize: "none", iconlibrary: "glyph", language: "en", initialstate: "editor", parser: null, buttons: [[{ name: "groupFont", data: [{ name: "cmdBold", hotkey: "Ctrl+B", title: "Bold", icon: { glyph: "glyphicon glyphicon-bold", fa: "fa fa-bold", "fa-3": "icon-bold" }, callback: function (t) { var e, n, i = t.getSelection(), o = t.getContent(); e = 0 === i.length ? t.__localize("strong text") : i.text, n = "**" === o.substr(i.start - 2, 2) && "**" === o.substr(i.end, 2) ? (t.setSelection(i.start - 2, i.end + 2), t.replaceSelection(e), i.start - 2) : (t.replaceSelection("**" + e + "**"), i.start + 2), t.setSelection(n, n + e.length) } }, { name: "cmdItalic", title: "Italic", hotkey: "Ctrl+I", icon: { glyph: "glyphicon glyphicon-italic", fa: "fa fa-italic", "fa-3": "icon-italic" }, callback: function (t) { var e, n, i = t.getSelection(), o = t.getContent(); e = 0 === i.length ? t.__localize("emphasized text") : i.text, n = "_" === o.substr(i.start - 1, 1) && "_" === o.substr(i.end, 1) ? (t.setSelection(i.start - 1, i.end + 1), t.replaceSelection(e), i.start - 1) : (t.replaceSelection("_" + e + "_"), i.start + 1), t.setSelection(n, n + e.length) } }, { name: "cmdHeading", title: "Heading", hotkey: "Ctrl+H", icon: { glyph: "glyphicon glyphicon-header", fa: "fa fa-header", "fa-3": "icon-font" }, callback: function (t) { var e, n, i, o, a = t.getSelection(), r = t.getContent(); e = 0 === a.length ? t.__localize("heading text") : a.text + "\n", i = 4, n = "### " === r.substr(a.start - i, i) || (i = 3, "###" === r.substr(a.start - i, i)) ? (t.setSelection(a.start - i, a.end), t.replaceSelection(e), a.start - i) : 0 < a.start && (o = r.substr(a.start - 1, 1)) && "\n" != o ? (t.replaceSelection("\n\n### " + e), a.start + 6) : (t.replaceSelection("### " + e), a.start + 4), t.setSelection(n, n + e.length) } }] }, { name: "groupLink", data: [{ name: "cmdUrl", title: "URL/Link", hotkey: "Ctrl+L", icon: { glyph: "glyphicon glyphicon-link", fa: "fa fa-link", "fa-3": "icon-link" }, callback: function (e) { var n, i, o, a = e.getSelection(); e.getContent(), n = 0 === a.length ? e.__localize("enter link description here") : a.text, o = prompt(e.__localize("Insert Hyperlink"), "http://"); var r = new RegExp("^((http|https)://|(mailto:)|(//))[a-z0-9]", "i"); if (null !== o && "" !== o && "http://" !== o && r.test(o)) { var s = t("<div>" + o + "</div>").text(); e.replaceSelection("[" + n + "](" + s + ")"), i = a.start + 1, e.setSelection(i, i + n.length) } } }, { name: "cmdImage", title: "Image", hotkey: "Ctrl+G", icon: { glyph: "glyphicon glyphicon-picture", fa: "fa fa-picture-o", "fa-3": "icon-picture" }, callback: function (e) { var n, i, o, a = e.getSelection(); e.getContent(), n = 0 === a.length ? e.__localize("enter image description here") : a.text, o = prompt(e.__localize("Insert Image Hyperlink"), "http://"); var r = new RegExp("^((http|https)://|(//))[a-z0-9]", "i"); if (null !== o && "" !== o && "http://" !== o && r.test(o)) { var s = t("<div>" + o + "</div>").text(); e.replaceSelection("![" + n + "](" + s + ' "' + e.__localize("enter image title here") + '")'), i = a.start + 2, e.setNextTab(e.__localize("enter image title here")), e.setSelection(i, i + n.length) } } }] }, { name: "groupMisc", data: [{ name: "cmdList", hotkey: "Ctrl+U", title: "Unordered List", icon: { glyph: "glyphicon glyphicon-list", fa: "fa fa-list", "fa-3": "icon-list-ul" }, callback: function (e) { var n, i, o = e.getSelection(); if (e.getContent(), 0 === o.length) n = e.__localize("list text here"), e.replaceSelection("- " + n), i = o.start + 2; else if (o.text.indexOf("\n") < 0) n = o.text, e.replaceSelection("- " + n), i = o.start + 2; else { var a = []; n = (a = o.text.split("\n"))[0], t.each(a, function (t, e) { a[t] = "- " + e }), e.replaceSelection("\n\n" + a.join("\n")), i = o.start + 4 } e.setSelection(i, i + n.length) } }, { name: "cmdListO", hotkey: "Ctrl+O", title: "Ordered List", icon: { glyph: "glyphicon glyphicon-th-list", fa: "fa fa-list-ol", "fa-3": "icon-list-ol" }, callback: function (e) { var n, i, o = e.getSelection(); if (e.getContent(), 0 === o.length) n = e.__localize("list text here"), e.replaceSelection("1. " + n), i = o.start + 3; else if (o.text.indexOf("\n") < 0) n = o.text, e.replaceSelection("1. " + n), i = o.start + 3; else { var a = []; n = (a = o.text.split("\n"))[0], t.each(a, function (t, e) { a[t] = "1. " + e }), e.replaceSelection("\n\n" + a.join("\n")), i = o.start + 5 } e.setSelection(i, i + n.length) } }, { name: "cmdCode", hotkey: "Ctrl+K", title: "Code", icon: { glyph: "glyphicon glyphicon-asterisk", fa: "fa fa-code", "fa-3": "icon-code" }, callback: function (t) { var e, n, i = t.getSelection(), o = t.getContent(); e = 0 === i.length ? t.__localize("code text here") : i.text, n = "```\n" === o.substr(i.start - 4, 4) && "\n```" === o.substr(i.end, 4) ? (t.setSelection(i.start - 4, i.end + 4), t.replaceSelection(e), i.start - 4) : "`" === o.substr(i.start - 1, 1) && "`" === o.substr(i.end, 1) ? (t.setSelection(i.start - 1, i.end + 1), t.replaceSelection(e), i.start - 1) : -1 < o.indexOf("\n") ? (t.replaceSelection("```\n" + e + "\n```"), i.start + 4) : (t.replaceSelection("`" + e + "`"), i.start + 1), t.setSelection(n, n + e.length) } }, { name: "cmdQuote", hotkey: "Ctrl+Q", title: "Quote", icon: { glyph: "glyphicon glyphicon-comment", fa: "fa fa-quote-left", "fa-3": "icon-quote-left" }, callback: function (e) { var n, i, o = e.getSelection(); if (e.getContent(), 0 === o.length) n = e.__localize("quote here"), e.replaceSelection("> " + n), i = o.start + 2; else if (o.text.indexOf("\n") < 0) n = o.text, e.replaceSelection("> " + n), i = o.start + 2; else { var a = []; n = (a = o.text.split("\n"))[0], t.each(a, function (t, e) { a[t] = "> " + e }), e.replaceSelection("\n\n" + a.join("\n")), i = o.start + 4 } e.setSelection(i, i + n.length) } }] }, { name: "groupUtil", data: [{ name: "cmdPreview", toggle: !0, hotkey: "Ctrl+P", title: "Preview", btnText: "Preview", btnClass: "btn btn-primary btn-sm", icon: { glyph: "glyphicon glyphicon-search", fa: "fa fa-search", "fa-3": "icon-search" }, callback: function (t) { !1 === t.$isPreview ? t.showPreview() : t.hidePreview() } }] }]], additionalButtons: [], reorderButtonGroups: [], hiddenButtons: [], disabledButtons: [], footer: "", fullscreen: { enable: !0, icons: { fullscreenOn: { fa: "fa fa-expand", glyph: "glyphicon glyphicon-fullscreen", "fa-3": "icon-resize-full" }, fullscreenOff: { fa: "fa fa-compress", glyph: "glyphicon glyphicon-fullscreen", "fa-3": "icon-resize-small" } } }, onShow: function (t) { }, onPreview: function (t) { }, onSave: function (t) { }, onBlur: function (t) { }, onFocus: function (t) { }, onChange: function (t) { }, onFullscreen: function (t) { }, onSelect: function (t) { } }, t.fn.markdown.Constructor = e, t.fn.markdown.noConflict = function () { return t.fn.markdown = n, this }, t(document).on("click.markdown.data-api", '[data-provide="markdown-editable"]', function (e) { i(t(this)), e.preventDefault() }).on("click focusin", function (e) { var n; n = t(document.activeElement), t(document).find(".md-editor").each(function () { var e = t(this), i = n.closest(".md-editor")[0] === this, o = e.find("textarea").data("markdown") || e.find('div[data-provider="markdown-preview"]').data("markdown"); o && !i && o.blur() }) }).ready(function () { t('textarea[data-provide="markdown"]').each(function () { i(t(this)) }) }) }), $.fn.markdown.defaults.iconlibrary = "fa", $.fn.markdown.defaults.buttons[0][0].data[2].icon.fa = "fa fa-heading", $.fn.markdown.defaults.buttons[0][1].data[1].icon.fa = "fa fa-image", $.fn.markdown.defaults.buttons[0][2].data[1].icon.fa = "fa fa-list-ol", function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : t("object" == typeof exports ? require("jquery") : jQuery) }(function (t) { function e(e, i, o) { i = { content: { message: "object" == typeof i ? i.message : i, title: i.title ? i.title : "", icon: i.icon ? i.icon : "", url: i.url ? i.url : "#", target: i.target ? i.target : "-" } }, o = t.extend(!0, {}, i, o), this.settings = t.extend(!0, {}, n, o), this._defaults = n, "-" == this.settings.content.target && (this.settings.content.target = this.settings.url_target), this.animations = { start: "webkitAnimationStart oanimationstart MSAnimationStart animationstart", end: "webkitAnimationEnd oanimationend MSAnimationEnd animationend" }, "number" == typeof this.settings.offset && (this.settings.offset = { x: this.settings.offset, y: this.settings.offset }), this.init() } var n = { element: "body", position: null, type: "info", allow_dismiss: !0, newest_on_top: !1, showProgressbar: !1, placement: { from: "top", align: "right" }, offset: 20, spacing: 10, z_index: 1031, delay: 5e3, timer: 1e3, url_target: "_blank", mouse_over: null, animate: { enter: "animated fadeInDown", exit: "animated fadeOutUp" }, onShow: null, onShown: null, onClose: null, onClosed: null, icon_type: "class", template: '<div data-notify="container" class="col-xs-11 col-sm-4 alert alert-{0}" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss">&times;</button><span data-notify="icon"></span> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>' }; String.format = function () { for (var t = arguments[0], e = 1; e < arguments.length; e++)t = t.replace(RegExp("\\{" + (e - 1) + "\\}", "gm"), arguments[e]); return t }, t.extend(e.prototype, { init: function () { var t = this; this.buildNotify(), this.settings.content.icon && this.setIcon(), "#" != this.settings.content.url && this.styleURL(), this.styleDismiss(), this.placement(), this.bind(), this.notify = { $ele: this.$ele, update: function (e, n) { var i = {}; for (var e in "string" == typeof e ? i[e] = n : i = e, i) switch (e) { case "type": this.$ele.removeClass("alert-" + t.settings.type), this.$ele.find('[data-notify="progressbar"] > .progress-bar').removeClass("progress-bar-" + t.settings.type), t.settings.type = i[e], this.$ele.addClass("alert-" + i[e]).find('[data-notify="progressbar"] > .progress-bar').addClass("progress-bar-" + i[e]); break; case "icon": var o = this.$ele.find('[data-notify="icon"]'); "class" == t.settings.icon_type.toLowerCase() ? o.removeClass(t.settings.content.icon).addClass(i[e]) : (o.is("img") || o.find("img"), o.attr("src", i[e])); break; case "progress": var a = t.settings.delay - t.settings.delay * (i[e] / 100); this.$ele.data("notify-delay", a), this.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow", i[e]).css("width", i[e] + "%"); break; case "url": this.$ele.find('[data-notify="url"]').attr("href", i[e]); break; case "target": this.$ele.find('[data-notify="url"]').attr("target", i[e]); break; default: this.$ele.find('[data-notify="' + e + '"]').html(i[e]) }var r = this.$ele.outerHeight() + parseInt(t.settings.spacing) + parseInt(t.settings.offset.y); t.reposition(r) }, close: function () { t.close() } } }, buildNotify: function () { var e = this.settings.content; this.$ele = t(String.format(this.settings.template, this.settings.type, e.title, e.message, e.url, e.target)), this.$ele.attr("data-notify-position", this.settings.placement.from + "-" + this.settings.placement.align), this.settings.allow_dismiss || this.$ele.find('[data-notify="dismiss"]').css("display", "none"), (this.settings.delay <= 0 && !this.settings.showProgressbar || !this.settings.showProgressbar) && this.$ele.find('[data-notify="progressbar"]').remove() }, setIcon: function () { "class" == this.settings.icon_type.toLowerCase() ? this.$ele.find('[data-notify="icon"]').addClass(this.settings.content.icon) : this.$ele.find('[data-notify="icon"]').is("img") ? this.$ele.find('[data-notify="icon"]').attr("src", this.settings.content.icon) : this.$ele.find('[data-notify="icon"]').append('<img src="' + this.settings.content.icon + '" alt="Notify Icon" />') }, styleDismiss: function () { this.$ele.find('[data-notify="dismiss"]').css({ position: "absolute", right: "10px", top: "5px", zIndex: this.settings.z_index + 2 }) }, styleURL: function () { this.$ele.find('[data-notify="url"]').css({ backgroundImage: "url(data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7)", height: "100%", left: "0px", position: "absolute", top: "0px", width: "100%", zIndex: this.settings.z_index + 1 }) }, placement: function () { var e = this, n = this.settings.offset.y, i = { display: "inline-block", margin: "0px auto", position: this.settings.position ? this.settings.position : "body" === this.settings.element ? "fixed" : "absolute", transition: "all .5s ease-in-out", zIndex: this.settings.z_index }, o = !1, a = this.settings; switch (t('[data-notify-position="' + this.settings.placement.from + "-" + this.settings.placement.align + '"]:not([data-closing="true"])').each(function () { return n = Math.max(n, parseInt(t(this).css(a.placement.from)) + parseInt(t(this).outerHeight()) + parseInt(a.spacing)) }), 1 == this.settings.newest_on_top && (n = this.settings.offset.y), i[this.settings.placement.from] = n + "px", this.settings.placement.align) { case "left": case "right": i[this.settings.placement.align] = this.settings.offset.x + "px"; break; case "center": i.left = 0, i.right = 0 }this.$ele.css(i).addClass(this.settings.animate.enter), t.each(Array("webkit", "moz", "o", "ms", ""), function (t, n) { e.$ele[0].style[n + "AnimationIterationCount"] = 1 }), t(this.settings.element).append(this.$ele), 1 == this.settings.newest_on_top && (n = parseInt(n) + parseInt(this.settings.spacing) + this.$ele.outerHeight(), this.reposition(n)), t.isFunction(e.settings.onShow) && e.settings.onShow.call(this.$ele), this.$ele.one(this.animations.start, function (t) { o = !0 }).one(this.animations.end, function (n) { t.isFunction(e.settings.onShown) && e.settings.onShown.call(this) }), setTimeout(function () { o || t.isFunction(e.settings.onShown) && e.settings.onShown.call(this) }, 600) }, bind: function () { var e = this; if (this.$ele.find('[data-notify="dismiss"]').on("click", function () { e.close() }), this.$ele.mouseover(function (e) { t(this).data("data-hover", "true") }).mouseout(function (e) { t(this).data("data-hover", "false") }), this.$ele.data("data-hover", "false"), 0 < this.settings.delay) { e.$ele.data("notify-delay", e.settings.delay); var n = setInterval(function () { var t = parseInt(e.$ele.data("notify-delay")) - e.settings.timer; if ("false" === e.$ele.data("data-hover") && "pause" == e.settings.mouse_over || "pause" != e.settings.mouse_over) { var i = (e.settings.delay - t) / e.settings.delay * 100; e.$ele.data("notify-delay", t), e.$ele.find('[data-notify="progressbar"] > div').attr("aria-valuenow", i).css("width", i + "%") } t <= -e.settings.timer && (clearInterval(n), e.close()) }, e.settings.timer) } }, close: function () { var e = this, n = parseInt(this.$ele.css(this.settings.placement.from)), i = !1; this.$ele.data("closing", "true").addClass(this.settings.animate.exit), e.reposition(n), t.isFunction(e.settings.onClose) && e.settings.onClose.call(this.$ele), this.$ele.one(this.animations.start, function (t) { i = !0 }).one(this.animations.end, function (n) { t(this).remove(), t.isFunction(e.settings.onClosed) && e.settings.onClosed.call(this) }), setTimeout(function () { i || (e.$ele.remove(), e.settings.onClosed && e.settings.onClosed(e.$ele)) }, 600) }, reposition: function (e) { var n = this, i = '[data-notify-position="' + this.settings.placement.from + "-" + this.settings.placement.align + '"]:not([data-closing="true"])', o = this.$ele.nextAll(i); 1 == this.settings.newest_on_top && (o = this.$ele.prevAll(i)), o.each(function () { t(this).css(n.settings.placement.from, e), e = parseInt(e) + parseInt(n.settings.spacing) + t(this).outerHeight() }) } }), t.notify = function (t, n) { return new e(this, t, n).notify }, t.notifyDefaults = function (e) { return n = t.extend(!0, {}, n, e) }, t.notifyClose = function (e) { void 0 === e || "all" == e ? t("[data-notify]").find('[data-notify="dismiss"]').trigger("click") : t('[data-notify-position="' + e + '"]').find('[data-notify="dismiss"]').trigger("click") } }), $.notifyDefaults({ template: '<div data-notify="container" class="alert alert-{0} m-alert" role="alert"><button type="button" aria-hidden="true" class="close" data-notify="dismiss"></button><span data-notify="icon"></span><span data-notify="title">{1}</span><span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-animated bg-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>' }), function (t) { "function" == typeof define && define.amd ? define(["jquery"], t) : "object" == typeof module && module.exports ? module.exports = t(require("jquery")) : t(jQuery) }(function (t) { var e; t.extend(t.fn, { validate: function (e) { if (this.length) { var n = t.data(this[0], "validator"); return n || (this.attr("novalidate", "novalidate"), n = new t.validator(e, this[0]), t.data(this[0], "validator", n), n.settings.onsubmit && (this.on("click.validate", ":submit", function (e) { n.submitButton = e.currentTarget, t(this).hasClass("cancel") && (n.cancelSubmit = !0), void 0 !== t(this).attr("formnovalidate") && (n.cancelSubmit = !0) }), this.on("submit.validate", function (e) { function i() { var i, o; return n.submitButton && (n.settings.submitHandler || n.formSubmitted) && (i = t("<input type='hidden'/>").attr("name", n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)), !(n.settings.submitHandler && !n.settings.debug) || (o = n.settings.submitHandler.call(n, n.currentForm, e), i && i.remove(), void 0 !== o && o) } return n.settings.debug && e.preventDefault(), n.cancelSubmit ? (n.cancelSubmit = !1, i()) : n.form() ? n.pendingRequest ? !(n.formSubmitted = !0) : i() : (n.focusInvalid(), !1) })), n) } e && e.debug && window.console && console.warn("Nothing selected, can't validate, returning nothing.") }, valid: function () { var e, n, i; return t(this[0]).is("form") ? e = this.validate().form() : (i = [], e = !0, n = t(this[0].form).validate(), this.each(function () { (e = n.element(this) && e) || (i = i.concat(n.errorList)) }), n.errorList = i), e }, rules: function (e, n) { var i, o, a, r, s, g, l = this[0], c = void 0 !== this.attr("contenteditable") && "false" !== this.attr("contenteditable"); if (null != l && (!l.form && c && (l.form = this.closest("form")[0], l.name = this.attr("name")), null != l.form)) { if (e) switch (o = (i = t.data(l.form, "validator").settings).rules, a = t.validator.staticRules(l), e) { case "add": t.extend(a, t.validator.normalizeRule(n)), delete a.messages, o[l.name] = a, n.messages && (i.messages[l.name] = t.extend(i.messages[l.name], n.messages)); break; case "remove": return n ? (g = {}, t.each(n.split(/\s/), function (t, e) { g[e] = a[e], delete a[e] }), g) : (delete o[l.name], a) }return (r = t.validator.normalizeRules(t.extend({}, t.validator.classRules(l), t.validator.attributeRules(l), t.validator.dataRules(l), t.validator.staticRules(l)), l)).required && (s = r.required, delete r.required, r = t.extend({ required: s }, r)), r.remote && (s = r.remote, delete r.remote, r = t.extend(r, { remote: s })), r } } }), t.extend(t.expr.pseudos || t.expr[":"], { blank: function (e) { return !t.trim("" + t(e).val()) }, filled: function (e) { var n = t(e).val(); return null !== n && !!t.trim("" + n) }, unchecked: function (e) { return !t(e).prop("checked") } }), t.validator = function (e, n) { this.settings = t.extend(!0, {}, t.validator.defaults, e), this.currentForm = n, this.init() }, t.validator.format = function (e, n) { return 1 === arguments.length ? function () { var n = t.makeArray(arguments); return n.unshift(e), t.validator.format.apply(this, n) } : (void 0 === n || (2 < arguments.length && n.constructor !== Array && (n = t.makeArray(arguments).slice(1)), n.constructor !== Array && (n = [n]), t.each(n, function (t, n) { e = e.replace(new RegExp("\\{" + t + "\\}", "g"), function () { return n }) })), e) }, t.extend(t.validator, { defaults: { messages: {}, groups: {}, rules: {}, errorClass: "error", pendingClass: "pending", validClass: "valid", errorElement: "label", focusCleanup: !1, focusInvalid: !0, errorContainer: t([]), errorLabelContainer: t([]), onsubmit: !0, ignore: ":hidden", ignoreTitle: !1, onfocusin: function (t) { this.lastActive = t, this.settings.focusCleanup && (this.settings.unhighlight && this.settings.unhighlight.call(this, t, this.settings.errorClass, this.settings.validClass), this.hideThese(this.errorsFor(t))) }, onfocusout: function (t) { this.checkable(t) || !(t.name in this.submitted) && this.optional(t) || this.element(t) }, onkeyup: function (e, n) { 9 === n.which && "" === this.elementValue(e) || -1 !== t.inArray(n.keyCode, [16, 17, 18, 20, 35, 36, 37, 38, 39, 40, 45, 144, 225]) || (e.name in this.submitted || e.name in this.invalid) && this.element(e) }, onclick: function (t) { t.name in this.submitted ? this.element(t) : t.parentNode.name in this.submitted && this.element(t.parentNode) }, highlight: function (e, n, i) { "radio" === e.type ? this.findByName(e.name).addClass(n).removeClass(i) : t(e).addClass(n).removeClass(i) }, unhighlight: function (e, n, i) { "radio" === e.type ? this.findByName(e.name).removeClass(n).addClass(i) : t(e).removeClass(n).addClass(i) } }, setDefaults: function (e) { t.extend(t.validator.defaults, e) }, messages: { required: "This field is required.", remote: "Please fix this field.", email: "Please enter a valid email address.", url: "Please enter a valid URL.", date: "Please enter a valid date.", dateISO: "Please enter a valid date (ISO).", number: "Please enter a valid number.", digits: "Please enter only digits.", equalTo: "Please enter the same value again.", maxlength: t.validator.format("Please enter no more than {0} characters."), minlength: t.validator.format("Please enter at least {0} characters."), rangelength: t.validator.format("Please enter a value between {0} and {1} characters long."), range: t.validator.format("Please enter a value between {0} and {1}."), max: t.validator.format("Please enter a value less than or equal to {0}."), min: t.validator.format("Please enter a value greater than or equal to {0}."), step: t.validator.format("Please enter a multiple of {0}.") }, autoCreateRanges: !1, prototype: { init: function () { this.labelContainer = t(this.settings.errorLabelContainer), this.errorContext = this.labelContainer.length && this.labelContainer || t(this.currentForm), this.containers = t(this.settings.errorContainer).add(this.settings.errorLabelContainer), this.submitted = {}, this.valueCache = {}, this.pendingRequest = 0, this.pending = {}, this.invalid = {}, this.reset(); var e, n = this.currentForm, i = this.groups = {}; function o(e) { var i = void 0 !== t(this).attr("contenteditable") && "false" !== t(this).attr("contenteditable"); if (!this.form && i && (this.form = t(this).closest("form")[0], this.name = t(this).attr("name")), n === this.form) { var o = t.data(this.form, "validator"), a = "on" + e.type.replace(/^validate/, ""), r = o.settings; r[a] && !t(this).is(r.ignore) && r[a].call(o, this, e) } } t.each(this.settings.groups, function (e, n) { "string" == typeof n && (n = n.split(/\s/)), t.each(n, function (t, n) { i[n] = e }) }), e = this.settings.rules, t.each(e, function (n, i) { e[n] = t.validator.normalizeRule(i) }), t(this.currentForm).on("focusin.validate focusout.validate keyup.validate", ":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']", o).on("click.validate", "select, option, [type='radio'], [type='checkbox']", o), this.settings.invalidHandler && t(this.currentForm).on("invalid-form.validate", this.settings.invalidHandler) }, form: function () { return this.checkForm(), t.extend(this.submitted, this.errorMap), this.invalid = t.extend({}, this.errorMap), this.valid() || t(this.currentForm).triggerHandler("invalid-form", [this]), this.showErrors(), this.valid() }, checkForm: function () { this.prepareForm(); for (var t = 0, e = this.currentElements = this.elements(); e[t]; t++)this.check(e[t]); return this.valid() }, element: function (e) { var n, i, o = this.clean(e), a = this.validationTargetFor(o), r = this, s = !0; return void 0 === a ? delete this.invalid[o.name] : (this.prepareElement(a), this.currentElements = t(a), (i = this.groups[a.name]) && t.each(this.groups, function (t, e) { e === i && t !== a.name && (o = r.validationTargetFor(r.clean(r.findByName(t)))) && o.name in r.invalid && (r.currentElements.push(o), s = r.check(o) && s) }), n = !1 !== this.check(a), s = s && n, this.invalid[a.name] = !n, this.numberOfInvalids() || (this.toHide = this.toHide.add(this.containers)), this.showErrors(), t(e).attr("aria-invalid", !n)), s }, showErrors: function (e) { if (e) { var n = this; t.extend(this.errorMap, e), this.errorList = t.map(this.errorMap, function (t, e) { return { message: t, element: n.findByName(e)[0] } }), this.successList = t.grep(this.successList, function (t) { return !(t.name in e) }) } this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors() }, resetForm: function () { t.fn.resetForm && t(this.currentForm).resetForm(), this.invalid = {}, this.submitted = {}, this.prepareForm(), this.hideErrors(); var e = this.elements().removeData("previousValue").removeAttr("aria-invalid"); this.resetElements(e) }, resetElements: function (t) { var e; if (this.settings.unhighlight) for (e = 0; t[e]; e++)this.settings.unhighlight.call(this, t[e], this.settings.errorClass, ""), this.findByName(t[e].name).removeClass(this.settings.validClass); else t.removeClass(this.settings.errorClass).removeClass(this.settings.validClass) }, numberOfInvalids: function () { return this.objectLength(this.invalid) }, objectLength: function (t) { var e, n = 0; for (e in t) void 0 !== t[e] && null !== t[e] && !1 !== t[e] && n++; return n }, hideErrors: function () { this.hideThese(this.toHide) }, hideThese: function (t) { t.not(this.containers).text(""), this.addWrapper(t).hide() }, valid: function () { return 0 === this.size() }, size: function () { return this.errorList.length }, focusInvalid: function () { if (this.settings.focusInvalid) try { t(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").focus().trigger("focusin") } catch (t) { } }, findLastActive: function () { var e = this.lastActive; return e && 1 === t.grep(this.errorList, function (t) { return t.element.name === e.name }).length && e }, elements: function () { var e = this, n = {}; return t(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function () { var i = this.name || t(this).attr("name"), o = void 0 !== t(this).attr("contenteditable") && "false" !== t(this).attr("contenteditable"); return !i && e.settings.debug && window.console && console.error("%o has no name assigned", this), o && (this.form = t(this).closest("form")[0], this.name = i), this.form === e.currentForm && !(i in n || !e.objectLength(t(this).rules())) && (n[i] = !0) }) }, clean: function (e) { return t(e)[0] }, errors: function () { var e = this.settings.errorClass.split(" ").join("."); return t(this.settings.errorElement + "." + e, this.errorContext) }, resetInternals: function () { this.successList = [], this.errorList = [], this.errorMap = {}, this.toShow = t([]), this.toHide = t([]) }, reset: function () { this.resetInternals(), this.currentElements = t([]) }, prepareForm: function () { this.reset(), this.toHide = this.errors().add(this.containers) }, prepareElement: function (t) { this.reset(), this.toHide = this.errorsFor(t) }, elementValue: function (e) { var n, i, o = t(e), a = e.type, r = void 0 !== o.attr("contenteditable") && "false" !== o.attr("contenteditable"); return "radio" === a || "checkbox" === a ? this.findByName(e.name).filter(":checked").val() : "number" === a && void 0 !== e.validity ? e.validity.badInput ? "NaN" : o.val() : (n = r ? o.text() : o.val(), "file" === a ? "C:\\fakepath\\" === n.substr(0, 12) ? n.substr(12) : 0 <= (i = n.lastIndexOf("/")) ? n.substr(i + 1) : 0 <= (i = n.lastIndexOf("\\")) ? n.substr(i + 1) : n : "string" == typeof n ? n.replace(/\r/g, "") : n) }, check: function (e) { e = this.validationTargetFor(this.clean(e)); var n, i, o, a, r = t(e).rules(), s = t.map(r, function (t, e) { return e }).length, g = !1, l = this.elementValue(e); for (i in "function" == typeof r.normalizer ? a = r.normalizer : "function" == typeof this.settings.normalizer && (a = this.settings.normalizer), a && (l = a.call(e, l), delete r.normalizer), r) { o = { method: i, parameters: r[i] }; try { if ("dependency-mismatch" === (n = t.validator.methods[i].call(this, l, e, o.parameters)) && 1 === s) { g = !0; continue } if (g = !1, "pending" === n) return void (this.toHide = this.toHide.not(this.errorsFor(e))); if (!n) return this.formatAndAdd(e, o), !1 } catch (n) { throw this.settings.debug && window.console && console.log("Exception occurred when checking element " + e.id + ", check the '" + o.method + "' method.", n), n instanceof TypeError && (n.message += ".  Exception occurred when checking element " + e.id + ", check the '" + o.method + "' method."), n } } if (!g) return this.objectLength(r) && this.successList.push(e), !0 }, customDataMessage: function (e, n) { return t(e).data("msg" + n.charAt(0).toUpperCase() + n.substring(1).toLowerCase()) || t(e).data("msg") }, customMessage: function (t, e) { var n = this.settings.messages[t]; return n && (n.constructor === String ? n : n[e]) }, findDefined: function () { for (var t = 0; t < arguments.length; t++)if (void 0 !== arguments[t]) return arguments[t] }, defaultMessage: function (e, n) { "string" == typeof n && (n = { method: n }); var i = this.findDefined(this.customMessage(e.name, n.method), this.customDataMessage(e, n.method), !this.settings.ignoreTitle && e.title || void 0, t.validator.messages[n.method], "<strong>Warning: No message defined for " + e.name + "</strong>"), o = /\$?\{(\d+)\}/g; return "function" == typeof i ? i = i.call(this, n.parameters, e) : o.test(i) && (i = t.validator.format(i.replace(o, "{$1}"), n.parameters)), i }, formatAndAdd: function (t, e) { var n = this.defaultMessage(t, e); this.errorList.push({ message: n, element: t, method: e.method }), this.errorMap[t.name] = n, this.submitted[t.name] = n }, addWrapper: function (t) { return this.settings.wrapper && (t = t.add(t.parent(this.settings.wrapper))), t }, defaultShowErrors: function () { var t, e, n; for (t = 0; this.errorList[t]; t++)n = this.errorList[t], this.settings.highlight && this.settings.highlight.call(this, n.element, this.settings.errorClass, this.settings.validClass), this.showLabel(n.element, n.message); if (this.errorList.length && (this.toShow = this.toShow.add(this.containers)), this.settings.success) for (t = 0; this.successList[t]; t++)this.showLabel(this.successList[t]); if (this.settings.unhighlight) for (t = 0, e = this.validElements(); e[t]; t++)this.settings.unhighlight.call(this, e[t], this.settings.errorClass, this.settings.validClass); this.toHide = this.toHide.not(this.toShow), this.hideErrors(), this.addWrapper(this.toShow).show() }, validElements: function () { return this.currentElements.not(this.invalidElements()) }, invalidElements: function () { return t(this.errorList).map(function () { return this.element }) }, showLabel: function (e, n) { var i, o, a, r, s = this.errorsFor(e), g = this.idOrName(e), l = t(e).attr("aria-describedby"); s.length ? (s.removeClass(this.settings.validClass).addClass(this.settings.errorClass), s.html(n)) : (i = s = t("<" + this.settings.errorElement + ">").attr("id", g + "-error").addClass(this.settings.errorClass).html(n || ""), this.settings.wrapper && (i = s.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()), this.labelContainer.length ? this.labelContainer.append(i) : this.settings.errorPlacement ? this.settings.errorPlacement.call(this, i, t(e)) : i.insertAfter(e), s.is("label") ? s.attr("for", g) : 0 === s.parents("label[for='" + this.escapeCssMeta(g) + "']").length && (a = s.attr("id"), l ? l.match(new RegExp("\\b" + this.escapeCssMeta(a) + "\\b")) || (l += " " + a) : l = a, t(e).attr("aria-describedby", l), (o = this.groups[e.name]) && (r = this, t.each(r.groups, function (e, n) { n === o && t("[name='" + r.escapeCssMeta(e) + "']", r.currentForm).attr("aria-describedby", s.attr("id")) })))), !n && this.settings.success && (s.text(""), "string" == typeof this.settings.success ? s.addClass(this.settings.success) : this.settings.success(s, e)), this.toShow = this.toShow.add(s) }, errorsFor: function (e) { var n = this.escapeCssMeta(this.idOrName(e)), i = t(e).attr("aria-describedby"), o = "label[for='" + n + "'], label[for='" + n + "'] *"; return i && (o = o + ", #" + this.escapeCssMeta(i).replace(/\s+/g, ", #")), this.errors().filter(o) }, escapeCssMeta: function (t) { return t.replace(/([\\!"#$%&'()*+,.\/:;<=>?@\[\]^`{|}~])/g, "\\$1") }, idOrName: function (t) { return this.groups[t.name] || (this.checkable(t) ? t.name : t.id || t.name) }, validationTargetFor: function (e) { return this.checkable(e) && (e = this.findByName(e.name)), t(e).not(this.settings.ignore)[0] }, checkable: function (t) { return /radio|checkbox/i.test(t.type) }, findByName: function (e) { return t(this.currentForm).find("[name='" + this.escapeCssMeta(e) + "']") }, getLength: function (e, n) { switch (n.nodeName.toLowerCase()) { case "select": return t("option:selected", n).length; case "input": if (this.checkable(n)) return this.findByName(n.name).filter(":checked").length }return e.length }, depend: function (t, e) { return !this.dependTypes[typeof t] || this.dependTypes[typeof t](t, e) }, dependTypes: { boolean: function (t) { return t }, string: function (e, n) { return !!t(e, n.form).length }, function: function (t, e) { return t(e) } }, optional: function (e) { var n = this.elementValue(e); return !t.validator.methods.required.call(this, n, e) && "dependency-mismatch" }, startRequest: function (e) { this.pending[e.name] || (this.pendingRequest++, t(e).addClass(this.settings.pendingClass), this.pending[e.name] = !0) }, stopRequest: function (e, n) { this.pendingRequest--, this.pendingRequest < 0 && (this.pendingRequest = 0), delete this.pending[e.name], t(e).removeClass(this.settings.pendingClass), n && 0 === this.pendingRequest && this.formSubmitted && this.form() ? (t(this.currentForm).submit(), this.submitButton && t("input:hidden[name='" + this.submitButton.name + "']", this.currentForm).remove(), this.formSubmitted = !1) : !n && 0 === this.pendingRequest && this.formSubmitted && (t(this.currentForm).triggerHandler("invalid-form", [this]), this.formSubmitted = !1) }, previousValue: function (e, n) { return n = "string" == typeof n && n || "remote", t.data(e, "previousValue") || t.data(e, "previousValue", { old: null, valid: !0, message: this.defaultMessage(e, { method: n }) }) }, destroy: function () { this.resetForm(), t(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur").find(".validate-lessThan-blur").off(".validate-lessThan").removeClass("validate-lessThan-blur").find(".validate-lessThanEqual-blur").off(".validate-lessThanEqual").removeClass("validate-lessThanEqual-blur").find(".validate-greaterThanEqual-blur").off(".validate-greaterThanEqual").removeClass("validate-greaterThanEqual-blur").find(".validate-greaterThan-blur").off(".validate-greaterThan").removeClass("validate-greaterThan-blur") } }, classRuleSettings: { required: { required: !0 }, email: { email: !0 }, url: { url: !0 }, date: { date: !0 }, dateISO: { dateISO: !0 }, number: { number: !0 }, digits: { digits: !0 }, creditcard: { creditcard: !0 } }, addClassRules: function (e, n) { e.constructor === String ? this.classRuleSettings[e] = n : t.extend(this.classRuleSettings, e) }, classRules: function (e) { var n = {}, i = t(e).attr("class"); return i && t.each(i.split(" "), function () { this in t.validator.classRuleSettings && t.extend(n, t.validator.classRuleSettings[this]) }), n }, normalizeAttributeRule: function (t, e, n, i) { /min|max|step/.test(n) && (null === e || /number|range|text/.test(e)) && (i = Number(i), isNaN(i) && (i = void 0)), i || 0 === i ? t[n] = i : e === n && "range" !== e && (t[n] = !0) }, attributeRules: function (e) { var n, i, o = {}, a = t(e), r = e.getAttribute("type"); for (n in t.validator.methods) i = "required" === n ? ("" === (i = e.getAttribute(n)) && (i = !0), !!i) : a.attr(n), this.normalizeAttributeRule(o, r, n, i); return o.maxlength && /-1|2147483647|524288/.test(o.maxlength) && delete o.maxlength, o }, dataRules: function (e) { var n, i, o = {}, a = t(e), r = e.getAttribute("type"); for (n in t.validator.methods) "" === (i = a.data("rule" + n.charAt(0).toUpperCase() + n.substring(1).toLowerCase())) && (i = !0), this.normalizeAttributeRule(o, r, n, i); return o }, staticRules: function (e) { var n = {}, i = t.data(e.form, "validator"); return i.settings.rules && (n = t.validator.normalizeRule(i.settings.rules[e.name]) || {}), n }, normalizeRules: function (e, n) { return t.each(e, function (i, o) { if (!1 !== o) { if (o.param || o.depends) { var a = !0; switch (typeof o.depends) { case "string": a = !!t(o.depends, n.form).length; break; case "function": a = o.depends.call(n, n) }a ? e[i] = void 0 === o.param || o.param : (t.data(n.form, "validator").resetElements(t(n)), delete e[i]) } } else delete e[i] }), t.each(e, function (i, o) { e[i] = t.isFunction(o) && "normalizer" !== i ? o(n) : o }), t.each(["minlength", "maxlength"], function () { e[this] && (e[this] = Number(e[this])) }), t.each(["rangelength", "range"], function () { var n; e[this] && (t.isArray(e[this]) ? e[this] = [Number(e[this][0]), Number(e[this][1])] : "string" == typeof e[this] && (n = e[this].replace(/[\[\]]/g, "").split(/[\s,]+/), e[this] = [Number(n[0]), Number(n[1])])) }), t.validator.autoCreateRanges && (null != e.min && null != e.max && (e.range = [e.min, e.max], delete e.min, delete e.max), null != e.minlength && null != e.maxlength && (e.rangelength = [e.minlength, e.maxlength], delete e.minlength, delete e.maxlength)), e }, normalizeRule: function (e) { if ("string" == typeof e) { var n = {}; t.each(e.split(/\s/), function () { n[this] = !0 }), e = n } return e }, addMethod: function (e, n, i) { t.validator.methods[e] = n, t.validator.messages[e] = void 0 !== i ? i : t.validator.messages[e], n.length < 3 && t.validator.addClassRules(e, t.validator.normalizeRule(e)) }, methods: { required: function (e, n, i) { if (!this.depend(i, n)) return "dependency-mismatch"; if ("select" !== n.nodeName.toLowerCase()) return this.checkable(n) ? 0 < this.getLength(e, n) : null != e && 0 < e.length; var o = t(n).val(); return o && 0 < o.length }, email: function (t, e) { return this.optional(e) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t) }, url: function (t, e) { return this.optional(e) || /^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[\/?#]\S*)?$/i.test(t) }, date: (e = !1, function (t, n) { return e || (e = !0, this.settings.debug && window.console && console.warn("The `date` method is deprecated and will be removed in version '2.0.0'.\nPlease don't use it, since it relies on the Date constructor, which\nbehaves very differently across browsers and locales. Use `dateISO`\ninstead or one of the locale specific methods in `localizations/`\nand `additional-methods.js`.")), this.optional(n) || !/Invalid|NaN/.test(new Date(t).toString()) }), dateISO: function (t, e) { return this.optional(e) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t) }, number: function (t, e) { return this.optional(e) || /^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t) }, digits: function (t, e) { return this.optional(e) || /^\d+$/.test(t) }, minlength: function (e, n, i) { var o = t.isArray(e) ? e.length : this.getLength(e, n); return this.optional(n) || i <= o }, maxlength: function (e, n, i) { var o = t.isArray(e) ? e.length : this.getLength(e, n); return this.optional(n) || o <= i }, rangelength: function (e, n, i) { var o = t.isArray(e) ? e.length : this.getLength(e, n); return this.optional(n) || o >= i[0] && o <= i[1] }, min: function (t, e, n) { return this.optional(e) || n <= t }, max: function (t, e, n) { return this.optional(e) || t <= n }, range: function (t, e, n) { return this.optional(e) || t >= n[0] && t <= n[1] }, step: function (e, n, i) { function o(t) { var e = ("" + t).match(/(?:\.(\d+))?$/); return e && e[1] ? e[1].length : 0 } function a(t) { return Math.round(t * Math.pow(10, r)) } var r, s = t(n).attr("type"), g = "Step attribute on input type " + s + " is not supported.", l = new RegExp("\\b" + s + "\\b"), c = !0; if (s && !l.test(["text", "number", "range"].join())) throw new Error(g); return r = o(i), (o(e) > r || a(e) % a(i) != 0) && (c = !1), this.optional(n) || c }, equalTo: function (e, n, i) { var o = t(i); return this.settings.onfocusout && o.not(".validate-equalTo-blur").length && o.addClass("validate-equalTo-blur").on("blur.validate-equalTo", function () { t(n).valid() }), e === o.val() }, remote: function (e, n, i, o) { if (this.optional(n)) return "dependency-mismatch"; o = "string" == typeof o && o || "remote"; var a, r, s, g = this.previousValue(n, o); return this.settings.messages[n.name] || (this.settings.messages[n.name] = {}), g.originalMessage = g.originalMessage || this.settings.messages[n.name][o], this.settings.messages[n.name][o] = g.message, i = "string" == typeof i && { url: i } || i, s = t.param(t.extend({ data: e }, i.data)), g.old === s ? g.valid : (g.old = s, (a = this).startRequest(n), (r = {})[n.name] = e, t.ajax(t.extend(!0, { mode: "abort", port: "validate" + n.name, dataType: "json", data: r, context: a.currentForm, success: function (t) { var i, r, s, l = !0 === t || "true" === t; a.settings.messages[n.name][o] = g.originalMessage, l ? (s = a.formSubmitted, a.resetInternals(), a.toHide = a.errorsFor(n), a.formSubmitted = s, a.successList.push(n), a.invalid[n.name] = !1, a.showErrors()) : (i = {}, r = t || a.defaultMessage(n, { method: o, parameters: e }), i[n.name] = g.message = r, a.invalid[n.name] = !0, a.showErrors(i)), g.valid = l, a.stopRequest(n, l) } }, i)), "pending") } } }); var n, i = {}; return t.ajaxPrefilter ? t.ajaxPrefilter(function (t, e, n) { var o = t.port; "abort" === t.mode && (i[o] && i[o].abort(), i[o] = n) }) : (n = t.ajax, t.ajax = function (e) { var o = ("mode" in e ? e : t.ajaxSettings).mode, a = ("port" in e ? e : t.ajaxSettings).port; return "abort" === o ? (i[a] && i[a].abort(), i[a] = n.apply(this, arguments), i[a]) : n.apply(this, arguments) }), t }), function (t) { "function" == typeof define && define.amd ? define(["jquery", "./jquery.validate"], t) : "object" == typeof module && module.exports ? module.exports = t(require("jquery")) : t(jQuery) }(function (t) { function e(t) { return t.replace(/<.[^<>]*?>/g, " ").replace(/&nbsp;|&#160;/gi, " ").replace(/[.(),;:!?%#$'\"_+=\/\-âââ]*/g, "") } return t.validator.addMethod("maxWords", function (t, n, i) { return this.optional(n) || e(t).match(/\b\w+\b/g).length <= i }, t.validator.format("Please enter {0} words or less.")), t.validator.addMethod("minWords", function (t, n, i) { return this.optional(n) || e(t).match(/\b\w+\b/g).length >= i }, t.validator.format("Please enter at least {0} words.")), t.validator.addMethod("rangeWords", function (t, n, i) { var o = e(t), a = /\b\w+\b/g; return this.optional(n) || o.match(a).length >= i[0] && o.match(a).length <= i[1] }, t.validator.format("Please enter between {0} and {1} words.")), t.validator.addMethod("abaRoutingNumber", function (t) { var e = 0, n = t.split(""), i = n.length; if (9 !== i) return !1; for (var o = 0; o < i; o += 3)e += 3 * parseInt(n[o], 10) + 7 * parseInt(n[o + 1], 10) + parseInt(n[o + 2], 10); return 0 !== e && e % 10 == 0 }, "Please enter a valid routing number."), t.validator.addMethod("accept", function (e, n, i) { var o, a, r = "string" == typeof i ? i.replace(/\s/g, "") : "image/*", s = this.optional(n); if (s) return s; if ("file" === t(n).attr("type") && (r = r.replace(/[\-\[\]\/\{\}\(\)\+\?\.\\\^\$\|]/g, "\\$&").replace(/,/g, "|").replace(/\/\*/g, "/.*"), n.files && n.files.length)) for (a = new RegExp(".?(" + r + ")$", "i"), o = 0; o < n.files.length; o++)if (!n.files[o].type.match(a)) return !1; return !0 }, t.validator.format("Please enter a value with a valid mimetype.")), t.validator.addMethod("alphanumeric", function (t, e) { return this.optional(e) || /^\w+$/i.test(t) }, "Letters, numbers, and underscores only please"), t.validator.addMethod("bankaccountNL", function (t, e) { if (this.optional(e)) return !0; if (!/^[0-9]{9}|([0-9]{2} ){3}[0-9]{3}$/.test(t)) return !1; var n, i = t.replace(/ /g, ""), o = 0, a = i.length; for (n = 0; n < a; n++)o += (a - n) * i.substring(n, n + 1); return o % 11 == 0 }, "Please specify a valid bank account number"), t.validator.addMethod("bankorgiroaccountNL", function (e, n) { return this.optional(n) || t.validator.methods.bankaccountNL.call(this, e, n) || t.validator.methods.giroaccountNL.call(this, e, n) }, "Please specify a valid bank or giro account number"), t.validator.addMethod("bic", function (t, e) { return this.optional(e) || /^([A-Z]{6}[A-Z2-9][A-NP-Z1-9])(X{3}|[A-WY-Z0-9][A-Z0-9]{2})?$/.test(t.toUpperCase()) }, "Please specify a valid BIC code"), t.validator.addMethod("cifES", function (t, e) { "use strict"; if (this.optional(e)) return !0; var n, i, o, a, r = new RegExp(/^([ABCDEFGHJKLMNPQRSUVW])(\d{7})([0-9A-J])$/gi), s = t.substring(0, 1), g = t.substring(1, 8), l = t.substring(8, 9), c = 0, I = 0; if (9 !== t.length || !r.test(t)) return !1; for (n = 0; n < g.length; n++)i = parseInt(g[n], 10), n % 2 == 0 ? I += (i *= 2) < 10 ? i : i - 9 : c += i; return o = (10 - (c + I).toString().substr(-1)).toString(), o = 9 < parseInt(o, 10) ? "0" : o, a = "JABCDEFGHI".substr(o, 1).toString(), s.match(/[ABEH]/) ? l === o : s.match(/[KPQS]/) ? l === a : l === o || l === a }, "Please specify a valid CIF number."), t.validator.addMethod("cnhBR", function (t) { if (11 !== (t = t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length) return !1; var e, n, i, o, a, r = 0, s = 0; if (e = t.charAt(0), new Array(12).join(e) === t) return !1; for (a = 9, o = 0; o < 9; ++o, --a)r += +t.charAt(o) * a; for (10 <= (n = r % 11) && (n = 0, s = 2), a = 1, o = r = 0; o < 9; ++o, ++a)r += +t.charAt(o) * a; return 10 <= (i = r % 11) ? i = 0 : i -= s, String(n).concat(i) === t.substr(-2) }, "Please specify a valid CNH number"), t.validator.addMethod("cnpjBR", function (t, e) { "use strict"; if (this.optional(e)) return !0; if (14 !== (t = t.replace(/[^\d]+/g, "")).length) return !1; if ("00000000000000" === t || "11111111111111" === t || "22222222222222" === t || "33333333333333" === t || "44444444444444" === t || "55555555555555" === t || "66666666666666" === t || "77777777777777" === t || "88888888888888" === t || "99999999999999" === t) return !1; for (var n = t.length - 2, i = t.substring(0, n), o = t.substring(n), a = 0, r = n - 7, s = n; 1 <= s; s--)a += i.charAt(n - s) * r--, r < 2 && (r = 9); var g = a % 11 < 2 ? 0 : 11 - a % 11; if (g !== parseInt(o.charAt(0), 10)) return !1; n += 1, i = t.substring(0, n), a = 0, r = n - 7; for (var l = n; 1 <= l; l--)a += i.charAt(n - l) * r--, r < 2 && (r = 9); return (g = a % 11 < 2 ? 0 : 11 - a % 11) === parseInt(o.charAt(1), 10) }, "Please specify a CNPJ value number"), t.validator.addMethod("cpfBR", function (t, e) { "use strict"; if (this.optional(e)) return !0; if (11 !== (t = t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length) return !1; var n, i, o, a, r = 0; if (n = parseInt(t.substring(9, 10), 10), i = parseInt(t.substring(10, 11), 10), o = function (t, e) { var n = 10 * t % 11; return 10 !== n && 11 !== n || (n = 0), n === e }, "" === t || "00000000000" === t || "11111111111" === t || "22222222222" === t || "33333333333" === t || "44444444444" === t || "55555555555" === t || "66666666666" === t || "77777777777" === t || "88888888888" === t || "99999999999" === t) return !1; for (a = 1; a <= 9; a++)r += parseInt(t.substring(a - 1, a), 10) * (11 - a); if (o(r, n)) { for (r = 0, a = 1; a <= 10; a++)r += parseInt(t.substring(a - 1, a), 10) * (12 - a); return o(r, i) } return !1 }, "Please specify a valid CPF number"), t.validator.addMethod("creditcard", function (t, e) { if (this.optional(e)) return "dependency-mismatch"; if (/[^0-9 \-]+/.test(t)) return !1; var n, i, o = 0, a = 0, r = !1; if ((t = t.replace(/\D/g, "")).length < 13 || 19 < t.length) return !1; for (n = t.length - 1; 0 <= n; n--)i = t.charAt(n), a = parseInt(i, 10), r && 9 < (a *= 2) && (a -= 9), o += a, r = !r; return o % 10 == 0 }, "Please enter a valid credit card number."), t.validator.addMethod("creditcardtypes", function (t, e, n) { if (/[^0-9\-]+/.test(t)) return !1; t = t.replace(/\D/g, ""); var i = 0; return n.mastercard && (i |= 1), n.visa && (i |= 2), n.amex && (i |= 4), n.dinersclub && (i |= 8), n.enroute && (i |= 16), n.discover && (i |= 32), n.jcb && (i |= 64), n.unknown && (i |= 128), n.all && (i = 255), 1 & i && (/^(5[12345])/.test(t) || /^(2[234567])/.test(t)) ? 16 === t.length : 2 & i && /^(4)/.test(t) ? 16 === t.length : 4 & i && /^(3[47])/.test(t) ? 15 === t.length : 8 & i && /^(3(0[012345]|[68]))/.test(t) ? 14 === t.length : 16 & i && /^(2(014|149))/.test(t) ? 15 === t.length : 32 & i && /^(6011)/.test(t) ? 16 === t.length : 64 & i && /^(3)/.test(t) ? 16 === t.length : 64 & i && /^(2131|1800)/.test(t) ? 15 === t.length : !!(128 & i) }, "Please enter a valid credit card number."), t.validator.addMethod("currency", function (t, e, n) { var i, o = "string" == typeof n, a = o ? n : n[0], r = o || n[1]; return a = a.replace(/,/g, ""), i = "^[" + (a = r ? a + "]" : a + "]?") + "([1-9]{1}[0-9]{0,2}(\\,[0-9]{3})*(\\.[0-9]{0,2})?|[1-9]{1}[0-9]{0,}(\\.[0-9]{0,2})?|0(\\.[0-9]{0,2})?|(\\.[0-9]{1,2})?)$", i = new RegExp(i), this.optional(e) || i.test(t) }, "Please specify a valid currency"), t.validator.addMethod("dateFA", function (t, e) { return this.optional(e) || /^[1-4]\d{3}\/((0?[1-6]\/((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))\/(30|([1-2][0-9])|(0?[1-9]))))$/.test(t) }, t.validator.messages.date), t.validator.addMethod("dateITA", function (t, e) { var n, i, o, a, r, s; return s = !!/^\d{1,2}\/\d{1,2}\/\d{4}$/.test(t) && (n = t.split("/"), i = parseInt(n[0], 10), o = parseInt(n[1], 10), a = parseInt(n[2], 10), (r = new Date(Date.UTC(a, o - 1, i, 12, 0, 0, 0))).getUTCFullYear() === a && r.getUTCMonth() === o - 1 && r.getUTCDate() === i), this.optional(e) || s }, t.validator.messages.date), t.validator.addMethod("dateNL", function (t, e) { return this.optional(e) || /^(0?[1-9]|[12]\d|3[01])[\.\/\-](0?[1-9]|1[012])[\.\/\-]([12]\d)?(\d\d)$/.test(t) }, t.validator.messages.date), t.validator.addMethod("extension", function (t, e, n) { return n = "string" == typeof n ? n.replace(/,/g, "|") : "png|jpe?g|gif", this.optional(e) || t.match(new RegExp("\\.(" + n + ")$", "i")) }, t.validator.format("Please enter a value with a valid extension.")), t.validator.addMethod("giroaccountNL", function (t, e) { return this.optional(e) || /^[0-9]{1,7}$/.test(t) }, "Please specify a valid giro account number"), t.validator.addMethod("greaterThan", function (e, n, i) { var o = t(i); return this.settings.onfocusout && o.not(".validate-greaterThan-blur").length && o.addClass("validate-greaterThan-blur").on("blur.validate-greaterThan", function () { t(n).valid() }), e > o.val() }, "Please enter a greater value."), t.validator.addMethod("greaterThanEqual", function (e, n, i) { var o = t(i); return this.settings.onfocusout && o.not(".validate-greaterThanEqual-blur").length && o.addClass("validate-greaterThanEqual-blur").on("blur.validate-greaterThanEqual", function () { t(n).valid() }), e >= o.val() }, "Please enter a greater value."), t.validator.addMethod("iban", function (t, e) { if (this.optional(e)) return !0; var n, i, o, a, r, s = t.replace(/ /g, "").toUpperCase(), g = "", l = !0, c = ""; if (s.length < 5) return !1; if (void 0 !== (o = { AL: "\\d{8}[\\dA-Z]{16}", AD: "\\d{8}[\\dA-Z]{12}", AT: "\\d{16}", AZ: "[\\dA-Z]{4}\\d{20}", BE: "\\d{12}", BH: "[A-Z]{4}[\\dA-Z]{14}", BA: "\\d{16}", BR: "\\d{23}[A-Z][\\dA-Z]", BG: "[A-Z]{4}\\d{6}[\\dA-Z]{8}", CR: "\\d{17}", HR: "\\d{17}", CY: "\\d{8}[\\dA-Z]{16}", CZ: "\\d{20}", DK: "\\d{14}", DO: "[A-Z]{4}\\d{20}", EE: "\\d{16}", FO: "\\d{14}", FI: "\\d{14}", FR: "\\d{10}[\\dA-Z]{11}\\d{2}", GE: "[\\dA-Z]{2}\\d{16}", DE: "\\d{18}", GI: "[A-Z]{4}[\\dA-Z]{15}", GR: "\\d{7}[\\dA-Z]{16}", GL: "\\d{14}", GT: "[\\dA-Z]{4}[\\dA-Z]{20}", HU: "\\d{24}", IS: "\\d{22}", IE: "[\\dA-Z]{4}\\d{14}", IL: "\\d{19}", IT: "[A-Z]\\d{10}[\\dA-Z]{12}", KZ: "\\d{3}[\\dA-Z]{13}", KW: "[A-Z]{4}[\\dA-Z]{22}", LV: "[A-Z]{4}[\\dA-Z]{13}", LB: "\\d{4}[\\dA-Z]{20}", LI: "\\d{5}[\\dA-Z]{12}", LT: "\\d{16}", LU: "\\d{3}[\\dA-Z]{13}", MK: "\\d{3}[\\dA-Z]{10}\\d{2}", MT: "[A-Z]{4}\\d{5}[\\dA-Z]{18}", MR: "\\d{23}", MU: "[A-Z]{4}\\d{19}[A-Z]{3}", MC: "\\d{10}[\\dA-Z]{11}\\d{2}", MD: "[\\dA-Z]{2}\\d{18}", ME: "\\d{18}", NL: "[A-Z]{4}\\d{10}", NO: "\\d{11}", PK: "[\\dA-Z]{4}\\d{16}", PS: "[\\dA-Z]{4}\\d{21}", PL: "\\d{24}", PT: "\\d{21}", RO: "[A-Z]{4}[\\dA-Z]{16}", SM: "[A-Z]\\d{10}[\\dA-Z]{12}", SA: "\\d{2}[\\dA-Z]{18}", RS: "\\d{18}", SK: "\\d{20}", SI: "\\d{15}", ES: "\\d{20}", SE: "\\d{20}", CH: "\\d{5}[\\dA-Z]{12}", TN: "\\d{20}", TR: "\\d{5}[\\dA-Z]{17}", AE: "\\d{3}\\d{16}", GB: "[A-Z]{4}\\d{14}", VG: "[\\dA-Z]{4}\\d{16}" }[s.substring(0, 2)]) && !new RegExp("^[A-Z]{2}\\d{2}" + o + "$", "").test(s)) return !1; for (n = s.substring(4, s.length) + s.substring(0, 4), a = 0; a < n.length; a++)"0" !== (i = n.charAt(a)) && (l = !1), l || (g += "0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(i)); for (r = 0; r < g.length; r++)c = ("" + c + g.charAt(r)) % 97; return 1 === c }, "Please specify a valid IBAN"), t.validator.addMethod("integer", function (t, e) { return this.optional(e) || /^-?\d+$/.test(t) }, "A positive or negative non-decimal number please"), t.validator.addMethod("ipv4", function (t, e) { return this.optional(e) || /^(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)\.(25[0-5]|2[0-4]\d|[01]?\d\d?)$/i.test(t) }, "Please enter a valid IP v4 address."), t.validator.addMethod("ipv6", function (t, e) { return this.optional(e) || /^((([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}:[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){5}:([0-9A-Fa-f]{1,4}:)?[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){4}:([0-9A-Fa-f]{1,4}:){0,2}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){3}:([0-9A-Fa-f]{1,4}:){0,3}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){2}:([0-9A-Fa-f]{1,4}:){0,4}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){6}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(([0-9A-Fa-f]{1,4}:){0,5}:((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|(::([0-9A-Fa-f]{1,4}:){0,5}((\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b)\.){3}(\b((25[0-5])|(1\d{2})|(2[0-4]\d)|(\d{1,2}))\b))|([0-9A-Fa-f]{1,4}::([0-9A-Fa-f]{1,4}:){0,5}[0-9A-Fa-f]{1,4})|(::([0-9A-Fa-f]{1,4}:){0,6}[0-9A-Fa-f]{1,4})|(([0-9A-Fa-f]{1,4}:){1,7}:))$/i.test(t) }, "Please enter a valid IP v6 address."), t.validator.addMethod("lessThan", function (e, n, i) { var o = t(i); return this.settings.onfocusout && o.not(".validate-lessThan-blur").length && o.addClass("validate-lessThan-blur").on("blur.validate-lessThan", function () { t(n).valid() }), e < o.val() }, "Please enter a lesser value."), t.validator.addMethod("lessThanEqual", function (e, n, i) { var o = t(i); return this.settings.onfocusout && o.not(".validate-lessThanEqual-blur").length && o.addClass("validate-lessThanEqual-blur").on("blur.validate-lessThanEqual", function () { t(n).valid() }), e <= o.val() }, "Please enter a lesser value."), t.validator.addMethod("lettersonly", function (t, e) { return this.optional(e) || /^[a-z]+$/i.test(t) }, "Letters only please"), t.validator.addMethod("letterswithbasicpunc", function (t, e) { return this.optional(e) || /^[a-z\-.,()'"\s]+$/i.test(t) }, "Letters or punctuation only please"), t.validator.addMethod("maxfiles", function (e, n, i) { return !!this.optional(n) || !("file" === t(n).attr("type") && n.files && n.files.length > i) }, t.validator.format("Please select no more than {0} files.")), t.validator.addMethod("maxsize", function (e, n, i) { if (this.optional(n)) return !0; if ("file" === t(n).attr("type") && n.files && n.files.length) for (var o = 0; o < n.files.length; o++)if (n.files[o].size > i) return !1; return !0 }, t.validator.format("File size must not exceed {0} bytes each.")), t.validator.addMethod("maxsizetotal", function (e, n, i) { if (this.optional(n)) return !0; if ("file" === t(n).attr("type") && n.files && n.files.length) for (var o = 0, a = 0; a < n.files.length; a++)if (i < (o += n.files[a].size)) return !1; return !0 }, t.validator.format("Total size of all files must not exceed {0} bytes.")), t.validator.addMethod("mobileNL", function (t, e) { return this.optional(e) || /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)6((\s|\s?\-\s?)?[0-9]){8}$/.test(t) }, "Please specify a valid mobile number"), t.validator.addMethod("mobileRU", function (t, e) { var n = t.replace(/\(|\)|\s+|-/g, ""); return this.optional(e) || 9 < n.length && /^((\+7|7|8)+([0-9]){10})$/.test(n) }, "Please specify a valid mobile number"), t.validator.addMethod("mobileUK", function (t, e) { return t = t.replace(/\(|\)|\s+|-/g, ""), this.optional(e) || 9 < t.length && t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)7(?:[1345789]\d{2}|624)\s?\d{3}\s?\d{3})$/) }, "Please specify a valid mobile number"), t.validator.addMethod("netmask", function (t, e) { return this.optional(e) || /^(254|252|248|240|224|192|128)\.0\.0\.0|255\.(254|252|248|240|224|192|128|0)\.0\.0|255\.255\.(254|252|248|240|224|192|128|0)\.0|255\.255\.255\.(254|252|248|240|224|192|128|0)/i.test(t) }, "Please enter a valid netmask."), t.validator.addMethod("nieES", function (t, e) { "use strict"; if (this.optional(e)) return !0; var n, i = new RegExp(/^[MXYZ]{1}[0-9]{7,8}[TRWAGMYFPDXBNJZSQVHLCKET]{1}$/gi), o = t.substr(t.length - 1).toUpperCase(); return !(10 < (t = t.toString().toUpperCase()).length || t.length < 9 || !i.test(t)) && (n = 9 === (t = t.replace(/^[X]/, "0").replace(/^[Y]/, "1").replace(/^[Z]/, "2")).length ? t.substr(0, 8) : t.substr(0, 9), "TRWAGMYFPDXBNJZSQVHLCKET".charAt(parseInt(n, 10) % 23) === o) }, "Please specify a valid NIE number."), t.validator.addMethod("nifES", function (t, e) { "use strict"; return !!this.optional(e) || !!(t = t.toUpperCase()).match("((^[A-Z]{1}[0-9]{7}[A-Z0-9]{1}$|^[T]{1}[A-Z0-9]{8}$)|^[0-9]{8}[A-Z]{1}$)") && (/^[0-9]{8}[A-Z]{1}$/.test(t) ? "TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8, 0) % 23) === t.charAt(8) : !!/^[KLM]{1}/.test(t) && t[8] === "TRWAGMYFPDXBNJZSQVHLCKE".charAt(t.substring(8, 1) % 23)) }, "Please specify a valid NIF number."), t.validator.addMethod("nipPL", function (t) { "use strict"; if (10 !== (t = t.replace(/[^0-9]/g, "")).length) return !1; for (var e = [6, 5, 7, 2, 3, 4, 5, 6, 7], n = 0, i = 0; i < 9; i++)n += e[i] * t[i]; var o = n % 11; return (10 == o ? 0 : o) === parseInt(t[9], 10) }, "Please specify a valid NIP number."), t.validator.addMethod("nisBR", function (t) { var e, n, i, o, a, r = 0; if (11 !== (t = t.replace(/([~!@#$%^&*()_+=`{}\[\]\-|\\:;'<>,.\/? ])+/g, "")).length) return !1; for (n = parseInt(t.substring(10, 11), 10), e = parseInt(t.substring(0, 10), 10), o = 2; o < 12; o++)10 === (a = o) && (a = 2), 11 === o && (a = 3), r += e % 10 * a, e = parseInt(e / 10, 10); return n === (1 < (i = r % 11) ? 11 - i : 0) }, "Please specify a valid NIS/PIS number"), t.validator.addMethod("notEqualTo", function (e, n, i) { return this.optional(n) || !t.validator.methods.equalTo.call(this, e, n, i) }, "Please enter a different value, values must not be the same."), t.validator.addMethod("nowhitespace", function (t, e) { return this.optional(e) || /^\S+$/i.test(t) }, "No white space please"), t.validator.addMethod("pattern", function (t, e, n) { return !!this.optional(e) || ("string" == typeof n && (n = new RegExp("^(?:" + n + ")$")), n.test(t)) }, "Invalid format."), t.validator.addMethod("phoneNL", function (t, e) { return this.optional(e) || /^((\+|00(\s|\s?\-\s?)?)31(\s|\s?\-\s?)?(\(0\)[\-\s]?)?|0)[1-9]((\s|\s?\-\s?)?[0-9]){8}$/.test(t) }, "Please specify a valid phone number."), t.validator.addMethod("phonePL", function (t, e) { return t = t.replace(/\s+/g, ""), this.optional(e) || /^(?:(?:(?:\+|00)?48)|(?:\(\+?48\)))?(?:1[2-8]|2[2-69]|3[2-49]|4[1-68]|5[0-9]|6[0-35-9]|[7-8][1-9]|9[145])\d{7}$/.test(t) }, "Please specify a valid phone number"), t.validator.addMethod("phonesUK", function (t, e) { return t = t.replace(/\(|\)|\s+|-/g, ""), this.optional(e) || 9 < t.length && t.match(/^(?:(?:(?:00\s?|\+)44\s?|0)(?:1\d{8,9}|[23]\d{9}|7(?:[1345789]\d{8}|624\d{6})))$/) }, "Please specify a valid uk phone number"), t.validator.addMethod("phoneUK", function (t, e) { return t = t.replace(/\(|\)|\s+|-/g, ""), this.optional(e) || 9 < t.length && t.match(/^(?:(?:(?:00\s?|\+)44\s?)|(?:\(?0))(?:\d{2}\)?\s?\d{4}\s?\d{4}|\d{3}\)?\s?\d{3}\s?\d{3,4}|\d{4}\)?\s?(?:\d{5}|\d{3}\s?\d{3})|\d{5}\)?\s?\d{4,5})$/) }, "Please specify a valid phone number"), t.validator.addMethod("phoneUS", function (t, e) { return t = t.replace(/\s+/g, ""), this.optional(e) || 9 < t.length && t.match(/^(\+?1-?)?(\([2-9]([02-9]\d|1[02-9])\)|[2-9]([02-9]\d|1[02-9]))-?[2-9]\d{2}-?\d{4}$/) }, "Please specify a valid phone number"), t.validator.addMethod("postalcodeBR", function (t, e) { return this.optional(e) || /^\d{2}.\d{3}-\d{3}?$|^\d{5}-?\d{3}?$/.test(t) }, "Informe um CEP vÃ¡lido."), t.validator.addMethod("postalCodeCA", function (t, e) { return this.optional(e) || /^[ABCEGHJKLMNPRSTVXY]\d[ABCEGHJKLMNPRSTVWXYZ] *\d[ABCEGHJKLMNPRSTVWXYZ]\d$/i.test(t) }, "Please specify a valid postal code"), t.validator.addMethod("postalcodeIT", function (t, e) { return this.optional(e) || /^\d{5}$/.test(t) }, "Please specify a valid postal code"), t.validator.addMethod("postalcodeNL", function (t, e) { return this.optional(e) || /^[1-9][0-9]{3}\s?[a-zA-Z]{2}$/.test(t) }, "Please specify a valid postal code"), t.validator.addMethod("postcodeUK", function (t, e) { return this.optional(e) || /^((([A-PR-UWYZ][0-9])|([A-PR-UWYZ][0-9][0-9])|([A-PR-UWYZ][A-HK-Y][0-9])|([A-PR-UWYZ][A-HK-Y][0-9][0-9])|([A-PR-UWYZ][0-9][A-HJKSTUW])|([A-PR-UWYZ][A-HK-Y][0-9][ABEHMNPRVWXY]))\s?([0-9][ABD-HJLNP-UW-Z]{2})|(GIR)\s?(0AA))$/i.test(t) }, "Please specify a valid UK postcode"), t.validator.addMethod("require_from_group", function (e, n, i) { var o = t(i[1], n.form), a = o.eq(0), r = a.data("valid_req_grp") ? a.data("valid_req_grp") : t.extend({}, this), s = o.filter(function () { return r.elementValue(this) }).length >= i[0]; return a.data("valid_req_grp", r), t(n).data("being_validated") || (o.data("being_validated", !0), o.each(function () { r.element(this) }), o.data("being_validated", !1)), s }, t.validator.format("Please fill at least {0} of these fields.")), t.validator.addMethod("skip_or_fill_minimum", function (e, n, i) { var o = t(i[1], n.form), a = o.eq(0), r = a.data("valid_skip") ? a.data("valid_skip") : t.extend({}, this), s = o.filter(function () { return r.elementValue(this) }).length, g = 0 === s || s >= i[0]; return a.data("valid_skip", r), t(n).data("being_validated") || (o.data("being_validated", !0), o.each(function () { r.element(this) }), o.data("being_validated", !1)), g }, t.validator.format("Please either skip these fields or fill at least {0} of them.")), t.validator.addMethod("stateUS", function (t, e, n) { var i, o = void 0 === n, a = !o && void 0 !== n.caseSensitive && n.caseSensitive, r = !o && void 0 !== n.includeTerritories && n.includeTerritories, s = !o && void 0 !== n.includeMilitary && n.includeMilitary; return i = r || s ? r && s ? "^(A[AEKLPRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$" : r ? "^(A[KLRSZ]|C[AOT]|D[CE]|FL|G[AU]|HI|I[ADLN]|K[SY]|LA|M[ADEINOPST]|N[CDEHJMVY]|O[HKR]|P[AR]|RI|S[CD]|T[NX]|UT|V[AIT]|W[AIVY])$" : "^(A[AEKLPRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$" : "^(A[KLRZ]|C[AOT]|D[CE]|FL|GA|HI|I[ADLN]|K[SY]|LA|M[ADEINOST]|N[CDEHJMVY]|O[HKR]|PA|RI|S[CD]|T[NX]|UT|V[AT]|W[AIVY])$", i = a ? new RegExp(i) : new RegExp(i, "i"), this.optional(e) || i.test(t) }, "Please specify a valid state"), t.validator.addMethod("strippedminlength", function (e, n, i) { return t(e).text().length >= i }, t.validator.format("Please enter at least {0} characters")), t.validator.addMethod("time", function (t, e) { return this.optional(e) || /^([01]\d|2[0-3]|[0-9])(:[0-5]\d){1,2}$/.test(t) }, "Please enter a valid time, between 00:00 and 23:59"), t.validator.addMethod("time12h", function (t, e) { return this.optional(e) || /^((0?[1-9]|1[012])(:[0-5]\d){1,2}(\ ?[AP]M))$/i.test(t) }, "Please enter a valid time in 12-hour am/pm format"), t.validator.addMethod("url2", function (t, e) { return this.optional(e) || /^(https?|ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)*(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t) }, t.validator.messages.url), t.validator.addMethod("vinUS", function (t) { if (17 !== t.length) return !1; var e, n, i, o, a, r, s = ["A", "B", "C", "D", "E", "F", "G", "H", "J", "K", "L", "M", "N", "P", "R", "S", "T", "U", "V", "W", "X", "Y", "Z"], g = [1, 2, 3, 4, 5, 6, 7, 8, 1, 2, 3, 4, 5, 7, 9, 2, 3, 4, 5, 6, 7, 8, 9], l = [8, 7, 6, 5, 4, 3, 2, 10, 0, 9, 8, 7, 6, 5, 4, 3, 2], c = 0; for (e = 0; e < 17; e++) { if (o = l[e], i = t.slice(e, e + 1), 8 === e && (r = i), isNaN(i)) { for (n = 0; n < s.length; n++)if (i.toUpperCase() === s[n]) { i = g[n], i *= o, isNaN(r) && 8 === n && (r = s[n]); break } } else i *= o; c += i } return 10 == (a = c % 11) && (a = "X"), a === r }, "The specified vehicle identification number (VIN) is invalid."), t.validator.addMethod("zipcodeUS", function (t, e) { return this.optional(e) || /^\d{5}(-\d{4})?$/.test(t) }, "The specified US ZIP Code is invalid"), t.validator.addMethod("ziprange", function (t, e) { return this.optional(e) || /^90[2-5]\d\{2\}-\d{4}$/.test(t) }, "Your ZIP-code must be in the range 902xx-xxxx to 905xx-xxxx"), t }); var valGetParentContainer = function (t) { return t = $(t), 0 < $(t).closest(".form-group-sub").length ? $(t).closest(".form-group-sub") : 0 < $(t).closest(".bootstrap-select").length ? $(t).closest(".bootstrap-select") : $(t).closest(".form-group") }; jQuery.validator.setDefaults({ errorElement: "div", focusInvalid: !1, ignore: "", errorPlacement: function (t, e) { e = $(e); var n = valGetParentContainer(e), i = n.find(".form-text"); 0 === n.find(".valid-feedback, .invalid-feedback").length && (e.addClass("is-invalid"), t.addClass("invalid-feedback"), 0 < i.length ? i.before(t) : 0 < e.closest(".bootstrap-select").length ? e.closest(".bootstrap-select").find(".bs-placeholder").after(t) : 0 < e.closest(".input-group").length ? e.after(t) : e.is(":checkbox") ? e.closest(".vqn-checkbox").find("> span").after(t) : e.after(t)) }, highlight: function (t) { var e = valGetParentContainer(t); e.addClass("validate"), e.addClass("is-invalid"), $(t).removeClass("is-valid") }, unhighlight: function (t) { var e = valGetParentContainer(t); e.removeClass("validate"), e.removeClass("is-invalid"), $(t).removeClass("is-invalid") }, success: function (t, e) { var n = valGetParentContainer(e); n.removeClass("validate"), n.find(".invalid-feedback").remove() } }), jQuery.validator.addMethod("email", function (t, e) { return !!/^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/.test(t) }, "Please enter a valid Email."), ("function" == typeof define && define.amd ? define : function (t, e) { "undefined" != typeof module && module.exports ? module.exports = e(require("jquery")) : window.toastr = e(window.jQuery) })(["jquery"], function (t) { return c = 0, I = { clear: function (i, o) { var r = a(); s || e(r), n(i, r, o) || function (e) { for (var i = s.children(), o = i.length - 1; 0 <= o; o--)n(t(i[o]), e) }(r) }, remove: function (n) { var i = a(); return s || e(i), n && 0 === t(":focus", n).length ? void r(n) : void (s.children().length && s.remove()) }, error: function (t, e, n) { return o({ type: ASd.error, iconClass: a().iconClasses.error, message: t, optionsOverride: n, title: e }) }, getContainer: e, info: function (t, e, n) { return o({ type: ASd.info, iconClass: a().iconClasses.info, message: t, optionsOverride: n, title: e }) }, options: {}, subscribe: function (t) { g = t }, success: function (t, e, n) { return o({ type: ASd.success, iconClass: a().iconClasses.success, message: t, optionsOverride: n, title: e }) }, version: "2.1.4", warning: function (t, e, n) { return o({ type: ASd.warning, iconClass: a().iconClasses.warning, message: t, optionsOverride: n, title: e }) } }; function e(e, n) { return e || (e = a()), (s = t("#" + e.containerId)).length || n && (s = function (e) { return (s = t("<div/>").attr("id", e.containerId).addClass(e.positionClass)).appendTo(t(e.target)), s }(e)), s } function n(e, n, i) { var o = !(!i || !i.force) && i.force; return !(!e || !o && 0 !== t(":focus", e).length || (e[n.hideMethod]({ duration: n.hideDuration, easing: n.hideEasing, complete: function () { r(e) } }), 0)) } function i(t) { g && g(t) } function o(n) { function o(t) { return null == t && (t = ""), t.replace(/&/g, "&amp;").replace(/"/g, "&quot;").replace(/'/g, "&#39;").replace(/</g, "&lt;").replace(/>/g, "&gt;") } function g(e) { var n = e && !1 !== I.closeMethod ? I.closeMethod : I.hideMethod, o = e && !1 !== I.closeDuration ? I.closeDuration : I.hideDuration, a = e && !1 !== I.closeEasing ? I.closeEasing : I.hideEasing; if (!t(":focus", d).length || e) return clearTimeout(f.intervalId), d[n]({ duration: o, easing: a, complete: function () { r(d), clearTimeout(h), I.onHidden && "hidden" !== b.state && I.onHidden(), b.state = "hidden", b.endTime = new Date, i(b) } }) } var I = a(), u = n.iconClass || I.iconClass; if (void 0 !== n.optionsOverride && (I = t.extend(I, n.optionsOverride), u = n.optionsOverride.iconClass || u), !function (t, e) { if (I.preventDuplicates) { if (e.message === l) return !0; l = e.message } return !1 }(0, n)) { c++, s = e(I, !0); var h = null, d = t("<div/>"), C = t("<div/>"), A = t("<div/>"), p = t("<div/>"), m = t(I.closeHtml), f = { intervalId: null, hideEta: null, maxHideTime: null }, b = { toastId: c, state: "visible", startTime: new Date, options: I, map: n }; return n.iconClass && d.addClass(I.toastClass).addClass(u), function () { if (n.title) { var t = n.title; I.escapeHtml && (t = o(n.title)), C.append(t).addClass(I.titleClass), d.append(C) } }(), function () { if (n.message) { var t = n.message; I.escapeHtml && (t = o(n.message)), A.append(t).addClass(I.messageClass), d.append(A) } }(), I.closeButton && (m.addClass(I.closeClass).attr("role", "button"), d.prepend(m)), I.progressBar && (p.addClass(I.progressClass), d.prepend(p)), I.rtl && d.addClass("rtl"), I.newestOnTop ? s.prepend(d) : s.append(d), function () { var t = ""; switch (n.iconClass) { case "toast-success": case "toast-info": t = "polite"; break; default: t = "assertive" }d.attr("aria-live", t) }(), d.hide(), d[I.showMethod]({ duration: I.showDuration, easing: I.showEasing, complete: I.onShown }), 0 < I.timeOut && (h = setTimeout(g, I.timeOut), f.maxHideTime = parseFloat(I.timeOut), f.hideEta = (new Date).getTime() + f.maxHideTime, I.progressBar && (f.intervalId = setInterval(function () { var t = (f.hideEta - (new Date).getTime()) / f.maxHideTime * 100; p.width(t + "%") }, 10))), I.closeOnHover && d.hover(function () { clearTimeout(h), f.hideEta = 0, d.stop(!0, !0)[I.showMethod]({ duration: I.showDuration, easing: I.showEasing }) }, function () { (0 < I.timeOut || 0 < I.extendedTimeOut) && (h = setTimeout(g, I.extendedTimeOut), f.maxHideTime = parseFloat(I.extendedTimeOut), f.hideEta = (new Date).getTime() + f.maxHideTime) }), !I.onclick && I.tapToDismiss && d.click(g), I.closeButton && m && m.click(function (t) { t.stopPropagation ? t.stopPropagation() : void 0 !== t.cancelBubble && !0 !== t.cancelBubble && (t.cancelBubble = !0), I.onCloseClick && I.onCloseClick(t), g(!0) }), I.onclick && d.click(function (t) { I.onclick(t), g() }), i(b), I.debug && console && console.log(b), d } } function a() { return t.extend({}, { tapToDismiss: !0, toastClass: "toast", containerId: "toast-container", debug: !1, showMethod: "fadeIn", showDuration: 300, showEasing: "swing", onShown: void 0, hideMethod: "fadeOut", hideDuration: 1e3, hideEasing: "swing", onHidden: void 0, closeMethod: !1, closeDuration: !1, closeEasing: !1, closeOnHover: !0, extendedTimeOut: 1e3, iconClasses: { error: "toast-error", info: "toast-info", success: "toast-success", warning: "toast-warning" }, iconClass: "toast-info", positionClass: "toast-top-right", timeOut: 5e3, titleClass: "toast-title", messageClass: "toast-message", escapeHtml: !1, target: "body", closeHtml: '<button type="button">&times;</button>', closeClass: "toast-close-button", newestOnTop: !0, preventDuplicates: !1, progressBar: !1, progressClass: "toast-progress", rtl: !1 }, I.options) } function r(t) { s || (s = e()), t.is(":visible") || (t.remove(), t = null, 0 === s.children().length && (s.remove(), l = void 0)) } var s, g, l, c, I }), function (t, e) { "object" == typeof exports && "object" == typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define([], e) : "object" == typeof exports ? exports.Raphael = e() : t.Raphael = e() }(window, function () { return YTd = { "./dev/raphael.amd.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ "./dev/raphael.core.js"), __webpack_require__(/*! ./raphael.svg */ "./dev/raphael.svg.js"), __webpack_require__(/*! ./raphael.vml */ "./dev/raphael.vml.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\n\n    return R;\n\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5hbWQuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwuYW1kLmpzPzM1NjQiXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCIsIFwiLi9yYXBoYWVsLnN2Z1wiLCBcIi4vcmFwaGFlbC52bWxcIl0sIGZ1bmN0aW9uKFIpIHtcblxuICAgIHJldHVybiBSO1xuXG59KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev/raphael.amd.js\n') }, "./dev/raphael.core.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! eve */ "./node_modules/eve-raphael/eve.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(eve) {\n\n    /*\\\n     * Raphael\n     [ method ]\n     **\n     * Creates a canvas object on which to draw.\n     * You must do this first, as all future calls to drawing methods\n     * from this instance will be bound to this canvas.\n     > Parameters\n     **\n     - container (HTMLElement|string) DOM element or its ID which is going to be a parent for drawing surface\n     - width (number)\n     - height (number)\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - x (number)\n     - y (number)\n     - width (number)\n     - height (number)\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - all (array) (first 3 or 4 elements in the array are equal to [containerID, width, height] or [x, y, width, height]. The rest are element descriptions in format {type: type, <attributes>}). See @Paper.add.\n     - callback (function) #optional callback function which is going to be executed in the context of newly created paper\n     * or\n     - onReadyCallback (function) function that is going to be called on DOM ready event. You can also subscribe to this event via Eveâs âDOMLoadâ event. In this case method returns `undefined`.\n     = (object) @Paper\n     > Usage\n     | // Each of the following examples create a canvas\n     | // that is 320px wide by 200px high.\n     | // Canvas is created at the viewportâs 10,50 coordinate.\n     | var paper = Raphael(10, 50, 320, 200);\n     | // Canvas is created at the top left corner of the #notepad element\n     | // (or its top right corner in dir="rtl" elements)\n     | var paper = Raphael(document.getElementById("notepad"), 320, 200);\n     | // Same as above\n     | var paper = Raphael("notepad", 320, 200);\n     | // Image dump\n     | var set = Raphael(["notepad", 320, 200, {\n     |     type: "rect",\n     |     x: 10,\n     |     y: 10,\n     |     width: 25,\n     |     height: 25,\n     |     stroke: "#f00"\n     | }, {\n     |     type: "text",\n     |     x: 30,\n     |     y: 40,\n     |     text: "Dump"\n     | }]);\n    \\*/\n    function R(first) {\n        if (R.is(first, "function")) {\n            return loaded ? first() : eve.on("raphael.DOMload", first);\n        } else if (R.is(first, array)) {\n            return R._engine.create[apply](R, first.splice(0, 3 + R.is(first[0], nu))).add(first);\n        } else {\n            var args = Array.prototype.slice.call(arguments, 0);\n            if (R.is(args[args.length - 1], "function")) {\n                var f = args.pop();\n                return loaded ? f.call(R._engine.create[apply](R, args)) : eve.on("raphael.DOMload", function () {\n                    f.call(R._engine.create[apply](R, args));\n                });\n            } else {\n                return R._engine.create[apply](R, arguments);\n            }\n        }\n    }\n    R.version = "2.2.0";\n    R.eve = eve;\n    var loaded,\n        separator = /[, ]+/,\n        elements = {circle: 1, rect: 1, path: 1, ellipse: 1, text: 1, image: 1},\n        formatrg = /\\{(\\d+)\\}/g,\n        proto = "prototype",\n        has = "hasOwnProperty",\n        g = {\n            doc: document,\n            win: window\n        },\n        oldRaphael = {\n            was: Object.prototype[has].call(g.win, "Raphael"),\n            is: g.win.Raphael\n        },\n        Paper = function () {\n            /*\\\n             * Paper.ca\n             [ property (object) ]\n             **\n             * Shortcut for @Paper.customAttributes\n            \\*/\n            /*\\\n             * Paper.customAttributes\n             [ property (object) ]\n             **\n             * If you have a set of attributes that you would like to represent\n             * as a function of some number you can do it easily with custom attributes:\n             > Usage\n             | paper.customAttributes.hue = function (num) {\n             |     num = num % 1;\n             |     return {fill: "hsb(" + num + ", 0.75, 1)"};\n             | };\n             | // Custom attribute âhueâ will change fill\n             | // to be given hue with fixed saturation and brightness.\n             | // Now you can use it like this:\n             | var c = paper.circle(10, 10, 10).attr({hue: .45});\n             | // or even like this:\n             | c.animate({hue: 1}, 1e3);\n             |\n             | // You could also create custom attribute\n             | // with multiple parameters:\n             | paper.customAttributes.hsb = function (h, s, b) {\n             |     return {fill: "hsb(" + [h, s, b].join(",") + ")"};\n             | };\n             | c.attr({hsb: "0.5 .8 1"});\n             | c.animate({hsb: [1, 0, 0.5]}, 1e3);\n            \\*/\n            this.ca = this.customAttributes = {};\n        },\n        paperproto,\n        appendChild = "appendChild",\n        apply = "apply",\n        concat = "concat",\n        //taken from Modernizr touch test: https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js#L40\n        supportsTouch = (\'ontouchstart\' in window) || window.TouchEvent || window.DocumentTouch && document instanceof DocumentTouch,\n        E = "",\n        S = " ",\n        Str = String,\n        split = "split",\n        events = "click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[split](S),\n        touchMap = {\n            mousedown: "touchstart",\n            mousemove: "touchmove",\n            mouseup: "touchend"\n        },\n        lowerCase = Str.prototype.toLowerCase,\n        math = Math,\n        mmax = math.max,\n        mmin = math.min,\n        abs = math.abs,\n        pow = math.pow,\n        PI = math.PI,\n        nu = "number",\n        string = "string",\n        array = "array",\n        toString = "toString",\n        fillString = "fill",\n        objectToString = Object.prototype.toString,\n        paper = {},\n        push = "push",\n        ISURL = R._ISURL = /^url\\([\'"]?(.+?)[\'"]?\\)$/i,\n        colourRegExp = /^\\s*((#[a-f\\d]{6})|(#[a-f\\d]{3})|rgba?\\(\\s*([\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+%?(?:\\s*,\\s*[\\d\\.]+%?)?)\\s*\\)|hsba?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\)|hsla?\\(\\s*([\\d\\.]+(?:deg|\\xb0|%)?\\s*,\\s*[\\d\\.]+%?\\s*,\\s*[\\d\\.]+(?:%?\\s*,\\s*[\\d\\.]+)?)%?\\s*\\))\\s*$/i,\n        isnan = {"NaN": 1, "Infinity": 1, "-Infinity": 1},\n        bezierrg = /^(?:cubic-)?bezier\\(([^,]+),([^,]+),([^,]+),([^\\)]+)\\)/,\n        round = math.round,\n        setAttribute = "setAttribute",\n        toFloat = parseFloat,\n        toInt = parseInt,\n        upperCase = Str.prototype.toUpperCase,\n        availableAttrs = R._availableAttrs = {\n            "arrow-end": "none",\n            "arrow-start": "none",\n            blur: 0,\n            "clip-rect": "0 0 1e9 1e9",\n            cursor: "default",\n            cx: 0,\n            cy: 0,\n            fill: "#fff",\n            "fill-opacity": 1,\n            font: \'10px "Arial"\',\n            "font-family": \'"Arial"\',\n            "font-size": "10",\n            "font-style": "normal",\n            "font-weight": 400,\n            gradient: 0,\n            height: 0,\n            href: "http://raphaeljs.com/",\n            "letter-spacing": 0,\n            opacity: 1,\n            path: "M0,0",\n            r: 0,\n            rx: 0,\n            ry: 0,\n            src: "",\n            stroke: "#000",\n            "stroke-dasharray": "",\n            "stroke-linecap": "butt",\n            "stroke-linejoin": "butt",\n            "stroke-miterlimit": 0,\n            "stroke-opacity": 1,\n            "stroke-width": 1,\n            target: "_blank",\n            "text-anchor": "middle",\n            title: "Raphael",\n            transform: "",\n            width: 0,\n            x: 0,\n            y: 0,\n            "class": ""\n        },\n        availableAnimAttrs = R._availableAnimAttrs = {\n            blur: nu,\n            "clip-rect": "csv",\n            cx: nu,\n            cy: nu,\n            fill: "colour",\n            "fill-opacity": nu,\n            "font-size": nu,\n            height: nu,\n            opacity: nu,\n            path: "path",\n            r: nu,\n            rx: nu,\n            ry: nu,\n            stroke: "colour",\n            "stroke-opacity": nu,\n            "stroke-width": nu,\n            transform: "transform",\n            width: nu,\n            x: nu,\n            y: nu\n        },\n        whitespace = /[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]/g,\n        commaSpaces = /[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/,\n        hsrg = {hs: 1, rg: 1},\n        p2s = /,?([achlmqrstvxz]),?/gi,\n        pathCommand = /([achlmrqstvz])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,\n        tCommand = /([rstm])[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029,]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*)+)/ig,\n        pathValues = /(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,?[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*/ig,\n        radial_gradient = R._radial_gradient = /^r(?:\\(([^,]+?)[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*,[\\x09\\x0a\\x0b\\x0c\\x0d\\x20\\xa0\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\u2028\\u2029]*([^\\)]+?)\\))?/,\n        eldata = {},\n        sortByKey = function (a, b) {\n            return a.key - b.key;\n        },\n        sortByNumber = function (a, b) {\n            return toFloat(a) - toFloat(b);\n        },\n        fun = function () {},\n        pipe = function (x) {\n            return x;\n        },\n        rectPath = R._rectPath = function (x, y, w, h, r) {\n            if (r) {\n                return [["M", x + r, y], ["l", w - r * 2, 0], ["a", r, r, 0, 0, 1, r, r], ["l", 0, h - r * 2], ["a", r, r, 0, 0, 1, -r, r], ["l", r * 2 - w, 0], ["a", r, r, 0, 0, 1, -r, -r], ["l", 0, r * 2 - h], ["a", r, r, 0, 0, 1, r, -r], ["z"]];\n            }\n            return [["M", x, y], ["l", w, 0], ["l", 0, h], ["l", -w, 0], ["z"]];\n        },\n        ellipsePath = function (x, y, rx, ry) {\n            if (ry == null) {\n                ry = rx;\n            }\n            return [["M", x, y], ["m", 0, -ry], ["a", rx, ry, 0, 1, 1, 0, 2 * ry], ["a", rx, ry, 0, 1, 1, 0, -2 * ry], ["z"]];\n        },\n        getPath = R._getPath = {\n            path: function (el) {\n                return el.attr("path");\n            },\n            circle: function (el) {\n                var a = el.attrs;\n                return ellipsePath(a.cx, a.cy, a.r);\n            },\n            ellipse: function (el) {\n                var a = el.attrs;\n                return ellipsePath(a.cx, a.cy, a.rx, a.ry);\n            },\n            rect: function (el) {\n                var a = el.attrs;\n                return rectPath(a.x, a.y, a.width, a.height, a.r);\n            },\n            image: function (el) {\n                var a = el.attrs;\n                return rectPath(a.x, a.y, a.width, a.height);\n            },\n            text: function (el) {\n                var bbox = el._getBBox();\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n            },\n            set : function(el) {\n                var bbox = el._getBBox();\n                return rectPath(bbox.x, bbox.y, bbox.width, bbox.height);\n            }\n        },\n        /*\\\n         * Raphael.mapPath\n         [ method ]\n         **\n         * Transform the path string with given matrix.\n         > Parameters\n         - path (string) path string\n         - matrix (object) see @Matrix\n         = (string) transformed path string\n        \\*/\n        mapPath = R.mapPath = function (path, matrix) {\n            if (!matrix) {\n                return path;\n            }\n            var x, y, i, j, ii, jj, pathi;\n            path = path2curve(path);\n            for (i = 0, ii = path.length; i < ii; i++) {\n                pathi = path[i];\n                for (j = 1, jj = pathi.length; j < jj; j += 2) {\n                    x = matrix.x(pathi[j], pathi[j + 1]);\n                    y = matrix.y(pathi[j], pathi[j + 1]);\n                    pathi[j] = x;\n                    pathi[j + 1] = y;\n                }\n            }\n            return path;\n        };\n\n    R._g = g;\n    /*\\\n     * Raphael.type\n     [ property (string) ]\n     **\n     * Can be âSVGâ, âVMLâ or empty, depending on browser support.\n    \\*/\n    R.type = (g.win.SVGAngle || g.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure", "1.1") ? "SVG" : "VML");\n    if (R.type == "VML") {\n        var d = g.doc.createElement("div"),\n            b;\n        d.innerHTML = \'<v:shape adj="1"/>\';\n        b = d.firstChild;\n        b.style.behavior = "url(#default#VML)";\n        if (!(b && typeof b.adj == "object")) {\n            return (R.type = E);\n        }\n        d = null;\n    }\n    /*\\\n     * Raphael.svg\n     [ property (boolean) ]\n     **\n     * `true` if browser supports SVG.\n    \\*/\n    /*\\\n     * Raphael.vml\n     [ property (boolean) ]\n     **\n     * `true` if browser supports VML.\n    \\*/\n    R.svg = !(R.vml = R.type == "VML");\n    R._Paper = Paper;\n    /*\\\n     * Raphael.fn\n     [ property (object) ]\n     **\n     * You can add your own method to the canvas. For example if you want to draw a pie chart,\n     * you can create your own pie chart function and ship it as a RaphaÃ«l plugin. To do this\n     * you need to extend the `Raphael.fn` object. You should modify the `fn` object before a\n     * RaphaÃ«l instance is created, otherwise it will take no effect. Please note that the\n     * ability for namespaced plugins was removed in Raphael 2.0. It is up to the plugin to\n     * ensure any namespacing ensures proper context.\n     > Usage\n     | Raphael.fn.arrow = function (x1, y1, x2, y2, size) {\n     |     return this.path( ... );\n     | };\n     | // or create namespace\n     | Raphael.fn.mystuff = {\n     |     arrow: function () {â¦},\n     |     star: function () {â¦},\n     |     // etcâ¦\n     | };\n     | var paper = Raphael(10, 10, 630, 480);\n     | // then use it\n     | paper.arrow(10, 10, 30, 30, 5).attr({fill: "#f00"});\n     | paper.mystuff.arrow();\n     | paper.mystuff.star();\n    \\*/\n    R.fn = paperproto = Paper.prototype = R.prototype;\n    R._id = 0;\n    /*\\\n     * Raphael.is\n     [ method ]\n     **\n     * Handful of replacements for `typeof` operator.\n     > Parameters\n     - o (â¦) any object or primitive\n     - type (string) name of the type, i.e. âstringâ, âfunctionâ, ânumberâ, etc.\n     = (boolean) is given value is of given type\n    \\*/\n    R.is = function (o, type) {\n        type = lowerCase.call(type);\n        if (type == "finite") {\n            return !isnan[has](+o);\n        }\n        if (type == "array") {\n            return o instanceof Array;\n        }\n        return  (type == "null" && o === null) ||\n                (type == typeof o && o !== null) ||\n                (type == "object" && o === Object(o)) ||\n                (type == "array" && Array.isArray && Array.isArray(o)) ||\n                objectToString.call(o).slice(8, -1).toLowerCase() == type;\n    };\n\n    function clone(obj) {\n        if (typeof obj == "function" || Object(obj) !== obj) {\n            return obj;\n        }\n        var res = new obj.constructor;\n        for (var key in obj) if (obj[has](key)) {\n            res[key] = clone(obj[key]);\n        }\n        return res;\n    }\n\n    /*\\\n     * Raphael.angle\n     [ method ]\n     **\n     * Returns angle between two or three points\n     > Parameters\n     - x1 (number) x coord of first point\n     - y1 (number) y coord of first point\n     - x2 (number) x coord of second point\n     - y2 (number) y coord of second point\n     - x3 (number) #optional x coord of third point\n     - y3 (number) #optional y coord of third point\n     = (number) angle in degrees.\n    \\*/\n    R.angle = function (x1, y1, x2, y2, x3, y3) {\n        if (x3 == null) {\n            var x = x1 - x2,\n                y = y1 - y2;\n            if (!x && !y) {\n                return 0;\n            }\n            return (180 + math.atan2(-y, -x) * 180 / PI + 360) % 360;\n        } else {\n            return R.angle(x1, y1, x3, y3) - R.angle(x2, y2, x3, y3);\n        }\n    };\n    /*\\\n     * Raphael.rad\n     [ method ]\n     **\n     * Transform angle to radians\n     > Parameters\n     - deg (number) angle in degrees\n     = (number) angle in radians.\n    \\*/\n    R.rad = function (deg) {\n        return deg % 360 * PI / 180;\n    };\n    /*\\\n     * Raphael.deg\n     [ method ]\n     **\n     * Transform angle to degrees\n     > Parameters\n     - rad (number) angle in radians\n     = (number) angle in degrees.\n    \\*/\n    R.deg = function (rad) {\n        return Math.round ((rad * 180 / PI% 360)* 1000) / 1000;\n    };\n    /*\\\n     * Raphael.snapTo\n     [ method ]\n     **\n     * Snaps given value to given grid.\n     > Parameters\n     - values (array|number) given array of values or step of the grid\n     - value (number) value to adjust\n     - tolerance (number) #optional tolerance for snapping. Default is `10`.\n     = (number) adjusted value.\n    \\*/\n    R.snapTo = function (values, value, tolerance) {\n        tolerance = R.is(tolerance, "finite") ? tolerance : 10;\n        if (R.is(values, array)) {\n            var i = values.length;\n            while (i--) if (abs(values[i] - value) <= tolerance) {\n                return values[i];\n            }\n        } else {\n            values = +values;\n            var rem = value % values;\n            if (rem < tolerance) {\n                return value - rem;\n            }\n            if (rem > values - tolerance) {\n                return value - rem + values;\n            }\n        }\n        return value;\n    };\n\n    /*\\\n     * Raphael.createUUID\n     [ method ]\n     **\n     * Returns RFC4122, version 4 ID\n    \\*/\n    var createUUID = R.createUUID = (function (uuidRegEx, uuidReplacer) {\n        return function () {\n            return "xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(uuidRegEx, uuidReplacer).toUpperCase();\n        };\n    })(/[xy]/g, function (c) {\n        var r = math.random() * 16 | 0,\n            v = c == "x" ? r : (r & 3 | 8);\n        return v.toString(16);\n    });\n\n    /*\\\n     * Raphael.setWindow\n     [ method ]\n     **\n     * Used when you need to draw in `&lt;iframe>`. Switched window to the iframe one.\n     > Parameters\n     - newwin (window) new window object\n    \\*/\n    R.setWindow = function (newwin) {\n        eve("raphael.setWindow", R, g.win, newwin);\n        g.win = newwin;\n        g.doc = g.win.document;\n        if (R._engine.initWin) {\n            R._engine.initWin(g.win);\n        }\n    };\n    var toHex = function (color) {\n        if (R.vml) {\n            // http://dean.edwards.name/weblog/2009/10/convert-any-colour-value-to-hex-in-msie/\n            var trim = /^\\s+|\\s+$/g;\n            var bod;\n            try {\n                var docum = new ActiveXObject("htmlfile");\n                docum.write("<body>");\n                docum.close();\n                bod = docum.body;\n            } catch(e) {\n                bod = createPopup().document.body;\n            }\n            var range = bod.createTextRange();\n            toHex = cacher(function (color) {\n                try {\n                    bod.style.color = Str(color).replace(trim, E);\n                    var value = range.queryCommandValue("ForeColor");\n                    value = ((value & 255) << 16) | (value & 65280) | ((value & 16711680) >>> 16);\n                    return "#" + ("000000" + value.toString(16)).slice(-6);\n                } catch(e) {\n                    return "none";\n                }\n            });\n        } else {\n            var i = g.doc.createElement("i");\n            i.title = "Rapha\\xebl Colour Picker";\n            i.style.display = "none";\n            g.doc.body.appendChild(i);\n            toHex = cacher(function (color) {\n                i.style.color = color;\n                return g.doc.defaultView.getComputedStyle(i, E).getPropertyValue("color");\n            });\n        }\n        return toHex(color);\n    },\n    hsbtoString = function () {\n        return "hsb(" + [this.h, this.s, this.b] + ")";\n    },\n    hsltoString = function () {\n        return "hsl(" + [this.h, this.s, this.l] + ")";\n    },\n    rgbtoString = function () {\n        return this.hex;\n    },\n    prepareRGB = function (r, g, b) {\n        if (g == null && R.is(r, "object") && "r" in r && "g" in r && "b" in r) {\n            b = r.b;\n            g = r.g;\n            r = r.r;\n        }\n        if (g == null && R.is(r, string)) {\n            var clr = R.getRGB(r);\n            r = clr.r;\n            g = clr.g;\n            b = clr.b;\n        }\n        if (r > 1 || g > 1 || b > 1) {\n            r /= 255;\n            g /= 255;\n            b /= 255;\n        }\n\n        return [r, g, b];\n    },\n    packageRGB = function (r, g, b, o) {\n        r *= 255;\n        g *= 255;\n        b *= 255;\n        var rgb = {\n            r: r,\n            g: g,\n            b: b,\n            hex: R.rgb(r, g, b),\n            toString: rgbtoString\n        };\n        R.is(o, "finite") && (rgb.opacity = o);\n        return rgb;\n    };\n\n    /*\\\n     * Raphael.color\n     [ method ]\n     **\n     * Parses the color string and returns object with all values for the given color.\n     > Parameters\n     - clr (string) color string in one of the supported formats (see @Raphael.getRGB)\n     = (object) Combined RGB & HSB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #â¢â¢â¢â¢â¢â¢,\n     o     error (boolean) `true` if string canât be parsed,\n     o     h (number) hue,\n     o     s (number) saturation,\n     o     v (number) value (brightness),\n     o     l (number) lightness\n     o }\n    \\*/\n    R.color = function (clr) {\n        var rgb;\n        if (R.is(clr, "object") && "h" in clr && "s" in clr && "b" in clr) {\n            rgb = R.hsb2rgb(clr);\n            clr.r = rgb.r;\n            clr.g = rgb.g;\n            clr.b = rgb.b;\n            clr.hex = rgb.hex;\n        } else if (R.is(clr, "object") && "h" in clr && "s" in clr && "l" in clr) {\n            rgb = R.hsl2rgb(clr);\n            clr.r = rgb.r;\n            clr.g = rgb.g;\n            clr.b = rgb.b;\n            clr.hex = rgb.hex;\n        } else {\n            if (R.is(clr, "string")) {\n                clr = R.getRGB(clr);\n            }\n            if (R.is(clr, "object") && "r" in clr && "g" in clr && "b" in clr) {\n                rgb = R.rgb2hsl(clr);\n                clr.h = rgb.h;\n                clr.s = rgb.s;\n                clr.l = rgb.l;\n                rgb = R.rgb2hsb(clr);\n                clr.v = rgb.b;\n            } else {\n                clr = {hex: "none"};\n                clr.r = clr.g = clr.b = clr.h = clr.s = clr.v = clr.l = -1;\n            }\n        }\n        clr.toString = rgbtoString;\n        return clr;\n    };\n    /*\\\n     * Raphael.hsb2rgb\n     [ method ]\n     **\n     * Converts HSB values to RGB object.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - v (number) value or brightness\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #â¢â¢â¢â¢â¢â¢\n     o }\n    \\*/\n    R.hsb2rgb = function (h, s, v, o) {\n        if (this.is(h, "object") && "h" in h && "s" in h && "b" in h) {\n            v = h.b;\n            s = h.s;\n            o = h.o;\n            h = h.h;\n        }\n        h *= 360;\n        var R, G, B, X, C;\n        h = (h % 360) / 60;\n        C = v * s;\n        X = C * (1 - abs(h % 2 - 1));\n        R = G = B = v - C;\n\n        h = ~~h;\n        R += [C, X, 0, 0, X, C][h];\n        G += [X, C, C, X, 0, 0][h];\n        B += [0, 0, X, C, C, X][h];\n        return packageRGB(R, G, B, o);\n    };\n    /*\\\n     * Raphael.hsl2rgb\n     [ method ]\n     **\n     * Converts HSL values to RGB object.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - l (number) luminosity\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue,\n     o     hex (string) color in HTML/CSS format: #â¢â¢â¢â¢â¢â¢\n     o }\n    \\*/\n    R.hsl2rgb = function (h, s, l, o) {\n        if (this.is(h, "object") && "h" in h && "s" in h && "l" in h) {\n            l = h.l;\n            s = h.s;\n            h = h.h;\n        }\n        if (h > 1 || s > 1 || l > 1) {\n            h /= 360;\n            s /= 100;\n            l /= 100;\n        }\n        h *= 360;\n        var R, G, B, X, C;\n        h = (h % 360) / 60;\n        C = 2 * s * (l < .5 ? l : 1 - l);\n        X = C * (1 - abs(h % 2 - 1));\n        R = G = B = l - C / 2;\n\n        h = ~~h;\n        R += [C, X, 0, 0, X, C][h];\n        G += [X, C, C, X, 0, 0][h];\n        B += [0, 0, X, C, C, X][h];\n        return packageRGB(R, G, B, o);\n    };\n    /*\\\n     * Raphael.rgb2hsb\n     [ method ]\n     **\n     * Converts RGB values to HSB object.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (object) HSB object in format:\n     o {\n     o     h (number) hue\n     o     s (number) saturation\n     o     b (number) brightness\n     o }\n    \\*/\n    R.rgb2hsb = function (r, g, b) {\n        b = prepareRGB(r, g, b);\n        r = b[0];\n        g = b[1];\n        b = b[2];\n\n        var H, S, V, C;\n        V = mmax(r, g, b);\n        C = V - mmin(r, g, b);\n        H = (C == 0 ? null :\n             V == r ? (g - b) / C :\n             V == g ? (b - r) / C + 2 :\n                      (r - g) / C + 4\n            );\n        H = ((H + 360) % 6) * 60 / 360;\n        S = C == 0 ? 0 : C / V;\n        return {h: H, s: S, b: V, toString: hsbtoString};\n    };\n    /*\\\n     * Raphael.rgb2hsl\n     [ method ]\n     **\n     * Converts RGB values to HSL object.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (object) HSL object in format:\n     o {\n     o     h (number) hue\n     o     s (number) saturation\n     o     l (number) luminosity\n     o }\n    \\*/\n    R.rgb2hsl = function (r, g, b) {\n        b = prepareRGB(r, g, b);\n        r = b[0];\n        g = b[1];\n        b = b[2];\n\n        var H, S, L, M, m, C;\n        M = mmax(r, g, b);\n        m = mmin(r, g, b);\n        C = M - m;\n        H = (C == 0 ? null :\n             M == r ? (g - b) / C :\n             M == g ? (b - r) / C + 2 :\n                      (r - g) / C + 4);\n        H = ((H + 360) % 6) * 60 / 360;\n        L = (M + m) / 2;\n        S = (C == 0 ? 0 :\n             L < .5 ? C / (2 * L) :\n                      C / (2 - 2 * L));\n        return {h: H, s: S, l: L, toString: hsltoString};\n    };\n    R._path2string = function () {\n        return this.join(",").replace(p2s, "$1");\n    };\n    function repush(array, item) {\n        for (var i = 0, ii = array.length; i < ii; i++) if (array[i] === item) {\n            return array.push(array.splice(i, 1)[0]);\n        }\n    }\n    function cacher(f, scope, postprocessor) {\n        function newf() {\n            var arg = Array.prototype.slice.call(arguments, 0),\n                args = arg.join("\\u2400"),\n                cache = newf.cache = newf.cache || {},\n                count = newf.count = newf.count || [];\n            if (cache[has](args)) {\n                repush(count, args);\n                return postprocessor ? postprocessor(cache[args]) : cache[args];\n            }\n            count.length >= 1e3 && delete cache[count.shift()];\n            count.push(args);\n            cache[args] = f[apply](scope, arg);\n            return postprocessor ? postprocessor(cache[args]) : cache[args];\n        }\n        return newf;\n    }\n\n    var preload = R._preload = function (src, f) {\n        var img = g.doc.createElement("img");\n        img.style.cssText = "position:absolute;left:-9999em;top:-9999em";\n        img.onload = function () {\n            f.call(this);\n            this.onload = null;\n            g.doc.body.removeChild(this);\n        };\n        img.onerror = function () {\n            g.doc.body.removeChild(this);\n        };\n        g.doc.body.appendChild(img);\n        img.src = src;\n    };\n\n    function clrToString() {\n        return this.hex;\n    }\n\n    /*\\\n     * Raphael.getRGB\n     [ method ]\n     **\n     * Parses colour string as RGB object\n     > Parameters\n     - colour (string) colour string in one of formats:\n     # <ul>\n     #     <li>Colour name (â<code>red</code>â, â<code>green</code>â, â<code>cornflowerblue</code>â, etc)</li>\n     #     <li>#â¢â¢â¢ â shortened HTML colour: (â<code>#000</code>â, â<code>#fc0</code>â, etc)</li>\n     #     <li>#â¢â¢â¢â¢â¢â¢ â full length HTML colour: (â<code>#000000</code>â, â<code>#bd2300</code>â)</li>\n     #     <li>rgb(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â red, green and blue channelsâ values: (â<code>rgb(200,&nbsp;100,&nbsp;0)</code>â)</li>\n     #     <li>rgb(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %: (â<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>â)</li>\n     #     <li>hsb(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â hue, saturation and brightness values: (â<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>â)</li>\n     #     <li>hsb(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %</li>\n     #     <li>hsl(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â same as hsb</li>\n     #     <li>hsl(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as hsb</li>\n     # </ul>\n     = (object) RGB object in format:\n     o {\n     o     r (number) red,\n     o     g (number) green,\n     o     b (number) blue\n     o     hex (string) color in HTML/CSS format: #â¢â¢â¢â¢â¢â¢,\n     o     error (boolean) true if string canât be parsed\n     o }\n    \\*/\n    R.getRGB = cacher(function (colour) {\n        if (!colour || !!((colour = Str(colour)).indexOf("-") + 1)) {\n            return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: clrToString};\n        }\n        if (colour == "none") {\n            return {r: -1, g: -1, b: -1, hex: "none", toString: clrToString};\n        }\n        !(hsrg[has](colour.toLowerCase().substring(0, 2)) || colour.charAt() == "#") && (colour = toHex(colour));\n        var res,\n            red,\n            green,\n            blue,\n            opacity,\n            t,\n            values,\n            rgb = colour.match(colourRegExp);\n        if (rgb) {\n            if (rgb[2]) {\n                blue = toInt(rgb[2].substring(5), 16);\n                green = toInt(rgb[2].substring(3, 5), 16);\n                red = toInt(rgb[2].substring(1, 3), 16);\n            }\n            if (rgb[3]) {\n                blue = toInt((t = rgb[3].charAt(3)) + t, 16);\n                green = toInt((t = rgb[3].charAt(2)) + t, 16);\n                red = toInt((t = rgb[3].charAt(1)) + t, 16);\n            }\n            if (rgb[4]) {\n                values = rgb[4][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == "%" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == "%" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == "%" && (blue *= 2.55);\n                rgb[1].toLowerCase().slice(0, 4) == "rgba" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n            }\n            if (rgb[5]) {\n                values = rgb[5][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == "%" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == "%" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == "%" && (blue *= 2.55);\n                (values[0].slice(-3) == "deg" || values[0].slice(-1) == "\\xb0") && (red /= 360);\n                rgb[1].toLowerCase().slice(0, 4) == "hsba" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n                return R.hsb2rgb(red, green, blue, opacity);\n            }\n            if (rgb[6]) {\n                values = rgb[6][split](commaSpaces);\n                red = toFloat(values[0]);\n                values[0].slice(-1) == "%" && (red *= 2.55);\n                green = toFloat(values[1]);\n                values[1].slice(-1) == "%" && (green *= 2.55);\n                blue = toFloat(values[2]);\n                values[2].slice(-1) == "%" && (blue *= 2.55);\n                (values[0].slice(-3) == "deg" || values[0].slice(-1) == "\\xb0") && (red /= 360);\n                rgb[1].toLowerCase().slice(0, 4) == "hsla" && (opacity = toFloat(values[3]));\n                values[3] && values[3].slice(-1) == "%" && (opacity /= 100);\n                return R.hsl2rgb(red, green, blue, opacity);\n            }\n            rgb = {r: red, g: green, b: blue, toString: clrToString};\n            rgb.hex = "#" + (16777216 | blue | (green << 8) | (red << 16)).toString(16).slice(1);\n            R.is(opacity, "finite") && (rgb.opacity = opacity);\n            return rgb;\n        }\n        return {r: -1, g: -1, b: -1, hex: "none", error: 1, toString: clrToString};\n    }, R);\n    /*\\\n     * Raphael.hsb\n     [ method ]\n     **\n     * Converts HSB values to hex representation of the colour.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - b (number) value or brightness\n     = (string) hex representation of the colour.\n    \\*/\n    R.hsb = cacher(function (h, s, b) {\n        return R.hsb2rgb(h, s, b).hex;\n    });\n    /*\\\n     * Raphael.hsl\n     [ method ]\n     **\n     * Converts HSL values to hex representation of the colour.\n     > Parameters\n     - h (number) hue\n     - s (number) saturation\n     - l (number) luminosity\n     = (string) hex representation of the colour.\n    \\*/\n    R.hsl = cacher(function (h, s, l) {\n        return R.hsl2rgb(h, s, l).hex;\n    });\n    /*\\\n     * Raphael.rgb\n     [ method ]\n     **\n     * Converts RGB values to hex representation of the colour.\n     > Parameters\n     - r (number) red\n     - g (number) green\n     - b (number) blue\n     = (string) hex representation of the colour.\n    \\*/\n    R.rgb = cacher(function (r, g, b) {\n        function round(x) { return (x + 0.5) | 0; }\n        return "#" + (16777216 | round(b) | (round(g) << 8) | (round(r) << 16)).toString(16).slice(1);\n    });\n    /*\\\n     * Raphael.getColor\n     [ method ]\n     **\n     * On each call returns next colour in the spectrum. To reset it back to red call @Raphael.getColor.reset\n     > Parameters\n     - value (number) #optional brightness, default is `0.75`\n     = (string) hex representation of the colour.\n    \\*/\n    R.getColor = function (value) {\n        var start = this.getColor.start = this.getColor.start || {h: 0, s: 1, b: value || .75},\n            rgb = this.hsb2rgb(start.h, start.s, start.b);\n        start.h += .075;\n        if (start.h > 1) {\n            start.h = 0;\n            start.s -= .2;\n            start.s <= 0 && (this.getColor.start = {h: 0, s: 1, b: start.b});\n        }\n        return rgb.hex;\n    };\n    /*\\\n     * Raphael.getColor.reset\n     [ method ]\n     **\n     * Resets spectrum position for @Raphael.getColor back to red.\n    \\*/\n    R.getColor.reset = function () {\n        delete this.start;\n    };\n\n    // http://schepers.cc/getting-to-the-point\n    function catmullRom2bezier(crp, z) {\n        var d = [];\n        for (var i = 0, iLen = crp.length; iLen - 2 * !z > i; i += 2) {\n            var p = [\n                        {x: +crp[i - 2], y: +crp[i - 1]},\n                        {x: +crp[i],     y: +crp[i + 1]},\n                        {x: +crp[i + 2], y: +crp[i + 3]},\n                        {x: +crp[i + 4], y: +crp[i + 5]}\n                    ];\n            if (z) {\n                if (!i) {\n                    p[0] = {x: +crp[iLen - 2], y: +crp[iLen - 1]};\n                } else if (iLen - 4 == i) {\n                    p[3] = {x: +crp[0], y: +crp[1]};\n                } else if (iLen - 2 == i) {\n                    p[2] = {x: +crp[0], y: +crp[1]};\n                    p[3] = {x: +crp[2], y: +crp[3]};\n                }\n            } else {\n                if (iLen - 4 == i) {\n                    p[3] = p[2];\n                } else if (!i) {\n                    p[0] = {x: +crp[i], y: +crp[i + 1]};\n                }\n            }\n            d.push(["C",\n                  (-p[0].x + 6 * p[1].x + p[2].x) / 6,\n                  (-p[0].y + 6 * p[1].y + p[2].y) / 6,\n                  (p[1].x + 6 * p[2].x - p[3].x) / 6,\n                  (p[1].y + 6*p[2].y - p[3].y) / 6,\n                  p[2].x,\n                  p[2].y\n            ]);\n        }\n\n        return d;\n    }\n    /*\\\n     * Raphael.parsePathString\n     [ method ]\n     **\n     * Utility method\n     **\n     * Parses given path string into an array of arrays of path segments.\n     > Parameters\n     - pathString (string|array) path string or array of segments (in the last case it will be returned straight away)\n     = (array) array of segments.\n    \\*/\n    R.parsePathString = function (pathString) {\n        if (!pathString) {\n            return null;\n        }\n        var pth = paths(pathString);\n        if (pth.arr) {\n            return pathClone(pth.arr);\n        }\n\n        var paramCounts = {a: 7, c: 6, h: 1, l: 2, m: 2, r: 4, q: 4, s: 4, t: 2, v: 1, z: 0},\n            data = [];\n        if (R.is(pathString, array) && R.is(pathString[0], array)) { // rough assumption\n            data = pathClone(pathString);\n        }\n        if (!data.length) {\n            Str(pathString).replace(pathCommand, function (a, b, c) {\n                var params = [],\n                    name = b.toLowerCase();\n                c.replace(pathValues, function (a, b) {\n                    b && params.push(+b);\n                });\n                if (name == "m" && params.length > 2) {\n                    data.push([b][concat](params.splice(0, 2)));\n                    name = "l";\n                    b = b == "m" ? "l" : "L";\n                }\n                if (name == "r") {\n                    data.push([b][concat](params));\n                } else while (params.length >= paramCounts[name]) {\n                    data.push([b][concat](params.splice(0, paramCounts[name])));\n                    if (!paramCounts[name]) {\n                        break;\n                    }\n                }\n            });\n        }\n        data.toString = R._path2string;\n        pth.arr = pathClone(data);\n        return data;\n    };\n    /*\\\n     * Raphael.parseTransformString\n     [ method ]\n     **\n     * Utility method\n     **\n     * Parses given path string into an array of transformations.\n     > Parameters\n     - TString (string|array) transform string or array of transformations (in the last case it will be returned straight away)\n     = (array) array of transformations.\n    \\*/\n    R.parseTransformString = cacher(function (TString) {\n        if (!TString) {\n            return null;\n        }\n        var paramCounts = {r: 3, s: 4, t: 2, m: 6},\n            data = [];\n        if (R.is(TString, array) && R.is(TString[0], array)) { // rough assumption\n            data = pathClone(TString);\n        }\n        if (!data.length) {\n            Str(TString).replace(tCommand, function (a, b, c) {\n                var params = [],\n                    name = lowerCase.call(b);\n                c.replace(pathValues, function (a, b) {\n                    b && params.push(+b);\n                });\n                data.push([b][concat](params));\n            });\n        }\n        data.toString = R._path2string;\n        return data;\n    }, this, function(elem) {\n        if (!elem) return elem;\n        var newData = [];\n        for (var i = 0; i < elem.length; i++) {\n            var newLevel = [];\n            for (var j = 0; j < elem[i].length; j++) {\n                newLevel.push(elem[i][j]);\n            }\n            newData.push(newLevel);\n        }\n      return newData; } );\n    // PATHS\n    var paths = function (ps) {\n        var p = paths.ps = paths.ps || {};\n        if (p[ps]) {\n            p[ps].sleep = 100;\n        } else {\n            p[ps] = {\n                sleep: 100\n            };\n        }\n        setTimeout(function () {\n            for (var key in p) if (p[has](key) && key != ps) {\n                p[key].sleep--;\n                !p[key].sleep && delete p[key];\n            }\n        });\n        return p[ps];\n    };\n    /*\\\n     * Raphael.findDotsAtSegment\n     [ method ]\n     **\n     * Utility method\n     **\n     * Find dot coordinates on the given cubic bezier curve at the given t.\n     > Parameters\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     - t (number) position on the curve (0..1)\n     = (object) point information in format:\n     o {\n     o     x: (number) x coordinate of the point\n     o     y: (number) y coordinate of the point\n     o     m: {\n     o         x: (number) x coordinate of the left anchor\n     o         y: (number) y coordinate of the left anchor\n     o     }\n     o     n: {\n     o         x: (number) x coordinate of the right anchor\n     o         y: (number) y coordinate of the right anchor\n     o     }\n     o     start: {\n     o         x: (number) x coordinate of the start of the curve\n     o         y: (number) y coordinate of the start of the curve\n     o     }\n     o     end: {\n     o         x: (number) x coordinate of the end of the curve\n     o         y: (number) y coordinate of the end of the curve\n     o     }\n     o     alpha: (number) angle of the curve derivative at the point\n     o }\n    \\*/\n    R.findDotsAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n        var t1 = 1 - t,\n            t13 = pow(t1, 3),\n            t12 = pow(t1, 2),\n            t2 = t * t,\n            t3 = t2 * t,\n            x = t13 * p1x + t12 * 3 * t * c1x + t1 * 3 * t * t * c2x + t3 * p2x,\n            y = t13 * p1y + t12 * 3 * t * c1y + t1 * 3 * t * t * c2y + t3 * p2y,\n            mx = p1x + 2 * t * (c1x - p1x) + t2 * (c2x - 2 * c1x + p1x),\n            my = p1y + 2 * t * (c1y - p1y) + t2 * (c2y - 2 * c1y + p1y),\n            nx = c1x + 2 * t * (c2x - c1x) + t2 * (p2x - 2 * c2x + c1x),\n            ny = c1y + 2 * t * (c2y - c1y) + t2 * (p2y - 2 * c2y + c1y),\n            ax = t1 * p1x + t * c1x,\n            ay = t1 * p1y + t * c1y,\n            cx = t1 * c2x + t * p2x,\n            cy = t1 * c2y + t * p2y,\n            alpha = (90 - math.atan2(mx - nx, my - ny) * 180 / PI);\n        (mx > nx || my < ny) && (alpha += 180);\n        return {\n            x: x,\n            y: y,\n            m: {x: mx, y: my},\n            n: {x: nx, y: ny},\n            start: {x: ax, y: ay},\n            end: {x: cx, y: cy},\n            alpha: alpha\n        };\n    };\n    /*\\\n     * Raphael.bezierBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Return bounding box of a given cubic bezier curve\n     > Parameters\n     - p1x (number) x of the first point of the curve\n     - p1y (number) y of the first point of the curve\n     - c1x (number) x of the first anchor of the curve\n     - c1y (number) y of the first anchor of the curve\n     - c2x (number) x of the second anchor of the curve\n     - c2y (number) y of the second anchor of the curve\n     - p2x (number) x of the second point of the curve\n     - p2y (number) y of the second point of the curve\n     * or\n     - bez (array) array of six points for bezier curve\n     = (object) point information in format:\n     o {\n     o     min: {\n     o         x: (number) x coordinate of the left point\n     o         y: (number) y coordinate of the top point\n     o     }\n     o     max: {\n     o         x: (number) x coordinate of the right point\n     o         y: (number) y coordinate of the bottom point\n     o     }\n     o }\n    \\*/\n    R.bezierBBox = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n        if (!R.is(p1x, "array")) {\n            p1x = [p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y];\n        }\n        var bbox = curveDim.apply(null, p1x);\n        return {\n            x: bbox.min.x,\n            y: bbox.min.y,\n            x2: bbox.max.x,\n            y2: bbox.max.y,\n            width: bbox.max.x - bbox.min.x,\n            height: bbox.max.y - bbox.min.y\n        };\n    };\n    /*\\\n     * Raphael.isPointInsideBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside bounding boxes.\n     > Parameters\n     - bbox (string) bounding box\n     - x (string) x coordinate of the point\n     - y (string) y coordinate of the point\n     = (boolean) `true` if point inside\n    \\*/\n    R.isPointInsideBBox = function (bbox, x, y) {\n        return x >= bbox.x && x <= bbox.x2 && y >= bbox.y && y <= bbox.y2;\n    };\n    /*\\\n     * Raphael.isBBoxIntersect\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if two bounding boxes intersect\n     > Parameters\n     - bbox1 (string) first bounding box\n     - bbox2 (string) second bounding box\n     = (boolean) `true` if they intersect\n    \\*/\n    R.isBBoxIntersect = function (bbox1, bbox2) {\n        var i = R.isPointInsideBBox;\n        return i(bbox2, bbox1.x, bbox1.y)\n            || i(bbox2, bbox1.x2, bbox1.y)\n            || i(bbox2, bbox1.x, bbox1.y2)\n            || i(bbox2, bbox1.x2, bbox1.y2)\n            || i(bbox1, bbox2.x, bbox2.y)\n            || i(bbox1, bbox2.x2, bbox2.y)\n            || i(bbox1, bbox2.x, bbox2.y2)\n            || i(bbox1, bbox2.x2, bbox2.y2)\n            || (bbox1.x < bbox2.x2 && bbox1.x > bbox2.x || bbox2.x < bbox1.x2 && bbox2.x > bbox1.x)\n            && (bbox1.y < bbox2.y2 && bbox1.y > bbox2.y || bbox2.y < bbox1.y2 && bbox2.y > bbox1.y);\n    };\n    function base3(t, p1, p2, p3, p4) {\n        var t1 = -3 * p1 + 9 * p2 - 9 * p3 + 3 * p4,\n            t2 = t * t1 + 6 * p1 - 12 * p2 + 6 * p3;\n        return t * t2 - 3 * p1 + 3 * p2;\n    }\n    function bezlen(x1, y1, x2, y2, x3, y3, x4, y4, z) {\n        if (z == null) {\n            z = 1;\n        }\n        z = z > 1 ? 1 : z < 0 ? 0 : z;\n        var z2 = z / 2,\n            n = 12,\n            Tvalues = [-0.1252,0.1252,-0.3678,0.3678,-0.5873,0.5873,-0.7699,0.7699,-0.9041,0.9041,-0.9816,0.9816],\n            Cvalues = [0.2491,0.2491,0.2335,0.2335,0.2032,0.2032,0.1601,0.1601,0.1069,0.1069,0.0472,0.0472],\n            sum = 0;\n        for (var i = 0; i < n; i++) {\n            var ct = z2 * Tvalues[i] + z2,\n                xbase = base3(ct, x1, x2, x3, x4),\n                ybase = base3(ct, y1, y2, y3, y4),\n                comb = xbase * xbase + ybase * ybase;\n            sum += Cvalues[i] * math.sqrt(comb);\n        }\n        return z2 * sum;\n    }\n    function getTatLen(x1, y1, x2, y2, x3, y3, x4, y4, ll) {\n        if (ll < 0 || bezlen(x1, y1, x2, y2, x3, y3, x4, y4) < ll) {\n            return;\n        }\n        var t = 1,\n            step = t / 2,\n            t2 = t - step,\n            l,\n            e = .01;\n        l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        while (abs(l - ll) > e) {\n            step /= 2;\n            t2 += (l < ll ? 1 : -1) * step;\n            l = bezlen(x1, y1, x2, y2, x3, y3, x4, y4, t2);\n        }\n        return t2;\n    }\n    function intersect(x1, y1, x2, y2, x3, y3, x4, y4) {\n        if (\n            mmax(x1, x2) < mmin(x3, x4) ||\n            mmin(x1, x2) > mmax(x3, x4) ||\n            mmax(y1, y2) < mmin(y3, y4) ||\n            mmin(y1, y2) > mmax(y3, y4)\n        ) {\n            return;\n        }\n        var nx = (x1 * y2 - y1 * x2) * (x3 - x4) - (x1 - x2) * (x3 * y4 - y3 * x4),\n            ny = (x1 * y2 - y1 * x2) * (y3 - y4) - (y1 - y2) * (x3 * y4 - y3 * x4),\n            denominator = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);\n\n        if (!denominator) {\n            return;\n        }\n        var px = nx / denominator,\n            py = ny / denominator,\n            px2 = +px.toFixed(2),\n            py2 = +py.toFixed(2);\n        if (\n            px2 < +mmin(x1, x2).toFixed(2) ||\n            px2 > +mmax(x1, x2).toFixed(2) ||\n            px2 < +mmin(x3, x4).toFixed(2) ||\n            px2 > +mmax(x3, x4).toFixed(2) ||\n            py2 < +mmin(y1, y2).toFixed(2) ||\n            py2 > +mmax(y1, y2).toFixed(2) ||\n            py2 < +mmin(y3, y4).toFixed(2) ||\n            py2 > +mmax(y3, y4).toFixed(2)\n        ) {\n            return;\n        }\n        return {x: px, y: py};\n    }\n    function inter(bez1, bez2) {\n        return interHelper(bez1, bez2);\n    }\n    function interCount(bez1, bez2) {\n        return interHelper(bez1, bez2, 1);\n    }\n    function interHelper(bez1, bez2, justCount) {\n        var bbox1 = R.bezierBBox(bez1),\n            bbox2 = R.bezierBBox(bez2);\n        if (!R.isBBoxIntersect(bbox1, bbox2)) {\n            return justCount ? 0 : [];\n        }\n        var l1 = bezlen.apply(0, bez1),\n            l2 = bezlen.apply(0, bez2),\n            n1 = mmax(~~(l1 / 5), 1),\n            n2 = mmax(~~(l2 / 5), 1),\n            dots1 = [],\n            dots2 = [],\n            xy = {},\n            res = justCount ? 0 : [];\n        for (var i = 0; i < n1 + 1; i++) {\n            var p = R.findDotsAtSegment.apply(R, bez1.concat(i / n1));\n            dots1.push({x: p.x, y: p.y, t: i / n1});\n        }\n        for (i = 0; i < n2 + 1; i++) {\n            p = R.findDotsAtSegment.apply(R, bez2.concat(i / n2));\n            dots2.push({x: p.x, y: p.y, t: i / n2});\n        }\n        for (i = 0; i < n1; i++) {\n            for (var j = 0; j < n2; j++) {\n                var di = dots1[i],\n                    di1 = dots1[i + 1],\n                    dj = dots2[j],\n                    dj1 = dots2[j + 1],\n                    ci = abs(di1.x - di.x) < .001 ? "y" : "x",\n                    cj = abs(dj1.x - dj.x) < .001 ? "y" : "x",\n                    is = intersect(di.x, di.y, di1.x, di1.y, dj.x, dj.y, dj1.x, dj1.y);\n                if (is) {\n                    if (xy[is.x.toFixed(4)] == is.y.toFixed(4)) {\n                        continue;\n                    }\n                    xy[is.x.toFixed(4)] = is.y.toFixed(4);\n                    var t1 = di.t + abs((is[ci] - di[ci]) / (di1[ci] - di[ci])) * (di1.t - di.t),\n                        t2 = dj.t + abs((is[cj] - dj[cj]) / (dj1[cj] - dj[cj])) * (dj1.t - dj.t);\n                    if (t1 >= 0 && t1 <= 1.001 && t2 >= 0 && t2 <= 1.001) {\n                        if (justCount) {\n                            res++;\n                        } else {\n                            res.push({\n                                x: is.x,\n                                y: is.y,\n                                t1: mmin(t1, 1),\n                                t2: mmin(t2, 1)\n                            });\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    /*\\\n     * Raphael.pathIntersection\n     [ method ]\n     **\n     * Utility method\n     **\n     * Finds intersections of two paths\n     > Parameters\n     - path1 (string) path string\n     - path2 (string) path string\n     = (array) dots of intersection\n     o [\n     o     {\n     o         x: (number) x coordinate of the point\n     o         y: (number) y coordinate of the point\n     o         t1: (number) t value for segment of path1\n     o         t2: (number) t value for segment of path2\n     o         segment1: (number) order number for segment of path1\n     o         segment2: (number) order number for segment of path2\n     o         bez1: (array) eight coordinates representing beziÃ©r curve for the segment of path1\n     o         bez2: (array) eight coordinates representing beziÃ©r curve for the segment of path2\n     o     }\n     o ]\n    \\*/\n    R.pathIntersection = function (path1, path2) {\n        return interPathHelper(path1, path2);\n    };\n    R.pathIntersectionNumber = function (path1, path2) {\n        return interPathHelper(path1, path2, 1);\n    };\n    function interPathHelper(path1, path2, justCount) {\n        path1 = R._path2curve(path1);\n        path2 = R._path2curve(path2);\n        var x1, y1, x2, y2, x1m, y1m, x2m, y2m, bez1, bez2,\n            res = justCount ? 0 : [];\n        for (var i = 0, ii = path1.length; i < ii; i++) {\n            var pi = path1[i];\n            if (pi[0] == "M") {\n                x1 = x1m = pi[1];\n                y1 = y1m = pi[2];\n            } else {\n                if (pi[0] == "C") {\n                    bez1 = [x1, y1].concat(pi.slice(1));\n                    x1 = bez1[6];\n                    y1 = bez1[7];\n                } else {\n                    bez1 = [x1, y1, x1, y1, x1m, y1m, x1m, y1m];\n                    x1 = x1m;\n                    y1 = y1m;\n                }\n                for (var j = 0, jj = path2.length; j < jj; j++) {\n                    var pj = path2[j];\n                    if (pj[0] == "M") {\n                        x2 = x2m = pj[1];\n                        y2 = y2m = pj[2];\n                    } else {\n                        if (pj[0] == "C") {\n                            bez2 = [x2, y2].concat(pj.slice(1));\n                            x2 = bez2[6];\n                            y2 = bez2[7];\n                        } else {\n                            bez2 = [x2, y2, x2, y2, x2m, y2m, x2m, y2m];\n                            x2 = x2m;\n                            y2 = y2m;\n                        }\n                        var intr = interHelper(bez1, bez2, justCount);\n                        if (justCount) {\n                            res += intr;\n                        } else {\n                            for (var k = 0, kk = intr.length; k < kk; k++) {\n                                intr[k].segment1 = i;\n                                intr[k].segment2 = j;\n                                intr[k].bez1 = bez1;\n                                intr[k].bez2 = bez2;\n                            }\n                            res = res.concat(intr);\n                        }\n                    }\n                }\n            }\n        }\n        return res;\n    }\n    /*\\\n     * Raphael.isPointInsidePath\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns `true` if given point is inside a given closed path.\n     > Parameters\n     - path (string) path string\n     - x (number) x of the point\n     - y (number) y of the point\n     = (boolean) true, if point is inside the path\n    \\*/\n    R.isPointInsidePath = function (path, x, y) {\n        var bbox = R.pathBBox(path);\n        return R.isPointInsideBBox(bbox, x, y) &&\n               interPathHelper(path, [["M", x, y], ["H", bbox.x2 + 10]], 1) % 2 == 1;\n    };\n    R._removedFactory = function (methodname) {\n        return function () {\n            eve("raphael.log", null, "Rapha\\xebl: you are calling to method \\u201c" + methodname + "\\u201d of removed object", methodname);\n        };\n    };\n    /*\\\n     * Raphael.pathBBox\n     [ method ]\n     **\n     * Utility method\n     **\n     * Return bounding box of a given path\n     > Parameters\n     - path (string) path string\n     = (object) bounding box\n     o {\n     o     x: (number) x coordinate of the left top point of the box\n     o     y: (number) y coordinate of the left top point of the box\n     o     x2: (number) x coordinate of the right bottom point of the box\n     o     y2: (number) y coordinate of the right bottom point of the box\n     o     width: (number) width of the box\n     o     height: (number) height of the box\n     o     cx: (number) x coordinate of the center of the box\n     o     cy: (number) y coordinate of the center of the box\n     o }\n    \\*/\n    var pathDimensions = R.pathBBox = function (path) {\n        var pth = paths(path);\n        if (pth.bbox) {\n            return clone(pth.bbox);\n        }\n        if (!path) {\n            return {x: 0, y: 0, width: 0, height: 0, x2: 0, y2: 0};\n        }\n        path = path2curve(path);\n        var x = 0,\n            y = 0,\n            X = [],\n            Y = [],\n            p;\n        for (var i = 0, ii = path.length; i < ii; i++) {\n            p = path[i];\n            if (p[0] == "M") {\n                x = p[1];\n                y = p[2];\n                X.push(x);\n                Y.push(y);\n            } else {\n                var dim = curveDim(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                X = X[concat](dim.min.x, dim.max.x);\n                Y = Y[concat](dim.min.y, dim.max.y);\n                x = p[5];\n                y = p[6];\n            }\n        }\n        var xmin = mmin[apply](0, X),\n            ymin = mmin[apply](0, Y),\n            xmax = mmax[apply](0, X),\n            ymax = mmax[apply](0, Y),\n            width = xmax - xmin,\n            height = ymax - ymin,\n                bb = {\n                x: xmin,\n                y: ymin,\n                x2: xmax,\n                y2: ymax,\n                width: width,\n                height: height,\n                cx: xmin + width / 2,\n                cy: ymin + height / 2\n            };\n        pth.bbox = clone(bb);\n        return bb;\n    },\n        pathClone = function (pathArray) {\n            var res = clone(pathArray);\n            res.toString = R._path2string;\n            return res;\n        },\n        pathToRelative = R._pathToRelative = function (pathArray) {\n            var pth = paths(pathArray);\n            if (pth.rel) {\n                return pathClone(pth.rel);\n            }\n            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\n                pathArray = R.parsePathString(pathArray);\n            }\n            var res = [],\n                x = 0,\n                y = 0,\n                mx = 0,\n                my = 0,\n                start = 0;\n            if (pathArray[0][0] == "M") {\n                x = pathArray[0][1];\n                y = pathArray[0][2];\n                mx = x;\n                my = y;\n                start++;\n                res.push(["M", x, y]);\n            }\n            for (var i = start, ii = pathArray.length; i < ii; i++) {\n                var r = res[i] = [],\n                    pa = pathArray[i];\n                if (pa[0] != lowerCase.call(pa[0])) {\n                    r[0] = lowerCase.call(pa[0]);\n                    switch (r[0]) {\n                        case "a":\n                            r[1] = pa[1];\n                            r[2] = pa[2];\n                            r[3] = pa[3];\n                            r[4] = pa[4];\n                            r[5] = pa[5];\n                            r[6] = +(pa[6] - x).toFixed(3);\n                            r[7] = +(pa[7] - y).toFixed(3);\n                            break;\n                        case "v":\n                            r[1] = +(pa[1] - y).toFixed(3);\n                            break;\n                        case "m":\n                            mx = pa[1];\n                            my = pa[2];\n                        default:\n                            for (var j = 1, jj = pa.length; j < jj; j++) {\n                                r[j] = +(pa[j] - ((j % 2) ? x : y)).toFixed(3);\n                            }\n                    }\n                } else {\n                    r = res[i] = [];\n                    if (pa[0] == "m") {\n                        mx = pa[1] + x;\n                        my = pa[2] + y;\n                    }\n                    for (var k = 0, kk = pa.length; k < kk; k++) {\n                        res[i][k] = pa[k];\n                    }\n                }\n                var len = res[i].length;\n                switch (res[i][0]) {\n                    case "z":\n                        x = mx;\n                        y = my;\n                        break;\n                    case "h":\n                        x += +res[i][len - 1];\n                        break;\n                    case "v":\n                        y += +res[i][len - 1];\n                        break;\n                    default:\n                        x += +res[i][len - 2];\n                        y += +res[i][len - 1];\n                }\n            }\n            res.toString = R._path2string;\n            pth.rel = pathClone(res);\n            return res;\n        },\n        pathToAbsolute = R._pathToAbsolute = function (pathArray) {\n            var pth = paths(pathArray);\n            if (pth.abs) {\n                return pathClone(pth.abs);\n            }\n            if (!R.is(pathArray, array) || !R.is(pathArray && pathArray[0], array)) { // rough assumption\n                pathArray = R.parsePathString(pathArray);\n            }\n            if (!pathArray || !pathArray.length) {\n                return [["M", 0, 0]];\n            }\n            var res = [],\n                x = 0,\n                y = 0,\n                mx = 0,\n                my = 0,\n                start = 0;\n            if (pathArray[0][0] == "M") {\n                x = +pathArray[0][1];\n                y = +pathArray[0][2];\n                mx = x;\n                my = y;\n                start++;\n                res[0] = ["M", x, y];\n            }\n            var crz = pathArray.length == 3 && pathArray[0][0] == "M" && pathArray[1][0].toUpperCase() == "R" && pathArray[2][0].toUpperCase() == "Z";\n            for (var r, pa, i = start, ii = pathArray.length; i < ii; i++) {\n                res.push(r = []);\n                pa = pathArray[i];\n                if (pa[0] != upperCase.call(pa[0])) {\n                    r[0] = upperCase.call(pa[0]);\n                    switch (r[0]) {\n                        case "A":\n                            r[1] = pa[1];\n                            r[2] = pa[2];\n                            r[3] = pa[3];\n                            r[4] = pa[4];\n                            r[5] = pa[5];\n                            r[6] = +(pa[6] + x);\n                            r[7] = +(pa[7] + y);\n                            break;\n                        case "V":\n                            r[1] = +pa[1] + y;\n                            break;\n                        case "H":\n                            r[1] = +pa[1] + x;\n                            break;\n                        case "R":\n                            var dots = [x, y][concat](pa.slice(1));\n                            for (var j = 2, jj = dots.length; j < jj; j++) {\n                                dots[j] = +dots[j] + x;\n                                dots[++j] = +dots[j] + y;\n                            }\n                            res.pop();\n                            res = res[concat](catmullRom2bezier(dots, crz));\n                            break;\n                        case "M":\n                            mx = +pa[1] + x;\n                            my = +pa[2] + y;\n                        default:\n                            for (j = 1, jj = pa.length; j < jj; j++) {\n                                r[j] = +pa[j] + ((j % 2) ? x : y);\n                            }\n                    }\n                } else if (pa[0] == "R") {\n                    dots = [x, y][concat](pa.slice(1));\n                    res.pop();\n                    res = res[concat](catmullRom2bezier(dots, crz));\n                    r = ["R"][concat](pa.slice(-2));\n                } else {\n                    for (var k = 0, kk = pa.length; k < kk; k++) {\n                        r[k] = pa[k];\n                    }\n                }\n                switch (r[0]) {\n                    case "Z":\n                        x = mx;\n                        y = my;\n                        break;\n                    case "H":\n                        x = r[1];\n                        break;\n                    case "V":\n                        y = r[1];\n                        break;\n                    case "M":\n                        mx = r[r.length - 2];\n                        my = r[r.length - 1];\n                    default:\n                        x = r[r.length - 2];\n                        y = r[r.length - 1];\n                }\n            }\n            res.toString = R._path2string;\n            pth.abs = pathClone(res);\n            return res;\n        },\n        l2c = function (x1, y1, x2, y2) {\n            return [x1, y1, x2, y2, x2, y2];\n        },\n        q2c = function (x1, y1, ax, ay, x2, y2) {\n            var _13 = 1 / 3,\n                _23 = 2 / 3;\n            return [\n                    _13 * x1 + _23 * ax,\n                    _13 * y1 + _23 * ay,\n                    _13 * x2 + _23 * ax,\n                    _13 * y2 + _23 * ay,\n                    x2,\n                    y2\n                ];\n        },\n        a2c = function (x1, y1, rx, ry, angle, large_arc_flag, sweep_flag, x2, y2, recursive) {\n            // for more information of where this math came from visit:\n            // http://www.w3.org/TR/SVG11/implnote.html#ArcImplementationNotes\n            var _120 = PI * 120 / 180,\n                rad = PI / 180 * (+angle || 0),\n                res = [],\n                xy,\n                rotate = cacher(function (x, y, rad) {\n                    var X = x * math.cos(rad) - y * math.sin(rad),\n                        Y = x * math.sin(rad) + y * math.cos(rad);\n                    return {x: X, y: Y};\n                });\n            if (!recursive) {\n                xy = rotate(x1, y1, -rad);\n                x1 = xy.x;\n                y1 = xy.y;\n                xy = rotate(x2, y2, -rad);\n                x2 = xy.x;\n                y2 = xy.y;\n                var cos = math.cos(PI / 180 * angle),\n                    sin = math.sin(PI / 180 * angle),\n                    x = (x1 - x2) / 2,\n                    y = (y1 - y2) / 2;\n                var h = (x * x) / (rx * rx) + (y * y) / (ry * ry);\n                if (h > 1) {\n                    h = math.sqrt(h);\n                    rx = h * rx;\n                    ry = h * ry;\n                }\n                var rx2 = rx * rx,\n                    ry2 = ry * ry,\n                    k = (large_arc_flag == sweep_flag ? -1 : 1) *\n                        math.sqrt(abs((rx2 * ry2 - rx2 * y * y - ry2 * x * x) / (rx2 * y * y + ry2 * x * x))),\n                    cx = k * rx * y / ry + (x1 + x2) / 2,\n                    cy = k * -ry * x / rx + (y1 + y2) / 2,\n                    f1 = math.asin(((y1 - cy) / ry).toFixed(9)),\n                    f2 = math.asin(((y2 - cy) / ry).toFixed(9));\n\n                f1 = x1 < cx ? PI - f1 : f1;\n                f2 = x2 < cx ? PI - f2 : f2;\n                f1 < 0 && (f1 = PI * 2 + f1);\n                f2 < 0 && (f2 = PI * 2 + f2);\n                if (sweep_flag && f1 > f2) {\n                    f1 = f1 - PI * 2;\n                }\n                if (!sweep_flag && f2 > f1) {\n                    f2 = f2 - PI * 2;\n                }\n            } else {\n                f1 = recursive[0];\n                f2 = recursive[1];\n                cx = recursive[2];\n                cy = recursive[3];\n            }\n            var df = f2 - f1;\n            if (abs(df) > _120) {\n                var f2old = f2,\n                    x2old = x2,\n                    y2old = y2;\n                f2 = f1 + _120 * (sweep_flag && f2 > f1 ? 1 : -1);\n                x2 = cx + rx * math.cos(f2);\n                y2 = cy + ry * math.sin(f2);\n                res = a2c(x2, y2, rx, ry, angle, 0, sweep_flag, x2old, y2old, [f2, f2old, cx, cy]);\n            }\n            df = f2 - f1;\n            var c1 = math.cos(f1),\n                s1 = math.sin(f1),\n                c2 = math.cos(f2),\n                s2 = math.sin(f2),\n                t = math.tan(df / 4),\n                hx = 4 / 3 * rx * t,\n                hy = 4 / 3 * ry * t,\n                m1 = [x1, y1],\n                m2 = [x1 + hx * s1, y1 - hy * c1],\n                m3 = [x2 + hx * s2, y2 - hy * c2],\n                m4 = [x2, y2];\n            m2[0] = 2 * m1[0] - m2[0];\n            m2[1] = 2 * m1[1] - m2[1];\n            if (recursive) {\n                return [m2, m3, m4][concat](res);\n            } else {\n                res = [m2, m3, m4][concat](res).join()[split](",");\n                var newres = [];\n                for (var i = 0, ii = res.length; i < ii; i++) {\n                    newres[i] = i % 2 ? rotate(res[i - 1], res[i], rad).y : rotate(res[i], res[i + 1], rad).x;\n                }\n                return newres;\n            }\n        },\n        findDotAtSegment = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t) {\n            var t1 = 1 - t;\n            return {\n                x: pow(t1, 3) * p1x + pow(t1, 2) * 3 * t * c1x + t1 * 3 * t * t * c2x + pow(t, 3) * p2x,\n                y: pow(t1, 3) * p1y + pow(t1, 2) * 3 * t * c1y + t1 * 3 * t * t * c2y + pow(t, 3) * p2y\n            };\n        },\n        curveDim = cacher(function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y) {\n            var a = (c2x - 2 * c1x + p1x) - (p2x - 2 * c2x + c1x),\n                b = 2 * (c1x - p1x) - 2 * (c2x - c1x),\n                c = p1x - c1x,\n                t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a,\n                t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a,\n                y = [p1y, p2y],\n                x = [p1x, p2x],\n                dot;\n            abs(t1) > "1e12" && (t1 = .5);\n            abs(t2) > "1e12" && (t2 = .5);\n            if (t1 > 0 && t1 < 1) {\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\n                x.push(dot.x);\n                y.push(dot.y);\n            }\n            if (t2 > 0 && t2 < 1) {\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\n                x.push(dot.x);\n                y.push(dot.y);\n            }\n            a = (c2y - 2 * c1y + p1y) - (p2y - 2 * c2y + c1y);\n            b = 2 * (c1y - p1y) - 2 * (c2y - c1y);\n            c = p1y - c1y;\n            t1 = (-b + math.sqrt(b * b - 4 * a * c)) / 2 / a;\n            t2 = (-b - math.sqrt(b * b - 4 * a * c)) / 2 / a;\n            abs(t1) > "1e12" && (t1 = .5);\n            abs(t2) > "1e12" && (t2 = .5);\n            if (t1 > 0 && t1 < 1) {\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t1);\n                x.push(dot.x);\n                y.push(dot.y);\n            }\n            if (t2 > 0 && t2 < 1) {\n                dot = findDotAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, t2);\n                x.push(dot.x);\n                y.push(dot.y);\n            }\n            return {\n                min: {x: mmin[apply](0, x), y: mmin[apply](0, y)},\n                max: {x: mmax[apply](0, x), y: mmax[apply](0, y)}\n            };\n        }),\n        path2curve = R._path2curve = cacher(function (path, path2) {\n            var pth = !path2 && paths(path);\n            if (!path2 && pth.curve) {\n                return pathClone(pth.curve);\n            }\n            var p = pathToAbsolute(path),\n                p2 = path2 && pathToAbsolute(path2),\n                attrs = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n                attrs2 = {x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null},\n                processPath = function (path, d, pcom) {\n                    var nx, ny, tq = {T:1, Q:1};\n                    if (!path) {\n                        return ["C", d.x, d.y, d.x, d.y, d.x, d.y];\n                    }\n                    !(path[0] in tq) && (d.qx = d.qy = null);\n                    switch (path[0]) {\n                        case "M":\n                            d.X = path[1];\n                            d.Y = path[2];\n                            break;\n                        case "A":\n                            path = ["C"][concat](a2c[apply](0, [d.x, d.y][concat](path.slice(1))));\n                            break;\n                        case "S":\n                            if (pcom == "C" || pcom == "S") { // In "S" case we have to take into account, if the previous command is C/S.\n                                nx = d.x * 2 - d.bx;          // And reflect the previous\n                                ny = d.y * 2 - d.by;          // command\'s control point relative to the current point.\n                            }\n                            else {                            // or some else or nothing\n                                nx = d.x;\n                                ny = d.y;\n                            }\n                            path = ["C", nx, ny][concat](path.slice(1));\n                            break;\n                        case "T":\n                            if (pcom == "Q" || pcom == "T") { // In "T" case we have to take into account, if the previous command is Q/T.\n                                d.qx = d.x * 2 - d.qx;        // And make a reflection similar\n                                d.qy = d.y * 2 - d.qy;        // to case "S".\n                            }\n                            else {                            // or something else or nothing\n                                d.qx = d.x;\n                                d.qy = d.y;\n                            }\n                            path = ["C"][concat](q2c(d.x, d.y, d.qx, d.qy, path[1], path[2]));\n                            break;\n                        case "Q":\n                            d.qx = path[1];\n                            d.qy = path[2];\n                            path = ["C"][concat](q2c(d.x, d.y, path[1], path[2], path[3], path[4]));\n                            break;\n                        case "L":\n                            path = ["C"][concat](l2c(d.x, d.y, path[1], path[2]));\n                            break;\n                        case "H":\n                            path = ["C"][concat](l2c(d.x, d.y, path[1], d.y));\n                            break;\n                        case "V":\n                            path = ["C"][concat](l2c(d.x, d.y, d.x, path[1]));\n                            break;\n                        case "Z":\n                            path = ["C"][concat](l2c(d.x, d.y, d.X, d.Y));\n                            break;\n                    }\n                    return path;\n                },\n                fixArc = function (pp, i) {\n                    if (pp[i].length > 7) {\n                        pp[i].shift();\n                        var pi = pp[i];\n                        while (pi.length) {\n                            pcoms1[i]="A"; // if created multiple C:s, their original seg is saved\n                            p2 && (pcoms2[i]="A"); // the same as above\n                            pp.splice(i++, 0, ["C"][concat](pi.splice(0, 6)));\n                        }\n                        pp.splice(i, 1);\n                        ii = mmax(p.length, p2 && p2.length || 0);\n                    }\n                },\n                fixM = function (path1, path2, a1, a2, i) {\n                    if (path1 && path2 && path1[i][0] == "M" && path2[i][0] != "M") {\n                        path2.splice(i, 0, ["M", a2.x, a2.y]);\n                        a1.bx = 0;\n                        a1.by = 0;\n                        a1.x = path1[i][1];\n                        a1.y = path1[i][2];\n                        ii = mmax(p.length, p2 && p2.length || 0);\n                    }\n                },\n                pcoms1 = [], // path commands of original path p\n                pcoms2 = [], // path commands of original path p2\n                pfirst = "", // temporary holder for original path command\n                pcom = ""; // holder for previous path command of original path\n            for (var i = 0, ii = mmax(p.length, p2 && p2.length || 0); i < ii; i++) {\n                p[i] && (pfirst = p[i][0]); // save current path command\n\n                if (pfirst != "C") // C is not saved yet, because it may be result of conversion\n                {\n                    pcoms1[i] = pfirst; // Save current path command\n                    i && ( pcom = pcoms1[i-1]); // Get previous path command pcom\n                }\n                p[i] = processPath(p[i], attrs, pcom); // Previous path command is inputted to processPath\n\n                if (pcoms1[i] != "A" && pfirst == "C") pcoms1[i] = "C"; // A is the only command\n                // which may produce multiple C:s\n                // so we have to make sure that C is also C in original path\n\n                fixArc(p, i); // fixArc adds also the right amount of A:s to pcoms1\n\n                if (p2) { // the same procedures is done to p2\n                    p2[i] && (pfirst = p2[i][0]);\n                    if (pfirst != "C")\n                    {\n                        pcoms2[i] = pfirst;\n                        i && (pcom = pcoms2[i-1]);\n                    }\n                    p2[i] = processPath(p2[i], attrs2, pcom);\n\n                    if (pcoms2[i]!="A" && pfirst=="C") pcoms2[i]="C";\n\n                    fixArc(p2, i);\n                }\n                fixM(p, p2, attrs, attrs2, i);\n                fixM(p2, p, attrs2, attrs, i);\n                var seg = p[i],\n                    seg2 = p2 && p2[i],\n                    seglen = seg.length,\n                    seg2len = p2 && seg2.length;\n                attrs.x = seg[seglen - 2];\n                attrs.y = seg[seglen - 1];\n                attrs.bx = toFloat(seg[seglen - 4]) || attrs.x;\n                attrs.by = toFloat(seg[seglen - 3]) || attrs.y;\n                attrs2.bx = p2 && (toFloat(seg2[seg2len - 4]) || attrs2.x);\n                attrs2.by = p2 && (toFloat(seg2[seg2len - 3]) || attrs2.y);\n                attrs2.x = p2 && seg2[seg2len - 2];\n                attrs2.y = p2 && seg2[seg2len - 1];\n            }\n            if (!p2) {\n                pth.curve = pathClone(p);\n            }\n            return p2 ? [p, p2] : p;\n        }, null, pathClone),\n        parseDots = R._parseDots = cacher(function (gradient) {\n            var dots = [];\n            for (var i = 0, ii = gradient.length; i < ii; i++) {\n                var dot = {},\n                    par = gradient[i].match(/^([^:]*):?([\\d\\.]*)/);\n                dot.color = R.getRGB(par[1]);\n                if (dot.color.error) {\n                    return null;\n                }\n                dot.opacity = dot.color.opacity;\n                dot.color = dot.color.hex;\n                par[2] && (dot.offset = par[2] + "%");\n                dots.push(dot);\n            }\n            for (i = 1, ii = dots.length - 1; i < ii; i++) {\n                if (!dots[i].offset) {\n                    var start = toFloat(dots[i - 1].offset || 0),\n                        end = 0;\n                    for (var j = i + 1; j < ii; j++) {\n                        if (dots[j].offset) {\n                            end = dots[j].offset;\n                            break;\n                        }\n                    }\n                    if (!end) {\n                        end = 100;\n                        j = ii;\n                    }\n                    end = toFloat(end);\n                    var d = (end - start) / (j - i + 1);\n                    for (; i < j; i++) {\n                        start += d;\n                        dots[i].offset = start + "%";\n                    }\n                }\n            }\n            return dots;\n        }),\n        tear = R._tear = function (el, paper) {\n            el == paper.top && (paper.top = el.prev);\n            el == paper.bottom && (paper.bottom = el.next);\n            el.next && (el.next.prev = el.prev);\n            el.prev && (el.prev.next = el.next);\n        },\n        tofront = R._tofront = function (el, paper) {\n            if (paper.top === el) {\n                return;\n            }\n            tear(el, paper);\n            el.next = null;\n            el.prev = paper.top;\n            paper.top.next = el;\n            paper.top = el;\n        },\n        toback = R._toback = function (el, paper) {\n            if (paper.bottom === el) {\n                return;\n            }\n            tear(el, paper);\n            el.next = paper.bottom;\n            el.prev = null;\n            paper.bottom.prev = el;\n            paper.bottom = el;\n        },\n        insertafter = R._insertafter = function (el, el2, paper) {\n            tear(el, paper);\n            el2 == paper.top && (paper.top = el);\n            el2.next && (el2.next.prev = el);\n            el.next = el2.next;\n            el.prev = el2;\n            el2.next = el;\n        },\n        insertbefore = R._insertbefore = function (el, el2, paper) {\n            tear(el, paper);\n            el2 == paper.bottom && (paper.bottom = el);\n            el2.prev && (el2.prev.next = el);\n            el.prev = el2.prev;\n            el2.prev = el;\n            el.next = el2;\n        },\n        /*\\\n         * Raphael.toMatrix\n         [ method ]\n         **\n         * Utility method\n         **\n         * Returns matrix of transformations applied to a given path\n         > Parameters\n         - path (string) path string\n         - transform (string|array) transformation string\n         = (object) @Matrix\n        \\*/\n        toMatrix = R.toMatrix = function (path, transform) {\n            var bb = pathDimensions(path),\n                el = {\n                    _: {\n                        transform: E\n                    },\n                    getBBox: function () {\n                        return bb;\n                    }\n                };\n            extractTransform(el, transform);\n            return el.matrix;\n        },\n        /*\\\n         * Raphael.transformPath\n         [ method ]\n         **\n         * Utility method\n         **\n         * Returns path transformed by a given transformation\n         > Parameters\n         - path (string) path string\n         - transform (string|array) transformation string\n         = (string) path\n        \\*/\n        transformPath = R.transformPath = function (path, transform) {\n            return mapPath(path, toMatrix(path, transform));\n        },\n        extractTransform = R._extractTransform = function (el, tstr) {\n            if (tstr == null) {\n                return el._.transform;\n            }\n            tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, el._.transform || E);\n            var tdata = R.parseTransformString(tstr),\n                deg = 0,\n                dx = 0,\n                dy = 0,\n                sx = 1,\n                sy = 1,\n                _ = el._,\n                m = new Matrix;\n            _.transform = tdata || [];\n            if (tdata) {\n                for (var i = 0, ii = tdata.length; i < ii; i++) {\n                    var t = tdata[i],\n                        tlen = t.length,\n                        command = Str(t[0]).toLowerCase(),\n                        absolute = t[0] != command,\n                        inver = absolute ? m.invert() : 0,\n                        x1,\n                        y1,\n                        x2,\n                        y2,\n                        bb;\n                    if (command == "t" && tlen == 3) {\n                        if (absolute) {\n                            x1 = inver.x(0, 0);\n                            y1 = inver.y(0, 0);\n                            x2 = inver.x(t[1], t[2]);\n                            y2 = inver.y(t[1], t[2]);\n                            m.translate(x2 - x1, y2 - y1);\n                        } else {\n                            m.translate(t[1], t[2]);\n                        }\n                    } else if (command == "r") {\n                        if (tlen == 2) {\n                            bb = bb || el.getBBox(1);\n                            m.rotate(t[1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                            deg += t[1];\n                        } else if (tlen == 4) {\n                            if (absolute) {\n                                x2 = inver.x(t[2], t[3]);\n                                y2 = inver.y(t[2], t[3]);\n                                m.rotate(t[1], x2, y2);\n                            } else {\n                                m.rotate(t[1], t[2], t[3]);\n                            }\n                            deg += t[1];\n                        }\n                    } else if (command == "s") {\n                        if (tlen == 2 || tlen == 3) {\n                            bb = bb || el.getBBox(1);\n                            m.scale(t[1], t[tlen - 1], bb.x + bb.width / 2, bb.y + bb.height / 2);\n                            sx *= t[1];\n                            sy *= t[tlen - 1];\n                        } else if (tlen == 5) {\n                            if (absolute) {\n                                x2 = inver.x(t[3], t[4]);\n                                y2 = inver.y(t[3], t[4]);\n                                m.scale(t[1], t[2], x2, y2);\n                            } else {\n                                m.scale(t[1], t[2], t[3], t[4]);\n                            }\n                            sx *= t[1];\n                            sy *= t[2];\n                        }\n                    } else if (command == "m" && tlen == 7) {\n                        m.add(t[1], t[2], t[3], t[4], t[5], t[6]);\n                    }\n                    _.dirtyT = 1;\n                    el.matrix = m;\n                }\n            }\n\n            /*\\\n             * Element.matrix\n             [ property (object) ]\n             **\n             * Keeps @Matrix object, which represents element transformation\n            \\*/\n            el.matrix = m;\n\n            _.sx = sx;\n            _.sy = sy;\n            _.deg = deg;\n            _.dx = dx = m.e;\n            _.dy = dy = m.f;\n\n            if (sx == 1 && sy == 1 && !deg && _.bbox) {\n                _.bbox.x += +dx;\n                _.bbox.y += +dy;\n            } else {\n                _.dirtyT = 1;\n            }\n        },\n        getEmpty = function (item) {\n            var l = item[0];\n            switch (l.toLowerCase()) {\n                case "t": return [l, 0, 0];\n                case "m": return [l, 1, 0, 0, 1, 0, 0];\n                case "r": if (item.length == 4) {\n                    return [l, 0, item[2], item[3]];\n                } else {\n                    return [l, 0];\n                }\n                case "s": if (item.length == 5) {\n                    return [l, 1, 1, item[3], item[4]];\n                } else if (item.length == 3) {\n                    return [l, 1, 1];\n                } else {\n                    return [l, 1];\n                }\n            }\n        },\n        equaliseTransform = R._equaliseTransform = function (t1, t2) {\n            t2 = Str(t2).replace(/\\.{3}|\\u2026/g, t1);\n            t1 = R.parseTransformString(t1) || [];\n            t2 = R.parseTransformString(t2) || [];\n            var maxlength = mmax(t1.length, t2.length),\n                from = [],\n                to = [],\n                i = 0, j, jj,\n                tt1, tt2;\n            for (; i < maxlength; i++) {\n                tt1 = t1[i] || getEmpty(t2[i]);\n                tt2 = t2[i] || getEmpty(tt1);\n                if ((tt1[0] != tt2[0]) ||\n                    (tt1[0].toLowerCase() == "r" && (tt1[2] != tt2[2] || tt1[3] != tt2[3])) ||\n                    (tt1[0].toLowerCase() == "s" && (tt1[3] != tt2[3] || tt1[4] != tt2[4]))\n                    ) {\n                    return;\n                }\n                from[i] = [];\n                to[i] = [];\n                for (j = 0, jj = mmax(tt1.length, tt2.length); j < jj; j++) {\n                    j in tt1 && (from[i][j] = tt1[j]);\n                    j in tt2 && (to[i][j] = tt2[j]);\n                }\n            }\n            return {\n                from: from,\n                to: to\n            };\n        };\n    R._getContainer = function (x, y, w, h) {\n        var container;\n        container = h == null && !R.is(x, "object") ? g.doc.getElementById(x) : x;\n        if (container == null) {\n            return;\n        }\n        if (container.tagName) {\n            if (y == null) {\n                return {\n                    container: container,\n                    width: container.style.pixelWidth || container.offsetWidth,\n                    height: container.style.pixelHeight || container.offsetHeight\n                };\n            } else {\n                return {\n                    container: container,\n                    width: y,\n                    height: w\n                };\n            }\n        }\n        return {\n            container: 1,\n            x: x,\n            y: y,\n            width: w,\n            height: h\n        };\n    };\n    /*\\\n     * Raphael.pathToRelative\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to relative form\n     > Parameters\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments.\n    \\*/\n    R.pathToRelative = pathToRelative;\n    R._engine = {};\n    /*\\\n     * Raphael.path2curve\n     [ method ]\n     **\n     * Utility method\n     **\n     * Converts path to a new path where all segments are cubic bezier curves.\n     > Parameters\n     - pathString (string|array) path string or array of segments\n     = (array) array of segments.\n    \\*/\n    R.path2curve = path2curve;\n    /*\\\n     * Raphael.matrix\n     [ method ]\n     **\n     * Utility method\n     **\n     * Returns matrix based on given parameters.\n     > Parameters\n     - a (number)\n     - b (number)\n     - c (number)\n     - d (number)\n     - e (number)\n     - f (number)\n     = (object) @Matrix\n    \\*/\n    R.matrix = function (a, b, c, d, e, f) {\n        return new Matrix(a, b, c, d, e, f);\n    };\n    function Matrix(a, b, c, d, e, f) {\n        if (a != null) {\n            this.a = +a;\n            this.b = +b;\n            this.c = +c;\n            this.d = +d;\n            this.e = +e;\n            this.f = +f;\n        } else {\n            this.a = 1;\n            this.b = 0;\n            this.c = 0;\n            this.d = 1;\n            this.e = 0;\n            this.f = 0;\n        }\n    }\n    (function (matrixproto) {\n        /*\\\n         * Matrix.add\n         [ method ]\n         **\n         * Adds given matrix to existing one.\n         > Parameters\n         - a (number)\n         - b (number)\n         - c (number)\n         - d (number)\n         - e (number)\n         - f (number)\n         or\n         - matrix (object) @Matrix\n        \\*/\n        matrixproto.add = function (a, b, c, d, e, f) {\n            var out = [[], [], []],\n                m = [[this.a, this.c, this.e], [this.b, this.d, this.f], [0, 0, 1]],\n                matrix = [[a, c, e], [b, d, f], [0, 0, 1]],\n                x, y, z, res;\n\n            if (a && a instanceof Matrix) {\n                matrix = [[a.a, a.c, a.e], [a.b, a.d, a.f], [0, 0, 1]];\n            }\n\n            for (x = 0; x < 3; x++) {\n                for (y = 0; y < 3; y++) {\n                    res = 0;\n                    for (z = 0; z < 3; z++) {\n                        res += m[x][z] * matrix[z][y];\n                    }\n                    out[x][y] = res;\n                }\n            }\n            this.a = out[0][0];\n            this.b = out[1][0];\n            this.c = out[0][1];\n            this.d = out[1][1];\n            this.e = out[0][2];\n            this.f = out[1][2];\n        };\n        /*\\\n         * Matrix.invert\n         [ method ]\n         **\n         * Returns inverted version of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.invert = function () {\n            var me = this,\n                x = me.a * me.d - me.b * me.c;\n            return new Matrix(me.d / x, -me.b / x, -me.c / x, me.a / x, (me.c * me.f - me.d * me.e) / x, (me.b * me.e - me.a * me.f) / x);\n        };\n        /*\\\n         * Matrix.clone\n         [ method ]\n         **\n         * Returns copy of the matrix\n         = (object) @Matrix\n        \\*/\n        matrixproto.clone = function () {\n            return new Matrix(this.a, this.b, this.c, this.d, this.e, this.f);\n        };\n        /*\\\n         * Matrix.translate\n         [ method ]\n         **\n         * Translate the matrix\n         > Parameters\n         - x (number)\n         - y (number)\n        \\*/\n        matrixproto.translate = function (x, y) {\n            this.add(1, 0, 0, 1, x, y);\n        };\n        /*\\\n         * Matrix.scale\n         [ method ]\n         **\n         * Scales the matrix\n         > Parameters\n         - x (number)\n         - y (number) #optional\n         - cx (number) #optional\n         - cy (number) #optional\n        \\*/\n        matrixproto.scale = function (x, y, cx, cy) {\n            y == null && (y = x);\n            (cx || cy) && this.add(1, 0, 0, 1, cx, cy);\n            this.add(x, 0, 0, y, 0, 0);\n            (cx || cy) && this.add(1, 0, 0, 1, -cx, -cy);\n        };\n        /*\\\n         * Matrix.rotate\n         [ method ]\n         **\n         * Rotates the matrix\n         > Parameters\n         - a (number)\n         - x (number)\n         - y (number)\n        \\*/\n        matrixproto.rotate = function (a, x, y) {\n            a = R.rad(a);\n            x = x || 0;\n            y = y || 0;\n            var cos = +math.cos(a).toFixed(9),\n                sin = +math.sin(a).toFixed(9);\n            this.add(cos, sin, -sin, cos, x, y);\n            this.add(1, 0, 0, 1, -x, -y);\n        };\n        /*\\\n         * Matrix.x\n         [ method ]\n         **\n         * Return x coordinate for given point after transformation described by the matrix. See also @Matrix.y\n         > Parameters\n         - x (number)\n         - y (number)\n         = (number) x\n        \\*/\n        matrixproto.x = function (x, y) {\n            return x * this.a + y * this.c + this.e;\n        };\n        /*\\\n         * Matrix.y\n         [ method ]\n         **\n         * Return y coordinate for given point after transformation described by the matrix. See also @Matrix.x\n         > Parameters\n         - x (number)\n         - y (number)\n         = (number) y\n        \\*/\n        matrixproto.y = function (x, y) {\n            return x * this.b + y * this.d + this.f;\n        };\n        matrixproto.get = function (i) {\n            return +this[Str.fromCharCode(97 + i)].toFixed(4);\n        };\n        matrixproto.toString = function () {\n            return R.svg ?\n                "matrix(" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)].join() + ")" :\n                [this.get(0), this.get(2), this.get(1), this.get(3), 0, 0].join();\n        };\n        matrixproto.toFilter = function () {\n            return "progid:DXImageTransform.Microsoft.Matrix(M11=" + this.get(0) +\n                ", M12=" + this.get(2) + ", M21=" + this.get(1) + ", M22=" + this.get(3) +\n                ", Dx=" + this.get(4) + ", Dy=" + this.get(5) + ", sizingmethod=\'auto expand\')";\n        };\n        matrixproto.offset = function () {\n            return [this.e.toFixed(4), this.f.toFixed(4)];\n        };\n        function norm(a) {\n            return a[0] * a[0] + a[1] * a[1];\n        }\n        function normalize(a) {\n            var mag = math.sqrt(norm(a));\n            a[0] && (a[0] /= mag);\n            a[1] && (a[1] /= mag);\n        }\n        /*\\\n         * Matrix.split\n         [ method ]\n         **\n         * Splits matrix into primitive transformations\n         = (object) in format:\n         o dx (number) translation by x\n         o dy (number) translation by y\n         o scalex (number) scale by x\n         o scaley (number) scale by y\n         o shear (number) shear\n         o rotate (number) rotation in deg\n         o isSimple (boolean) could it be represented via simple transformations\n        \\*/\n        matrixproto.split = function () {\n            var out = {};\n            // translation\n            out.dx = this.e;\n            out.dy = this.f;\n\n            // scale and shear\n            var row = [[this.a, this.c], [this.b, this.d]];\n            out.scalex = math.sqrt(norm(row[0]));\n            normalize(row[0]);\n\n            out.shear = row[0][0] * row[1][0] + row[0][1] * row[1][1];\n            row[1] = [row[1][0] - row[0][0] * out.shear, row[1][1] - row[0][1] * out.shear];\n\n            out.scaley = math.sqrt(norm(row[1]));\n            normalize(row[1]);\n            out.shear /= out.scaley;\n\n            // rotation\n            var sin = -row[0][1],\n                cos = row[1][1];\n            if (cos < 0) {\n                out.rotate = R.deg(math.acos(cos));\n                if (sin < 0) {\n                    out.rotate = 360 - out.rotate;\n                }\n            } else {\n                out.rotate = R.deg(math.asin(sin));\n            }\n\n            out.isSimple = !+out.shear.toFixed(9) && (out.scalex.toFixed(9) == out.scaley.toFixed(9) || !out.rotate);\n            out.isSuperSimple = !+out.shear.toFixed(9) && out.scalex.toFixed(9) == out.scaley.toFixed(9) && !out.rotate;\n            out.noRotation = !+out.shear.toFixed(9) && !out.rotate;\n            return out;\n        };\n        /*\\\n         * Matrix.toTransformString\n         [ method ]\n         **\n         * Return transform string that represents given matrix\n         = (string) transform string\n        \\*/\n        matrixproto.toTransformString = function (shorter) {\n            var s = shorter || this[split]();\n            if (s.isSimple) {\n                s.scalex = +s.scalex.toFixed(4);\n                s.scaley = +s.scaley.toFixed(4);\n                s.rotate = +s.rotate.toFixed(4);\n                return  (s.dx || s.dy ? "t" + [s.dx, s.dy] : E) +\n                        (s.scalex != 1 || s.scaley != 1 ? "s" + [s.scalex, s.scaley, 0, 0] : E) +\n                        (s.rotate ? "r" + [s.rotate, 0, 0] : E);\n            } else {\n                return "m" + [this.get(0), this.get(1), this.get(2), this.get(3), this.get(4), this.get(5)];\n            }\n        };\n    })(Matrix.prototype);\n\n    var preventDefault = function () {\n        this.returnValue = false;\n    },\n    preventTouch = function () {\n        return this.originalEvent.preventDefault();\n    },\n    stopPropagation = function () {\n        this.cancelBubble = true;\n    },\n    stopTouch = function () {\n        return this.originalEvent.stopPropagation();\n    },\n    getEventPosition = function (e) {\n        var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\n\n        return {\n            x: e.clientX + scrollX,\n            y: e.clientY + scrollY\n        };\n    },\n    addEvent = (function () {\n        if (g.doc.addEventListener) {\n            return function (obj, type, fn, element) {\n                var f = function (e) {\n                    var pos = getEventPosition(e);\n                    return fn.call(element, e, pos.x, pos.y);\n                };\n                obj.addEventListener(type, f, false);\n\n                if (supportsTouch && touchMap[type]) {\n                    var _f = function (e) {\n                        var pos = getEventPosition(e),\n                            olde = e;\n\n                        for (var i = 0, ii = e.targetTouches && e.targetTouches.length; i < ii; i++) {\n                            if (e.targetTouches[i].target == obj) {\n                                e = e.targetTouches[i];\n                                e.originalEvent = olde;\n                                e.preventDefault = preventTouch;\n                                e.stopPropagation = stopTouch;\n                                break;\n                            }\n                        }\n\n                        return fn.call(element, e, pos.x, pos.y);\n                    };\n                    obj.addEventListener(touchMap[type], _f, false);\n                }\n\n                return function () {\n                    obj.removeEventListener(type, f, false);\n\n                    if (supportsTouch && touchMap[type])\n                        obj.removeEventListener(touchMap[type], _f, false);\n\n                    return true;\n                };\n            };\n        } else if (g.doc.attachEvent) {\n            return function (obj, type, fn, element) {\n                var f = function (e) {\n                    e = e || g.win.event;\n                    var scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                        scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n                        x = e.clientX + scrollX,\n                        y = e.clientY + scrollY;\n                    e.preventDefault = e.preventDefault || preventDefault;\n                    e.stopPropagation = e.stopPropagation || stopPropagation;\n                    return fn.call(element, e, x, y);\n                };\n                obj.attachEvent("on" + type, f);\n                var detacher = function () {\n                    obj.detachEvent("on" + type, f);\n                    return true;\n                };\n                return detacher;\n            };\n        }\n    })(),\n    drag = [],\n    dragMove = function (e) {\n        var x = e.clientX,\n            y = e.clientY,\n            scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n            scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft,\n            dragi,\n            j = drag.length;\n        while (j--) {\n            dragi = drag[j];\n            if (supportsTouch && e.touches) {\n                var i = e.touches.length,\n                    touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    if (touch.identifier == dragi.el._drag.id) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        (e.originalEvent ? e.originalEvent : e).preventDefault();\n                        break;\n                    }\n                }\n            } else {\n                e.preventDefault();\n            }\n            var node = dragi.el.node,\n                o,\n                next = node.nextSibling,\n                parent = node.parentNode,\n                display = node.style.display;\n            g.win.opera && parent.removeChild(node);\n            node.style.display = "none";\n            o = dragi.el.paper.getElementByPoint(x, y);\n            node.style.display = display;\n            g.win.opera && (next ? parent.insertBefore(node, next) : parent.appendChild(node));\n            o && eve("raphael.drag.over." + dragi.el.id, dragi.el, o);\n            x += scrollX;\n            y += scrollY;\n            eve("raphael.drag.move." + dragi.el.id, dragi.move_scope || dragi.el, x - dragi.el._drag.x, y - dragi.el._drag.y, x, y, e);\n        }\n    },\n    dragUp = function (e) {\n        R.unmousemove(dragMove).unmouseup(dragUp);\n        var i = drag.length,\n            dragi;\n        while (i--) {\n            dragi = drag[i];\n            dragi.el._drag = {};\n            eve("raphael.drag.end." + dragi.el.id, dragi.end_scope || dragi.start_scope || dragi.move_scope || dragi.el, e);\n        }\n        drag = [];\n    },\n    /*\\\n     * Raphael.el\n     [ property (object) ]\n     **\n     * You can add your own method to elements. This is useful when you want to hack default functionality or\n     * want to wrap some common transformation or attributes in one method. In difference to canvas methods,\n     * you can redefine element method at any time. Expending element methods wouldnât affect set.\n     > Usage\n     | Raphael.el.red = function () {\n     |     this.attr({fill: "#f00"});\n     | };\n     | // then use it\n     | paper.circle(100, 100, 20).red();\n    \\*/\n    elproto = R.el = {};\n    /*\\\n     * Element.click\n     [ method ]\n     **\n     * Adds event handler for click for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unclick\n     [ method ]\n     **\n     * Removes event handler for click for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.dblclick\n     [ method ]\n     **\n     * Adds event handler for double click for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.undblclick\n     [ method ]\n     **\n     * Removes event handler for double click for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mousedown\n     [ method ]\n     **\n     * Adds event handler for mousedown for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousedown\n     [ method ]\n     **\n     * Removes event handler for mousedown for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mousemove\n     [ method ]\n     **\n     * Adds event handler for mousemove for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmousemove\n     [ method ]\n     **\n     * Removes event handler for mousemove for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseout\n     [ method ]\n     **\n     * Adds event handler for mouseout for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseout\n     [ method ]\n     **\n     * Removes event handler for mouseout for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseover\n     [ method ]\n     **\n     * Adds event handler for mouseover for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseover\n     [ method ]\n     **\n     * Removes event handler for mouseover for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.mouseup\n     [ method ]\n     **\n     * Adds event handler for mouseup for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.unmouseup\n     [ method ]\n     **\n     * Removes event handler for mouseup for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchstart\n     [ method ]\n     **\n     * Adds event handler for touchstart for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchstart\n     [ method ]\n     **\n     * Removes event handler for touchstart for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchmove\n     [ method ]\n     **\n     * Adds event handler for touchmove for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchmove\n     [ method ]\n     **\n     * Removes event handler for touchmove for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchend\n     [ method ]\n     **\n     * Adds event handler for touchend for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchend\n     [ method ]\n     **\n     * Removes event handler for touchend for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n\n    /*\\\n     * Element.touchcancel\n     [ method ]\n     **\n     * Adds event handler for touchcancel for the element.\n     > Parameters\n     - handler (function) handler for the event\n     = (object) @Element\n    \\*/\n    /*\\\n     * Element.untouchcancel\n     [ method ]\n     **\n     * Removes event handler for touchcancel for the element.\n     > Parameters\n     - handler (function) #optional handler for the event\n     = (object) @Element\n    \\*/\n    for (var i = events.length; i--;) {\n        (function (eventName) {\n            R[eventName] = elproto[eventName] = function (fn, scope) {\n                if (R.is(fn, "function")) {\n                    this.events = this.events || [];\n                    this.events.push({name: eventName, f: fn, unbind: addEvent(this.shape || this.node || g.doc, eventName, fn, scope || this)});\n                }\n                return this;\n            };\n            R["un" + eventName] = elproto["un" + eventName] = function (fn) {\n                var events = this.events || [],\n                    l = events.length;\n                while (l--){\n                    if (events[l].name == eventName && (R.is(fn, "undefined") || events[l].f == fn)) {\n                        events[l].unbind();\n                        events.splice(l, 1);\n                        !events.length && delete this.events;\n                    }\n                }\n                return this;\n            };\n        })(events[i]);\n    }\n\n    /*\\\n     * Element.data\n     [ method ]\n     **\n     * Adds or retrieves given value associated with given key.\n     **\n     * See also @Element.removeData\n     > Parameters\n     - key (string) key to store data\n     - value (any) #optional value to store\n     = (object) @Element\n     * or, if value is not specified:\n     = (any) value\n     * or, if key and value are not specified:\n     = (object) Key/value pairs for all the data associated with the element.\n     > Usage\n     | for (var i = 0, i < 5, i++) {\n     |     paper.circle(10 + 15 * i, 10, 10)\n     |          .attr({fill: "#000"})\n     |          .data("i", i)\n     |          .click(function () {\n     |             alert(this.data("i"));\n     |          });\n     | }\n    \\*/\n    elproto.data = function (key, value) {\n        var data = eldata[this.id] = eldata[this.id] || {};\n        if (arguments.length == 0) {\n            return data;\n        }\n        if (arguments.length == 1) {\n            if (R.is(key, "object")) {\n                for (var i in key) if (key[has](i)) {\n                    this.data(i, key[i]);\n                }\n                return this;\n            }\n            eve("raphael.data.get." + this.id, this, data[key], key);\n            return data[key];\n        }\n        data[key] = value;\n        eve("raphael.data.set." + this.id, this, value, key);\n        return this;\n    };\n    /*\\\n     * Element.removeData\n     [ method ]\n     **\n     * Removes value associated with an element by given key.\n     * If key is not provided, removes all the data of the element.\n     > Parameters\n     - key (string) #optional key\n     = (object) @Element\n    \\*/\n    elproto.removeData = function (key) {\n        if (key == null) {\n            delete eldata[this.id];\n        } else {\n            eldata[this.id] && delete eldata[this.id][key];\n        }\n        return this;\n    };\n     /*\\\n     * Element.getData\n     [ method ]\n     **\n     * Retrieves the element data\n     = (object) data\n    \\*/\n    elproto.getData = function () {\n        return clone(eldata[this.id] || {});\n    };\n    /*\\\n     * Element.hover\n     [ method ]\n     **\n     * Adds event handlers for hover for the element.\n     > Parameters\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     - icontext (object) #optional context for hover in handler\n     - ocontext (object) #optional context for hover out handler\n     = (object) @Element\n    \\*/\n    elproto.hover = function (f_in, f_out, scope_in, scope_out) {\n        return this.mouseover(f_in, scope_in).mouseout(f_out, scope_out || scope_in);\n    };\n    /*\\\n     * Element.unhover\n     [ method ]\n     **\n     * Removes event handlers for hover for the element.\n     > Parameters\n     - f_in (function) handler for hover in\n     - f_out (function) handler for hover out\n     = (object) @Element\n    \\*/\n    elproto.unhover = function (f_in, f_out) {\n        return this.unmouseover(f_in).unmouseout(f_out);\n    };\n    var draggable = [];\n    /*\\\n     * Element.drag\n     [ method ]\n     **\n     * Adds event handlers for drag of the element.\n     > Parameters\n     - onmove (function) handler for moving\n     - onstart (function) handler for drag start\n     - onend (function) handler for drag end\n     - mcontext (object) #optional context for moving handler\n     - scontext (object) #optional context for drag start handler\n     - econtext (object) #optional context for drag end handler\n     * Additionally following `drag` events will be triggered: `drag.start.<id>` on start,\n     * `drag.end.<id>` on end and `drag.move.<id>` on every move. When element will be dragged over another element\n     * `drag.over.<id>` will be fired as well.\n     *\n     * Start event and start handler will be called in specified context or in context of the element with following parameters:\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * Move event and move handler will be called in specified context or in context of the element with following parameters:\n     o dx (number) shift by x from the start point\n     o dy (number) shift by y from the start point\n     o x (number) x position of the mouse\n     o y (number) y position of the mouse\n     o event (object) DOM event object\n     * End event and end handler will be called in specified context or in context of the element with following parameters:\n     o event (object) DOM event object\n     = (object) @Element\n    \\*/\n    elproto.drag = function (onmove, onstart, onend, move_scope, start_scope, end_scope) {\n        function start(e) {\n            (e.originalEvent || e).preventDefault();\n            var x = e.clientX,\n                y = e.clientY,\n                scrollY = g.doc.documentElement.scrollTop || g.doc.body.scrollTop,\n                scrollX = g.doc.documentElement.scrollLeft || g.doc.body.scrollLeft;\n            this._drag.id = e.identifier;\n            if (supportsTouch && e.touches) {\n                var i = e.touches.length, touch;\n                while (i--) {\n                    touch = e.touches[i];\n                    this._drag.id = touch.identifier;\n                    if (touch.identifier == this._drag.id) {\n                        x = touch.clientX;\n                        y = touch.clientY;\n                        break;\n                    }\n                }\n            }\n            this._drag.x = x + scrollX;\n            this._drag.y = y + scrollY;\n            !drag.length && R.mousemove(dragMove).mouseup(dragUp);\n            drag.push({el: this, move_scope: move_scope, start_scope: start_scope, end_scope: end_scope});\n            onstart && eve.on("raphael.drag.start." + this.id, onstart);\n            onmove && eve.on("raphael.drag.move." + this.id, onmove);\n            onend && eve.on("raphael.drag.end." + this.id, onend);\n            eve("raphael.drag.start." + this.id, start_scope || move_scope || this, this._drag.x, this._drag.y, e);\n        }\n        this._drag = {};\n        draggable.push({el: this, start: start});\n        this.mousedown(start);\n        return this;\n    };\n    /*\\\n     * Element.onDragOver\n     [ method ]\n     **\n     * Shortcut for assigning event handler for `drag.over.<id>` event, where id is id of the element (see @Element.id).\n     > Parameters\n     - f (function) handler for event, first argument would be the element you are dragging over\n    \\*/\n    elproto.onDragOver = function (f) {\n        f ? eve.on("raphael.drag.over." + this.id, f) : eve.unbind("raphael.drag.over." + this.id);\n    };\n    /*\\\n     * Element.undrag\n     [ method ]\n     **\n     * Removes all drag event handlers from given element.\n    \\*/\n    elproto.undrag = function () {\n        var i = draggable.length;\n        while (i--) if (draggable[i].el == this) {\n            this.unmousedown(draggable[i].start);\n            draggable.splice(i, 1);\n            eve.unbind("raphael.drag.*." + this.id);\n        }\n        !draggable.length && R.unmousemove(dragMove).unmouseup(dragUp);\n        drag = [];\n    };\n    /*\\\n     * Paper.circle\n     [ method ]\n     **\n     * Draws a circle.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - r (number) radius\n     = (object) RaphaÃ«l element object with type âcircleâ\n     **\n     > Usage\n     | var c = paper.circle(50, 50, 40);\n    \\*/\n    paperproto.circle = function (x, y, r) {\n        var out = R._engine.circle(this, x || 0, y || 0, r || 0);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.rect\n     [ method ]\n     *\n     * Draws a rectangle.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the top left corner\n     - y (number) y coordinate of the top left corner\n     - width (number) width\n     - height (number) height\n     - r (number) #optional radius for rounded corners, default is 0\n     = (object) RaphaÃ«l element object with type ârectâ\n     **\n     > Usage\n     | // regular rectangle\n     | var c = paper.rect(10, 10, 50, 50);\n     | // rectangle with rounded corners\n     | var c = paper.rect(40, 40, 50, 50, 10);\n    \\*/\n    paperproto.rect = function (x, y, w, h, r) {\n        var out = R._engine.rect(this, x || 0, y || 0, w || 0, h || 0, r || 0);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.ellipse\n     [ method ]\n     **\n     * Draws an ellipse.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the centre\n     - y (number) y coordinate of the centre\n     - rx (number) horizontal radius\n     - ry (number) vertical radius\n     = (object) RaphaÃ«l element object with type âellipseâ\n     **\n     > Usage\n     | var c = paper.ellipse(50, 50, 40, 20);\n    \\*/\n    paperproto.ellipse = function (x, y, rx, ry) {\n        var out = R._engine.ellipse(this, x || 0, y || 0, rx || 0, ry || 0);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.path\n     [ method ]\n     **\n     * Creates a path element by given path data string.\n     > Parameters\n     - pathString (string) #optional path string in SVG format.\n     * Path string consists of one-letter commands, followed by comma seprarated arguments in numercal form. Example:\n     | "M10,20L30,40"\n     * Here we can see two commands: âMâ, with arguments `(10, 20)` and âLâ with arguments `(30, 40)`. Upper case letter mean command is absolute, lower caseârelative.\n     *\n     # <p>Here is short list of commands available, for more details see <a href="http://www.w3.org/TR/SVG/paths.html#PathData" title="Details of a path\'s data attribute\'s format are described in the SVG specification.">SVG path string format</a>.</p>\n     # <table><thead><tr><th>Command</th><th>Name</th><th>Parameters</th></tr></thead><tbody>\n     # <tr><td>M</td><td>moveto</td><td>(x y)+</td></tr>\n     # <tr><td>Z</td><td>closepath</td><td>(none)</td></tr>\n     # <tr><td>L</td><td>lineto</td><td>(x y)+</td></tr>\n     # <tr><td>H</td><td>horizontal lineto</td><td>x+</td></tr>\n     # <tr><td>V</td><td>vertical lineto</td><td>y+</td></tr>\n     # <tr><td>C</td><td>curveto</td><td>(x1 y1 x2 y2 x y)+</td></tr>\n     # <tr><td>S</td><td>smooth curveto</td><td>(x2 y2 x y)+</td></tr>\n     # <tr><td>Q</td><td>quadratic BÃ©zier curveto</td><td>(x1 y1 x y)+</td></tr>\n     # <tr><td>T</td><td>smooth quadratic BÃ©zier curveto</td><td>(x y)+</td></tr>\n     # <tr><td>A</td><td>elliptical arc</td><td>(rx ry x-axis-rotation large-arc-flag sweep-flag x y)+</td></tr>\n     # <tr><td>R</td><td><a href="http://en.wikipedia.org/wiki/CatmullâRom_spline#Catmull.E2.80.93Rom_spline">Catmull-Rom curveto</a>*</td><td>x1 y1 (x y)+</td></tr></tbody></table>\n     * * âCatmull-Rom curvetoâ is a not standard SVG command and added in 2.0 to make life easier.\n     * Note: there is a special case when path consist of just three commands: âM10,10Râ¦zâ. In this case path will smoothly connects to its beginning.\n     > Usage\n     | var c = paper.path("M10 10L90 90");\n     | // draw a diagonal line:\n     | // move to 10,10, line to 90,90\n     * For example of path strings, check out these icons: http://raphaeljs.com/icons/\n    \\*/\n    paperproto.path = function (pathString) {\n        pathString && !R.is(pathString, string) && !R.is(pathString[0], array) && (pathString += E);\n        var out = R._engine.path(R.format[apply](R, arguments), this);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.image\n     [ method ]\n     **\n     * Embeds an image into the surface.\n     **\n     > Parameters\n     **\n     - src (string) URI of the source image\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - width (number) width of the image\n     - height (number) height of the image\n     = (object) RaphaÃ«l element object with type âimageâ\n     **\n     > Usage\n     | var c = paper.image("apple.png", 10, 10, 80, 80);\n    \\*/\n    paperproto.image = function (src, x, y, w, h) {\n        var out = R._engine.image(this, src || "about:blank", x || 0, y || 0, w || 0, h || 0);\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.text\n     [ method ]\n     **\n     * Draws a text string. If you need line breaks, put â\\nâ in the string.\n     **\n     > Parameters\n     **\n     - x (number) x coordinate position\n     - y (number) y coordinate position\n     - text (string) The text string to draw\n     = (object) RaphaÃ«l element object with type âtextâ\n     **\n     > Usage\n     | var t = paper.text(50, 50, "RaphaÃ«l\\nkicks\\nbutt!");\n    \\*/\n    paperproto.text = function (x, y, text) {\n        var out = R._engine.text(this, x || 0, y || 0, Str(text));\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Paper.set\n     [ method ]\n     **\n     * Creates array-like object to keep and operate several elements at once.\n     * Warning: it doesnât create any elements for itself in the page, it just groups existing elements.\n     * Sets act as pseudo elements â all methods available to an element can be used on a set.\n     = (object) array-like object that represents set of elements\n     **\n     > Usage\n     | var st = paper.set();\n     | st.push(\n     |     paper.circle(10, 10, 5),\n     |     paper.circle(30, 10, 5)\n     | );\n     | st.attr({fill: "red"}); // changes the fill of both circles\n    \\*/\n    paperproto.set = function (itemsArray) {\n        !R.is(itemsArray, "array") && (itemsArray = Array.prototype.splice.call(arguments, 0, arguments.length));\n        var out = new Set(itemsArray);\n        this.__set__ && this.__set__.push(out);\n        out["paper"] = this;\n        out["type"] = "set";\n        return out;\n    };\n    /*\\\n     * Paper.setStart\n     [ method ]\n     **\n     * Creates @Paper.set. All elements that will be created after calling this method and before calling\n     * @Paper.setFinish will be added to the set.\n     **\n     > Usage\n     | paper.setStart();\n     | paper.circle(10, 10, 5),\n     | paper.circle(30, 10, 5)\n     | var st = paper.setFinish();\n     | st.attr({fill: "red"}); // changes the fill of both circles\n    \\*/\n    paperproto.setStart = function (set) {\n        this.__set__ = set || this.set();\n    };\n    /*\\\n     * Paper.setFinish\n     [ method ]\n     **\n     * See @Paper.setStart. This method finishes catching and returns resulting set.\n     **\n     = (object) set\n    \\*/\n    paperproto.setFinish = function (set) {\n        var out = this.__set__;\n        delete this.__set__;\n        return out;\n    };\n    /*\\\n     * Paper.getSize\n     [ method ]\n     **\n     * Obtains current paper actual size.\n     **\n     = (object)\n     \\*/\n    paperproto.getSize = function () {\n        var container = this.canvas.parentNode;\n        return {\n            width: container.offsetWidth,\n            height: container.offsetHeight\n                };\n        };\n    /*\\\n     * Paper.setSize\n     [ method ]\n     **\n     * If you need to change dimensions of the canvas call this method\n     **\n     > Parameters\n     **\n     - width (number) new width of the canvas\n     - height (number) new height of the canvas\n    \\*/\n    paperproto.setSize = function (width, height) {\n        return R._engine.setSize.call(this, width, height);\n    };\n    /*\\\n     * Paper.setViewBox\n     [ method ]\n     **\n     * Sets the view box of the paper. Practically it gives you ability to zoom and pan whole paper surface by\n     * specifying new boundaries.\n     **\n     > Parameters\n     **\n     - x (number) new x position, default is `0`\n     - y (number) new y position, default is `0`\n     - w (number) new width of the canvas\n     - h (number) new height of the canvas\n     - fit (boolean) `true` if you want graphics to fit into new boundary box\n    \\*/\n    paperproto.setViewBox = function (x, y, w, h, fit) {\n        return R._engine.setViewBox.call(this, x, y, w, h, fit);\n    };\n    /*\\\n     * Paper.top\n     [ property ]\n     **\n     * Points to the topmost element on the paper\n    \\*/\n    /*\\\n     * Paper.bottom\n     [ property ]\n     **\n     * Points to the bottom element on the paper\n    \\*/\n    paperproto.top = paperproto.bottom = null;\n    /*\\\n     * Paper.raphael\n     [ property ]\n     **\n     * Points to the @Raphael object/function\n    \\*/\n    paperproto.raphael = R;\n    var getOffset = function (elem) {\n        var box = elem.getBoundingClientRect(),\n            doc = elem.ownerDocument,\n            body = doc.body,\n            docElem = doc.documentElement,\n            clientTop = docElem.clientTop || body.clientTop || 0, clientLeft = docElem.clientLeft || body.clientLeft || 0,\n            top  = box.top  + (g.win.pageYOffset || docElem.scrollTop || body.scrollTop ) - clientTop,\n            left = box.left + (g.win.pageXOffset || docElem.scrollLeft || body.scrollLeft) - clientLeft;\n        return {\n            y: top,\n            x: left\n        };\n    };\n    /*\\\n     * Paper.getElementByPoint\n     [ method ]\n     **\n     * Returns you topmost element under given point.\n     **\n     = (object) RaphaÃ«l element object\n     > Parameters\n     **\n     - x (number) x coordinate from the top left corner of the window\n     - y (number) y coordinate from the top left corner of the window\n     > Usage\n     | paper.getElementByPoint(mouseX, mouseY).attr({stroke: "#f00"});\n    \\*/\n    paperproto.getElementByPoint = function (x, y) {\n        var paper = this,\n            svg = paper.canvas,\n            target = g.doc.elementFromPoint(x, y);\n        if (g.win.opera && target.tagName == "svg") {\n            var so = getOffset(svg),\n                sr = svg.createSVGRect();\n            sr.x = x - so.x;\n            sr.y = y - so.y;\n            sr.width = sr.height = 1;\n            var hits = svg.getIntersectionList(sr, null);\n            if (hits.length) {\n                target = hits[hits.length - 1];\n            }\n        }\n        if (!target) {\n            return null;\n        }\n        while (target.parentNode && target != svg.parentNode && !target.raphael) {\n            target = target.parentNode;\n        }\n        target == paper.canvas.parentNode && (target = svg);\n        target = target && target.raphael ? paper.getById(target.raphaelid) : null;\n        return target;\n    };\n\n    /*\\\n     * Paper.getElementsByBBox\n     [ method ]\n     **\n     * Returns set of elements that have an intersecting bounding box\n     **\n     > Parameters\n     **\n     - bbox (object) bbox to check with\n     = (object) @Set\n     \\*/\n    paperproto.getElementsByBBox = function (bbox) {\n        var set = this.set();\n        this.forEach(function (el) {\n            if (R.isBBoxIntersect(el.getBBox(), bbox)) {\n                set.push(el);\n            }\n        });\n        return set;\n    };\n\n    /*\\\n     * Paper.getById\n     [ method ]\n     **\n     * Returns you element by its internal ID.\n     **\n     > Parameters\n     **\n     - id (number) id\n     = (object) RaphaÃ«l element object\n    \\*/\n    paperproto.getById = function (id) {\n        var bot = this.bottom;\n        while (bot) {\n            if (bot.id == id) {\n                return bot;\n            }\n            bot = bot.next;\n        }\n        return null;\n    };\n    /*\\\n     * Paper.forEach\n     [ method ]\n     **\n     * Executes given function for each element on the paper\n     *\n     * If callback function returns `false` it will stop loop running.\n     **\n     > Parameters\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Paper object\n     > Usage\n     | paper.forEach(function (el) {\n     |     el.attr({ stroke: "blue" });\n     | });\n    \\*/\n    paperproto.forEach = function (callback, thisArg) {\n        var bot = this.bottom;\n        while (bot) {\n            if (callback.call(thisArg, bot) === false) {\n                return this;\n            }\n            bot = bot.next;\n        }\n        return this;\n    };\n    /*\\\n     * Paper.getElementsByPoint\n     [ method ]\n     **\n     * Returns set of elements that have common point inside\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the point\n     - y (number) y coordinate of the point\n     = (object) @Set\n    \\*/\n    paperproto.getElementsByPoint = function (x, y) {\n        var set = this.set();\n        this.forEach(function (el) {\n            if (el.isPointInside(x, y)) {\n                set.push(el);\n            }\n        });\n        return set;\n    };\n    function x_y() {\n        return this.x + S + this.y;\n    }\n    function x_y_w_h() {\n        return this.x + S + this.y + S + this.width + " \\xd7 " + this.height;\n    }\n    /*\\\n     * Element.isPointInside\n     [ method ]\n     **\n     * Determine if given point is inside this elementâs shape\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the point\n     - y (number) y coordinate of the point\n     = (boolean) `true` if point inside the shape\n    \\*/\n    elproto.isPointInside = function (x, y) {\n        var rp = this.realPath = getPath[this.type](this);\n        if (this.attr(\'transform\') && this.attr(\'transform\').length) {\n            rp = R.transformPath(rp, this.attr(\'transform\'));\n        }\n        return R.isPointInsidePath(rp, x, y);\n    };\n    /*\\\n     * Element.getBBox\n     [ method ]\n     **\n     * Return bounding box for a given element\n     **\n     > Parameters\n     **\n     - isWithoutTransform (boolean) flag, `true` if you want to have bounding box before transformations. Default is `false`.\n     = (object) Bounding box object:\n     o {\n     o     x: (number) top left corner x\n     o     y: (number) top left corner y\n     o     x2: (number) bottom right corner x\n     o     y2: (number) bottom right corner y\n     o     width: (number) width\n     o     height: (number) height\n     o }\n    \\*/\n    elproto.getBBox = function (isWithoutTransform) {\n        if (this.removed) {\n            return {};\n        }\n        var _ = this._;\n        if (isWithoutTransform) {\n            if (_.dirty || !_.bboxwt) {\n                this.realPath = getPath[this.type](this);\n                _.bboxwt = pathDimensions(this.realPath);\n                _.bboxwt.toString = x_y_w_h;\n                _.dirty = 0;\n            }\n            return _.bboxwt;\n        }\n        if (_.dirty || _.dirtyT || !_.bbox) {\n            if (_.dirty || !this.realPath) {\n                _.bboxwt = 0;\n                this.realPath = getPath[this.type](this);\n            }\n            _.bbox = pathDimensions(mapPath(this.realPath, this.matrix));\n            _.bbox.toString = x_y_w_h;\n            _.dirty = _.dirtyT = 0;\n        }\n        return _.bbox;\n    };\n    /*\\\n     * Element.clone\n     [ method ]\n     **\n     = (object) clone of a given element\n     **\n    \\*/\n    elproto.clone = function () {\n        if (this.removed) {\n            return null;\n        }\n        var out = this.paper[this.type]().attr(this.attr());\n        this.__set__ && this.__set__.push(out);\n        return out;\n    };\n    /*\\\n     * Element.glow\n     [ method ]\n     **\n     * Return set of elements that create glow-like effect around given element. See @Paper.set.\n     *\n     * Note: Glow is not connected to the element. If you change element attributes it wonât adjust itself.\n     **\n     > Parameters\n     **\n     - glow (object) #optional parameters object with all properties optional:\n     o {\n     o     width (number) size of the glow, default is `10`\n     o     fill (boolean) will it be filled, default is `false`\n     o     opacity (number) opacity, default is `0.5`\n     o     offsetx (number) horizontal offset, default is `0`\n     o     offsety (number) vertical offset, default is `0`\n     o     color (string) glow colour, default is `black`\n     o }\n     = (object) @Paper.set of elements that represents glow\n    \\*/\n    elproto.glow = function (glow) {\n        if (this.type == "text") {\n            return null;\n        }\n        glow = glow || {};\n        var s = {\n            width: (glow.width || 10) + (+this.attr("stroke-width") || 1),\n            fill: glow.fill || false,\n            opacity: glow.opacity == null ? .5 : glow.opacity,\n            offsetx: glow.offsetx || 0,\n            offsety: glow.offsety || 0,\n            color: glow.color || "#000"\n        },\n            c = s.width / 2,\n            r = this.paper,\n            out = r.set(),\n            path = this.realPath || getPath[this.type](this);\n        path = this.matrix ? mapPath(path, this.matrix) : path;\n        for (var i = 1; i < c + 1; i++) {\n            out.push(r.path(path).attr({\n                stroke: s.color,\n                fill: s.fill ? s.color : "none",\n                "stroke-linejoin": "round",\n                "stroke-linecap": "round",\n                "stroke-width": +(s.width / c * i).toFixed(3),\n                opacity: +(s.opacity / c).toFixed(3)\n            }));\n        }\n        return out.insertBefore(this).translate(s.offsetx, s.offsety);\n    };\n    var curveslengths = {},\n    getPointAtSegmentLength = function (p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length) {\n        if (length == null) {\n            return bezlen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y);\n        } else {\n            return R.findDotsAtSegment(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, getTatLen(p1x, p1y, c1x, c1y, c2x, c2y, p2x, p2y, length));\n        }\n    },\n    getLengthFactory = function (istotal, subpath) {\n        return function (path, length, onlystart) {\n            path = path2curve(path);\n            var x, y, p, l, sp = "", subpaths = {}, point,\n                len = 0;\n            for (var i = 0, ii = path.length; i < ii; i++) {\n                p = path[i];\n                if (p[0] == "M") {\n                    x = +p[1];\n                    y = +p[2];\n                } else {\n                    l = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6]);\n                    if (len + l > length) {\n                        if (subpath && !subpaths.start) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            sp += ["C" + point.start.x, point.start.y, point.m.x, point.m.y, point.x, point.y];\n                            if (onlystart) {return sp;}\n                            subpaths.start = sp;\n                            sp = ["M" + point.x, point.y + "C" + point.n.x, point.n.y, point.end.x, point.end.y, p[5], p[6]].join();\n                            len += l;\n                            x = +p[5];\n                            y = +p[6];\n                            continue;\n                        }\n                        if (!istotal && !subpath) {\n                            point = getPointAtSegmentLength(x, y, p[1], p[2], p[3], p[4], p[5], p[6], length - len);\n                            return {x: point.x, y: point.y, alpha: point.alpha};\n                        }\n                    }\n                    len += l;\n                    x = +p[5];\n                    y = +p[6];\n                }\n                sp += p.shift() + p;\n            }\n            subpaths.end = sp;\n            point = istotal ? len : subpath ? subpaths : R.findDotsAtSegment(x, y, p[0], p[1], p[2], p[3], p[4], p[5], 1);\n            point.alpha && (point = {x: point.x, y: point.y, alpha: point.alpha});\n            return point;\n        };\n    };\n    var getTotalLength = getLengthFactory(1),\n        getPointAtLength = getLengthFactory(),\n        getSubpathsAtLength = getLengthFactory(0, 1);\n    /*\\\n     * Raphael.getTotalLength\n     [ method ]\n     **\n     * Returns length of the given path in pixels.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string.\n     **\n     = (number) length.\n    \\*/\n    R.getTotalLength = getTotalLength;\n    /*\\\n     * Raphael.getPointAtLength\n     [ method ]\n     **\n     * Return coordinates of the point located at the given length on the given path.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string\n     - length (number)\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate\n     o     y: (number) y coordinate\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    R.getPointAtLength = getPointAtLength;\n    /*\\\n     * Raphael.getSubpath\n     [ method ]\n     **\n     * Return subpath of a given path from given length to given length.\n     **\n     > Parameters\n     **\n     - path (string) SVG path string\n     - from (number) position of the start of the segment\n     - to (number) position of the end of the segment\n     **\n     = (string) pathstring for the segment\n    \\*/\n    R.getSubpath = function (path, from, to) {\n        if (this.getTotalLength(path) - to < 1e-6) {\n            return getSubpathsAtLength(path, from).end;\n        }\n        var a = getSubpathsAtLength(path, to, 1);\n        return from ? getSubpathsAtLength(a, from).end : a;\n    };\n    /*\\\n     * Element.getTotalLength\n     [ method ]\n     **\n     * Returns length of the path in pixels. Only works for element of âpathâ type.\n     = (number) length.\n    \\*/\n    elproto.getTotalLength = function () {\n        var path = this.getPath();\n        if (!path) {\n            return;\n        }\n\n        if (this.node.getTotalLength) {\n            return this.node.getTotalLength();\n        }\n\n        return getTotalLength(path);\n    };\n    /*\\\n     * Element.getPointAtLength\n     [ method ]\n     **\n     * Return coordinates of the point located at the given length on the given path. Only works for element of âpathâ type.\n     **\n     > Parameters\n     **\n     - length (number)\n     **\n     = (object) representation of the point:\n     o {\n     o     x: (number) x coordinate\n     o     y: (number) y coordinate\n     o     alpha: (number) angle of derivative\n     o }\n    \\*/\n    elproto.getPointAtLength = function (length) {\n        var path = this.getPath();\n        if (!path) {\n            return;\n        }\n\n        return getPointAtLength(path, length);\n    };\n    /*\\\n     * Element.getPath\n     [ method ]\n     **\n     * Returns path of the element. Only works for elements of âpathâ type and simple elements like circle.\n     = (object) path\n     **\n    \\*/\n    elproto.getPath = function () {\n        var path,\n            getPath = R._getPath[this.type];\n\n        if (this.type == "text" || this.type == "set") {\n            return;\n        }\n\n        if (getPath) {\n            path = getPath(this);\n        }\n\n        return path;\n    };\n    /*\\\n     * Element.getSubpath\n     [ method ]\n     **\n     * Return subpath of a given element from given length to given length. Only works for element of âpathâ type.\n     **\n     > Parameters\n     **\n     - from (number) position of the start of the segment\n     - to (number) position of the end of the segment\n     **\n     = (string) pathstring for the segment\n    \\*/\n    elproto.getSubpath = function (from, to) {\n        var path = this.getPath();\n        if (!path) {\n            return;\n        }\n\n        return R.getSubpath(path, from, to);\n    };\n    /*\\\n     * Raphael.easing_formulas\n     [ property ]\n     **\n     * Object that contains easing formulas for animation. You could extend it with your own. By default it has following list of easing:\n     # <ul>\n     #     <li>âlinearâ</li>\n     #     <li>â&lt;â or âeaseInâ or âease-inâ</li>\n     #     <li>â>â or âeaseOutâ or âease-outâ</li>\n     #     <li>â&lt;>â or âeaseInOutâ or âease-in-outâ</li>\n     #     <li>âbackInâ or âback-inâ</li>\n     #     <li>âbackOutâ or âback-outâ</li>\n     #     <li>âelasticâ</li>\n     #     <li>âbounceâ</li>\n     # </ul>\n     # <p>See also <a href="http://raphaeljs.com/easing.html">Easing demo</a>.</p>\n    \\*/\n    var ef = R.easing_formulas = {\n        linear: function (n) {\n            return n;\n        },\n        "<": function (n) {\n            return pow(n, 1.7);\n        },\n        ">": function (n) {\n            return pow(n, .48);\n        },\n        "<>": function (n) {\n            var q = .48 - n / 1.04,\n                Q = math.sqrt(.1734 + q * q),\n                x = Q - q,\n                X = pow(abs(x), 1 / 3) * (x < 0 ? -1 : 1),\n                y = -Q - q,\n                Y = pow(abs(y), 1 / 3) * (y < 0 ? -1 : 1),\n                t = X + Y + .5;\n            return (1 - t) * 3 * t * t + t * t * t;\n        },\n        backIn: function (n) {\n            var s = 1.70158;\n            return n * n * ((s + 1) * n - s);\n        },\n        backOut: function (n) {\n            n = n - 1;\n            var s = 1.70158;\n            return n * n * ((s + 1) * n + s) + 1;\n        },\n        elastic: function (n) {\n            if (n == !!n) {\n                return n;\n            }\n            return pow(2, -10 * n) * math.sin((n - .075) * (2 * PI) / .3) + 1;\n        },\n        bounce: function (n) {\n            var s = 7.5625,\n                p = 2.75,\n                l;\n            if (n < (1 / p)) {\n                l = s * n * n;\n            } else {\n                if (n < (2 / p)) {\n                    n -= (1.5 / p);\n                    l = s * n * n + .75;\n                } else {\n                    if (n < (2.5 / p)) {\n                        n -= (2.25 / p);\n                        l = s * n * n + .9375;\n                    } else {\n                        n -= (2.625 / p);\n                        l = s * n * n + .984375;\n                    }\n                }\n            }\n            return l;\n        }\n    };\n    ef.easeIn = ef["ease-in"] = ef["<"];\n    ef.easeOut = ef["ease-out"] = ef[">"];\n    ef.easeInOut = ef["ease-in-out"] = ef["<>"];\n    ef["back-in"] = ef.backIn;\n    ef["back-out"] = ef.backOut;\n\n    var animationElements = [],\n        requestAnimFrame = window.requestAnimationFrame       ||\n                           window.webkitRequestAnimationFrame ||\n                           window.mozRequestAnimationFrame    ||\n                           window.oRequestAnimationFrame      ||\n                           window.msRequestAnimationFrame     ||\n                           function (callback) {\n                               setTimeout(callback, 16);\n                           },\n        animation = function () {\n            var Now = +new Date,\n                l = 0;\n            for (; l < animationElements.length; l++) {\n                var e = animationElements[l];\n                if (e.el.removed || e.paused) {\n                    continue;\n                }\n                var time = Now - e.start,\n                    ms = e.ms,\n                    easing = e.easing,\n                    from = e.from,\n                    diff = e.diff,\n                    to = e.to,\n                    t = e.t,\n                    that = e.el,\n                    set = {},\n                    now,\n                    init = {},\n                    key;\n                if (e.initstatus) {\n                    time = (e.initstatus * e.anim.top - e.prev) / (e.percent - e.prev) * ms;\n                    e.status = e.initstatus;\n                    delete e.initstatus;\n                    e.stop && animationElements.splice(l--, 1);\n                } else {\n                    e.status = (e.prev + (e.percent - e.prev) * (time / ms)) / e.anim.top;\n                }\n                if (time < 0) {\n                    continue;\n                }\n                if (time < ms) {\n                    var pos = easing(time / ms);\n                    for (var attr in from) if (from[has](attr)) {\n                        switch (availableAnimAttrs[attr]) {\n                            case nu:\n                                now = +from[attr] + pos * ms * diff[attr];\n                                break;\n                            case "colour":\n                                now = "rgb(" + [\n                                    upto255(round(from[attr].r + pos * ms * diff[attr].r)),\n                                    upto255(round(from[attr].g + pos * ms * diff[attr].g)),\n                                    upto255(round(from[attr].b + pos * ms * diff[attr].b))\n                                ].join(",") + ")";\n                                break;\n                            case "path":\n                                now = [];\n                                for (var i = 0, ii = from[attr].length; i < ii; i++) {\n                                    now[i] = [from[attr][i][0]];\n                                    for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                        now[i][j] = +from[attr][i][j] + pos * ms * diff[attr][i][j];\n                                    }\n                                    now[i] = now[i].join(S);\n                                }\n                                now = now.join(S);\n                                break;\n                            case "transform":\n                                if (diff[attr].real) {\n                                    now = [];\n                                    for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                        now[i] = [from[attr][i][0]];\n                                        for (j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                            now[i][j] = from[attr][i][j] + pos * ms * diff[attr][i][j];\n                                        }\n                                    }\n                                } else {\n                                    var get = function (i) {\n                                        return +from[attr][i] + pos * ms * diff[attr][i];\n                                    };\n                                    // now = [["r", get(2), 0, 0], ["t", get(3), get(4)], ["s", get(0), get(1), 0, 0]];\n                                    now = [["m", get(0), get(1), get(2), get(3), get(4), get(5)]];\n                                }\n                                break;\n                            case "csv":\n                                if (attr == "clip-rect") {\n                                    now = [];\n                                    i = 4;\n                                    while (i--) {\n                                        now[i] = +from[attr][i] + pos * ms * diff[attr][i];\n                                    }\n                                }\n                                break;\n                            default:\n                                var from2 = [][concat](from[attr]);\n                                now = [];\n                                i = that.paper.customAttributes[attr].length;\n                                while (i--) {\n                                    now[i] = +from2[i] + pos * ms * diff[attr][i];\n                                }\n                                break;\n                        }\n                        set[attr] = now;\n                    }\n                    that.attr(set);\n                    (function (id, that, anim) {\n                        setTimeout(function () {\n                            eve("raphael.anim.frame." + id, that, anim);\n                        });\n                    })(that.id, that, e.anim);\n                } else {\n                    (function(f, el, a) {\n                        setTimeout(function() {\n                            eve("raphael.anim.frame." + el.id, el, a);\n                            eve("raphael.anim.finish." + el.id, el, a);\n                            R.is(f, "function") && f.call(el);\n                        });\n                    })(e.callback, that, e.anim);\n                    that.attr(to);\n                    animationElements.splice(l--, 1);\n                    if (e.repeat > 1 && !e.next) {\n                        for (key in to) if (to[has](key)) {\n                            init[key] = e.totalOrigin[key];\n                        }\n                        e.el.attr(init);\n                        runAnimation(e.anim, e.el, e.anim.percents[0], null, e.totalOrigin, e.repeat - 1);\n                    }\n                    if (e.next && !e.stop) {\n                        runAnimation(e.anim, e.el, e.next, null, e.totalOrigin, e.repeat);\n                    }\n                }\n            }\n            animationElements.length && requestAnimFrame(animation);\n        },\n        upto255 = function (color) {\n            return color > 255 ? 255 : color < 0 ? 0 : color;\n        };\n    /*\\\n     * Element.animateWith\n     [ method ]\n     **\n     * Acts similar to @Element.animate, but ensure that given animation runs in sync with another given element.\n     **\n     > Parameters\n     **\n     - el (object) element to sync with\n     - anim (object) animation to sync with\n     - params (object) #optional final attributes for the element, see also @Element.attr\n     - ms (number) #optional number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept on of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     * or\n     - element (object) element to sync with\n     - anim (object) animation to sync with\n     - animation (object) #optional animation object, see @Raphael.animation\n     **\n     = (object) original element\n    \\*/\n    elproto.animateWith = function (el, anim, params, ms, easing, callback) {\n        var element = this;\n        if (element.removed) {\n            callback && callback.call(element);\n            return element;\n        }\n        var a = params instanceof Animation ? params : R.animation(params, ms, easing, callback),\n            x, y;\n        runAnimation(a, element, a.percents[0], null, element.attr());\n        for (var i = 0, ii = animationElements.length; i < ii; i++) {\n            if (animationElements[i].anim == anim && animationElements[i].el == el) {\n                animationElements[ii - 1].start = animationElements[i].start;\n                break;\n            }\n        }\n        return element;\n        //\n        //\n        // var a = params ? R.animation(params, ms, easing, callback) : anim,\n        //     status = element.status(anim);\n        // return this.animate(a).status(a, status * anim.ms / a.ms);\n    };\n    function CubicBezierAtTime(t, p1x, p1y, p2x, p2y, duration) {\n        var cx = 3 * p1x,\n            bx = 3 * (p2x - p1x) - cx,\n            ax = 1 - cx - bx,\n            cy = 3 * p1y,\n            by = 3 * (p2y - p1y) - cy,\n            ay = 1 - cy - by;\n        function sampleCurveX(t) {\n            return ((ax * t + bx) * t + cx) * t;\n        }\n        function solve(x, epsilon) {\n            var t = solveCurveX(x, epsilon);\n            return ((ay * t + by) * t + cy) * t;\n        }\n        function solveCurveX(x, epsilon) {\n            var t0, t1, t2, x2, d2, i;\n            for(t2 = x, i = 0; i < 8; i++) {\n                x2 = sampleCurveX(t2) - x;\n                if (abs(x2) < epsilon) {\n                    return t2;\n                }\n                d2 = (3 * ax * t2 + 2 * bx) * t2 + cx;\n                if (abs(d2) < 1e-6) {\n                    break;\n                }\n                t2 = t2 - x2 / d2;\n            }\n            t0 = 0;\n            t1 = 1;\n            t2 = x;\n            if (t2 < t0) {\n                return t0;\n            }\n            if (t2 > t1) {\n                return t1;\n            }\n            while (t0 < t1) {\n                x2 = sampleCurveX(t2);\n                if (abs(x2 - x) < epsilon) {\n                    return t2;\n                }\n                if (x > x2) {\n                    t0 = t2;\n                } else {\n                    t1 = t2;\n                }\n                t2 = (t1 - t0) / 2 + t0;\n            }\n            return t2;\n        }\n        return solve(t, 1 / (200 * duration));\n    }\n    elproto.onAnimation = function (f) {\n        f ? eve.on("raphael.anim.frame." + this.id, f) : eve.unbind("raphael.anim.frame." + this.id);\n        return this;\n    };\n    function Animation(anim, ms) {\n        var percents = [],\n            newAnim = {};\n        this.ms = ms;\n        this.times = 1;\n        if (anim) {\n            for (var attr in anim) if (anim[has](attr)) {\n                newAnim[toFloat(attr)] = anim[attr];\n                percents.push(toFloat(attr));\n            }\n            percents.sort(sortByNumber);\n        }\n        this.anim = newAnim;\n        this.top = percents[percents.length - 1];\n        this.percents = percents;\n    }\n    /*\\\n     * Animation.delay\n     [ method ]\n     **\n     * Creates a copy of existing animation object with given delay.\n     **\n     > Parameters\n     **\n     - delay (number) number of ms to pass between animation start and actual animation\n     **\n     = (object) new altered Animation object\n     | var anim = Raphael.animation({cx: 10, cy: 20}, 2e3);\n     | circle1.animate(anim); // run the given animation immediately\n     | circle2.animate(anim.delay(500)); // run the given animation after 500 ms\n    \\*/\n    Animation.prototype.delay = function (delay) {\n        var a = new Animation(this.anim, this.ms);\n        a.times = this.times;\n        a.del = +delay || 0;\n        return a;\n    };\n    /*\\\n     * Animation.repeat\n     [ method ]\n     **\n     * Creates a copy of existing animation object with given repetition.\n     **\n     > Parameters\n     **\n     - repeat (number) number iterations of animation. For infinite animation pass `Infinity`\n     **\n     = (object) new altered Animation object\n    \\*/\n    Animation.prototype.repeat = function (times) {\n        var a = new Animation(this.anim, this.ms);\n        a.del = this.del;\n        a.times = math.floor(mmax(times, 0)) || 1;\n        return a;\n    };\n    function runAnimation(anim, element, percent, status, totalOrigin, times) {\n        percent = toFloat(percent);\n        var params,\n            isInAnim,\n            isInAnimSet,\n            percents = [],\n            next,\n            prev,\n            timestamp,\n            ms = anim.ms,\n            from = {},\n            to = {},\n            diff = {};\n        if (status) {\n            for (i = 0, ii = animationElements.length; i < ii; i++) {\n                var e = animationElements[i];\n                if (e.el.id == element.id && e.anim == anim) {\n                    if (e.percent != percent) {\n                        animationElements.splice(i, 1);\n                        isInAnimSet = 1;\n                    } else {\n                        isInAnim = e;\n                    }\n                    element.attr(e.totalOrigin);\n                    break;\n                }\n            }\n        } else {\n            status = +to; // NaN\n        }\n        for (var i = 0, ii = anim.percents.length; i < ii; i++) {\n            if (anim.percents[i] == percent || anim.percents[i] > status * anim.top) {\n                percent = anim.percents[i];\n                prev = anim.percents[i - 1] || 0;\n                ms = ms / anim.top * (percent - prev);\n                next = anim.percents[i + 1];\n                params = anim.anim[percent];\n                break;\n            } else if (status) {\n                element.attr(anim.anim[anim.percents[i]]);\n            }\n        }\n        if (!params) {\n            return;\n        }\n        if (!isInAnim) {\n            for (var attr in params) if (params[has](attr)) {\n                if (availableAnimAttrs[has](attr) || element.paper.customAttributes[has](attr)) {\n                    from[attr] = element.attr(attr);\n                    (from[attr] == null) && (from[attr] = availableAttrs[attr]);\n                    to[attr] = params[attr];\n                    switch (availableAnimAttrs[attr]) {\n                        case nu:\n                            diff[attr] = (to[attr] - from[attr]) / ms;\n                            break;\n                        case "colour":\n                            from[attr] = R.getRGB(from[attr]);\n                            var toColour = R.getRGB(to[attr]);\n                            diff[attr] = {\n                                r: (toColour.r - from[attr].r) / ms,\n                                g: (toColour.g - from[attr].g) / ms,\n                                b: (toColour.b - from[attr].b) / ms\n                            };\n                            break;\n                        case "path":\n                            var pathes = path2curve(from[attr], to[attr]),\n                                toPath = pathes[1];\n                            from[attr] = pathes[0];\n                            diff[attr] = [];\n                            for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                diff[attr][i] = [0];\n                                for (var j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                    diff[attr][i][j] = (toPath[i][j] - from[attr][i][j]) / ms;\n                                }\n                            }\n                            break;\n                        case "transform":\n                            var _ = element._,\n                                eq = equaliseTransform(_[attr], to[attr]);\n                            if (eq) {\n                                from[attr] = eq.from;\n                                to[attr] = eq.to;\n                                diff[attr] = [];\n                                diff[attr].real = true;\n                                for (i = 0, ii = from[attr].length; i < ii; i++) {\n                                    diff[attr][i] = [from[attr][i][0]];\n                                    for (j = 1, jj = from[attr][i].length; j < jj; j++) {\n                                        diff[attr][i][j] = (to[attr][i][j] - from[attr][i][j]) / ms;\n                                    }\n                                }\n                            } else {\n                                var m = (element.matrix || new Matrix),\n                                    to2 = {\n                                        _: {transform: _.transform},\n                                        getBBox: function () {\n                                            return element.getBBox(1);\n                                        }\n                                    };\n                                from[attr] = [\n                                    m.a,\n                                    m.b,\n                                    m.c,\n                                    m.d,\n                                    m.e,\n                                    m.f\n                                ];\n                                extractTransform(to2, to[attr]);\n                                to[attr] = to2._.transform;\n                                diff[attr] = [\n                                    (to2.matrix.a - m.a) / ms,\n                                    (to2.matrix.b - m.b) / ms,\n                                    (to2.matrix.c - m.c) / ms,\n                                    (to2.matrix.d - m.d) / ms,\n                                    (to2.matrix.e - m.e) / ms,\n                                    (to2.matrix.f - m.f) / ms\n                                ];\n                                // from[attr] = [_.sx, _.sy, _.deg, _.dx, _.dy];\n                                // var to2 = {_:{}, getBBox: function () { return element.getBBox(); }};\n                                // extractTransform(to2, to[attr]);\n                                // diff[attr] = [\n                                //     (to2._.sx - _.sx) / ms,\n                                //     (to2._.sy - _.sy) / ms,\n                                //     (to2._.deg - _.deg) / ms,\n                                //     (to2._.dx - _.dx) / ms,\n                                //     (to2._.dy - _.dy) / ms\n                                // ];\n                            }\n                            break;\n                        case "csv":\n                            var values = Str(params[attr])[split](separator),\n                                from2 = Str(from[attr])[split](separator);\n                            if (attr == "clip-rect") {\n                                from[attr] = from2;\n                                diff[attr] = [];\n                                i = from2.length;\n                                while (i--) {\n                                    diff[attr][i] = (values[i] - from[attr][i]) / ms;\n                                }\n                            }\n                            to[attr] = values;\n                            break;\n                        default:\n                            values = [][concat](params[attr]);\n                            from2 = [][concat](from[attr]);\n                            diff[attr] = [];\n                            i = element.paper.customAttributes[attr].length;\n                            while (i--) {\n                                diff[attr][i] = ((values[i] || 0) - (from2[i] || 0)) / ms;\n                            }\n                            break;\n                    }\n                }\n            }\n            var easing = params.easing,\n                easyeasy = R.easing_formulas[easing];\n            if (!easyeasy) {\n                easyeasy = Str(easing).match(bezierrg);\n                if (easyeasy && easyeasy.length == 5) {\n                    var curve = easyeasy;\n                    easyeasy = function (t) {\n                        return CubicBezierAtTime(t, +curve[1], +curve[2], +curve[3], +curve[4], ms);\n                    };\n                } else {\n                    easyeasy = pipe;\n                }\n            }\n            timestamp = params.start || anim.start || +new Date;\n            e = {\n                anim: anim,\n                percent: percent,\n                timestamp: timestamp,\n                start: timestamp + (anim.del || 0),\n                status: 0,\n                initstatus: status || 0,\n                stop: false,\n                ms: ms,\n                easing: easyeasy,\n                from: from,\n                diff: diff,\n                to: to,\n                el: element,\n                callback: params.callback,\n                prev: prev,\n                next: next,\n                repeat: times || anim.times,\n                origin: element.attr(),\n                totalOrigin: totalOrigin\n            };\n            animationElements.push(e);\n            if (status && !isInAnim && !isInAnimSet) {\n                e.stop = true;\n                e.start = new Date - ms * status;\n                if (animationElements.length == 1) {\n                    return animation();\n                }\n            }\n            if (isInAnimSet) {\n                e.start = new Date - e.ms * status;\n            }\n            animationElements.length == 1 && requestAnimFrame(animation);\n        } else {\n            isInAnim.initstatus = status;\n            isInAnim.start = new Date - isInAnim.ms * status;\n        }\n        eve("raphael.anim.start." + element.id, element, anim);\n    }\n    /*\\\n     * Raphael.animation\n     [ method ]\n     **\n     * Creates an animation object that can be passed to the @Element.animate or @Element.animateWith methods.\n     * See also @Animation.delay and @Animation.repeat methods.\n     **\n     > Parameters\n     **\n     - params (object) final attributes for the element, see also @Element.attr\n     - ms (number) number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     **\n     = (object) @Animation\n    \\*/\n    R.animation = function (params, ms, easing, callback) {\n        if (params instanceof Animation) {\n            return params;\n        }\n        if (R.is(easing, "function") || !easing) {\n            callback = callback || easing || null;\n            easing = null;\n        }\n        params = Object(params);\n        ms = +ms || 0;\n        var p = {},\n            json,\n            attr;\n        for (attr in params) if (params[has](attr) && toFloat(attr) != attr && toFloat(attr) + "%" != attr) {\n            json = true;\n            p[attr] = params[attr];\n        }\n        if (!json) {\n            // if percent-like syntax is used and end-of-all animation callback used\n            if(callback){\n                // find the last one\n                var lastKey = 0;\n                for(var i in params){\n                    var percent = toInt(i);\n                    if(params[has](i) && percent > lastKey){\n                        lastKey = percent;\n                    }\n                }\n                lastKey += \'%\';\n                // if already defined callback in the last keyframe, skip\n                !params[lastKey].callback && (params[lastKey].callback = callback);\n            }\n          return new Animation(params, ms);\n        } else {\n            easing && (p.easing = easing);\n            callback && (p.callback = callback);\n            return new Animation({100: p}, ms);\n        }\n    };\n    /*\\\n     * Element.animate\n     [ method ]\n     **\n     * Creates and starts animation for given element.\n     **\n     > Parameters\n     **\n     - params (object) final attributes for the element, see also @Element.attr\n     - ms (number) number of milliseconds for animation to run\n     - easing (string) #optional easing type. Accept one of @Raphael.easing_formulas or CSS format: `cubic&#x2010;bezier(XX,&#160;XX,&#160;XX,&#160;XX)`\n     - callback (function) #optional callback function. Will be called at the end of animation.\n     * or\n     - animation (object) animation object, see @Raphael.animation\n     **\n     = (object) original element\n    \\*/\n    elproto.animate = function (params, ms, easing, callback) {\n        var element = this;\n        if (element.removed) {\n            callback && callback.call(element);\n            return element;\n        }\n        var anim = params instanceof Animation ? params : R.animation(params, ms, easing, callback);\n        runAnimation(anim, element, anim.percents[0], null, element.attr());\n        return element;\n    };\n    /*\\\n     * Element.setTime\n     [ method ]\n     **\n     * Sets the status of animation of the element in milliseconds. Similar to @Element.status method.\n     **\n     > Parameters\n     **\n     - anim (object) animation object\n     - value (number) number of milliseconds from the beginning of the animation\n     **\n     = (object) original element if `value` is specified\n     * Note, that during animation following events are triggered:\n     *\n     * On each animation frame event `anim.frame.<id>`, on start `anim.start.<id>` and on end `anim.finish.<id>`.\n    \\*/\n    elproto.setTime = function (anim, value) {\n        if (anim && value != null) {\n            this.status(anim, mmin(value, anim.ms) / anim.ms);\n        }\n        return this;\n    };\n    /*\\\n     * Element.status\n     [ method ]\n     **\n     * Gets or sets the status of animation of the element.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     - value (number) #optional 0 â 1. If specified, method works like a setter and sets the status of a given animation to the value. This will cause animation to jump to the given position.\n     **\n     = (number) status\n     * or\n     = (array) status if `anim` is not specified. Array of objects in format:\n     o {\n     o     anim: (object) animation object\n     o     status: (number) status\n     o }\n     * or\n     = (object) original element if `value` is specified\n    \\*/\n    elproto.status = function (anim, value) {\n        var out = [],\n            i = 0,\n            len,\n            e;\n        if (value != null) {\n            runAnimation(anim, this, -1, mmin(value, 1));\n            return this;\n        } else {\n            len = animationElements.length;\n            for (; i < len; i++) {\n                e = animationElements[i];\n                if (e.el.id == this.id && (!anim || e.anim == anim)) {\n                    if (anim) {\n                        return e.status;\n                    }\n                    out.push({\n                        anim: e.anim,\n                        status: e.status\n                    });\n                }\n            }\n            if (anim) {\n                return 0;\n            }\n            return out;\n        }\n    };\n    /*\\\n     * Element.pause\n     [ method ]\n     **\n     * Stops animation of the element with ability to resume it later on.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     **\n     = (object) original element\n    \\*/\n    elproto.pause = function (anim) {\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n            if (eve("raphael.anim.pause." + this.id, this, animationElements[i].anim) !== false) {\n                animationElements[i].paused = true;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.resume\n     [ method ]\n     **\n     * Resumes animation if it was paused with @Element.pause method.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     **\n     = (object) original element\n    \\*/\n    elproto.resume = function (anim) {\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n            var e = animationElements[i];\n            if (eve("raphael.anim.resume." + this.id, this, e.anim) !== false) {\n                delete e.paused;\n                this.status(e.anim, e.status);\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Element.stop\n     [ method ]\n     **\n     * Stops animation of the element.\n     **\n     > Parameters\n     **\n     - anim (object) #optional animation object\n     **\n     = (object) original element\n    \\*/\n    elproto.stop = function (anim) {\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.id == this.id && (!anim || animationElements[i].anim == anim)) {\n            if (eve("raphael.anim.stop." + this.id, this, animationElements[i].anim) !== false) {\n                animationElements.splice(i--, 1);\n            }\n        }\n        return this;\n    };\n    function stopAnimation(paper) {\n        for (var i = 0; i < animationElements.length; i++) if (animationElements[i].el.paper == paper) {\n            animationElements.splice(i--, 1);\n        }\n    }\n    eve.on("raphael.remove", stopAnimation);\n    eve.on("raphael.clear", stopAnimation);\n    elproto.toString = function () {\n        return "Rapha\\xebl\\u2019s object";\n    };\n\n    // Set\n    var Set = function (items) {\n        this.items = [];\n        this.length = 0;\n        this.type = "set";\n        if (items) {\n            for (var i = 0, ii = items.length; i < ii; i++) {\n                if (items[i] && (items[i].constructor == elproto.constructor || items[i].constructor == Set)) {\n                    this[this.items.length] = this.items[this.items.length] = items[i];\n                    this.length++;\n                }\n            }\n        }\n    },\n    setproto = Set.prototype;\n    /*\\\n     * Set.push\n     [ method ]\n     **\n     * Adds each argument to the current set.\n     = (object) original element\n    \\*/\n    setproto.push = function () {\n        var item,\n            len;\n        for (var i = 0, ii = arguments.length; i < ii; i++) {\n            item = arguments[i];\n            if (item && (item.constructor == elproto.constructor || item.constructor == Set)) {\n                len = this.items.length;\n                this[len] = this.items[len] = item;\n                this.length++;\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.pop\n     [ method ]\n     **\n     * Removes last element and returns it.\n     = (object) element\n    \\*/\n    setproto.pop = function () {\n        this.length && delete this[this.length--];\n        return this.items.pop();\n    };\n    /*\\\n     * Set.forEach\n     [ method ]\n     **\n     * Executes given function for each element in the set.\n     *\n     * If function returns `false` it will stop loop running.\n     **\n     > Parameters\n     **\n     - callback (function) function to run\n     - thisArg (object) context object for the callback\n     = (object) Set object\n    \\*/\n    setproto.forEach = function (callback, thisArg) {\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            if (callback.call(thisArg, this.items[i], i) === false) {\n                return this;\n            }\n        }\n        return this;\n    };\n    for (var method in elproto) if (elproto[has](method)) {\n        setproto[method] = (function (methodname) {\n            return function () {\n                var arg = arguments;\n                return this.forEach(function (el) {\n                    el[methodname][apply](el, arg);\n                });\n            };\n        })(method);\n    }\n    setproto.attr = function (name, value) {\n        if (name && R.is(name, array) && R.is(name[0], "object")) {\n            for (var j = 0, jj = name.length; j < jj; j++) {\n                this.items[j].attr(name[j]);\n            }\n        } else {\n            for (var i = 0, ii = this.items.length; i < ii; i++) {\n                this.items[i].attr(name, value);\n            }\n        }\n        return this;\n    };\n    /*\\\n     * Set.clear\n     [ method ]\n     **\n     * Removes all elements from the set\n    \\*/\n    setproto.clear = function () {\n        while (this.length) {\n            this.pop();\n        }\n    };\n    /*\\\n     * Set.splice\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     > Parameters\n     **\n     - index (number) position of the deletion\n     - count (number) number of element to remove\n     - insertionâ¦ (object) #optional elements to insert\n     = (object) set elements that were deleted\n    \\*/\n    setproto.splice = function (index, count, insertion) {\n        index = index < 0 ? mmax(this.length + index, 0) : index;\n        count = mmax(0, mmin(this.length - index, count));\n        var tail = [],\n            todel = [],\n            args = [],\n            i;\n        for (i = 2; i < arguments.length; i++) {\n            args.push(arguments[i]);\n        }\n        for (i = 0; i < count; i++) {\n            todel.push(this[index + i]);\n        }\n        for (; i < this.length - index; i++) {\n            tail.push(this[index + i]);\n        }\n        var arglen = args.length;\n        for (i = 0; i < arglen + tail.length; i++) {\n            this.items[index + i] = this[index + i] = i < arglen ? args[i] : tail[i - arglen];\n        }\n        i = this.items.length = this.length -= count - arglen;\n        while (this[i]) {\n            delete this[i++];\n        }\n        return new Set(todel);\n    };\n    /*\\\n     * Set.exclude\n     [ method ]\n     **\n     * Removes given element from the set\n     **\n     > Parameters\n     **\n     - element (object) element to remove\n     = (boolean) `true` if object was found & removed from the set\n    \\*/\n    setproto.exclude = function (el) {\n        for (var i = 0, ii = this.length; i < ii; i++) if (this[i] == el) {\n            this.splice(i, 1);\n            return true;\n        }\n    };\n    setproto.animate = function (params, ms, easing, callback) {\n        (R.is(easing, "function") || !easing) && (callback = easing || null);\n        var len = this.items.length,\n            i = len,\n            item,\n            set = this,\n            collector;\n        if (!len) {\n            return this;\n        }\n        callback && (collector = function () {\n            !--len && callback.call(set);\n        });\n        easing = R.is(easing, string) ? easing : collector;\n        var anim = R.animation(params, ms, easing, collector);\n        item = this.items[--i].animate(anim);\n        while (i--) {\n            this.items[i] && !this.items[i].removed && this.items[i].animateWith(item, anim, anim);\n            (this.items[i] && !this.items[i].removed) || len--;\n        }\n        return this;\n    };\n    setproto.insertAfter = function (el) {\n        var i = this.items.length;\n        while (i--) {\n            this.items[i].insertAfter(el);\n        }\n        return this;\n    };\n    setproto.getBBox = function () {\n        var x = [],\n            y = [],\n            x2 = [],\n            y2 = [];\n        for (var i = this.items.length; i--;) if (!this.items[i].removed) {\n            var box = this.items[i].getBBox();\n            x.push(box.x);\n            y.push(box.y);\n            x2.push(box.x + box.width);\n            y2.push(box.y + box.height);\n        }\n        x = mmin[apply](0, x);\n        y = mmin[apply](0, y);\n        x2 = mmax[apply](0, x2);\n        y2 = mmax[apply](0, y2);\n        return {\n            x: x,\n            y: y,\n            x2: x2,\n            y2: y2,\n            width: x2 - x,\n            height: y2 - y\n        };\n    };\n    setproto.clone = function (s) {\n        s = this.paper.set();\n        for (var i = 0, ii = this.items.length; i < ii; i++) {\n            s.push(this.items[i].clone());\n        }\n        return s;\n    };\n    setproto.toString = function () {\n        return "Rapha\\xebl\\u2018s set";\n    };\n\n    setproto.glow = function(glowConfig) {\n        var ret = this.paper.set();\n        this.forEach(function(shape, index){\n            var g = shape.glow(glowConfig);\n            if(g != null){\n                g.forEach(function(shape2, index2){\n                    ret.push(shape2);\n                });\n            }\n        });\n        return ret;\n    };\n\n\n    /*\\\n     * Set.isPointInside\n     [ method ]\n     **\n     * Determine if given point is inside this setâs elements\n     **\n     > Parameters\n     **\n     - x (number) x coordinate of the point\n     - y (number) y coordinate of the point\n     = (boolean) `true` if point is inside any of the set\'s elements\n     \\*/\n    setproto.isPointInside = function (x, y) {\n        var isPointInside = false;\n        this.forEach(function (el) {\n            if (el.isPointInside(x, y)) {\n                isPointInside = true;\n                return false; // stop loop\n            }\n        });\n        return isPointInside;\n    };\n\n    /*\\\n     * Raphael.registerFont\n     [ method ]\n     **\n     * Adds given font to the registered set of fonts for RaphaÃ«l. Should be used as an internal call from within CufÃ³nâs font file.\n     * Returns original parameter, so it could be used with chaining.\n     # <a href="http://wiki.github.com/sorccu/cufon/about">More about CufÃ³n and how to convert your font form TTF, OTF, etc to JavaScript file.</a>\n     **\n     > Parameters\n     **\n     - font (object) the font to register\n     = (object) the font you passed in\n     > Usage\n     | Cufon.registerFont(Raphael.registerFont({â¦}));\n    \\*/\n    R.registerFont = function (font) {\n        if (!font.face) {\n            return font;\n        }\n        this.fonts = this.fonts || {};\n        var fontcopy = {\n                w: font.w,\n                face: {},\n                glyphs: {}\n            },\n            family = font.face["font-family"];\n        for (var prop in font.face) if (font.face[has](prop)) {\n            fontcopy.face[prop] = font.face[prop];\n        }\n        if (this.fonts[family]) {\n            this.fonts[family].push(fontcopy);\n        } else {\n            this.fonts[family] = [fontcopy];\n        }\n        if (!font.svg) {\n            fontcopy.face["units-per-em"] = toInt(font.face["units-per-em"], 10);\n            for (var glyph in font.glyphs) if (font.glyphs[has](glyph)) {\n                var path = font.glyphs[glyph];\n                fontcopy.glyphs[glyph] = {\n                    w: path.w,\n                    k: {},\n                    d: path.d && "M" + path.d.replace(/[mlcxtrv]/g, function (command) {\n                            return {l: "L", c: "C", x: "z", t: "m", r: "l", v: "c"}[command] || "M";\n                        }) + "z"\n                };\n                if (path.k) {\n                    for (var k in path.k) if (path[has](k)) {\n                        fontcopy.glyphs[glyph].k[k] = path.k[k];\n                    }\n                }\n            }\n        }\n        return font;\n    };\n    /*\\\n     * Paper.getFont\n     [ method ]\n     **\n     * Finds font object in the registered fonts by given parameters. You could specify only one word from the font name, like âMyriadâ for âMyriad Proâ.\n     **\n     > Parameters\n     **\n     - family (string) font family name or any word from it\n     - weight (string) #optional font weight\n     - style (string) #optional font style\n     - stretch (string) #optional font stretch\n     = (object) the font object\n     > Usage\n     | paper.print(100, 100, "Test string", paper.getFont("Times", 800), 30);\n    \\*/\n    paperproto.getFont = function (family, weight, style, stretch) {\n        stretch = stretch || "normal";\n        style = style || "normal";\n        weight = +weight || {normal: 400, bold: 700, lighter: 300, bolder: 800}[weight] || 400;\n        if (!R.fonts) {\n            return;\n        }\n        var font = R.fonts[family];\n        if (!font) {\n            var name = new RegExp("(^|\\\\s)" + family.replace(/[^\\w\\d\\s+!~.:_-]/g, E) + "(\\\\s|$)", "i");\n            for (var fontName in R.fonts) if (R.fonts[has](fontName)) {\n                if (name.test(fontName)) {\n                    font = R.fonts[fontName];\n                    break;\n                }\n            }\n        }\n        var thefont;\n        if (font) {\n            for (var i = 0, ii = font.length; i < ii; i++) {\n                thefont = font[i];\n                if (thefont.face["font-weight"] == weight && (thefont.face["font-style"] == style || !thefont.face["font-style"]) && thefont.face["font-stretch"] == stretch) {\n                    break;\n                }\n            }\n        }\n        return thefont;\n    };\n    /*\\\n     * Paper.print\n     [ method ]\n     **\n     * Creates path that represent given text written using given font at given position with given size.\n     * Result of the method is path element that contains whole text as a separate path.\n     **\n     > Parameters\n     **\n     - x (number) x position of the text\n     - y (number) y position of the text\n     - string (string) text to print\n     - font (object) font object, see @Paper.getFont\n     - size (number) #optional size of the font, default is `16`\n     - origin (string) #optional could be `"baseline"` or `"middle"`, default is `"middle"`\n     - letter_spacing (number) #optional number in range `-1..1`, default is `0`\n     - line_spacing (number) #optional number in range `1..3`, default is `1`\n     = (object) resulting path element, which consist of all letters\n     > Usage\n     | var txt = r.print(10, 50, "print", r.getFont("Museo"), 30).attr({fill: "#fff"});\n    \\*/\n    paperproto.print = function (x, y, string, font, size, origin, letter_spacing, line_spacing) {\n        origin = origin || "middle"; // baseline|middle\n        letter_spacing = mmax(mmin(letter_spacing || 0, 1), -1);\n        line_spacing = mmax(mmin(line_spacing || 1, 3), 1);\n        var letters = Str(string)[split](E),\n            shift = 0,\n            notfirst = 0,\n            path = E,\n            scale;\n        R.is(font, "string") && (font = this.getFont(font));\n        if (font) {\n            scale = (size || 16) / font.face["units-per-em"];\n            var bb = font.face.bbox[split](separator),\n                top = +bb[0],\n                lineHeight = bb[3] - bb[1],\n                shifty = 0,\n                height = +bb[1] + (origin == "baseline" ? lineHeight + (+font.face.descent) : lineHeight / 2);\n            for (var i = 0, ii = letters.length; i < ii; i++) {\n                if (letters[i] == "\\n") {\n                    shift = 0;\n                    curr = 0;\n                    notfirst = 0;\n                    shifty += lineHeight * line_spacing;\n                } else {\n                    var prev = notfirst && font.glyphs[letters[i - 1]] || {},\n                        curr = font.glyphs[letters[i]];\n                    shift += notfirst ? (prev.w || font.w) + (prev.k && prev.k[letters[i]] || 0) + (font.w * letter_spacing) : 0;\n                    notfirst = 1;\n                }\n                if (curr && curr.d) {\n                    path += R.transformPath(curr.d, ["t", shift * scale, shifty * scale, "s", scale, scale, top, height, "t", (x - top) / scale, (y - height) / scale]);\n                }\n            }\n        }\n        return this.path(path).attr({\n            fill: "#000",\n            stroke: "none"\n        });\n    };\n\n    /*\\\n     * Paper.add\n     [ method ]\n     **\n     * Imports elements in JSON array in format `{type: type, <attributes>}`\n     **\n     > Parameters\n     **\n     - json (array)\n     = (object) resulting set of imported elements\n     > Usage\n     | paper.add([\n     |     {\n     |         type: "circle",\n     |         cx: 10,\n     |         cy: 10,\n     |         r: 5\n     |     },\n     |     {\n     |         type: "rect",\n     |         x: 10,\n     |         y: 10,\n     |         width: 10,\n     |         height: 10,\n     |         fill: "#fc0"\n     |     }\n     | ]);\n    \\*/\n    paperproto.add = function (json) {\n        if (R.is(json, "array")) {\n            var res = this.set(),\n                i = 0,\n                ii = json.length,\n                j;\n            for (; i < ii; i++) {\n                j = json[i] || {};\n                elements[has](j.type) && res.push(this[j.type]().attr(j));\n            }\n        }\n        return res;\n    };\n\n    /*\\\n     * Raphael.format\n     [ method ]\n     **\n     * Simple format function. Replaces construction of type â`{<number>}`â to the corresponding argument.\n     **\n     > Parameters\n     **\n     - token (string) string to format\n     - â¦ (string) rest of arguments will be treated as parameters for replacement\n     = (string) formated string\n     > Usage\n     | var x = 10,\n     |     y = 20,\n     |     width = 40,\n     |     height = 50;\n     | // this will draw a rectangular shape equivalent to "M10,20h40v50h-40z"\n     | paper.path(Raphael.format("M{0},{1}h{2}v{3}h{4}z", x, y, width, height, -width));\n    \\*/\n    R.format = function (token, params) {\n        var args = R.is(params, array) ? [0][concat](params) : arguments;\n        token && R.is(token, string) && args.length - 1 && (token = token.replace(formatrg, function (str, i) {\n            return args[++i] == null ? E : args[i];\n        }));\n        return token || E;\n    };\n    /*\\\n     * Raphael.fullfill\n     [ method ]\n     **\n     * A little bit more advanced format function than @Raphael.format. Replaces construction of type â`{<name>}`â to the corresponding argument.\n     **\n     > Parameters\n     **\n     - token (string) string to format\n     - json (object) object which properties will be used as a replacement\n     = (string) formated string\n     > Usage\n     | // this will draw a rectangular shape equivalent to "M10,20h40v50h-40z"\n     | paper.path(Raphael.fullfill("M{x},{y}h{dim.width}v{dim.height}h{dim[\'negative width\']}z", {\n     |     x: 10,\n     |     y: 20,\n     |     dim: {\n     |         width: 40,\n     |         height: 50,\n     |         "negative width": -40\n     |     }\n     | }));\n    \\*/\n    R.fullfill = (function () {\n        var tokenRegex = /\\{([^\\}]+)\\}/g,\n            objNotationRegex = /(?:(?:^|\\.)(.+?)(?=\\[|\\.|$|\\()|\\[(\'|")(.+?)\\2\\])(\\(\\))?/g, // matches .xxxxx or ["xxxxx"] to run over object properties\n            replacer = function (all, key, obj) {\n                var res = obj;\n                key.replace(objNotationRegex, function (all, name, quote, quotedName, isFunc) {\n                    name = name || quotedName;\n                    if (res) {\n                        if (name in res) {\n                            res = res[name];\n                        }\n                        typeof res == "function" && isFunc && (res = res());\n                    }\n                });\n                res = (res == null || res == obj ? all : res) + "";\n                return res;\n            };\n        return function (str, obj) {\n            return String(str).replace(tokenRegex, function (all, key) {\n                return replacer(all, key, obj);\n            });\n        };\n    })();\n    /*\\\n     * Raphael.ninja\n     [ method ]\n     **\n     * If you want to leave no trace of RaphaÃ«l (Well, RaphaÃ«l creates only one global variable `Raphael`, but anyway.) You can use `ninja` method.\n     * Beware, that in this case plugins could stop working, because they are depending on global variable existence.\n     **\n     = (object) Raphael object\n     > Usage\n     | (function (local_raphael) {\n     |     var paper = local_raphael(10, 10, 320, 200);\n     |     â¦\n     | })(Raphael.ninja());\n    \\*/\n    R.ninja = function () {\n        if (oldRaphael.was) {\n            g.win.Raphael = oldRaphael.is;\n        } else {\n            // IE8 raises an error when deleting window property\n            window.Raphael = undefined;\n            try {\n                delete window.Raphael;\n            } catch(e) {}\n        }\n        return R;\n    };\n    /*\\\n     * Raphael.st\n     [ property (object) ]\n     **\n     * You can add your own method to elements and sets. It is wise to add a set method for each element method\n     * you added, so you will be able to call the same method on sets too.\n     **\n     * See also @Raphael.el.\n     > Usage\n     | Raphael.el.red = function () {\n     |     this.attr({fill: "#f00"});\n     | };\n     | Raphael.st.red = function () {\n     |     this.forEach(function (el) {\n     |         el.red();\n     |     });\n     | };\n     | // then use it\n     | paper.set(paper.circle(100, 100, 20), paper.circle(110, 100, 20)).red();\n    \\*/\n    R.st = setproto;\n\n    eve.on("raphael.DOMload", function () {\n        loaded = true;\n    });\n\n    // Firefox <3.6 fix: http://webreflection.blogspot.com/2009/11/195-chars-to-help-lazy-loading.html\n    (function (doc, loaded, f) {\n        if (doc.readyState == null && doc.addEventListener){\n            doc.addEventListener(loaded, f = function () {\n                doc.removeEventListener(loaded, f, false);\n                doc.readyState = "complete";\n            }, false);\n            doc.readyState = "loading";\n        }\n        function isLoaded() {\n            (/in/).test(doc.readyState) ? setTimeout(isLoaded, 9) : R.eve("raphael.DOMload");\n        }\n        isLoaded();\n    })(document, "DOMContentLoaded");\n\n    return R;\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5jb3JlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmFwaGFlbC8uL2Rldi9yYXBoYWVsLmNvcmUuanM/OTRkOSJdLCJzb3VyY2VzQ29udGVudCI6WyJkZWZpbmUoW1wiZXZlXCJdLCBmdW5jdGlvbihldmUpIHtcblxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGEgY2FudmFzIG9iamVjdCBvbiB3aGljaCB0byBkcmF3LlxuICAgICAqIFlvdSBtdXN0IGRvIHRoaXMgZmlyc3QsIGFzIGFsbCBmdXR1cmUgY2FsbHMgdG8gZHJhd2luZyBtZXRob2RzXG4gICAgICogZnJvbSB0aGlzIGluc3RhbmNlIHdpbGwgYmUgYm91bmQgdG8gdGhpcyBjYW52YXMuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGNvbnRhaW5lciAoSFRNTEVsZW1lbnR8c3RyaW5nKSBET00gZWxlbWVudCBvciBpdHMgSUQgd2hpY2ggaXMgZ29pbmcgdG8gYmUgYSBwYXJlbnQgZm9yIGRyYXdpbmcgc3VyZmFjZVxuICAgICAtIHdpZHRoIChudW1iZXIpXG4gICAgIC0gaGVpZ2h0IChudW1iZXIpXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgY2FsbGJhY2sgZnVuY3Rpb24gd2hpY2ggaXMgZ29pbmcgdG8gYmUgZXhlY3V0ZWQgaW4gdGhlIGNvbnRleHQgb2YgbmV3bHkgY3JlYXRlZCBwYXBlclxuICAgICAqIG9yXG4gICAgIC0geCAobnVtYmVyKVxuICAgICAtIHkgKG51bWJlcilcbiAgICAgLSB3aWR0aCAobnVtYmVyKVxuICAgICAtIGhlaWdodCAobnVtYmVyKVxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGdvaW5nIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIG5ld2x5IGNyZWF0ZWQgcGFwZXJcbiAgICAgKiBvclxuICAgICAtIGFsbCAoYXJyYXkpIChmaXJzdCAzIG9yIDQgZWxlbWVudHMgaW4gdGhlIGFycmF5IGFyZSBlcXVhbCB0byBbY29udGFpbmVySUQsIHdpZHRoLCBoZWlnaHRdIG9yIFt4LCB5LCB3aWR0aCwgaGVpZ2h0XS4gVGhlIHJlc3QgYXJlIGVsZW1lbnQgZGVzY3JpcHRpb25zIGluIGZvcm1hdCB7dHlwZTogdHlwZSwgPGF0dHJpYnV0ZXM+fSkuIFNlZSBAUGFwZXIuYWRkLlxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uIHdoaWNoIGlzIGdvaW5nIHRvIGJlIGV4ZWN1dGVkIGluIHRoZSBjb250ZXh0IG9mIG5ld2x5IGNyZWF0ZWQgcGFwZXJcbiAgICAgKiBvclxuICAgICAtIG9uUmVhZHlDYWxsYmFjayAoZnVuY3Rpb24pIGZ1bmN0aW9uIHRoYXQgaXMgZ29pbmcgdG8gYmUgY2FsbGVkIG9uIERPTSByZWFkeSBldmVudC4gWW91IGNhbiBhbHNvIHN1YnNjcmliZSB0byB0aGlzIGV2ZW50IHZpYSBFdmXigJlzIOKAnERPTUxvYWTigJ0gZXZlbnQuIEluIHRoaXMgY2FzZSBtZXRob2QgcmV0dXJucyBgdW5kZWZpbmVkYC5cbiAgICAgPSAob2JqZWN0KSBAUGFwZXJcbiAgICAgPiBVc2FnZVxuICAgICB8IC8vIEVhY2ggb2YgdGhlIGZvbGxvd2luZyBleGFtcGxlcyBjcmVhdGUgYSBjYW52YXNcbiAgICAgfCAvLyB0aGF0IGlzIDMyMHB4IHdpZGUgYnkgMjAwcHggaGlnaC5cbiAgICAgfCAvLyBDYW52YXMgaXMgY3JlYXRlZCBhdCB0aGUgdmlld3BvcnTigJlzIDEwLDUwIGNvb3JkaW5hdGUuXG4gICAgIHwgdmFyIHBhcGVyID0gUmFwaGFlbCgxMCwgNTAsIDMyMCwgMjAwKTtcbiAgICAgfCAvLyBDYW52YXMgaXMgY3JlYXRlZCBhdCB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSAjbm90ZXBhZCBlbGVtZW50XG4gICAgIHwgLy8gKG9yIGl0cyB0b3AgcmlnaHQgY29ybmVyIGluIGRpcj1cInJ0bFwiIGVsZW1lbnRzKVxuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJub3RlcGFkXCIpLCAzMjAsIDIwMCk7XG4gICAgIHwgLy8gU2FtZSBhcyBhYm92ZVxuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoXCJub3RlcGFkXCIsIDMyMCwgMjAwKTtcbiAgICAgfCAvLyBJbWFnZSBkdW1wXG4gICAgIHwgdmFyIHNldCA9IFJhcGhhZWwoW1wibm90ZXBhZFwiLCAzMjAsIDIwMCwge1xuICAgICB8ICAgICB0eXBlOiBcInJlY3RcIixcbiAgICAgfCAgICAgeDogMTAsXG4gICAgIHwgICAgIHk6IDEwLFxuICAgICB8ICAgICB3aWR0aDogMjUsXG4gICAgIHwgICAgIGhlaWdodDogMjUsXG4gICAgIHwgICAgIHN0cm9rZTogXCIjZjAwXCJcbiAgICAgfCB9LCB7XG4gICAgIHwgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICB8ICAgICB4OiAzMCxcbiAgICAgfCAgICAgeTogNDAsXG4gICAgIHwgICAgIHRleHQ6IFwiRHVtcFwiXG4gICAgIHwgfV0pO1xuICAgIFxcKi9cbiAgICBmdW5jdGlvbiBSKGZpcnN0KSB7XG4gICAgICAgIGlmIChSLmlzKGZpcnN0LCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gbG9hZGVkID8gZmlyc3QoKSA6IGV2ZS5vbihcInJhcGhhZWwuRE9NbG9hZFwiLCBmaXJzdCk7XG4gICAgICAgIH0gZWxzZSBpZiAoUi5pcyhmaXJzdCwgYXJyYXkpKSB7XG4gICAgICAgICAgICByZXR1cm4gUi5fZW5naW5lLmNyZWF0ZVthcHBseV0oUiwgZmlyc3Quc3BsaWNlKDAsIDMgKyBSLmlzKGZpcnN0WzBdLCBudSkpKS5hZGQoZmlyc3QpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApO1xuICAgICAgICAgICAgaWYgKFIuaXMoYXJnc1thcmdzLmxlbmd0aCAtIDFdLCBcImZ1bmN0aW9uXCIpKSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSBhcmdzLnBvcCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiBsb2FkZWQgPyBmLmNhbGwoUi5fZW5naW5lLmNyZWF0ZVthcHBseV0oUiwgYXJncykpIDogZXZlLm9uKFwicmFwaGFlbC5ET01sb2FkXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgZi5jYWxsKFIuX2VuZ2luZS5jcmVhdGVbYXBwbHldKFIsIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFIuX2VuZ2luZS5jcmVhdGVbYXBwbHldKFIsIGFyZ3VtZW50cyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgUi52ZXJzaW9uID0gXCIyLjIuMFwiO1xuICAgIFIuZXZlID0gZXZlO1xuICAgIHZhciBsb2FkZWQsXG4gICAgICAgIHNlcGFyYXRvciA9IC9bLCBdKy8sXG4gICAgICAgIGVsZW1lbnRzID0ge2NpcmNsZTogMSwgcmVjdDogMSwgcGF0aDogMSwgZWxsaXBzZTogMSwgdGV4dDogMSwgaW1hZ2U6IDF9LFxuICAgICAgICBmb3JtYXRyZyA9IC9cXHsoXFxkKylcXH0vZyxcbiAgICAgICAgcHJvdG8gPSBcInByb3RvdHlwZVwiLFxuICAgICAgICBoYXMgPSBcImhhc093blByb3BlcnR5XCIsXG4gICAgICAgIGcgPSB7XG4gICAgICAgICAgICBkb2M6IGRvY3VtZW50LFxuICAgICAgICAgICAgd2luOiB3aW5kb3dcbiAgICAgICAgfSxcbiAgICAgICAgb2xkUmFwaGFlbCA9IHtcbiAgICAgICAgICAgIHdhczogT2JqZWN0LnByb3RvdHlwZVtoYXNdLmNhbGwoZy53aW4sIFwiUmFwaGFlbFwiKSxcbiAgICAgICAgICAgIGlzOiBnLndpbi5SYXBoYWVsXG4gICAgICAgIH0sXG4gICAgICAgIFBhcGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgLypcXFxuICAgICAgICAgICAgICogUGFwZXIuY2FcbiAgICAgICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICAgICAqKlxuICAgICAgICAgICAgICogU2hvcnRjdXQgZm9yIEBQYXBlci5jdXN0b21BdHRyaWJ1dGVzXG4gICAgICAgICAgICBcXCovXG4gICAgICAgICAgICAvKlxcXG4gICAgICAgICAgICAgKiBQYXBlci5jdXN0b21BdHRyaWJ1dGVzXG4gICAgICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAgICAgKipcbiAgICAgICAgICAgICAqIElmIHlvdSBoYXZlIGEgc2V0IG9mIGF0dHJpYnV0ZXMgdGhhdCB5b3Ugd291bGQgbGlrZSB0byByZXByZXNlbnRcbiAgICAgICAgICAgICAqIGFzIGEgZnVuY3Rpb24gb2Ygc29tZSBudW1iZXIgeW91IGNhbiBkbyBpdCBlYXNpbHkgd2l0aCBjdXN0b20gYXR0cmlidXRlczpcbiAgICAgICAgICAgICA+IFVzYWdlXG4gICAgICAgICAgICAgfCBwYXBlci5jdXN0b21BdHRyaWJ1dGVzLmh1ZSA9IGZ1bmN0aW9uIChudW0pIHtcbiAgICAgICAgICAgICB8ICAgICBudW0gPSBudW0gJSAxO1xuICAgICAgICAgICAgIHwgICAgIHJldHVybiB7ZmlsbDogXCJoc2IoXCIgKyBudW0gKyBcIiwgMC43NSwgMSlcIn07XG4gICAgICAgICAgICAgfCB9O1xuICAgICAgICAgICAgIHwgLy8gQ3VzdG9tIGF0dHJpYnV0ZSDigJxodWXigJ0gd2lsbCBjaGFuZ2UgZmlsbFxuICAgICAgICAgICAgIHwgLy8gdG8gYmUgZ2l2ZW4gaHVlIHdpdGggZml4ZWQgc2F0dXJhdGlvbiBhbmQgYnJpZ2h0bmVzcy5cbiAgICAgICAgICAgICB8IC8vIE5vdyB5b3UgY2FuIHVzZSBpdCBsaWtlIHRoaXM6XG4gICAgICAgICAgICAgfCB2YXIgYyA9IHBhcGVyLmNpcmNsZSgxMCwgMTAsIDEwKS5hdHRyKHtodWU6IC40NX0pO1xuICAgICAgICAgICAgIHwgLy8gb3IgZXZlbiBsaWtlIHRoaXM6XG4gICAgICAgICAgICAgfCBjLmFuaW1hdGUoe2h1ZTogMX0sIDFlMyk7XG4gICAgICAgICAgICAgfFxuICAgICAgICAgICAgIHwgLy8gWW91IGNvdWxkIGFsc28gY3JlYXRlIGN1c3RvbSBhdHRyaWJ1dGVcbiAgICAgICAgICAgICB8IC8vIHdpdGggbXVsdGlwbGUgcGFyYW1ldGVyczpcbiAgICAgICAgICAgICB8IHBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMuaHNiID0gZnVuY3Rpb24gKGgsIHMsIGIpIHtcbiAgICAgICAgICAgICB8ICAgICByZXR1cm4ge2ZpbGw6IFwiaHNiKFwiICsgW2gsIHMsIGJdLmpvaW4oXCIsXCIpICsgXCIpXCJ9O1xuICAgICAgICAgICAgIHwgfTtcbiAgICAgICAgICAgICB8IGMuYXR0cih7aHNiOiBcIjAuNSAuOCAxXCJ9KTtcbiAgICAgICAgICAgICB8IGMuYW5pbWF0ZSh7aHNiOiBbMSwgMCwgMC41XX0sIDFlMyk7XG4gICAgICAgICAgICBcXCovXG4gICAgICAgICAgICB0aGlzLmNhID0gdGhpcy5jdXN0b21BdHRyaWJ1dGVzID0ge307XG4gICAgICAgIH0sXG4gICAgICAgIHBhcGVycHJvdG8sXG4gICAgICAgIGFwcGVuZENoaWxkID0gXCJhcHBlbmRDaGlsZFwiLFxuICAgICAgICBhcHBseSA9IFwiYXBwbHlcIixcbiAgICAgICAgY29uY2F0ID0gXCJjb25jYXRcIixcbiAgICAgICAgLy90YWtlbiBmcm9tIE1vZGVybml6ciB0b3VjaCB0ZXN0OiBodHRwczovL2dpdGh1Yi5jb20vTW9kZXJuaXpyL01vZGVybml6ci9ibG9iL21hc3Rlci9mZWF0dXJlLWRldGVjdHMvdG91Y2hldmVudHMuanMjTDQwXG4gICAgICAgIHN1cHBvcnRzVG91Y2ggPSAoJ29udG91Y2hzdGFydCcgaW4gd2luZG93KSB8fCB3aW5kb3cuVG91Y2hFdmVudCB8fCB3aW5kb3cuRG9jdW1lbnRUb3VjaCAmJiBkb2N1bWVudCBpbnN0YW5jZW9mIERvY3VtZW50VG91Y2gsXG4gICAgICAgIEUgPSBcIlwiLFxuICAgICAgICBTID0gXCIgXCIsXG4gICAgICAgIFN0ciA9IFN0cmluZyxcbiAgICAgICAgc3BsaXQgPSBcInNwbGl0XCIsXG4gICAgICAgIGV2ZW50cyA9IFwiY2xpY2sgZGJsY2xpY2sgbW91c2Vkb3duIG1vdXNlbW92ZSBtb3VzZW91dCBtb3VzZW92ZXIgbW91c2V1cCB0b3VjaHN0YXJ0IHRvdWNobW92ZSB0b3VjaGVuZCB0b3VjaGNhbmNlbFwiW3NwbGl0XShTKSxcbiAgICAgICAgdG91Y2hNYXAgPSB7XG4gICAgICAgICAgICBtb3VzZWRvd246IFwidG91Y2hzdGFydFwiLFxuICAgICAgICAgICAgbW91c2Vtb3ZlOiBcInRvdWNobW92ZVwiLFxuICAgICAgICAgICAgbW91c2V1cDogXCJ0b3VjaGVuZFwiXG4gICAgICAgIH0sXG4gICAgICAgIGxvd2VyQ2FzZSA9IFN0ci5wcm90b3R5cGUudG9Mb3dlckNhc2UsXG4gICAgICAgIG1hdGggPSBNYXRoLFxuICAgICAgICBtbWF4ID0gbWF0aC5tYXgsXG4gICAgICAgIG1taW4gPSBtYXRoLm1pbixcbiAgICAgICAgYWJzID0gbWF0aC5hYnMsXG4gICAgICAgIHBvdyA9IG1hdGgucG93LFxuICAgICAgICBQSSA9IG1hdGguUEksXG4gICAgICAgIG51ID0gXCJudW1iZXJcIixcbiAgICAgICAgc3RyaW5nID0gXCJzdHJpbmdcIixcbiAgICAgICAgYXJyYXkgPSBcImFycmF5XCIsXG4gICAgICAgIHRvU3RyaW5nID0gXCJ0b1N0cmluZ1wiLFxuICAgICAgICBmaWxsU3RyaW5nID0gXCJmaWxsXCIsXG4gICAgICAgIG9iamVjdFRvU3RyaW5nID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICAgICAgcGFwZXIgPSB7fSxcbiAgICAgICAgcHVzaCA9IFwicHVzaFwiLFxuICAgICAgICBJU1VSTCA9IFIuX0lTVVJMID0gL151cmxcXChbJ1wiXT8oLis/KVsnXCJdP1xcKSQvaSxcbiAgICAgICAgY29sb3VyUmVnRXhwID0gL15cXHMqKCgjW2EtZlxcZF17Nn0pfCgjW2EtZlxcZF17M30pfHJnYmE/XFwoXFxzKihbXFxkXFwuXSslP1xccyosXFxzKltcXGRcXC5dKyU/XFxzKixcXHMqW1xcZFxcLl0rJT8oPzpcXHMqLFxccypbXFxkXFwuXSslPyk/KVxccypcXCl8aHNiYT9cXChcXHMqKFtcXGRcXC5dKyg/OmRlZ3xcXHhiMHwlKT9cXHMqLFxccypbXFxkXFwuXSslP1xccyosXFxzKltcXGRcXC5dKyg/OiU/XFxzKixcXHMqW1xcZFxcLl0rKT8pJT9cXHMqXFwpfGhzbGE/XFwoXFxzKihbXFxkXFwuXSsoPzpkZWd8XFx4YjB8JSk/XFxzKixcXHMqW1xcZFxcLl0rJT9cXHMqLFxccypbXFxkXFwuXSsoPzolP1xccyosXFxzKltcXGRcXC5dKyk/KSU/XFxzKlxcKSlcXHMqJC9pLFxuICAgICAgICBpc25hbiA9IHtcIk5hTlwiOiAxLCBcIkluZmluaXR5XCI6IDEsIFwiLUluZmluaXR5XCI6IDF9LFxuICAgICAgICBiZXppZXJyZyA9IC9eKD86Y3ViaWMtKT9iZXppZXJcXCgoW14sXSspLChbXixdKyksKFteLF0rKSwoW15cXCldKylcXCkvLFxuICAgICAgICByb3VuZCA9IG1hdGgucm91bmQsXG4gICAgICAgIHNldEF0dHJpYnV0ZSA9IFwic2V0QXR0cmlidXRlXCIsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICB0b0ludCA9IHBhcnNlSW50LFxuICAgICAgICB1cHBlckNhc2UgPSBTdHIucHJvdG90eXBlLnRvVXBwZXJDYXNlLFxuICAgICAgICBhdmFpbGFibGVBdHRycyA9IFIuX2F2YWlsYWJsZUF0dHJzID0ge1xuICAgICAgICAgICAgXCJhcnJvdy1lbmRcIjogXCJub25lXCIsXG4gICAgICAgICAgICBcImFycm93LXN0YXJ0XCI6IFwibm9uZVwiLFxuICAgICAgICAgICAgYmx1cjogMCxcbiAgICAgICAgICAgIFwiY2xpcC1yZWN0XCI6IFwiMCAwIDFlOSAxZTlcIixcbiAgICAgICAgICAgIGN1cnNvcjogXCJkZWZhdWx0XCIsXG4gICAgICAgICAgICBjeDogMCxcbiAgICAgICAgICAgIGN5OiAwLFxuICAgICAgICAgICAgZmlsbDogXCIjZmZmXCIsXG4gICAgICAgICAgICBcImZpbGwtb3BhY2l0eVwiOiAxLFxuICAgICAgICAgICAgZm9udDogJzEwcHggXCJBcmlhbFwiJyxcbiAgICAgICAgICAgIFwiZm9udC1mYW1pbHlcIjogJ1wiQXJpYWxcIicsXG4gICAgICAgICAgICBcImZvbnQtc2l6ZVwiOiBcIjEwXCIsXG4gICAgICAgICAgICBcImZvbnQtc3R5bGVcIjogXCJub3JtYWxcIixcbiAgICAgICAgICAgIFwiZm9udC13ZWlnaHRcIjogNDAwLFxuICAgICAgICAgICAgZ3JhZGllbnQ6IDAsXG4gICAgICAgICAgICBoZWlnaHQ6IDAsXG4gICAgICAgICAgICBocmVmOiBcImh0dHA6Ly9yYXBoYWVsanMuY29tL1wiLFxuICAgICAgICAgICAgXCJsZXR0ZXItc3BhY2luZ1wiOiAwLFxuICAgICAgICAgICAgb3BhY2l0eTogMSxcbiAgICAgICAgICAgIHBhdGg6IFwiTTAsMFwiLFxuICAgICAgICAgICAgcjogMCxcbiAgICAgICAgICAgIHJ4OiAwLFxuICAgICAgICAgICAgcnk6IDAsXG4gICAgICAgICAgICBzcmM6IFwiXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgICAgICAgICAgXCJzdHJva2UtZGFzaGFycmF5XCI6IFwiXCIsXG4gICAgICAgICAgICBcInN0cm9rZS1saW5lY2FwXCI6IFwiYnV0dFwiLFxuICAgICAgICAgICAgXCJzdHJva2UtbGluZWpvaW5cIjogXCJidXR0XCIsXG4gICAgICAgICAgICBcInN0cm9rZS1taXRlcmxpbWl0XCI6IDAsXG4gICAgICAgICAgICBcInN0cm9rZS1vcGFjaXR5XCI6IDEsXG4gICAgICAgICAgICBcInN0cm9rZS13aWR0aFwiOiAxLFxuICAgICAgICAgICAgdGFyZ2V0OiBcIl9ibGFua1wiLFxuICAgICAgICAgICAgXCJ0ZXh0LWFuY2hvclwiOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgdGl0bGU6IFwiUmFwaGFlbFwiLFxuICAgICAgICAgICAgdHJhbnNmb3JtOiBcIlwiLFxuICAgICAgICAgICAgd2lkdGg6IDAsXG4gICAgICAgICAgICB4OiAwLFxuICAgICAgICAgICAgeTogMCxcbiAgICAgICAgICAgIFwiY2xhc3NcIjogXCJcIlxuICAgICAgICB9LFxuICAgICAgICBhdmFpbGFibGVBbmltQXR0cnMgPSBSLl9hdmFpbGFibGVBbmltQXR0cnMgPSB7XG4gICAgICAgICAgICBibHVyOiBudSxcbiAgICAgICAgICAgIFwiY2xpcC1yZWN0XCI6IFwiY3N2XCIsXG4gICAgICAgICAgICBjeDogbnUsXG4gICAgICAgICAgICBjeTogbnUsXG4gICAgICAgICAgICBmaWxsOiBcImNvbG91clwiLFxuICAgICAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogbnUsXG4gICAgICAgICAgICBcImZvbnQtc2l6ZVwiOiBudSxcbiAgICAgICAgICAgIGhlaWdodDogbnUsXG4gICAgICAgICAgICBvcGFjaXR5OiBudSxcbiAgICAgICAgICAgIHBhdGg6IFwicGF0aFwiLFxuICAgICAgICAgICAgcjogbnUsXG4gICAgICAgICAgICByeDogbnUsXG4gICAgICAgICAgICByeTogbnUsXG4gICAgICAgICAgICBzdHJva2U6IFwiY29sb3VyXCIsXG4gICAgICAgICAgICBcInN0cm9rZS1vcGFjaXR5XCI6IG51LFxuICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogbnUsXG4gICAgICAgICAgICB0cmFuc2Zvcm06IFwidHJhbnNmb3JtXCIsXG4gICAgICAgICAgICB3aWR0aDogbnUsXG4gICAgICAgICAgICB4OiBudSxcbiAgICAgICAgICAgIHk6IG51XG4gICAgICAgIH0sXG4gICAgICAgIHdoaXRlc3BhY2UgPSAvW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XS9nLFxuICAgICAgICBjb21tYVNwYWNlcyA9IC9bXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKixbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKi8sXG4gICAgICAgIGhzcmcgPSB7aHM6IDEsIHJnOiAxfSxcbiAgICAgICAgcDJzID0gLyw/KFthY2hsbXFyc3R2eHpdKSw/L2dpLFxuICAgICAgICBwYXRoQ29tbWFuZCA9IC8oW2FjaGxtcnFzdHZ6XSlbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjksXSooKC0/XFxkKlxcLj9cXGQqKD86ZVtcXC0rXT9cXGQrKT9bXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKiw/W1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSopKykvaWcsXG4gICAgICAgIHRDb21tYW5kID0gLyhbcnN0bV0pW1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5LF0qKCgtP1xcZCpcXC4/XFxkKig/OmVbXFwtK10/XFxkKyk/W1xceDA5XFx4MGFcXHgwYlxceDBjXFx4MGRcXHgyMFxceGEwXFx1MTY4MFxcdTE4MGVcXHUyMDAwXFx1MjAwMVxcdTIwMDJcXHUyMDAzXFx1MjAwNFxcdTIwMDVcXHUyMDA2XFx1MjAwN1xcdTIwMDhcXHUyMDA5XFx1MjAwYVxcdTIwMmZcXHUyMDVmXFx1MzAwMFxcdTIwMjhcXHUyMDI5XSosP1tcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0qKSspL2lnLFxuICAgICAgICBwYXRoVmFsdWVzID0gLygtP1xcZCpcXC4/XFxkKig/OmVbXFwtK10/XFxkKyk/KVtcXHgwOVxceDBhXFx4MGJcXHgwY1xceDBkXFx4MjBcXHhhMFxcdTE2ODBcXHUxODBlXFx1MjAwMFxcdTIwMDFcXHUyMDAyXFx1MjAwM1xcdTIwMDRcXHUyMDA1XFx1MjAwNlxcdTIwMDdcXHUyMDA4XFx1MjAwOVxcdTIwMGFcXHUyMDJmXFx1MjA1ZlxcdTMwMDBcXHUyMDI4XFx1MjAyOV0qLD9bXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKi9pZyxcbiAgICAgICAgcmFkaWFsX2dyYWRpZW50ID0gUi5fcmFkaWFsX2dyYWRpZW50ID0gL15yKD86XFwoKFteLF0rPylbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKixbXFx4MDlcXHgwYVxceDBiXFx4MGNcXHgwZFxceDIwXFx4YTBcXHUxNjgwXFx1MTgwZVxcdTIwMDBcXHUyMDAxXFx1MjAwMlxcdTIwMDNcXHUyMDA0XFx1MjAwNVxcdTIwMDZcXHUyMDA3XFx1MjAwOFxcdTIwMDlcXHUyMDBhXFx1MjAyZlxcdTIwNWZcXHUzMDAwXFx1MjAyOFxcdTIwMjldKihbXlxcKV0rPylcXCkpPy8sXG4gICAgICAgIGVsZGF0YSA9IHt9LFxuICAgICAgICBzb3J0QnlLZXkgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgcmV0dXJuIGEua2V5IC0gYi5rZXk7XG4gICAgICAgIH0sXG4gICAgICAgIHNvcnRCeU51bWJlciA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gdG9GbG9hdChhKSAtIHRvRmxvYXQoYik7XG4gICAgICAgIH0sXG4gICAgICAgIGZ1biA9IGZ1bmN0aW9uICgpIHt9LFxuICAgICAgICBwaXBlID0gZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgICAgIHJldHVybiB4O1xuICAgICAgICB9LFxuICAgICAgICByZWN0UGF0aCA9IFIuX3JlY3RQYXRoID0gZnVuY3Rpb24gKHgsIHksIHcsIGgsIHIpIHtcbiAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtbXCJNXCIsIHggKyByLCB5XSwgW1wibFwiLCB3IC0gciAqIDIsIDBdLCBbXCJhXCIsIHIsIHIsIDAsIDAsIDEsIHIsIHJdLCBbXCJsXCIsIDAsIGggLSByICogMl0sIFtcImFcIiwgciwgciwgMCwgMCwgMSwgLXIsIHJdLCBbXCJsXCIsIHIgKiAyIC0gdywgMF0sIFtcImFcIiwgciwgciwgMCwgMCwgMSwgLXIsIC1yXSwgW1wibFwiLCAwLCByICogMiAtIGhdLCBbXCJhXCIsIHIsIHIsIDAsIDAsIDEsIHIsIC1yXSwgW1wielwiXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW1tcIk1cIiwgeCwgeV0sIFtcImxcIiwgdywgMF0sIFtcImxcIiwgMCwgaF0sIFtcImxcIiwgLXcsIDBdLCBbXCJ6XCJdXTtcbiAgICAgICAgfSxcbiAgICAgICAgZWxsaXBzZVBhdGggPSBmdW5jdGlvbiAoeCwgeSwgcngsIHJ5KSB7XG4gICAgICAgICAgICBpZiAocnkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJ5ID0gcng7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gW1tcIk1cIiwgeCwgeV0sIFtcIm1cIiwgMCwgLXJ5XSwgW1wiYVwiLCByeCwgcnksIDAsIDEsIDEsIDAsIDIgKiByeV0sIFtcImFcIiwgcngsIHJ5LCAwLCAxLCAxLCAwLCAtMiAqIHJ5XSwgW1wielwiXV07XG4gICAgICAgIH0sXG4gICAgICAgIGdldFBhdGggPSBSLl9nZXRQYXRoID0ge1xuICAgICAgICAgICAgcGF0aDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLmF0dHIoXCJwYXRoXCIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNpcmNsZTogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGEgPSBlbC5hdHRycztcbiAgICAgICAgICAgICAgICByZXR1cm4gZWxsaXBzZVBhdGgoYS5jeCwgYS5jeSwgYS5yKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbGxpcHNlOiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGVsLmF0dHJzO1xuICAgICAgICAgICAgICAgIHJldHVybiBlbGxpcHNlUGF0aChhLmN4LCBhLmN5LCBhLnJ4LCBhLnJ5KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZWN0OiBmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICB2YXIgYSA9IGVsLmF0dHJzO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN0UGF0aChhLngsIGEueSwgYS53aWR0aCwgYS5oZWlnaHQsIGEucik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaW1hZ2U6IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgIHZhciBhID0gZWwuYXR0cnM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlY3RQYXRoKGEueCwgYS55LCBhLndpZHRoLCBhLmhlaWdodCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGV4dDogZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJib3ggPSBlbC5fZ2V0QkJveCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN0UGF0aChiYm94LngsIGJib3gueSwgYmJveC53aWR0aCwgYmJveC5oZWlnaHQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHNldCA6IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGJib3ggPSBlbC5fZ2V0QkJveCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZWN0UGF0aChiYm94LngsIGJib3gueSwgYmJveC53aWR0aCwgYmJveC5oZWlnaHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAvKlxcXG4gICAgICAgICAqIFJhcGhhZWwubWFwUGF0aFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogVHJhbnNmb3JtIHRoZSBwYXRoIHN0cmluZyB3aXRoIGdpdmVuIG1hdHJpeC5cbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSBwYXRoIChzdHJpbmcpIHBhdGggc3RyaW5nXG4gICAgICAgICAtIG1hdHJpeCAob2JqZWN0KSBzZWUgQE1hdHJpeFxuICAgICAgICAgPSAoc3RyaW5nKSB0cmFuc2Zvcm1lZCBwYXRoIHN0cmluZ1xuICAgICAgICBcXCovXG4gICAgICAgIG1hcFBhdGggPSBSLm1hcFBhdGggPSBmdW5jdGlvbiAocGF0aCwgbWF0cml4KSB7XG4gICAgICAgICAgICBpZiAoIW1hdHJpeCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHgsIHksIGksIGosIGlpLCBqaiwgcGF0aGk7XG4gICAgICAgICAgICBwYXRoID0gcGF0aDJjdXJ2ZShwYXRoKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gcGF0aC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcGF0aGkgPSBwYXRoW2ldO1xuICAgICAgICAgICAgICAgIGZvciAoaiA9IDEsIGpqID0gcGF0aGkubGVuZ3RoOyBqIDwgamo7IGogKz0gMikge1xuICAgICAgICAgICAgICAgICAgICB4ID0gbWF0cml4LngocGF0aGlbal0sIHBhdGhpW2ogKyAxXSk7XG4gICAgICAgICAgICAgICAgICAgIHkgPSBtYXRyaXgueShwYXRoaVtqXSwgcGF0aGlbaiArIDFdKTtcbiAgICAgICAgICAgICAgICAgICAgcGF0aGlbal0gPSB4O1xuICAgICAgICAgICAgICAgICAgICBwYXRoaVtqICsgMV0gPSB5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBwYXRoO1xuICAgICAgICB9O1xuXG4gICAgUi5fZyA9IGc7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwudHlwZVxuICAgICBbIHByb3BlcnR5IChzdHJpbmcpIF1cbiAgICAgKipcbiAgICAgKiBDYW4gYmUg4oCcU1ZH4oCdLCDigJxWTUzigJ0gb3IgZW1wdHksIGRlcGVuZGluZyBvbiBicm93c2VyIHN1cHBvcnQuXG4gICAgXFwqL1xuICAgIFIudHlwZSA9IChnLndpbi5TVkdBbmdsZSB8fCBnLmRvYy5pbXBsZW1lbnRhdGlvbi5oYXNGZWF0dXJlKFwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvZmVhdHVyZSNCYXNpY1N0cnVjdHVyZVwiLCBcIjEuMVwiKSA/IFwiU1ZHXCIgOiBcIlZNTFwiKTtcbiAgICBpZiAoUi50eXBlID09IFwiVk1MXCIpIHtcbiAgICAgICAgdmFyIGQgPSBnLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgYjtcbiAgICAgICAgZC5pbm5lckhUTUwgPSAnPHY6c2hhcGUgYWRqPVwiMVwiLz4nO1xuICAgICAgICBiID0gZC5maXJzdENoaWxkO1xuICAgICAgICBiLnN0eWxlLmJlaGF2aW9yID0gXCJ1cmwoI2RlZmF1bHQjVk1MKVwiO1xuICAgICAgICBpZiAoIShiICYmIHR5cGVvZiBiLmFkaiA9PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIChSLnR5cGUgPSBFKTtcbiAgICAgICAgfVxuICAgICAgICBkID0gbnVsbDtcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuc3ZnXG4gICAgIFsgcHJvcGVydHkgKGJvb2xlYW4pIF1cbiAgICAgKipcbiAgICAgKiBgdHJ1ZWAgaWYgYnJvd3NlciBzdXBwb3J0cyBTVkcuXG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnZtbFxuICAgICBbIHByb3BlcnR5IChib29sZWFuKSBdXG4gICAgICoqXG4gICAgICogYHRydWVgIGlmIGJyb3dzZXIgc3VwcG9ydHMgVk1MLlxuICAgIFxcKi9cbiAgICBSLnN2ZyA9ICEoUi52bWwgPSBSLnR5cGUgPT0gXCJWTUxcIik7XG4gICAgUi5fUGFwZXIgPSBQYXBlcjtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5mblxuICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgKipcbiAgICAgKiBZb3UgY2FuIGFkZCB5b3VyIG93biBtZXRob2QgdG8gdGhlIGNhbnZhcy4gRm9yIGV4YW1wbGUgaWYgeW91IHdhbnQgdG8gZHJhdyBhIHBpZSBjaGFydCxcbiAgICAgKiB5b3UgY2FuIGNyZWF0ZSB5b3VyIG93biBwaWUgY2hhcnQgZnVuY3Rpb24gYW5kIHNoaXAgaXQgYXMgYSBSYXBoYcOrbCBwbHVnaW4uIFRvIGRvIHRoaXNcbiAgICAgKiB5b3UgbmVlZCB0byBleHRlbmQgdGhlIGBSYXBoYWVsLmZuYCBvYmplY3QuIFlvdSBzaG91bGQgbW9kaWZ5IHRoZSBgZm5gIG9iamVjdCBiZWZvcmUgYVxuICAgICAqIFJhcGhhw6tsIGluc3RhbmNlIGlzIGNyZWF0ZWQsIG90aGVyd2lzZSBpdCB3aWxsIHRha2Ugbm8gZWZmZWN0LiBQbGVhc2Ugbm90ZSB0aGF0IHRoZVxuICAgICAqIGFiaWxpdHkgZm9yIG5hbWVzcGFjZWQgcGx1Z2lucyB3YXMgcmVtb3ZlZCBpbiBSYXBoYWVsIDIuMC4gSXQgaXMgdXAgdG8gdGhlIHBsdWdpbiB0b1xuICAgICAqIGVuc3VyZSBhbnkgbmFtZXNwYWNpbmcgZW5zdXJlcyBwcm9wZXIgY29udGV4dC5cbiAgICAgPiBVc2FnZVxuICAgICB8IFJhcGhhZWwuZm4uYXJyb3cgPSBmdW5jdGlvbiAoeDEsIHkxLCB4MiwgeTIsIHNpemUpIHtcbiAgICAgfCAgICAgcmV0dXJuIHRoaXMucGF0aCggLi4uICk7XG4gICAgIHwgfTtcbiAgICAgfCAvLyBvciBjcmVhdGUgbmFtZXNwYWNlXG4gICAgIHwgUmFwaGFlbC5mbi5teXN0dWZmID0ge1xuICAgICB8ICAgICBhcnJvdzogZnVuY3Rpb24gKCkge+KApn0sXG4gICAgIHwgICAgIHN0YXI6IGZ1bmN0aW9uICgpIHvigKZ9LFxuICAgICB8ICAgICAvLyBldGPigKZcbiAgICAgfCB9O1xuICAgICB8IHZhciBwYXBlciA9IFJhcGhhZWwoMTAsIDEwLCA2MzAsIDQ4MCk7XG4gICAgIHwgLy8gdGhlbiB1c2UgaXRcbiAgICAgfCBwYXBlci5hcnJvdygxMCwgMTAsIDMwLCAzMCwgNSkuYXR0cih7ZmlsbDogXCIjZjAwXCJ9KTtcbiAgICAgfCBwYXBlci5teXN0dWZmLmFycm93KCk7XG4gICAgIHwgcGFwZXIubXlzdHVmZi5zdGFyKCk7XG4gICAgXFwqL1xuICAgIFIuZm4gPSBwYXBlcnByb3RvID0gUGFwZXIucHJvdG90eXBlID0gUi5wcm90b3R5cGU7XG4gICAgUi5faWQgPSAwO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmlzXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBIYW5kZnVsIG9mIHJlcGxhY2VtZW50cyBmb3IgYHR5cGVvZmAgb3BlcmF0b3IuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIG8gKOKApikgYW55IG9iamVjdCBvciBwcmltaXRpdmVcbiAgICAgLSB0eXBlIChzdHJpbmcpIG5hbWUgb2YgdGhlIHR5cGUsIGkuZS4g4oCcc3RyaW5n4oCdLCDigJxmdW5jdGlvbuKAnSwg4oCcbnVtYmVy4oCdLCBldGMuXG4gICAgID0gKGJvb2xlYW4pIGlzIGdpdmVuIHZhbHVlIGlzIG9mIGdpdmVuIHR5cGVcbiAgICBcXCovXG4gICAgUi5pcyA9IGZ1bmN0aW9uIChvLCB0eXBlKSB7XG4gICAgICAgIHR5cGUgPSBsb3dlckNhc2UuY2FsbCh0eXBlKTtcbiAgICAgICAgaWYgKHR5cGUgPT0gXCJmaW5pdGVcIikge1xuICAgICAgICAgICAgcmV0dXJuICFpc25hbltoYXNdKCtvKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZSA9PSBcImFycmF5XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBvIGluc3RhbmNlb2YgQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICAodHlwZSA9PSBcIm51bGxcIiAmJiBvID09PSBudWxsKSB8fFxuICAgICAgICAgICAgICAgICh0eXBlID09IHR5cGVvZiBvICYmIG8gIT09IG51bGwpIHx8XG4gICAgICAgICAgICAgICAgKHR5cGUgPT0gXCJvYmplY3RcIiAmJiBvID09PSBPYmplY3QobykpIHx8XG4gICAgICAgICAgICAgICAgKHR5cGUgPT0gXCJhcnJheVwiICYmIEFycmF5LmlzQXJyYXkgJiYgQXJyYXkuaXNBcnJheShvKSkgfHxcbiAgICAgICAgICAgICAgICBvYmplY3RUb1N0cmluZy5jYWxsKG8pLnNsaWNlKDgsIC0xKS50b0xvd2VyQ2FzZSgpID09IHR5cGU7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIGNsb25lKG9iaikge1xuICAgICAgICBpZiAodHlwZW9mIG9iaiA9PSBcImZ1bmN0aW9uXCIgfHwgT2JqZWN0KG9iaikgIT09IG9iaikge1xuICAgICAgICAgICAgcmV0dXJuIG9iajtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzID0gbmV3IG9iai5jb25zdHJ1Y3RvcjtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKG9ialtoYXNdKGtleSkpIHtcbiAgICAgICAgICAgIHJlc1trZXldID0gY2xvbmUob2JqW2tleV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfVxuXG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuYW5nbGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybnMgYW5nbGUgYmV0d2VlbiB0d28gb3IgdGhyZWUgcG9pbnRzXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHgxIChudW1iZXIpIHggY29vcmQgb2YgZmlyc3QgcG9pbnRcbiAgICAgLSB5MSAobnVtYmVyKSB5IGNvb3JkIG9mIGZpcnN0IHBvaW50XG4gICAgIC0geDIgKG51bWJlcikgeCBjb29yZCBvZiBzZWNvbmQgcG9pbnRcbiAgICAgLSB5MiAobnVtYmVyKSB5IGNvb3JkIG9mIHNlY29uZCBwb2ludFxuICAgICAtIHgzIChudW1iZXIpICNvcHRpb25hbCB4IGNvb3JkIG9mIHRoaXJkIHBvaW50XG4gICAgIC0geTMgKG51bWJlcikgI29wdGlvbmFsIHkgY29vcmQgb2YgdGhpcmQgcG9pbnRcbiAgICAgPSAobnVtYmVyKSBhbmdsZSBpbiBkZWdyZWVzLlxuICAgIFxcKi9cbiAgICBSLmFuZ2xlID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMpIHtcbiAgICAgICAgaWYgKHgzID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciB4ID0geDEgLSB4MixcbiAgICAgICAgICAgICAgICB5ID0geTEgLSB5MjtcbiAgICAgICAgICAgIGlmICgheCAmJiAheSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuICgxODAgKyBtYXRoLmF0YW4yKC15LCAteCkgKiAxODAgLyBQSSArIDM2MCkgJSAzNjA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gUi5hbmdsZSh4MSwgeTEsIHgzLCB5MykgLSBSLmFuZ2xlKHgyLCB5MiwgeDMsIHkzKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmFkXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBUcmFuc2Zvcm0gYW5nbGUgdG8gcmFkaWFuc1xuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBkZWcgKG51bWJlcikgYW5nbGUgaW4gZGVncmVlc1xuICAgICA9IChudW1iZXIpIGFuZ2xlIGluIHJhZGlhbnMuXG4gICAgXFwqL1xuICAgIFIucmFkID0gZnVuY3Rpb24gKGRlZykge1xuICAgICAgICByZXR1cm4gZGVnICUgMzYwICogUEkgLyAxODA7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5kZWdcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFRyYW5zZm9ybSBhbmdsZSB0byBkZWdyZWVzXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHJhZCAobnVtYmVyKSBhbmdsZSBpbiByYWRpYW5zXG4gICAgID0gKG51bWJlcikgYW5nbGUgaW4gZGVncmVlcy5cbiAgICBcXCovXG4gICAgUi5kZWcgPSBmdW5jdGlvbiAocmFkKSB7XG4gICAgICAgIHJldHVybiBNYXRoLnJvdW5kICgocmFkICogMTgwIC8gUEklIDM2MCkqIDEwMDApIC8gMTAwMDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnNuYXBUb1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogU25hcHMgZ2l2ZW4gdmFsdWUgdG8gZ2l2ZW4gZ3JpZC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gdmFsdWVzIChhcnJheXxudW1iZXIpIGdpdmVuIGFycmF5IG9mIHZhbHVlcyBvciBzdGVwIG9mIHRoZSBncmlkXG4gICAgIC0gdmFsdWUgKG51bWJlcikgdmFsdWUgdG8gYWRqdXN0XG4gICAgIC0gdG9sZXJhbmNlIChudW1iZXIpICNvcHRpb25hbCB0b2xlcmFuY2UgZm9yIHNuYXBwaW5nLiBEZWZhdWx0IGlzIGAxMGAuXG4gICAgID0gKG51bWJlcikgYWRqdXN0ZWQgdmFsdWUuXG4gICAgXFwqL1xuICAgIFIuc25hcFRvID0gZnVuY3Rpb24gKHZhbHVlcywgdmFsdWUsIHRvbGVyYW5jZSkge1xuICAgICAgICB0b2xlcmFuY2UgPSBSLmlzKHRvbGVyYW5jZSwgXCJmaW5pdGVcIikgPyB0b2xlcmFuY2UgOiAxMDtcbiAgICAgICAgaWYgKFIuaXModmFsdWVzLCBhcnJheSkpIHtcbiAgICAgICAgICAgIHZhciBpID0gdmFsdWVzLmxlbmd0aDtcbiAgICAgICAgICAgIHdoaWxlIChpLS0pIGlmIChhYnModmFsdWVzW2ldIC0gdmFsdWUpIDw9IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZXNbaV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB2YWx1ZXMgPSArdmFsdWVzO1xuICAgICAgICAgICAgdmFyIHJlbSA9IHZhbHVlICUgdmFsdWVzO1xuICAgICAgICAgICAgaWYgKHJlbSA8IHRvbGVyYW5jZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB2YWx1ZSAtIHJlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyZW0gPiB2YWx1ZXMgLSB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWUgLSByZW0gKyB2YWx1ZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5jcmVhdGVVVUlEXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIFJGQzQxMjIsIHZlcnNpb24gNCBJRFxuICAgIFxcKi9cbiAgICB2YXIgY3JlYXRlVVVJRCA9IFIuY3JlYXRlVVVJRCA9IChmdW5jdGlvbiAodXVpZFJlZ0V4LCB1dWlkUmVwbGFjZXIpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBcInh4eHh4eHh4LXh4eHgtNHh4eC15eHh4LXh4eHh4eHh4eHh4eFwiLnJlcGxhY2UodXVpZFJlZ0V4LCB1dWlkUmVwbGFjZXIpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH07XG4gICAgfSkoL1t4eV0vZywgZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgdmFyIHIgPSBtYXRoLnJhbmRvbSgpICogMTYgfCAwLFxuICAgICAgICAgICAgdiA9IGMgPT0gXCJ4XCIgPyByIDogKHIgJiAzIHwgOCk7XG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcbiAgICB9KTtcblxuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnNldFdpbmRvd1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXNlZCB3aGVuIHlvdSBuZWVkIHRvIGRyYXcgaW4gYCZsdDtpZnJhbWU+YC4gU3dpdGNoZWQgd2luZG93IHRvIHRoZSBpZnJhbWUgb25lLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBuZXd3aW4gKHdpbmRvdykgbmV3IHdpbmRvdyBvYmplY3RcbiAgICBcXCovXG4gICAgUi5zZXRXaW5kb3cgPSBmdW5jdGlvbiAobmV3d2luKSB7XG4gICAgICAgIGV2ZShcInJhcGhhZWwuc2V0V2luZG93XCIsIFIsIGcud2luLCBuZXd3aW4pO1xuICAgICAgICBnLndpbiA9IG5ld3dpbjtcbiAgICAgICAgZy5kb2MgPSBnLndpbi5kb2N1bWVudDtcbiAgICAgICAgaWYgKFIuX2VuZ2luZS5pbml0V2luKSB7XG4gICAgICAgICAgICBSLl9lbmdpbmUuaW5pdFdpbihnLndpbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciB0b0hleCA9IGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICBpZiAoUi52bWwpIHtcbiAgICAgICAgICAgIC8vIGh0dHA6Ly9kZWFuLmVkd2FyZHMubmFtZS93ZWJsb2cvMjAwOS8xMC9jb252ZXJ0LWFueS1jb2xvdXItdmFsdWUtdG8taGV4LWluLW1zaWUvXG4gICAgICAgICAgICB2YXIgdHJpbSA9IC9eXFxzK3xcXHMrJC9nO1xuICAgICAgICAgICAgdmFyIGJvZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvY3VtID0gbmV3IEFjdGl2ZVhPYmplY3QoXCJodG1sZmlsZVwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bS53cml0ZShcIjxib2R5PlwiKTtcbiAgICAgICAgICAgICAgICBkb2N1bS5jbG9zZSgpO1xuICAgICAgICAgICAgICAgIGJvZCA9IGRvY3VtLmJvZHk7XG4gICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICBib2QgPSBjcmVhdGVQb3B1cCgpLmRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSBib2QuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICB0b0hleCA9IGNhY2hlcihmdW5jdGlvbiAoY29sb3IpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBib2Quc3R5bGUuY29sb3IgPSBTdHIoY29sb3IpLnJlcGxhY2UodHJpbSwgRSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZSA9IHJhbmdlLnF1ZXJ5Q29tbWFuZFZhbHVlKFwiRm9yZUNvbG9yXCIpO1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9ICgodmFsdWUgJiAyNTUpIDw8IDE2KSB8ICh2YWx1ZSAmIDY1MjgwKSB8ICgodmFsdWUgJiAxNjcxMTY4MCkgPj4+IDE2KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiI1wiICsgKFwiMDAwMDAwXCIgKyB2YWx1ZS50b1N0cmluZygxNikpLnNsaWNlKC02KTtcbiAgICAgICAgICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwibm9uZVwiO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdmFyIGkgPSBnLmRvYy5jcmVhdGVFbGVtZW50KFwiaVwiKTtcbiAgICAgICAgICAgIGkudGl0bGUgPSBcIlJhcGhhXFx4ZWJsIENvbG91ciBQaWNrZXJcIjtcbiAgICAgICAgICAgIGkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgZy5kb2MuYm9keS5hcHBlbmRDaGlsZChpKTtcbiAgICAgICAgICAgIHRvSGV4ID0gY2FjaGVyKGZ1bmN0aW9uIChjb2xvcikge1xuICAgICAgICAgICAgICAgIGkuc3R5bGUuY29sb3IgPSBjb2xvcjtcbiAgICAgICAgICAgICAgICByZXR1cm4gZy5kb2MuZGVmYXVsdFZpZXcuZ2V0Q29tcHV0ZWRTdHlsZShpLCBFKS5nZXRQcm9wZXJ0eVZhbHVlKFwiY29sb3JcIik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdG9IZXgoY29sb3IpO1xuICAgIH0sXG4gICAgaHNidG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImhzYihcIiArIFt0aGlzLmgsIHRoaXMucywgdGhpcy5iXSArIFwiKVwiO1xuICAgIH0sXG4gICAgaHNsdG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcImhzbChcIiArIFt0aGlzLmgsIHRoaXMucywgdGhpcy5sXSArIFwiKVwiO1xuICAgIH0sXG4gICAgcmdidG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhleDtcbiAgICB9LFxuICAgIHByZXBhcmVSR0IgPSBmdW5jdGlvbiAociwgZywgYikge1xuICAgICAgICBpZiAoZyA9PSBudWxsICYmIFIuaXMociwgXCJvYmplY3RcIikgJiYgXCJyXCIgaW4gciAmJiBcImdcIiBpbiByICYmIFwiYlwiIGluIHIpIHtcbiAgICAgICAgICAgIGIgPSByLmI7XG4gICAgICAgICAgICBnID0gci5nO1xuICAgICAgICAgICAgciA9IHIucjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZyA9PSBudWxsICYmIFIuaXMociwgc3RyaW5nKSkge1xuICAgICAgICAgICAgdmFyIGNsciA9IFIuZ2V0UkdCKHIpO1xuICAgICAgICAgICAgciA9IGNsci5yO1xuICAgICAgICAgICAgZyA9IGNsci5nO1xuICAgICAgICAgICAgYiA9IGNsci5iO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyID4gMSB8fCBnID4gMSB8fCBiID4gMSkge1xuICAgICAgICAgICAgciAvPSAyNTU7XG4gICAgICAgICAgICBnIC89IDI1NTtcbiAgICAgICAgICAgIGIgLz0gMjU1O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFtyLCBnLCBiXTtcbiAgICB9LFxuICAgIHBhY2thZ2VSR0IgPSBmdW5jdGlvbiAociwgZywgYiwgbykge1xuICAgICAgICByICo9IDI1NTtcbiAgICAgICAgZyAqPSAyNTU7XG4gICAgICAgIGIgKj0gMjU1O1xuICAgICAgICB2YXIgcmdiID0ge1xuICAgICAgICAgICAgcjogcixcbiAgICAgICAgICAgIGc6IGcsXG4gICAgICAgICAgICBiOiBiLFxuICAgICAgICAgICAgaGV4OiBSLnJnYihyLCBnLCBiKSxcbiAgICAgICAgICAgIHRvU3RyaW5nOiByZ2J0b1N0cmluZ1xuICAgICAgICB9O1xuICAgICAgICBSLmlzKG8sIFwiZmluaXRlXCIpICYmIChyZ2Iub3BhY2l0eSA9IG8pO1xuICAgICAgICByZXR1cm4gcmdiO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5jb2xvclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUGFyc2VzIHRoZSBjb2xvciBzdHJpbmcgYW5kIHJldHVybnMgb2JqZWN0IHdpdGggYWxsIHZhbHVlcyBmb3IgdGhlIGdpdmVuIGNvbG9yLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBjbHIgKHN0cmluZykgY29sb3Igc3RyaW5nIGluIG9uZSBvZiB0aGUgc3VwcG9ydGVkIGZvcm1hdHMgKHNlZSBAUmFwaGFlbC5nZXRSR0IpXG4gICAgID0gKG9iamVjdCkgQ29tYmluZWQgUkdCICYgSFNCIG9iamVjdCBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICByIChudW1iZXIpIHJlZCxcbiAgICAgbyAgICAgZyAobnVtYmVyKSBncmVlbixcbiAgICAgbyAgICAgYiAobnVtYmVyKSBibHVlLFxuICAgICBvICAgICBoZXggKHN0cmluZykgY29sb3IgaW4gSFRNTC9DU1MgZm9ybWF0OiAj4oCi4oCi4oCi4oCi4oCi4oCiLFxuICAgICBvICAgICBlcnJvciAoYm9vbGVhbikgYHRydWVgIGlmIHN0cmluZyBjYW7igJl0IGJlIHBhcnNlZCxcbiAgICAgbyAgICAgaCAobnVtYmVyKSBodWUsXG4gICAgIG8gICAgIHMgKG51bWJlcikgc2F0dXJhdGlvbixcbiAgICAgbyAgICAgdiAobnVtYmVyKSB2YWx1ZSAoYnJpZ2h0bmVzcyksXG4gICAgIG8gICAgIGwgKG51bWJlcikgbGlnaHRuZXNzXG4gICAgIG8gfVxuICAgIFxcKi9cbiAgICBSLmNvbG9yID0gZnVuY3Rpb24gKGNscikge1xuICAgICAgICB2YXIgcmdiO1xuICAgICAgICBpZiAoUi5pcyhjbHIsIFwib2JqZWN0XCIpICYmIFwiaFwiIGluIGNsciAmJiBcInNcIiBpbiBjbHIgJiYgXCJiXCIgaW4gY2xyKSB7XG4gICAgICAgICAgICByZ2IgPSBSLmhzYjJyZ2IoY2xyKTtcbiAgICAgICAgICAgIGNsci5yID0gcmdiLnI7XG4gICAgICAgICAgICBjbHIuZyA9IHJnYi5nO1xuICAgICAgICAgICAgY2xyLmIgPSByZ2IuYjtcbiAgICAgICAgICAgIGNsci5oZXggPSByZ2IuaGV4O1xuICAgICAgICB9IGVsc2UgaWYgKFIuaXMoY2xyLCBcIm9iamVjdFwiKSAmJiBcImhcIiBpbiBjbHIgJiYgXCJzXCIgaW4gY2xyICYmIFwibFwiIGluIGNscikge1xuICAgICAgICAgICAgcmdiID0gUi5oc2wycmdiKGNscik7XG4gICAgICAgICAgICBjbHIuciA9IHJnYi5yO1xuICAgICAgICAgICAgY2xyLmcgPSByZ2IuZztcbiAgICAgICAgICAgIGNsci5iID0gcmdiLmI7XG4gICAgICAgICAgICBjbHIuaGV4ID0gcmdiLmhleDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChSLmlzKGNsciwgXCJzdHJpbmdcIikpIHtcbiAgICAgICAgICAgICAgICBjbHIgPSBSLmdldFJHQihjbHIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFIuaXMoY2xyLCBcIm9iamVjdFwiKSAmJiBcInJcIiBpbiBjbHIgJiYgXCJnXCIgaW4gY2xyICYmIFwiYlwiIGluIGNscikge1xuICAgICAgICAgICAgICAgIHJnYiA9IFIucmdiMmhzbChjbHIpO1xuICAgICAgICAgICAgICAgIGNsci5oID0gcmdiLmg7XG4gICAgICAgICAgICAgICAgY2xyLnMgPSByZ2IucztcbiAgICAgICAgICAgICAgICBjbHIubCA9IHJnYi5sO1xuICAgICAgICAgICAgICAgIHJnYiA9IFIucmdiMmhzYihjbHIpO1xuICAgICAgICAgICAgICAgIGNsci52ID0gcmdiLmI7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNsciA9IHtoZXg6IFwibm9uZVwifTtcbiAgICAgICAgICAgICAgICBjbHIuciA9IGNsci5nID0gY2xyLmIgPSBjbHIuaCA9IGNsci5zID0gY2xyLnYgPSBjbHIubCA9IC0xO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNsci50b1N0cmluZyA9IHJnYnRvU3RyaW5nO1xuICAgICAgICByZXR1cm4gY2xyO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaHNiMnJnYlxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgSFNCIHZhbHVlcyB0byBSR0Igb2JqZWN0LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoIChudW1iZXIpIGh1ZVxuICAgICAtIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICAtIHYgKG51bWJlcikgdmFsdWUgb3IgYnJpZ2h0bmVzc1xuICAgICA9IChvYmplY3QpIFJHQiBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgciAobnVtYmVyKSByZWQsXG4gICAgIG8gICAgIGcgKG51bWJlcikgZ3JlZW4sXG4gICAgIG8gICAgIGIgKG51bWJlcikgYmx1ZSxcbiAgICAgbyAgICAgaGV4IChzdHJpbmcpIGNvbG9yIGluIEhUTUwvQ1NTIGZvcm1hdDogI+KAouKAouKAouKAouKAouKAolxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5oc2IycmdiID0gZnVuY3Rpb24gKGgsIHMsIHYsIG8pIHtcbiAgICAgICAgaWYgKHRoaXMuaXMoaCwgXCJvYmplY3RcIikgJiYgXCJoXCIgaW4gaCAmJiBcInNcIiBpbiBoICYmIFwiYlwiIGluIGgpIHtcbiAgICAgICAgICAgIHYgPSBoLmI7XG4gICAgICAgICAgICBzID0gaC5zO1xuICAgICAgICAgICAgbyA9IGgubztcbiAgICAgICAgICAgIGggPSBoLmg7XG4gICAgICAgIH1cbiAgICAgICAgaCAqPSAzNjA7XG4gICAgICAgIHZhciBSLCBHLCBCLCBYLCBDO1xuICAgICAgICBoID0gKGggJSAzNjApIC8gNjA7XG4gICAgICAgIEMgPSB2ICogcztcbiAgICAgICAgWCA9IEMgKiAoMSAtIGFicyhoICUgMiAtIDEpKTtcbiAgICAgICAgUiA9IEcgPSBCID0gdiAtIEM7XG5cbiAgICAgICAgaCA9IH5+aDtcbiAgICAgICAgUiArPSBbQywgWCwgMCwgMCwgWCwgQ11baF07XG4gICAgICAgIEcgKz0gW1gsIEMsIEMsIFgsIDAsIDBdW2hdO1xuICAgICAgICBCICs9IFswLCAwLCBYLCBDLCBDLCBYXVtoXTtcbiAgICAgICAgcmV0dXJuIHBhY2thZ2VSR0IoUiwgRywgQiwgbyk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5oc2wycmdiXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBIU0wgdmFsdWVzIHRvIFJHQiBvYmplY3QuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGggKG51bWJlcikgaHVlXG4gICAgIC0gcyAobnVtYmVyKSBzYXR1cmF0aW9uXG4gICAgIC0gbCAobnVtYmVyKSBsdW1pbm9zaXR5XG4gICAgID0gKG9iamVjdCkgUkdCIG9iamVjdCBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICByIChudW1iZXIpIHJlZCxcbiAgICAgbyAgICAgZyAobnVtYmVyKSBncmVlbixcbiAgICAgbyAgICAgYiAobnVtYmVyKSBibHVlLFxuICAgICBvICAgICBoZXggKHN0cmluZykgY29sb3IgaW4gSFRNTC9DU1MgZm9ybWF0OiAj4oCi4oCi4oCi4oCi4oCi4oCiXG4gICAgIG8gfVxuICAgIFxcKi9cbiAgICBSLmhzbDJyZ2IgPSBmdW5jdGlvbiAoaCwgcywgbCwgbykge1xuICAgICAgICBpZiAodGhpcy5pcyhoLCBcIm9iamVjdFwiKSAmJiBcImhcIiBpbiBoICYmIFwic1wiIGluIGggJiYgXCJsXCIgaW4gaCkge1xuICAgICAgICAgICAgbCA9IGgubDtcbiAgICAgICAgICAgIHMgPSBoLnM7XG4gICAgICAgICAgICBoID0gaC5oO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoID4gMSB8fCBzID4gMSB8fCBsID4gMSkge1xuICAgICAgICAgICAgaCAvPSAzNjA7XG4gICAgICAgICAgICBzIC89IDEwMDtcbiAgICAgICAgICAgIGwgLz0gMTAwO1xuICAgICAgICB9XG4gICAgICAgIGggKj0gMzYwO1xuICAgICAgICB2YXIgUiwgRywgQiwgWCwgQztcbiAgICAgICAgaCA9IChoICUgMzYwKSAvIDYwO1xuICAgICAgICBDID0gMiAqIHMgKiAobCA8IC41ID8gbCA6IDEgLSBsKTtcbiAgICAgICAgWCA9IEMgKiAoMSAtIGFicyhoICUgMiAtIDEpKTtcbiAgICAgICAgUiA9IEcgPSBCID0gbCAtIEMgLyAyO1xuXG4gICAgICAgIGggPSB+fmg7XG4gICAgICAgIFIgKz0gW0MsIFgsIDAsIDAsIFgsIENdW2hdO1xuICAgICAgICBHICs9IFtYLCBDLCBDLCBYLCAwLCAwXVtoXTtcbiAgICAgICAgQiArPSBbMCwgMCwgWCwgQywgQywgWF1baF07XG4gICAgICAgIHJldHVybiBwYWNrYWdlUkdCKFIsIEcsIEIsIG8pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmdiMmhzYlxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgUkdCIHZhbHVlcyB0byBIU0Igb2JqZWN0LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSByIChudW1iZXIpIHJlZFxuICAgICAtIGcgKG51bWJlcikgZ3JlZW5cbiAgICAgLSBiIChudW1iZXIpIGJsdWVcbiAgICAgPSAob2JqZWN0KSBIU0Igb2JqZWN0IGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIGggKG51bWJlcikgaHVlXG4gICAgIG8gICAgIHMgKG51bWJlcikgc2F0dXJhdGlvblxuICAgICBvICAgICBiIChudW1iZXIpIGJyaWdodG5lc3NcbiAgICAgbyB9XG4gICAgXFwqL1xuICAgIFIucmdiMmhzYiA9IGZ1bmN0aW9uIChyLCBnLCBiKSB7XG4gICAgICAgIGIgPSBwcmVwYXJlUkdCKHIsIGcsIGIpO1xuICAgICAgICByID0gYlswXTtcbiAgICAgICAgZyA9IGJbMV07XG4gICAgICAgIGIgPSBiWzJdO1xuXG4gICAgICAgIHZhciBILCBTLCBWLCBDO1xuICAgICAgICBWID0gbW1heChyLCBnLCBiKTtcbiAgICAgICAgQyA9IFYgLSBtbWluKHIsIGcsIGIpO1xuICAgICAgICBIID0gKEMgPT0gMCA/IG51bGwgOlxuICAgICAgICAgICAgIFYgPT0gciA/IChnIC0gYikgLyBDIDpcbiAgICAgICAgICAgICBWID09IGcgPyAoYiAtIHIpIC8gQyArIDIgOlxuICAgICAgICAgICAgICAgICAgICAgIChyIC0gZykgLyBDICsgNFxuICAgICAgICAgICAgKTtcbiAgICAgICAgSCA9ICgoSCArIDM2MCkgJSA2KSAqIDYwIC8gMzYwO1xuICAgICAgICBTID0gQyA9PSAwID8gMCA6IEMgLyBWO1xuICAgICAgICByZXR1cm4ge2g6IEgsIHM6IFMsIGI6IFYsIHRvU3RyaW5nOiBoc2J0b1N0cmluZ307XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5yZ2IyaHNsXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBSR0IgdmFsdWVzIHRvIEhTTCBvYmplY3QuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHIgKG51bWJlcikgcmVkXG4gICAgIC0gZyAobnVtYmVyKSBncmVlblxuICAgICAtIGIgKG51bWJlcikgYmx1ZVxuICAgICA9IChvYmplY3QpIEhTTCBvYmplY3QgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgaCAobnVtYmVyKSBodWVcbiAgICAgbyAgICAgcyAobnVtYmVyKSBzYXR1cmF0aW9uXG4gICAgIG8gICAgIGwgKG51bWJlcikgbHVtaW5vc2l0eVxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5yZ2IyaHNsID0gZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgICAgICAgYiA9IHByZXBhcmVSR0IociwgZywgYik7XG4gICAgICAgIHIgPSBiWzBdO1xuICAgICAgICBnID0gYlsxXTtcbiAgICAgICAgYiA9IGJbMl07XG5cbiAgICAgICAgdmFyIEgsIFMsIEwsIE0sIG0sIEM7XG4gICAgICAgIE0gPSBtbWF4KHIsIGcsIGIpO1xuICAgICAgICBtID0gbW1pbihyLCBnLCBiKTtcbiAgICAgICAgQyA9IE0gLSBtO1xuICAgICAgICBIID0gKEMgPT0gMCA/IG51bGwgOlxuICAgICAgICAgICAgIE0gPT0gciA/IChnIC0gYikgLyBDIDpcbiAgICAgICAgICAgICBNID09IGcgPyAoYiAtIHIpIC8gQyArIDIgOlxuICAgICAgICAgICAgICAgICAgICAgIChyIC0gZykgLyBDICsgNCk7XG4gICAgICAgIEggPSAoKEggKyAzNjApICUgNikgKiA2MCAvIDM2MDtcbiAgICAgICAgTCA9IChNICsgbSkgLyAyO1xuICAgICAgICBTID0gKEMgPT0gMCA/IDAgOlxuICAgICAgICAgICAgIEwgPCAuNSA/IEMgLyAoMiAqIEwpIDpcbiAgICAgICAgICAgICAgICAgICAgICBDIC8gKDIgLSAyICogTCkpO1xuICAgICAgICByZXR1cm4ge2g6IEgsIHM6IFMsIGw6IEwsIHRvU3RyaW5nOiBoc2x0b1N0cmluZ307XG4gICAgfTtcbiAgICBSLl9wYXRoMnN0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuam9pbihcIixcIikucmVwbGFjZShwMnMsIFwiJDFcIik7XG4gICAgfTtcbiAgICBmdW5jdGlvbiByZXB1c2goYXJyYXksIGl0ZW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gYXJyYXkubGVuZ3RoOyBpIDwgaWk7IGkrKykgaWYgKGFycmF5W2ldID09PSBpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gYXJyYXkucHVzaChhcnJheS5zcGxpY2UoaSwgMSlbMF0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhY2hlcihmLCBzY29wZSwgcG9zdHByb2Nlc3Nvcikge1xuICAgICAgICBmdW5jdGlvbiBuZXdmKCkge1xuICAgICAgICAgICAgdmFyIGFyZyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMCksXG4gICAgICAgICAgICAgICAgYXJncyA9IGFyZy5qb2luKFwiXFx1MjQwMFwiKSxcbiAgICAgICAgICAgICAgICBjYWNoZSA9IG5ld2YuY2FjaGUgPSBuZXdmLmNhY2hlIHx8IHt9LFxuICAgICAgICAgICAgICAgIGNvdW50ID0gbmV3Zi5jb3VudCA9IG5ld2YuY291bnQgfHwgW107XG4gICAgICAgICAgICBpZiAoY2FjaGVbaGFzXShhcmdzKSkge1xuICAgICAgICAgICAgICAgIHJlcHVzaChjb3VudCwgYXJncyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBvc3Rwcm9jZXNzb3IgPyBwb3N0cHJvY2Vzc29yKGNhY2hlW2FyZ3NdKSA6IGNhY2hlW2FyZ3NdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY291bnQubGVuZ3RoID49IDFlMyAmJiBkZWxldGUgY2FjaGVbY291bnQuc2hpZnQoKV07XG4gICAgICAgICAgICBjb3VudC5wdXNoKGFyZ3MpO1xuICAgICAgICAgICAgY2FjaGVbYXJnc10gPSBmW2FwcGx5XShzY29wZSwgYXJnKTtcbiAgICAgICAgICAgIHJldHVybiBwb3N0cHJvY2Vzc29yID8gcG9zdHByb2Nlc3NvcihjYWNoZVthcmdzXSkgOiBjYWNoZVthcmdzXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3ZjtcbiAgICB9XG5cbiAgICB2YXIgcHJlbG9hZCA9IFIuX3ByZWxvYWQgPSBmdW5jdGlvbiAoc3JjLCBmKSB7XG4gICAgICAgIHZhciBpbWcgPSBnLmRvYy5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuICAgICAgICBpbWcuc3R5bGUuY3NzVGV4dCA9IFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDotOTk5OWVtO3RvcDotOTk5OWVtXCI7XG4gICAgICAgIGltZy5vbmxvYWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmLmNhbGwodGhpcyk7XG4gICAgICAgICAgICB0aGlzLm9ubG9hZCA9IG51bGw7XG4gICAgICAgICAgICBnLmRvYy5ib2R5LnJlbW92ZUNoaWxkKHRoaXMpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcub25lcnJvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGcuZG9jLmJvZHkucmVtb3ZlQ2hpbGQodGhpcyk7XG4gICAgICAgIH07XG4gICAgICAgIGcuZG9jLmJvZHkuYXBwZW5kQ2hpbGQoaW1nKTtcbiAgICAgICAgaW1nLnNyYyA9IHNyYztcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gY2xyVG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmhleDtcbiAgICB9XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5nZXRSR0JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFBhcnNlcyBjb2xvdXIgc3RyaW5nIGFzIFJHQiBvYmplY3RcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gY29sb3VyIChzdHJpbmcpIGNvbG91ciBzdHJpbmcgaW4gb25lIG9mIGZvcm1hdHM6XG4gICAgICMgPHVsPlxuICAgICAjICAgICA8bGk+Q29sb3VyIG5hbWUgKOKAnDxjb2RlPnJlZDwvY29kZT7igJ0sIOKAnDxjb2RlPmdyZWVuPC9jb2RlPuKAnSwg4oCcPGNvZGU+Y29ybmZsb3dlcmJsdWU8L2NvZGU+4oCdLCBldGMpPC9saT5cbiAgICAgIyAgICAgPGxpPiPigKLigKLigKIg4oCUIHNob3J0ZW5lZCBIVE1MIGNvbG91cjogKOKAnDxjb2RlPiMwMDA8L2NvZGU+4oCdLCDigJw8Y29kZT4jZmMwPC9jb2RlPuKAnSwgZXRjKTwvbGk+XG4gICAgICMgICAgIDxsaT4j4oCi4oCi4oCi4oCi4oCi4oCiIOKAlCBmdWxsIGxlbmd0aCBIVE1MIGNvbG91cjogKOKAnDxjb2RlPiMwMDAwMDA8L2NvZGU+4oCdLCDigJw8Y29kZT4jYmQyMzAwPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+cmdiKOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCByZWQsIGdyZWVuIGFuZCBibHVlIGNoYW5uZWxz4oCZIHZhbHVlczogKOKAnDxjb2RlPnJnYigyMDAsJm5ic3A7MTAwLCZuYnNwOzApPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+cmdiKOKAouKAouKAoiUsIOKAouKAouKAoiUsIOKAouKAouKAoiUpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgaW4gJTogKOKAnDxjb2RlPnJnYigxMDAlLCZuYnNwOzE3NSUsJm5ic3A7MCUpPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+aHNiKOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBodWUsIHNhdHVyYXRpb24gYW5kIGJyaWdodG5lc3MgdmFsdWVzOiAo4oCcPGNvZGU+aHNiKDAuNSwmbmJzcDswLjI1LCZuYnNwOzEpPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+aHNiKOKAouKAouKAoiUsIOKAouKAouKAoiUsIOKAouKAouKAoiUpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgaW4gJTwvbGk+XG4gICAgICMgICAgIDxsaT5oc2wo4oCi4oCi4oCiLCDigKLigKLigKIsIOKAouKAouKAoikg4oCUIHNhbWUgYXMgaHNiPC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBoc2I8L2xpPlxuICAgICAjIDwvdWw+XG4gICAgID0gKG9iamVjdCkgUkdCIG9iamVjdCBpbiBmb3JtYXQ6XG4gICAgIG8ge1xuICAgICBvICAgICByIChudW1iZXIpIHJlZCxcbiAgICAgbyAgICAgZyAobnVtYmVyKSBncmVlbixcbiAgICAgbyAgICAgYiAobnVtYmVyKSBibHVlXG4gICAgIG8gICAgIGhleCAoc3RyaW5nKSBjb2xvciBpbiBIVE1ML0NTUyBmb3JtYXQ6ICPigKLigKLigKLigKLigKLigKIsXG4gICAgIG8gICAgIGVycm9yIChib29sZWFuKSB0cnVlIGlmIHN0cmluZyBjYW7igJl0IGJlIHBhcnNlZFxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5nZXRSR0IgPSBjYWNoZXIoZnVuY3Rpb24gKGNvbG91cikge1xuICAgICAgICBpZiAoIWNvbG91ciB8fCAhISgoY29sb3VyID0gU3RyKGNvbG91cikpLmluZGV4T2YoXCItXCIpICsgMSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7cjogLTEsIGc6IC0xLCBiOiAtMSwgaGV4OiBcIm5vbmVcIiwgZXJyb3I6IDEsIHRvU3RyaW5nOiBjbHJUb1N0cmluZ307XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNvbG91ciA9PSBcIm5vbmVcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtyOiAtMSwgZzogLTEsIGI6IC0xLCBoZXg6IFwibm9uZVwiLCB0b1N0cmluZzogY2xyVG9TdHJpbmd9O1xuICAgICAgICB9XG4gICAgICAgICEoaHNyZ1toYXNdKGNvbG91ci50b0xvd2VyQ2FzZSgpLnN1YnN0cmluZygwLCAyKSkgfHwgY29sb3VyLmNoYXJBdCgpID09IFwiI1wiKSAmJiAoY29sb3VyID0gdG9IZXgoY29sb3VyKSk7XG4gICAgICAgIHZhciByZXMsXG4gICAgICAgICAgICByZWQsXG4gICAgICAgICAgICBncmVlbixcbiAgICAgICAgICAgIGJsdWUsXG4gICAgICAgICAgICBvcGFjaXR5LFxuICAgICAgICAgICAgdCxcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIHJnYiA9IGNvbG91ci5tYXRjaChjb2xvdXJSZWdFeHApO1xuICAgICAgICBpZiAocmdiKSB7XG4gICAgICAgICAgICBpZiAocmdiWzJdKSB7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvSW50KHJnYlsyXS5zdWJzdHJpbmcoNSksIDE2KTtcbiAgICAgICAgICAgICAgICBncmVlbiA9IHRvSW50KHJnYlsyXS5zdWJzdHJpbmcoMywgNSksIDE2KTtcbiAgICAgICAgICAgICAgICByZWQgPSB0b0ludChyZ2JbMl0uc3Vic3RyaW5nKDEsIDMpLCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmdiWzNdKSB7XG4gICAgICAgICAgICAgICAgYmx1ZSA9IHRvSW50KCh0ID0gcmdiWzNdLmNoYXJBdCgzKSkgKyB0LCAxNik7XG4gICAgICAgICAgICAgICAgZ3JlZW4gPSB0b0ludCgodCA9IHJnYlszXS5jaGFyQXQoMikpICsgdCwgMTYpO1xuICAgICAgICAgICAgICAgIHJlZCA9IHRvSW50KCh0ID0gcmdiWzNdLmNoYXJBdCgxKSkgKyB0LCAxNik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmdiWzRdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzID0gcmdiWzRdW3NwbGl0XShjb21tYVNwYWNlcyk7XG4gICAgICAgICAgICAgICAgcmVkID0gdG9GbG9hdCh2YWx1ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1swXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKHJlZCAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBncmVlbiA9IHRvRmxvYXQodmFsdWVzWzFdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMV0uc2xpY2UoLTEpID09IFwiJVwiICYmIChncmVlbiAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBibHVlID0gdG9GbG9hdCh2YWx1ZXNbMl0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1syXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKGJsdWUgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgcmdiWzFdLnRvTG93ZXJDYXNlKCkuc2xpY2UoMCwgNCkgPT0gXCJyZ2JhXCIgJiYgKG9wYWNpdHkgPSB0b0Zsb2F0KHZhbHVlc1szXSkpO1xuICAgICAgICAgICAgICAgIHZhbHVlc1szXSAmJiB2YWx1ZXNbM10uc2xpY2UoLTEpID09IFwiJVwiICYmIChvcGFjaXR5IC89IDEwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmdiWzVdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzID0gcmdiWzVdW3NwbGl0XShjb21tYVNwYWNlcyk7XG4gICAgICAgICAgICAgICAgcmVkID0gdG9GbG9hdCh2YWx1ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1swXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKHJlZCAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBncmVlbiA9IHRvRmxvYXQodmFsdWVzWzFdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMV0uc2xpY2UoLTEpID09IFwiJVwiICYmIChncmVlbiAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBibHVlID0gdG9GbG9hdCh2YWx1ZXNbMl0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1syXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKGJsdWUgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgKHZhbHVlc1swXS5zbGljZSgtMykgPT0gXCJkZWdcIiB8fCB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiXFx4YjBcIikgJiYgKHJlZCAvPSAzNjApO1xuICAgICAgICAgICAgICAgIHJnYlsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDQpID09IFwiaHNiYVwiICYmIChvcGFjaXR5ID0gdG9GbG9hdCh2YWx1ZXNbM10pKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbM10gJiYgdmFsdWVzWzNdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAob3BhY2l0eSAvPSAxMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBSLmhzYjJyZ2IocmVkLCBncmVlbiwgYmx1ZSwgb3BhY2l0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocmdiWzZdKSB7XG4gICAgICAgICAgICAgICAgdmFsdWVzID0gcmdiWzZdW3NwbGl0XShjb21tYVNwYWNlcyk7XG4gICAgICAgICAgICAgICAgcmVkID0gdG9GbG9hdCh2YWx1ZXNbMF0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1swXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKHJlZCAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBncmVlbiA9IHRvRmxvYXQodmFsdWVzWzFdKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbMV0uc2xpY2UoLTEpID09IFwiJVwiICYmIChncmVlbiAqPSAyLjU1KTtcbiAgICAgICAgICAgICAgICBibHVlID0gdG9GbG9hdCh2YWx1ZXNbMl0pO1xuICAgICAgICAgICAgICAgIHZhbHVlc1syXS5zbGljZSgtMSkgPT0gXCIlXCIgJiYgKGJsdWUgKj0gMi41NSk7XG4gICAgICAgICAgICAgICAgKHZhbHVlc1swXS5zbGljZSgtMykgPT0gXCJkZWdcIiB8fCB2YWx1ZXNbMF0uc2xpY2UoLTEpID09IFwiXFx4YjBcIikgJiYgKHJlZCAvPSAzNjApO1xuICAgICAgICAgICAgICAgIHJnYlsxXS50b0xvd2VyQ2FzZSgpLnNsaWNlKDAsIDQpID09IFwiaHNsYVwiICYmIChvcGFjaXR5ID0gdG9GbG9hdCh2YWx1ZXNbM10pKTtcbiAgICAgICAgICAgICAgICB2YWx1ZXNbM10gJiYgdmFsdWVzWzNdLnNsaWNlKC0xKSA9PSBcIiVcIiAmJiAob3BhY2l0eSAvPSAxMDApO1xuICAgICAgICAgICAgICAgIHJldHVybiBSLmhzbDJyZ2IocmVkLCBncmVlbiwgYmx1ZSwgb3BhY2l0eSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZ2IgPSB7cjogcmVkLCBnOiBncmVlbiwgYjogYmx1ZSwgdG9TdHJpbmc6IGNsclRvU3RyaW5nfTtcbiAgICAgICAgICAgIHJnYi5oZXggPSBcIiNcIiArICgxNjc3NzIxNiB8IGJsdWUgfCAoZ3JlZW4gPDwgOCkgfCAocmVkIDw8IDE2KSkudG9TdHJpbmcoMTYpLnNsaWNlKDEpO1xuICAgICAgICAgICAgUi5pcyhvcGFjaXR5LCBcImZpbml0ZVwiKSAmJiAocmdiLm9wYWNpdHkgPSBvcGFjaXR5KTtcbiAgICAgICAgICAgIHJldHVybiByZ2I7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtyOiAtMSwgZzogLTEsIGI6IC0xLCBoZXg6IFwibm9uZVwiLCBlcnJvcjogMSwgdG9TdHJpbmc6IGNsclRvU3RyaW5nfTtcbiAgICB9LCBSKTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5oc2JcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIEhTQiB2YWx1ZXMgdG8gaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGggKG51bWJlcikgaHVlXG4gICAgIC0gcyAobnVtYmVyKSBzYXR1cmF0aW9uXG4gICAgIC0gYiAobnVtYmVyKSB2YWx1ZSBvciBicmlnaHRuZXNzXG4gICAgID0gKHN0cmluZykgaGV4IHJlcHJlc2VudGF0aW9uIG9mIHRoZSBjb2xvdXIuXG4gICAgXFwqL1xuICAgIFIuaHNiID0gY2FjaGVyKGZ1bmN0aW9uIChoLCBzLCBiKSB7XG4gICAgICAgIHJldHVybiBSLmhzYjJyZ2IoaCwgcywgYikuaGV4O1xuICAgIH0pO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmhzbFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ29udmVydHMgSFNMIHZhbHVlcyB0byBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaCAobnVtYmVyKSBodWVcbiAgICAgLSBzIChudW1iZXIpIHNhdHVyYXRpb25cbiAgICAgLSBsIChudW1iZXIpIGx1bWlub3NpdHlcbiAgICAgPSAoc3RyaW5nKSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICBcXCovXG4gICAgUi5oc2wgPSBjYWNoZXIoZnVuY3Rpb24gKGgsIHMsIGwpIHtcbiAgICAgICAgcmV0dXJuIFIuaHNsMnJnYihoLCBzLCBsKS5oZXg7XG4gICAgfSk7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucmdiXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBSR0IgdmFsdWVzIHRvIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3VyLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSByIChudW1iZXIpIHJlZFxuICAgICAtIGcgKG51bWJlcikgZ3JlZW5cbiAgICAgLSBiIChudW1iZXIpIGJsdWVcbiAgICAgPSAoc3RyaW5nKSBoZXggcmVwcmVzZW50YXRpb24gb2YgdGhlIGNvbG91ci5cbiAgICBcXCovXG4gICAgUi5yZ2IgPSBjYWNoZXIoZnVuY3Rpb24gKHIsIGcsIGIpIHtcbiAgICAgICAgZnVuY3Rpb24gcm91bmQoeCkgeyByZXR1cm4gKHggKyAwLjUpIHwgMDsgfVxuICAgICAgICByZXR1cm4gXCIjXCIgKyAoMTY3NzcyMTYgfCByb3VuZChiKSB8IChyb3VuZChnKSA8PCA4KSB8IChyb3VuZChyKSA8PCAxNikpLnRvU3RyaW5nKDE2KS5zbGljZSgxKTtcbiAgICB9KTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5nZXRDb2xvclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogT24gZWFjaCBjYWxsIHJldHVybnMgbmV4dCBjb2xvdXIgaW4gdGhlIHNwZWN0cnVtLiBUbyByZXNldCBpdCBiYWNrIHRvIHJlZCBjYWxsIEBSYXBoYWVsLmdldENvbG9yLnJlc2V0XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHZhbHVlIChudW1iZXIpICNvcHRpb25hbCBicmlnaHRuZXNzLCBkZWZhdWx0IGlzIGAwLjc1YFxuICAgICA9IChzdHJpbmcpIGhleCByZXByZXNlbnRhdGlvbiBvZiB0aGUgY29sb3VyLlxuICAgIFxcKi9cbiAgICBSLmdldENvbG9yID0gZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIHZhciBzdGFydCA9IHRoaXMuZ2V0Q29sb3Iuc3RhcnQgPSB0aGlzLmdldENvbG9yLnN0YXJ0IHx8IHtoOiAwLCBzOiAxLCBiOiB2YWx1ZSB8fCAuNzV9LFxuICAgICAgICAgICAgcmdiID0gdGhpcy5oc2IycmdiKHN0YXJ0LmgsIHN0YXJ0LnMsIHN0YXJ0LmIpO1xuICAgICAgICBzdGFydC5oICs9IC4wNzU7XG4gICAgICAgIGlmIChzdGFydC5oID4gMSkge1xuICAgICAgICAgICAgc3RhcnQuaCA9IDA7XG4gICAgICAgICAgICBzdGFydC5zIC09IC4yO1xuICAgICAgICAgICAgc3RhcnQucyA8PSAwICYmICh0aGlzLmdldENvbG9yLnN0YXJ0ID0ge2g6IDAsIHM6IDEsIGI6IHN0YXJ0LmJ9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmdiLmhleDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmdldENvbG9yLnJlc2V0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXNldHMgc3BlY3RydW0gcG9zaXRpb24gZm9yIEBSYXBoYWVsLmdldENvbG9yIGJhY2sgdG8gcmVkLlxuICAgIFxcKi9cbiAgICBSLmdldENvbG9yLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5zdGFydDtcbiAgICB9O1xuXG4gICAgLy8gaHR0cDovL3NjaGVwZXJzLmNjL2dldHRpbmctdG8tdGhlLXBvaW50XG4gICAgZnVuY3Rpb24gY2F0bXVsbFJvbTJiZXppZXIoY3JwLCB6KSB7XG4gICAgICAgIHZhciBkID0gW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpTGVuID0gY3JwLmxlbmd0aDsgaUxlbiAtIDIgKiAheiA+IGk7IGkgKz0gMikge1xuICAgICAgICAgICAgdmFyIHAgPSBbXG4gICAgICAgICAgICAgICAgICAgICAgICB7eDogK2NycFtpIC0gMl0sIHk6ICtjcnBbaSAtIDFdfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHt4OiArY3JwW2ldLCAgICAgeTogK2NycFtpICsgMV19LFxuICAgICAgICAgICAgICAgICAgICAgICAge3g6ICtjcnBbaSArIDJdLCB5OiArY3JwW2kgKyAzXX0sXG4gICAgICAgICAgICAgICAgICAgICAgICB7eDogK2NycFtpICsgNF0sIHk6ICtjcnBbaSArIDVdfVxuICAgICAgICAgICAgICAgICAgICBdO1xuICAgICAgICAgICAgaWYgKHopIHtcbiAgICAgICAgICAgICAgICBpZiAoIWkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFswXSA9IHt4OiArY3JwW2lMZW4gLSAyXSwgeTogK2NycFtpTGVuIC0gMV19O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaUxlbiAtIDQgPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBwWzNdID0ge3g6ICtjcnBbMF0sIHk6ICtjcnBbMV19O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoaUxlbiAtIDIgPT0gaSkge1xuICAgICAgICAgICAgICAgICAgICBwWzJdID0ge3g6ICtjcnBbMF0sIHk6ICtjcnBbMV19O1xuICAgICAgICAgICAgICAgICAgICBwWzNdID0ge3g6ICtjcnBbMl0sIHk6ICtjcnBbM119O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlMZW4gLSA0ID09IGkpIHtcbiAgICAgICAgICAgICAgICAgICAgcFszXSA9IHBbMl07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghaSkge1xuICAgICAgICAgICAgICAgICAgICBwWzBdID0ge3g6ICtjcnBbaV0sIHk6ICtjcnBbaSArIDFdfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkLnB1c2goW1wiQ1wiLFxuICAgICAgICAgICAgICAgICAgKC1wWzBdLnggKyA2ICogcFsxXS54ICsgcFsyXS54KSAvIDYsXG4gICAgICAgICAgICAgICAgICAoLXBbMF0ueSArIDYgKiBwWzFdLnkgKyBwWzJdLnkpIC8gNixcbiAgICAgICAgICAgICAgICAgIChwWzFdLnggKyA2ICogcFsyXS54IC0gcFszXS54KSAvIDYsXG4gICAgICAgICAgICAgICAgICAocFsxXS55ICsgNipwWzJdLnkgLSBwWzNdLnkpIC8gNixcbiAgICAgICAgICAgICAgICAgIHBbMl0ueCxcbiAgICAgICAgICAgICAgICAgIHBbMl0ueVxuICAgICAgICAgICAgXSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZDtcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGFyc2VQYXRoU3RyaW5nXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIFBhcnNlcyBnaXZlbiBwYXRoIHN0cmluZyBpbnRvIGFuIGFycmF5IG9mIGFycmF5cyBvZiBwYXRoIHNlZ21lbnRzLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoU3RyaW5nIChzdHJpbmd8YXJyYXkpIHBhdGggc3RyaW5nIG9yIGFycmF5IG9mIHNlZ21lbnRzIChpbiB0aGUgbGFzdCBjYXNlIGl0IHdpbGwgYmUgcmV0dXJuZWQgc3RyYWlnaHQgYXdheSlcbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIHNlZ21lbnRzLlxuICAgIFxcKi9cbiAgICBSLnBhcnNlUGF0aFN0cmluZyA9IGZ1bmN0aW9uIChwYXRoU3RyaW5nKSB7XG4gICAgICAgIGlmICghcGF0aFN0cmluZykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHB0aCA9IHBhdGhzKHBhdGhTdHJpbmcpO1xuICAgICAgICBpZiAocHRoLmFycikge1xuICAgICAgICAgICAgcmV0dXJuIHBhdGhDbG9uZShwdGguYXJyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBwYXJhbUNvdW50cyA9IHthOiA3LCBjOiA2LCBoOiAxLCBsOiAyLCBtOiAyLCByOiA0LCBxOiA0LCBzOiA0LCB0OiAyLCB2OiAxLCB6OiAwfSxcbiAgICAgICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgaWYgKFIuaXMocGF0aFN0cmluZywgYXJyYXkpICYmIFIuaXMocGF0aFN0cmluZ1swXSwgYXJyYXkpKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICAgICAgICAgIGRhdGEgPSBwYXRoQ2xvbmUocGF0aFN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgU3RyKHBhdGhTdHJpbmcpLnJlcGxhY2UocGF0aENvbW1hbmQsIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gYi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIGMucmVwbGFjZShwYXRoVmFsdWVzLCBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICAgICAgICAgICAgICBiICYmIHBhcmFtcy5wdXNoKCtiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSA9PSBcIm1cIiAmJiBwYXJhbXMubGVuZ3RoID4gMikge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goW2JdW2NvbmNhdF0ocGFyYW1zLnNwbGljZSgwLCAyKSkpO1xuICAgICAgICAgICAgICAgICAgICBuYW1lID0gXCJsXCI7XG4gICAgICAgICAgICAgICAgICAgIGIgPSBiID09IFwibVwiID8gXCJsXCIgOiBcIkxcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJyXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YS5wdXNoKFtiXVtjb25jYXRdKHBhcmFtcykpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB3aGlsZSAocGFyYW1zLmxlbmd0aCA+PSBwYXJhbUNvdW50c1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICBkYXRhLnB1c2goW2JdW2NvbmNhdF0ocGFyYW1zLnNwbGljZSgwLCBwYXJhbUNvdW50c1tuYW1lXSkpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJhbUNvdW50c1tuYW1lXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBkYXRhLnRvU3RyaW5nID0gUi5fcGF0aDJzdHJpbmc7XG4gICAgICAgIHB0aC5hcnIgPSBwYXRoQ2xvbmUoZGF0YSk7XG4gICAgICAgIHJldHVybiBkYXRhO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGFyc2VUcmFuc2Zvcm1TdHJpbmdcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUGFyc2VzIGdpdmVuIHBhdGggc3RyaW5nIGludG8gYW4gYXJyYXkgb2YgdHJhbnNmb3JtYXRpb25zLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBUU3RyaW5nIChzdHJpbmd8YXJyYXkpIHRyYW5zZm9ybSBzdHJpbmcgb3IgYXJyYXkgb2YgdHJhbnNmb3JtYXRpb25zIChpbiB0aGUgbGFzdCBjYXNlIGl0IHdpbGwgYmUgcmV0dXJuZWQgc3RyYWlnaHQgYXdheSlcbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIHRyYW5zZm9ybWF0aW9ucy5cbiAgICBcXCovXG4gICAgUi5wYXJzZVRyYW5zZm9ybVN0cmluZyA9IGNhY2hlcihmdW5jdGlvbiAoVFN0cmluZykge1xuICAgICAgICBpZiAoIVRTdHJpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwYXJhbUNvdW50cyA9IHtyOiAzLCBzOiA0LCB0OiAyLCBtOiA2fSxcbiAgICAgICAgICAgIGRhdGEgPSBbXTtcbiAgICAgICAgaWYgKFIuaXMoVFN0cmluZywgYXJyYXkpICYmIFIuaXMoVFN0cmluZ1swXSwgYXJyYXkpKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICAgICAgICAgIGRhdGEgPSBwYXRoQ2xvbmUoVFN0cmluZyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkYXRhLmxlbmd0aCkge1xuICAgICAgICAgICAgU3RyKFRTdHJpbmcpLnJlcGxhY2UodENvbW1hbmQsIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBuYW1lID0gbG93ZXJDYXNlLmNhbGwoYik7XG4gICAgICAgICAgICAgICAgYy5yZXBsYWNlKHBhdGhWYWx1ZXMsIGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICAgICAgICAgIGIgJiYgcGFyYW1zLnB1c2goK2IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRhdGEucHVzaChbYl1bY29uY2F0XShwYXJhbXMpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEudG9TdHJpbmcgPSBSLl9wYXRoMnN0cmluZztcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfSwgdGhpcywgZnVuY3Rpb24oZWxlbSkge1xuICAgICAgICBpZiAoIWVsZW0pIHJldHVybiBlbGVtO1xuICAgICAgICB2YXIgbmV3RGF0YSA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGVsZW0ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBuZXdMZXZlbCA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBlbGVtW2ldLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgICAgICAgbmV3TGV2ZWwucHVzaChlbGVtW2ldW2pdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0RhdGEucHVzaChuZXdMZXZlbCk7XG4gICAgICAgIH1cbiAgICAgIHJldHVybiBuZXdEYXRhOyB9ICk7XG4gICAgLy8gUEFUSFNcbiAgICB2YXIgcGF0aHMgPSBmdW5jdGlvbiAocHMpIHtcbiAgICAgICAgdmFyIHAgPSBwYXRocy5wcyA9IHBhdGhzLnBzIHx8IHt9O1xuICAgICAgICBpZiAocFtwc10pIHtcbiAgICAgICAgICAgIHBbcHNdLnNsZWVwID0gMTAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcFtwc10gPSB7XG4gICAgICAgICAgICAgICAgc2xlZXA6IDEwMFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBwKSBpZiAocFtoYXNdKGtleSkgJiYga2V5ICE9IHBzKSB7XG4gICAgICAgICAgICAgICAgcFtrZXldLnNsZWVwLS07XG4gICAgICAgICAgICAgICAgIXBba2V5XS5zbGVlcCAmJiBkZWxldGUgcFtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBbcHNdO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZmluZERvdHNBdFNlZ21lbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogRmluZCBkb3QgY29vcmRpbmF0ZXMgb24gdGhlIGdpdmVuIGN1YmljIGJlemllciBjdXJ2ZSBhdCB0aGUgZ2l2ZW4gdC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcDF4IChudW1iZXIpIHggb2YgdGhlIGZpcnN0IHBvaW50IG9mIHRoZSBjdXJ2ZVxuICAgICAtIHAxeSAobnVtYmVyKSB5IG9mIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSBjMXggKG51bWJlcikgeCBvZiB0aGUgZmlyc3QgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMxeSAobnVtYmVyKSB5IG9mIHRoZSBmaXJzdCBhbmNob3Igb2YgdGhlIGN1cnZlXG4gICAgIC0gYzJ4IChudW1iZXIpIHggb2YgdGhlIHNlY29uZCBhbmNob3Igb2YgdGhlIGN1cnZlXG4gICAgIC0gYzJ5IChudW1iZXIpIHkgb2YgdGhlIHNlY29uZCBhbmNob3Igb2YgdGhlIGN1cnZlXG4gICAgIC0gcDJ4IChudW1iZXIpIHggb2YgdGhlIHNlY29uZCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSBwMnkgKG51bWJlcikgeSBvZiB0aGUgc2Vjb25kIHBvaW50IG9mIHRoZSBjdXJ2ZVxuICAgICAtIHQgKG51bWJlcikgcG9zaXRpb24gb24gdGhlIGN1cnZlICgwLi4xKVxuICAgICA9IChvYmplY3QpIHBvaW50IGluZm9ybWF0aW9uIGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgbyAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICBvICAgICBtOiB7XG4gICAgIG8gICAgICAgICB4OiAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIGxlZnQgYW5jaG9yXG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGxlZnQgYW5jaG9yXG4gICAgIG8gICAgIH1cbiAgICAgbyAgICAgbjoge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSByaWdodCBhbmNob3JcbiAgICAgbyAgICAgICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgYW5jaG9yXG4gICAgIG8gICAgIH1cbiAgICAgbyAgICAgc3RhcnQ6IHtcbiAgICAgbyAgICAgICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgc3RhcnQgb2YgdGhlIGN1cnZlXG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHN0YXJ0IG9mIHRoZSBjdXJ2ZVxuICAgICBvICAgICB9XG4gICAgIG8gICAgIGVuZDoge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBlbmQgb2YgdGhlIGN1cnZlXG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGVuZCBvZiB0aGUgY3VydmVcbiAgICAgbyAgICAgfVxuICAgICBvICAgICBhbHBoYTogKG51bWJlcikgYW5nbGUgb2YgdGhlIGN1cnZlIGRlcml2YXRpdmUgYXQgdGhlIHBvaW50XG4gICAgIG8gfVxuICAgIFxcKi9cbiAgICBSLmZpbmREb3RzQXRTZWdtZW50ID0gZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0KSB7XG4gICAgICAgIHZhciB0MSA9IDEgLSB0LFxuICAgICAgICAgICAgdDEzID0gcG93KHQxLCAzKSxcbiAgICAgICAgICAgIHQxMiA9IHBvdyh0MSwgMiksXG4gICAgICAgICAgICB0MiA9IHQgKiB0LFxuICAgICAgICAgICAgdDMgPSB0MiAqIHQsXG4gICAgICAgICAgICB4ID0gdDEzICogcDF4ICsgdDEyICogMyAqIHQgKiBjMXggKyB0MSAqIDMgKiB0ICogdCAqIGMyeCArIHQzICogcDJ4LFxuICAgICAgICAgICAgeSA9IHQxMyAqIHAxeSArIHQxMiAqIDMgKiB0ICogYzF5ICsgdDEgKiAzICogdCAqIHQgKiBjMnkgKyB0MyAqIHAyeSxcbiAgICAgICAgICAgIG14ID0gcDF4ICsgMiAqIHQgKiAoYzF4IC0gcDF4KSArIHQyICogKGMyeCAtIDIgKiBjMXggKyBwMXgpLFxuICAgICAgICAgICAgbXkgPSBwMXkgKyAyICogdCAqIChjMXkgLSBwMXkpICsgdDIgKiAoYzJ5IC0gMiAqIGMxeSArIHAxeSksXG4gICAgICAgICAgICBueCA9IGMxeCArIDIgKiB0ICogKGMyeCAtIGMxeCkgKyB0MiAqIChwMnggLSAyICogYzJ4ICsgYzF4KSxcbiAgICAgICAgICAgIG55ID0gYzF5ICsgMiAqIHQgKiAoYzJ5IC0gYzF5KSArIHQyICogKHAyeSAtIDIgKiBjMnkgKyBjMXkpLFxuICAgICAgICAgICAgYXggPSB0MSAqIHAxeCArIHQgKiBjMXgsXG4gICAgICAgICAgICBheSA9IHQxICogcDF5ICsgdCAqIGMxeSxcbiAgICAgICAgICAgIGN4ID0gdDEgKiBjMnggKyB0ICogcDJ4LFxuICAgICAgICAgICAgY3kgPSB0MSAqIGMyeSArIHQgKiBwMnksXG4gICAgICAgICAgICBhbHBoYSA9ICg5MCAtIG1hdGguYXRhbjIobXggLSBueCwgbXkgLSBueSkgKiAxODAgLyBQSSk7XG4gICAgICAgIChteCA+IG54IHx8IG15IDwgbnkpICYmIChhbHBoYSArPSAxODApO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogeCxcbiAgICAgICAgICAgIHk6IHksXG4gICAgICAgICAgICBtOiB7eDogbXgsIHk6IG15fSxcbiAgICAgICAgICAgIG46IHt4OiBueCwgeTogbnl9LFxuICAgICAgICAgICAgc3RhcnQ6IHt4OiBheCwgeTogYXl9LFxuICAgICAgICAgICAgZW5kOiB7eDogY3gsIHk6IGN5fSxcbiAgICAgICAgICAgIGFscGhhOiBhbHBoYVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuYmV6aWVyQkJveFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm4gYm91bmRpbmcgYm94IG9mIGEgZ2l2ZW4gY3ViaWMgYmV6aWVyIGN1cnZlXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHAxeCAobnVtYmVyKSB4IG9mIHRoZSBmaXJzdCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgLSBwMXkgKG51bWJlcikgeSBvZiB0aGUgZmlyc3QgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gYzF4IChudW1iZXIpIHggb2YgdGhlIGZpcnN0IGFuY2hvciBvZiB0aGUgY3VydmVcbiAgICAgLSBjMXkgKG51bWJlcikgeSBvZiB0aGUgZmlyc3QgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMyeCAobnVtYmVyKSB4IG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIGMyeSAobnVtYmVyKSB5IG9mIHRoZSBzZWNvbmQgYW5jaG9yIG9mIHRoZSBjdXJ2ZVxuICAgICAtIHAyeCAobnVtYmVyKSB4IG9mIHRoZSBzZWNvbmQgcG9pbnQgb2YgdGhlIGN1cnZlXG4gICAgIC0gcDJ5IChudW1iZXIpIHkgb2YgdGhlIHNlY29uZCBwb2ludCBvZiB0aGUgY3VydmVcbiAgICAgKiBvclxuICAgICAtIGJleiAoYXJyYXkpIGFycmF5IG9mIHNpeCBwb2ludHMgZm9yIGJlemllciBjdXJ2ZVxuICAgICA9IChvYmplY3QpIHBvaW50IGluZm9ybWF0aW9uIGluIGZvcm1hdDpcbiAgICAgbyB7XG4gICAgIG8gICAgIG1pbjoge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBsZWZ0IHBvaW50XG4gICAgIG8gICAgICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHRvcCBwb2ludFxuICAgICBvICAgICB9XG4gICAgIG8gICAgIG1heDoge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSByaWdodCBwb2ludFxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBib3R0b20gcG9pbnRcbiAgICAgbyAgICAgfVxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5iZXppZXJCQm94ID0gZnVuY3Rpb24gKHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5KSB7XG4gICAgICAgIGlmICghUi5pcyhwMXgsIFwiYXJyYXlcIikpIHtcbiAgICAgICAgICAgIHAxeCA9IFtwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeV07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJib3ggPSBjdXJ2ZURpbS5hcHBseShudWxsLCBwMXgpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogYmJveC5taW4ueCxcbiAgICAgICAgICAgIHk6IGJib3gubWluLnksXG4gICAgICAgICAgICB4MjogYmJveC5tYXgueCxcbiAgICAgICAgICAgIHkyOiBiYm94Lm1heC55LFxuICAgICAgICAgICAgd2lkdGg6IGJib3gubWF4LnggLSBiYm94Lm1pbi54LFxuICAgICAgICAgICAgaGVpZ2h0OiBiYm94Lm1heC55IC0gYmJveC5taW4ueVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuaXNQb2ludEluc2lkZUJCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICoqXG4gICAgICogUmV0dXJucyBgdHJ1ZWAgaWYgZ2l2ZW4gcG9pbnQgaXMgaW5zaWRlIGJvdW5kaW5nIGJveGVzLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBiYm94IChzdHJpbmcpIGJvdW5kaW5nIGJveFxuICAgICAtIHggKHN0cmluZykgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICAtIHkgKHN0cmluZykgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICA9IChib29sZWFuKSBgdHJ1ZWAgaWYgcG9pbnQgaW5zaWRlXG4gICAgXFwqL1xuICAgIFIuaXNQb2ludEluc2lkZUJCb3ggPSBmdW5jdGlvbiAoYmJveCwgeCwgeSkge1xuICAgICAgICByZXR1cm4geCA+PSBiYm94LnggJiYgeCA8PSBiYm94LngyICYmIHkgPj0gYmJveC55ICYmIHkgPD0gYmJveC55MjtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLmlzQkJveEludGVyc2VjdFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiB0d28gYm91bmRpbmcgYm94ZXMgaW50ZXJzZWN0XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGJib3gxIChzdHJpbmcpIGZpcnN0IGJvdW5kaW5nIGJveFxuICAgICAtIGJib3gyIChzdHJpbmcpIHNlY29uZCBib3VuZGluZyBib3hcbiAgICAgPSAoYm9vbGVhbikgYHRydWVgIGlmIHRoZXkgaW50ZXJzZWN0XG4gICAgXFwqL1xuICAgIFIuaXNCQm94SW50ZXJzZWN0ID0gZnVuY3Rpb24gKGJib3gxLCBiYm94Mikge1xuICAgICAgICB2YXIgaSA9IFIuaXNQb2ludEluc2lkZUJCb3g7XG4gICAgICAgIHJldHVybiBpKGJib3gyLCBiYm94MS54LCBiYm94MS55KVxuICAgICAgICAgICAgfHwgaShiYm94MiwgYmJveDEueDIsIGJib3gxLnkpXG4gICAgICAgICAgICB8fCBpKGJib3gyLCBiYm94MS54LCBiYm94MS55MilcbiAgICAgICAgICAgIHx8IGkoYmJveDIsIGJib3gxLngyLCBiYm94MS55MilcbiAgICAgICAgICAgIHx8IGkoYmJveDEsIGJib3gyLngsIGJib3gyLnkpXG4gICAgICAgICAgICB8fCBpKGJib3gxLCBiYm94Mi54MiwgYmJveDIueSlcbiAgICAgICAgICAgIHx8IGkoYmJveDEsIGJib3gyLngsIGJib3gyLnkyKVxuICAgICAgICAgICAgfHwgaShiYm94MSwgYmJveDIueDIsIGJib3gyLnkyKVxuICAgICAgICAgICAgfHwgKGJib3gxLnggPCBiYm94Mi54MiAmJiBiYm94MS54ID4gYmJveDIueCB8fCBiYm94Mi54IDwgYmJveDEueDIgJiYgYmJveDIueCA+IGJib3gxLngpXG4gICAgICAgICAgICAmJiAoYmJveDEueSA8IGJib3gyLnkyICYmIGJib3gxLnkgPiBiYm94Mi55IHx8IGJib3gyLnkgPCBiYm94MS55MiAmJiBiYm94Mi55ID4gYmJveDEueSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBiYXNlMyh0LCBwMSwgcDIsIHAzLCBwNCkge1xuICAgICAgICB2YXIgdDEgPSAtMyAqIHAxICsgOSAqIHAyIC0gOSAqIHAzICsgMyAqIHA0LFxuICAgICAgICAgICAgdDIgPSB0ICogdDEgKyA2ICogcDEgLSAxMiAqIHAyICsgNiAqIHAzO1xuICAgICAgICByZXR1cm4gdCAqIHQyIC0gMyAqIHAxICsgMyAqIHAyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBiZXpsZW4oeDEsIHkxLCB4MiwgeTIsIHgzLCB5MywgeDQsIHk0LCB6KSB7XG4gICAgICAgIGlmICh6ID09IG51bGwpIHtcbiAgICAgICAgICAgIHogPSAxO1xuICAgICAgICB9XG4gICAgICAgIHogPSB6ID4gMSA/IDEgOiB6IDwgMCA/IDAgOiB6O1xuICAgICAgICB2YXIgejIgPSB6IC8gMixcbiAgICAgICAgICAgIG4gPSAxMixcbiAgICAgICAgICAgIFR2YWx1ZXMgPSBbLTAuMTI1MiwwLjEyNTIsLTAuMzY3OCwwLjM2NzgsLTAuNTg3MywwLjU4NzMsLTAuNzY5OSwwLjc2OTksLTAuOTA0MSwwLjkwNDEsLTAuOTgxNiwwLjk4MTZdLFxuICAgICAgICAgICAgQ3ZhbHVlcyA9IFswLjI0OTEsMC4yNDkxLDAuMjMzNSwwLjIzMzUsMC4yMDMyLDAuMjAzMiwwLjE2MDEsMC4xNjAxLDAuMTA2OSwwLjEwNjksMC4wNDcyLDAuMDQ3Ml0sXG4gICAgICAgICAgICBzdW0gPSAwO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG47IGkrKykge1xuICAgICAgICAgICAgdmFyIGN0ID0gejIgKiBUdmFsdWVzW2ldICsgejIsXG4gICAgICAgICAgICAgICAgeGJhc2UgPSBiYXNlMyhjdCwgeDEsIHgyLCB4MywgeDQpLFxuICAgICAgICAgICAgICAgIHliYXNlID0gYmFzZTMoY3QsIHkxLCB5MiwgeTMsIHk0KSxcbiAgICAgICAgICAgICAgICBjb21iID0geGJhc2UgKiB4YmFzZSArIHliYXNlICogeWJhc2U7XG4gICAgICAgICAgICBzdW0gKz0gQ3ZhbHVlc1tpXSAqIG1hdGguc3FydChjb21iKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gejIgKiBzdW07XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRhdExlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQsIGxsKSB7XG4gICAgICAgIGlmIChsbCA8IDAgfHwgYmV6bGVuKHgxLCB5MSwgeDIsIHkyLCB4MywgeTMsIHg0LCB5NCkgPCBsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0ID0gMSxcbiAgICAgICAgICAgIHN0ZXAgPSB0IC8gMixcbiAgICAgICAgICAgIHQyID0gdCAtIHN0ZXAsXG4gICAgICAgICAgICBsLFxuICAgICAgICAgICAgZSA9IC4wMTtcbiAgICAgICAgbCA9IGJlemxlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQsIHQyKTtcbiAgICAgICAgd2hpbGUgKGFicyhsIC0gbGwpID4gZSkge1xuICAgICAgICAgICAgc3RlcCAvPSAyO1xuICAgICAgICAgICAgdDIgKz0gKGwgPCBsbCA/IDEgOiAtMSkgKiBzdGVwO1xuICAgICAgICAgICAgbCA9IGJlemxlbih4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQsIHQyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGludGVyc2VjdCh4MSwgeTEsIHgyLCB5MiwgeDMsIHkzLCB4NCwgeTQpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgbW1heCh4MSwgeDIpIDwgbW1pbih4MywgeDQpIHx8XG4gICAgICAgICAgICBtbWluKHgxLCB4MikgPiBtbWF4KHgzLCB4NCkgfHxcbiAgICAgICAgICAgIG1tYXgoeTEsIHkyKSA8IG1taW4oeTMsIHk0KSB8fFxuICAgICAgICAgICAgbW1pbih5MSwgeTIpID4gbW1heCh5MywgeTQpXG4gICAgICAgICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBueCA9ICh4MSAqIHkyIC0geTEgKiB4MikgKiAoeDMgLSB4NCkgLSAoeDEgLSB4MikgKiAoeDMgKiB5NCAtIHkzICogeDQpLFxuICAgICAgICAgICAgbnkgPSAoeDEgKiB5MiAtIHkxICogeDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzICogeTQgLSB5MyAqIHg0KSxcbiAgICAgICAgICAgIGRlbm9taW5hdG9yID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xuXG4gICAgICAgIGlmICghZGVub21pbmF0b3IpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcHggPSBueCAvIGRlbm9taW5hdG9yLFxuICAgICAgICAgICAgcHkgPSBueSAvIGRlbm9taW5hdG9yLFxuICAgICAgICAgICAgcHgyID0gK3B4LnRvRml4ZWQoMiksXG4gICAgICAgICAgICBweTIgPSArcHkudG9GaXhlZCgyKTtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICAgcHgyIDwgK21taW4oeDEsIHgyKS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweDIgPiArbW1heCh4MSwgeDIpLnRvRml4ZWQoMikgfHxcbiAgICAgICAgICAgIHB4MiA8ICttbWluKHgzLCB4NCkudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHgyID4gK21tYXgoeDMsIHg0KS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweTIgPCArbW1pbih5MSwgeTIpLnRvRml4ZWQoMikgfHxcbiAgICAgICAgICAgIHB5MiA+ICttbWF4KHkxLCB5MikudG9GaXhlZCgyKSB8fFxuICAgICAgICAgICAgcHkyIDwgK21taW4oeTMsIHk0KS50b0ZpeGVkKDIpIHx8XG4gICAgICAgICAgICBweTIgPiArbW1heCh5MywgeTQpLnRvRml4ZWQoMilcbiAgICAgICAgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHt4OiBweCwgeTogcHl9O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbnRlcihiZXoxLCBiZXoyKSB7XG4gICAgICAgIHJldHVybiBpbnRlckhlbHBlcihiZXoxLCBiZXoyKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW50ZXJDb3VudChiZXoxLCBiZXoyKSB7XG4gICAgICAgIHJldHVybiBpbnRlckhlbHBlcihiZXoxLCBiZXoyLCAxKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW50ZXJIZWxwZXIoYmV6MSwgYmV6MiwganVzdENvdW50KSB7XG4gICAgICAgIHZhciBiYm94MSA9IFIuYmV6aWVyQkJveChiZXoxKSxcbiAgICAgICAgICAgIGJib3gyID0gUi5iZXppZXJCQm94KGJlejIpO1xuICAgICAgICBpZiAoIVIuaXNCQm94SW50ZXJzZWN0KGJib3gxLCBiYm94MikpIHtcbiAgICAgICAgICAgIHJldHVybiBqdXN0Q291bnQgPyAwIDogW107XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGwxID0gYmV6bGVuLmFwcGx5KDAsIGJlejEpLFxuICAgICAgICAgICAgbDIgPSBiZXpsZW4uYXBwbHkoMCwgYmV6MiksXG4gICAgICAgICAgICBuMSA9IG1tYXgofn4obDEgLyA1KSwgMSksXG4gICAgICAgICAgICBuMiA9IG1tYXgofn4obDIgLyA1KSwgMSksXG4gICAgICAgICAgICBkb3RzMSA9IFtdLFxuICAgICAgICAgICAgZG90czIgPSBbXSxcbiAgICAgICAgICAgIHh5ID0ge30sXG4gICAgICAgICAgICByZXMgPSBqdXN0Q291bnQgPyAwIDogW107XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjEgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBwID0gUi5maW5kRG90c0F0U2VnbWVudC5hcHBseShSLCBiZXoxLmNvbmNhdChpIC8gbjEpKTtcbiAgICAgICAgICAgIGRvdHMxLnB1c2goe3g6IHAueCwgeTogcC55LCB0OiBpIC8gbjF9KTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbjIgKyAxOyBpKyspIHtcbiAgICAgICAgICAgIHAgPSBSLmZpbmREb3RzQXRTZWdtZW50LmFwcGx5KFIsIGJlejIuY29uY2F0KGkgLyBuMikpO1xuICAgICAgICAgICAgZG90czIucHVzaCh7eDogcC54LCB5OiBwLnksIHQ6IGkgLyBuMn0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBuMTsgaSsrKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG4yOyBqKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZGkgPSBkb3RzMVtpXSxcbiAgICAgICAgICAgICAgICAgICAgZGkxID0gZG90czFbaSArIDFdLFxuICAgICAgICAgICAgICAgICAgICBkaiA9IGRvdHMyW2pdLFxuICAgICAgICAgICAgICAgICAgICBkajEgPSBkb3RzMltqICsgMV0sXG4gICAgICAgICAgICAgICAgICAgIGNpID0gYWJzKGRpMS54IC0gZGkueCkgPCAuMDAxID8gXCJ5XCIgOiBcInhcIixcbiAgICAgICAgICAgICAgICAgICAgY2ogPSBhYnMoZGoxLnggLSBkai54KSA8IC4wMDEgPyBcInlcIiA6IFwieFwiLFxuICAgICAgICAgICAgICAgICAgICBpcyA9IGludGVyc2VjdChkaS54LCBkaS55LCBkaTEueCwgZGkxLnksIGRqLngsIGRqLnksIGRqMS54LCBkajEueSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh4eVtpcy54LnRvRml4ZWQoNCldID09IGlzLnkudG9GaXhlZCg0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgeHlbaXMueC50b0ZpeGVkKDQpXSA9IGlzLnkudG9GaXhlZCg0KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gZGkudCArIGFicygoaXNbY2ldIC0gZGlbY2ldKSAvIChkaTFbY2ldIC0gZGlbY2ldKSkgKiAoZGkxLnQgLSBkaS50KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHQyID0gZGoudCArIGFicygoaXNbY2pdIC0gZGpbY2pdKSAvIChkajFbY2pdIC0gZGpbY2pdKSkgKiAoZGoxLnQgLSBkai50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQxID49IDAgJiYgdDEgPD0gMS4wMDEgJiYgdDIgPj0gMCAmJiB0MiA8PSAxLjAwMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGp1c3RDb3VudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcysrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IGlzLngsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IGlzLnksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHQxOiBtbWluKHQxLCAxKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdDI6IG1taW4odDIsIDEpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwucGF0aEludGVyc2VjdGlvblxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBGaW5kcyBpbnRlcnNlY3Rpb25zIG9mIHR3byBwYXRoc1xuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBwYXRoMSAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAtIHBhdGgyIChzdHJpbmcpIHBhdGggc3RyaW5nXG4gICAgID0gKGFycmF5KSBkb3RzIG9mIGludGVyc2VjdGlvblxuICAgICBvIFtcbiAgICAgbyAgICAge1xuICAgICBvICAgICAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICBvICAgICAgICAgeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBwb2ludFxuICAgICBvICAgICAgICAgdDE6IChudW1iZXIpIHQgdmFsdWUgZm9yIHNlZ21lbnQgb2YgcGF0aDFcbiAgICAgbyAgICAgICAgIHQyOiAobnVtYmVyKSB0IHZhbHVlIGZvciBzZWdtZW50IG9mIHBhdGgyXG4gICAgIG8gICAgICAgICBzZWdtZW50MTogKG51bWJlcikgb3JkZXIgbnVtYmVyIGZvciBzZWdtZW50IG9mIHBhdGgxXG4gICAgIG8gICAgICAgICBzZWdtZW50MjogKG51bWJlcikgb3JkZXIgbnVtYmVyIGZvciBzZWdtZW50IG9mIHBhdGgyXG4gICAgIG8gICAgICAgICBiZXoxOiAoYXJyYXkpIGVpZ2h0IGNvb3JkaW5hdGVzIHJlcHJlc2VudGluZyBiZXppw6lyIGN1cnZlIGZvciB0aGUgc2VnbWVudCBvZiBwYXRoMVxuICAgICBvICAgICAgICAgYmV6MjogKGFycmF5KSBlaWdodCBjb29yZGluYXRlcyByZXByZXNlbnRpbmcgYmV6acOpciBjdXJ2ZSBmb3IgdGhlIHNlZ21lbnQgb2YgcGF0aDJcbiAgICAgbyAgICAgfVxuICAgICBvIF1cbiAgICBcXCovXG4gICAgUi5wYXRoSW50ZXJzZWN0aW9uID0gZnVuY3Rpb24gKHBhdGgxLCBwYXRoMikge1xuICAgICAgICByZXR1cm4gaW50ZXJQYXRoSGVscGVyKHBhdGgxLCBwYXRoMik7XG4gICAgfTtcbiAgICBSLnBhdGhJbnRlcnNlY3Rpb25OdW1iZXIgPSBmdW5jdGlvbiAocGF0aDEsIHBhdGgyKSB7XG4gICAgICAgIHJldHVybiBpbnRlclBhdGhIZWxwZXIocGF0aDEsIHBhdGgyLCAxKTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGludGVyUGF0aEhlbHBlcihwYXRoMSwgcGF0aDIsIGp1c3RDb3VudCkge1xuICAgICAgICBwYXRoMSA9IFIuX3BhdGgyY3VydmUocGF0aDEpO1xuICAgICAgICBwYXRoMiA9IFIuX3BhdGgyY3VydmUocGF0aDIpO1xuICAgICAgICB2YXIgeDEsIHkxLCB4MiwgeTIsIHgxbSwgeTFtLCB4Mm0sIHkybSwgYmV6MSwgYmV6MixcbiAgICAgICAgICAgIHJlcyA9IGp1c3RDb3VudCA/IDAgOiBbXTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcGF0aDEubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgdmFyIHBpID0gcGF0aDFbaV07XG4gICAgICAgICAgICBpZiAocGlbMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICB4MSA9IHgxbSA9IHBpWzFdO1xuICAgICAgICAgICAgICAgIHkxID0geTFtID0gcGlbMl07XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChwaVswXSA9PSBcIkNcIikge1xuICAgICAgICAgICAgICAgICAgICBiZXoxID0gW3gxLCB5MV0uY29uY2F0KHBpLnNsaWNlKDEpKTtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSBiZXoxWzZdO1xuICAgICAgICAgICAgICAgICAgICB5MSA9IGJlejFbN107XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYmV6MSA9IFt4MSwgeTEsIHgxLCB5MSwgeDFtLCB5MW0sIHgxbSwgeTFtXTtcbiAgICAgICAgICAgICAgICAgICAgeDEgPSB4MW07XG4gICAgICAgICAgICAgICAgICAgIHkxID0geTFtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBwYXRoMi5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwaiA9IHBhdGgyW2pdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGpbMF0gPT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHgyID0geDJtID0gcGpbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB5MiA9IHkybSA9IHBqWzJdO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBqWzBdID09IFwiQ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmV6MiA9IFt4MiwgeTJdLmNvbmNhdChwai5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBiZXoyWzZdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gYmV6Mls3XTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYmV6MiA9IFt4MiwgeTIsIHgyLCB5MiwgeDJtLCB5Mm0sIHgybSwgeTJtXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MiA9IHgybTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MiA9IHkybTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbnRyID0gaW50ZXJIZWxwZXIoYmV6MSwgYmV6MiwganVzdENvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChqdXN0Q291bnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgKz0gaW50cjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gaW50ci5sZW5ndGg7IGsgPCBrazsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGludHJba10uc2VnbWVudDEgPSBpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnRyW2tdLnNlZ21lbnQyID0gajtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50cltrXS5iZXoxID0gYmV6MTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaW50cltrXS5iZXoyID0gYmV6MjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzLmNvbmNhdChpbnRyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH1cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5pc1BvaW50SW5zaWRlUGF0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGB0cnVlYCBpZiBnaXZlbiBwb2ludCBpcyBpbnNpZGUgYSBnaXZlbiBjbG9zZWQgcGF0aC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcGF0aCAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAtIHggKG51bWJlcikgeCBvZiB0aGUgcG9pbnRcbiAgICAgLSB5IChudW1iZXIpIHkgb2YgdGhlIHBvaW50XG4gICAgID0gKGJvb2xlYW4pIHRydWUsIGlmIHBvaW50IGlzIGluc2lkZSB0aGUgcGF0aFxuICAgIFxcKi9cbiAgICBSLmlzUG9pbnRJbnNpZGVQYXRoID0gZnVuY3Rpb24gKHBhdGgsIHgsIHkpIHtcbiAgICAgICAgdmFyIGJib3ggPSBSLnBhdGhCQm94KHBhdGgpO1xuICAgICAgICByZXR1cm4gUi5pc1BvaW50SW5zaWRlQkJveChiYm94LCB4LCB5KSAmJlxuICAgICAgICAgICAgICAgaW50ZXJQYXRoSGVscGVyKHBhdGgsIFtbXCJNXCIsIHgsIHldLCBbXCJIXCIsIGJib3gueDIgKyAxMF1dLCAxKSAlIDIgPT0gMTtcbiAgICB9O1xuICAgIFIuX3JlbW92ZWRGYWN0b3J5ID0gZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGV2ZShcInJhcGhhZWwubG9nXCIsIG51bGwsIFwiUmFwaGFcXHhlYmw6IHlvdSBhcmUgY2FsbGluZyB0byBtZXRob2QgXFx1MjAxY1wiICsgbWV0aG9kbmFtZSArIFwiXFx1MjAxZCBvZiByZW1vdmVkIG9iamVjdFwiLCBtZXRob2RuYW1lKTtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLnBhdGhCQm94XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIFJldHVybiBib3VuZGluZyBib3ggb2YgYSBnaXZlbiBwYXRoXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGggKHN0cmluZykgcGF0aCBzdHJpbmdcbiAgICAgPSAob2JqZWN0KSBib3VuZGluZyBib3hcbiAgICAgbyB7XG4gICAgIG8gICAgIHg6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgbGVmdCB0b3AgcG9pbnQgb2YgdGhlIGJveFxuICAgICBvICAgICB5OiAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGxlZnQgdG9wIHBvaW50IG9mIHRoZSBib3hcbiAgICAgbyAgICAgeDI6IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgYm90dG9tIHBvaW50IG9mIHRoZSBib3hcbiAgICAgbyAgICAgeTI6IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcmlnaHQgYm90dG9tIHBvaW50IG9mIHRoZSBib3hcbiAgICAgbyAgICAgd2lkdGg6IChudW1iZXIpIHdpZHRoIG9mIHRoZSBib3hcbiAgICAgbyAgICAgaGVpZ2h0OiAobnVtYmVyKSBoZWlnaHQgb2YgdGhlIGJveFxuICAgICBvICAgICBjeDogKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGJveFxuICAgICBvICAgICBjeTogKG51bWJlcikgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50ZXIgb2YgdGhlIGJveFxuICAgICBvIH1cbiAgICBcXCovXG4gICAgdmFyIHBhdGhEaW1lbnNpb25zID0gUi5wYXRoQkJveCA9IGZ1bmN0aW9uIChwYXRoKSB7XG4gICAgICAgIHZhciBwdGggPSBwYXRocyhwYXRoKTtcbiAgICAgICAgaWYgKHB0aC5iYm94KSB7XG4gICAgICAgICAgICByZXR1cm4gY2xvbmUocHRoLmJib3gpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHt4OiAwLCB5OiAwLCB3aWR0aDogMCwgaGVpZ2h0OiAwLCB4MjogMCwgeTI6IDB9O1xuICAgICAgICB9XG4gICAgICAgIHBhdGggPSBwYXRoMmN1cnZlKHBhdGgpO1xuICAgICAgICB2YXIgeCA9IDAsXG4gICAgICAgICAgICB5ID0gMCxcbiAgICAgICAgICAgIFggPSBbXSxcbiAgICAgICAgICAgIFkgPSBbXSxcbiAgICAgICAgICAgIHA7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHBhdGgubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgcCA9IHBhdGhbaV07XG4gICAgICAgICAgICBpZiAocFswXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgICAgIHggPSBwWzFdO1xuICAgICAgICAgICAgICAgIHkgPSBwWzJdO1xuICAgICAgICAgICAgICAgIFgucHVzaCh4KTtcbiAgICAgICAgICAgICAgICBZLnB1c2goeSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHZhciBkaW0gPSBjdXJ2ZURpbSh4LCB5LCBwWzFdLCBwWzJdLCBwWzNdLCBwWzRdLCBwWzVdLCBwWzZdKTtcbiAgICAgICAgICAgICAgICBYID0gWFtjb25jYXRdKGRpbS5taW4ueCwgZGltLm1heC54KTtcbiAgICAgICAgICAgICAgICBZID0gWVtjb25jYXRdKGRpbS5taW4ueSwgZGltLm1heC55KTtcbiAgICAgICAgICAgICAgICB4ID0gcFs1XTtcbiAgICAgICAgICAgICAgICB5ID0gcFs2XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgeG1pbiA9IG1taW5bYXBwbHldKDAsIFgpLFxuICAgICAgICAgICAgeW1pbiA9IG1taW5bYXBwbHldKDAsIFkpLFxuICAgICAgICAgICAgeG1heCA9IG1tYXhbYXBwbHldKDAsIFgpLFxuICAgICAgICAgICAgeW1heCA9IG1tYXhbYXBwbHldKDAsIFkpLFxuICAgICAgICAgICAgd2lkdGggPSB4bWF4IC0geG1pbixcbiAgICAgICAgICAgIGhlaWdodCA9IHltYXggLSB5bWluLFxuICAgICAgICAgICAgICAgIGJiID0ge1xuICAgICAgICAgICAgICAgIHg6IHhtaW4sXG4gICAgICAgICAgICAgICAgeTogeW1pbixcbiAgICAgICAgICAgICAgICB4MjogeG1heCxcbiAgICAgICAgICAgICAgICB5MjogeW1heCxcbiAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICAgICAgY3g6IHhtaW4gKyB3aWR0aCAvIDIsXG4gICAgICAgICAgICAgICAgY3k6IHltaW4gKyBoZWlnaHQgLyAyXG4gICAgICAgICAgICB9O1xuICAgICAgICBwdGguYmJveCA9IGNsb25lKGJiKTtcbiAgICAgICAgcmV0dXJuIGJiO1xuICAgIH0sXG4gICAgICAgIHBhdGhDbG9uZSA9IGZ1bmN0aW9uIChwYXRoQXJyYXkpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSBjbG9uZShwYXRoQXJyYXkpO1xuICAgICAgICAgICAgcmVzLnRvU3RyaW5nID0gUi5fcGF0aDJzdHJpbmc7XG4gICAgICAgICAgICByZXR1cm4gcmVzO1xuICAgICAgICB9LFxuICAgICAgICBwYXRoVG9SZWxhdGl2ZSA9IFIuX3BhdGhUb1JlbGF0aXZlID0gZnVuY3Rpb24gKHBhdGhBcnJheSkge1xuICAgICAgICAgICAgdmFyIHB0aCA9IHBhdGhzKHBhdGhBcnJheSk7XG4gICAgICAgICAgICBpZiAocHRoLnJlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXRoQ2xvbmUocHRoLnJlbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIVIuaXMocGF0aEFycmF5LCBhcnJheSkgfHwgIVIuaXMocGF0aEFycmF5ICYmIHBhdGhBcnJheVswXSwgYXJyYXkpKSB7IC8vIHJvdWdoIGFzc3VtcHRpb25cbiAgICAgICAgICAgICAgICBwYXRoQXJyYXkgPSBSLnBhcnNlUGF0aFN0cmluZyhwYXRoQXJyYXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHJlcyA9IFtdLFxuICAgICAgICAgICAgICAgIHggPSAwLFxuICAgICAgICAgICAgICAgIHkgPSAwLFxuICAgICAgICAgICAgICAgIG14ID0gMCxcbiAgICAgICAgICAgICAgICBteSA9IDAsXG4gICAgICAgICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICAgICAgaWYgKHBhdGhBcnJheVswXVswXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgICAgIHggPSBwYXRoQXJyYXlbMF1bMV07XG4gICAgICAgICAgICAgICAgeSA9IHBhdGhBcnJheVswXVsyXTtcbiAgICAgICAgICAgICAgICBteCA9IHg7XG4gICAgICAgICAgICAgICAgbXkgPSB5O1xuICAgICAgICAgICAgICAgIHN0YXJ0Kys7XG4gICAgICAgICAgICAgICAgcmVzLnB1c2goW1wiTVwiLCB4LCB5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gc3RhcnQsIGlpID0gcGF0aEFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgciA9IHJlc1tpXSA9IFtdLFxuICAgICAgICAgICAgICAgICAgICBwYSA9IHBhdGhBcnJheVtpXTtcbiAgICAgICAgICAgICAgICBpZiAocGFbMF0gIT0gbG93ZXJDYXNlLmNhbGwocGFbMF0pKSB7XG4gICAgICAgICAgICAgICAgICAgIHJbMF0gPSBsb3dlckNhc2UuY2FsbChwYVswXSk7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoclswXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzFdID0gcGFbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsyXSA9IHBhWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbM10gPSBwYVszXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzRdID0gcGFbNF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls1XSA9IHBhWzVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbNl0gPSArKHBhWzZdIC0geCkudG9GaXhlZCgzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzddID0gKyhwYVs3XSAtIHkpLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbMV0gPSArKHBhWzFdIC0geSkudG9GaXhlZCgzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXggPSBwYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBteSA9IHBhWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMSwgamogPSBwYS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbal0gPSArKHBhW2pdIC0gKChqICUgMikgPyB4IDogeSkpLnRvRml4ZWQoMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgciA9IHJlc1tpXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGFbMF0gPT0gXCJtXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG14ID0gcGFbMV0gKyB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgbXkgPSBwYVsyXSArIHk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDAsIGtrID0gcGEubGVuZ3RoOyBrIDwga2s7IGsrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzW2ldW2tdID0gcGFba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIGxlbiA9IHJlc1tpXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyZXNbaV1bMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInpcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBteDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSBteTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiaFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgeCArPSArcmVzW2ldW2xlbiAtIDFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB5ICs9ICtyZXNbaV1bbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggKz0gK3Jlc1tpXVtsZW4gLSAyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgKz0gK3Jlc1tpXVtsZW4gLSAxXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMudG9TdHJpbmcgPSBSLl9wYXRoMnN0cmluZztcbiAgICAgICAgICAgIHB0aC5yZWwgPSBwYXRoQ2xvbmUocmVzKTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH0sXG4gICAgICAgIHBhdGhUb0Fic29sdXRlID0gUi5fcGF0aFRvQWJzb2x1dGUgPSBmdW5jdGlvbiAocGF0aEFycmF5KSB7XG4gICAgICAgICAgICB2YXIgcHRoID0gcGF0aHMocGF0aEFycmF5KTtcbiAgICAgICAgICAgIGlmIChwdGguYWJzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGhDbG9uZShwdGguYWJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICghUi5pcyhwYXRoQXJyYXksIGFycmF5KSB8fCAhUi5pcyhwYXRoQXJyYXkgJiYgcGF0aEFycmF5WzBdLCBhcnJheSkpIHsgLy8gcm91Z2ggYXNzdW1wdGlvblxuICAgICAgICAgICAgICAgIHBhdGhBcnJheSA9IFIucGFyc2VQYXRoU3RyaW5nKHBhdGhBcnJheSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXBhdGhBcnJheSB8fCAhcGF0aEFycmF5Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBbW1wiTVwiLCAwLCAwXV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcmVzID0gW10sXG4gICAgICAgICAgICAgICAgeCA9IDAsXG4gICAgICAgICAgICAgICAgeSA9IDAsXG4gICAgICAgICAgICAgICAgbXggPSAwLFxuICAgICAgICAgICAgICAgIG15ID0gMCxcbiAgICAgICAgICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgICAgICBpZiAocGF0aEFycmF5WzBdWzBdID09IFwiTVwiKSB7XG4gICAgICAgICAgICAgICAgeCA9ICtwYXRoQXJyYXlbMF1bMV07XG4gICAgICAgICAgICAgICAgeSA9ICtwYXRoQXJyYXlbMF1bMl07XG4gICAgICAgICAgICAgICAgbXggPSB4O1xuICAgICAgICAgICAgICAgIG15ID0geTtcbiAgICAgICAgICAgICAgICBzdGFydCsrO1xuICAgICAgICAgICAgICAgIHJlc1swXSA9IFtcIk1cIiwgeCwgeV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgY3J6ID0gcGF0aEFycmF5Lmxlbmd0aCA9PSAzICYmIHBhdGhBcnJheVswXVswXSA9PSBcIk1cIiAmJiBwYXRoQXJyYXlbMV1bMF0udG9VcHBlckNhc2UoKSA9PSBcIlJcIiAmJiBwYXRoQXJyYXlbMl1bMF0udG9VcHBlckNhc2UoKSA9PSBcIlpcIjtcbiAgICAgICAgICAgIGZvciAodmFyIHIsIHBhLCBpID0gc3RhcnQsIGlpID0gcGF0aEFycmF5Lmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICByZXMucHVzaChyID0gW10pO1xuICAgICAgICAgICAgICAgIHBhID0gcGF0aEFycmF5W2ldO1xuICAgICAgICAgICAgICAgIGlmIChwYVswXSAhPSB1cHBlckNhc2UuY2FsbChwYVswXSkpIHtcbiAgICAgICAgICAgICAgICAgICAgclswXSA9IHVwcGVyQ2FzZS5jYWxsKHBhWzBdKTtcbiAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChyWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiQVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbMV0gPSBwYVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzJdID0gcGFbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclszXSA9IHBhWzNdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbNF0gPSBwYVs0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzVdID0gcGFbNV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcls2XSA9ICsocGFbNl0gKyB4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzddID0gKyhwYVs3XSArIHkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlZcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByWzFdID0gK3BhWzFdICsgeTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJIXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgclsxXSA9ICtwYVsxXSArIHg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiUlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBkb3RzID0gW3gsIHldW2NvbmNhdF0ocGEuc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAyLCBqaiA9IGRvdHMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzW2pdID0gK2RvdHNbal0gKyB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3RzWysral0gPSArZG90c1tqXSArIHk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXMgPSByZXNbY29uY2F0XShjYXRtdWxsUm9tMmJlemllcihkb3RzLCBjcnopKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbXggPSArcGFbMV0gKyB4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG15ID0gK3BhWzJdICsgeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMSwgamogPSBwYS5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJbal0gPSArcGFbal0gKyAoKGogJSAyKSA/IHggOiB5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHBhWzBdID09IFwiUlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGRvdHMgPSBbeCwgeV1bY29uY2F0XShwYS5zbGljZSgxKSk7XG4gICAgICAgICAgICAgICAgICAgIHJlcy5wb3AoKTtcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzW2NvbmNhdF0oY2F0bXVsbFJvbTJiZXppZXIoZG90cywgY3J6KSk7XG4gICAgICAgICAgICAgICAgICAgIHIgPSBbXCJSXCJdW2NvbmNhdF0ocGEuc2xpY2UoLTIpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMCwga2sgPSBwYS5sZW5ndGg7IGsgPCBrazsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByW2tdID0gcGFba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3dpdGNoIChyWzBdKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gbXg7XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gbXk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSByWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJWXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gclsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiTVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbXggPSByW3IubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBteSA9IHJbci5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSByW3IubGVuZ3RoIC0gMl07XG4gICAgICAgICAgICAgICAgICAgICAgICB5ID0gcltyLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy50b1N0cmluZyA9IFIuX3BhdGgyc3RyaW5nO1xuICAgICAgICAgICAgcHRoLmFicyA9IHBhdGhDbG9uZShyZXMpO1xuICAgICAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgICAgfSxcbiAgICAgICAgbDJjID0gZnVuY3Rpb24gKHgxLCB5MSwgeDIsIHkyKSB7XG4gICAgICAgICAgICByZXR1cm4gW3gxLCB5MSwgeDIsIHkyLCB4MiwgeTJdO1xuICAgICAgICB9LFxuICAgICAgICBxMmMgPSBmdW5jdGlvbiAoeDEsIHkxLCBheCwgYXksIHgyLCB5Mikge1xuICAgICAgICAgICAgdmFyIF8xMyA9IDEgLyAzLFxuICAgICAgICAgICAgICAgIF8yMyA9IDIgLyAzO1xuICAgICAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICAgICAgICAgICAgXzEzICogeDEgKyBfMjMgKiBheCxcbiAgICAgICAgICAgICAgICAgICAgXzEzICogeTEgKyBfMjMgKiBheSxcbiAgICAgICAgICAgICAgICAgICAgXzEzICogeDIgKyBfMjMgKiBheCxcbiAgICAgICAgICAgICAgICAgICAgXzEzICogeTIgKyBfMjMgKiBheSxcbiAgICAgICAgICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICAgICAgICAgIHkyXG4gICAgICAgICAgICAgICAgXTtcbiAgICAgICAgfSxcbiAgICAgICAgYTJjID0gZnVuY3Rpb24gKHgxLCB5MSwgcngsIHJ5LCBhbmdsZSwgbGFyZ2VfYXJjX2ZsYWcsIHN3ZWVwX2ZsYWcsIHgyLCB5MiwgcmVjdXJzaXZlKSB7XG4gICAgICAgICAgICAvLyBmb3IgbW9yZSBpbmZvcm1hdGlvbiBvZiB3aGVyZSB0aGlzIG1hdGggY2FtZSBmcm9tIHZpc2l0OlxuICAgICAgICAgICAgLy8gaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHMTEvaW1wbG5vdGUuaHRtbCNBcmNJbXBsZW1lbnRhdGlvbk5vdGVzXG4gICAgICAgICAgICB2YXIgXzEyMCA9IFBJICogMTIwIC8gMTgwLFxuICAgICAgICAgICAgICAgIHJhZCA9IFBJIC8gMTgwICogKCthbmdsZSB8fCAwKSxcbiAgICAgICAgICAgICAgICByZXMgPSBbXSxcbiAgICAgICAgICAgICAgICB4eSxcbiAgICAgICAgICAgICAgICByb3RhdGUgPSBjYWNoZXIoZnVuY3Rpb24gKHgsIHksIHJhZCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgWCA9IHggKiBtYXRoLmNvcyhyYWQpIC0geSAqIG1hdGguc2luKHJhZCksXG4gICAgICAgICAgICAgICAgICAgICAgICBZID0geCAqIG1hdGguc2luKHJhZCkgKyB5ICogbWF0aC5jb3MocmFkKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHt4OiBYLCB5OiBZfTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICghcmVjdXJzaXZlKSB7XG4gICAgICAgICAgICAgICAgeHkgPSByb3RhdGUoeDEsIHkxLCAtcmFkKTtcbiAgICAgICAgICAgICAgICB4MSA9IHh5Lng7XG4gICAgICAgICAgICAgICAgeTEgPSB4eS55O1xuICAgICAgICAgICAgICAgIHh5ID0gcm90YXRlKHgyLCB5MiwgLXJhZCk7XG4gICAgICAgICAgICAgICAgeDIgPSB4eS54O1xuICAgICAgICAgICAgICAgIHkyID0geHkueTtcbiAgICAgICAgICAgICAgICB2YXIgY29zID0gbWF0aC5jb3MoUEkgLyAxODAgKiBhbmdsZSksXG4gICAgICAgICAgICAgICAgICAgIHNpbiA9IG1hdGguc2luKFBJIC8gMTgwICogYW5nbGUpLFxuICAgICAgICAgICAgICAgICAgICB4ID0gKHgxIC0geDIpIC8gMixcbiAgICAgICAgICAgICAgICAgICAgeSA9ICh5MSAtIHkyKSAvIDI7XG4gICAgICAgICAgICAgICAgdmFyIGggPSAoeCAqIHgpIC8gKHJ4ICogcngpICsgKHkgKiB5KSAvIChyeSAqIHJ5KTtcbiAgICAgICAgICAgICAgICBpZiAoaCA+IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgaCA9IG1hdGguc3FydChoKTtcbiAgICAgICAgICAgICAgICAgICAgcnggPSBoICogcng7XG4gICAgICAgICAgICAgICAgICAgIHJ5ID0gaCAqIHJ5O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgcngyID0gcnggKiByeCxcbiAgICAgICAgICAgICAgICAgICAgcnkyID0gcnkgKiByeSxcbiAgICAgICAgICAgICAgICAgICAgayA9IChsYXJnZV9hcmNfZmxhZyA9PSBzd2VlcF9mbGFnID8gLTEgOiAxKSAqXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRoLnNxcnQoYWJzKChyeDIgKiByeTIgLSByeDIgKiB5ICogeSAtIHJ5MiAqIHggKiB4KSAvIChyeDIgKiB5ICogeSArIHJ5MiAqIHggKiB4KSkpLFxuICAgICAgICAgICAgICAgICAgICBjeCA9IGsgKiByeCAqIHkgLyByeSArICh4MSArIHgyKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIGN5ID0gayAqIC1yeSAqIHggLyByeCArICh5MSArIHkyKSAvIDIsXG4gICAgICAgICAgICAgICAgICAgIGYxID0gbWF0aC5hc2luKCgoeTEgLSBjeSkgLyByeSkudG9GaXhlZCg5KSksXG4gICAgICAgICAgICAgICAgICAgIGYyID0gbWF0aC5hc2luKCgoeTIgLSBjeSkgLyByeSkudG9GaXhlZCg5KSk7XG5cbiAgICAgICAgICAgICAgICBmMSA9IHgxIDwgY3ggPyBQSSAtIGYxIDogZjE7XG4gICAgICAgICAgICAgICAgZjIgPSB4MiA8IGN4ID8gUEkgLSBmMiA6IGYyO1xuICAgICAgICAgICAgICAgIGYxIDwgMCAmJiAoZjEgPSBQSSAqIDIgKyBmMSk7XG4gICAgICAgICAgICAgICAgZjIgPCAwICYmIChmMiA9IFBJICogMiArIGYyKTtcbiAgICAgICAgICAgICAgICBpZiAoc3dlZXBfZmxhZyAmJiBmMSA+IGYyKSB7XG4gICAgICAgICAgICAgICAgICAgIGYxID0gZjEgLSBQSSAqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghc3dlZXBfZmxhZyAmJiBmMiA+IGYxKSB7XG4gICAgICAgICAgICAgICAgICAgIGYyID0gZjIgLSBQSSAqIDI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBmMSA9IHJlY3Vyc2l2ZVswXTtcbiAgICAgICAgICAgICAgICBmMiA9IHJlY3Vyc2l2ZVsxXTtcbiAgICAgICAgICAgICAgICBjeCA9IHJlY3Vyc2l2ZVsyXTtcbiAgICAgICAgICAgICAgICBjeSA9IHJlY3Vyc2l2ZVszXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBkZiA9IGYyIC0gZjE7XG4gICAgICAgICAgICBpZiAoYWJzKGRmKSA+IF8xMjApIHtcbiAgICAgICAgICAgICAgICB2YXIgZjJvbGQgPSBmMixcbiAgICAgICAgICAgICAgICAgICAgeDJvbGQgPSB4MixcbiAgICAgICAgICAgICAgICAgICAgeTJvbGQgPSB5MjtcbiAgICAgICAgICAgICAgICBmMiA9IGYxICsgXzEyMCAqIChzd2VlcF9mbGFnICYmIGYyID4gZjEgPyAxIDogLTEpO1xuICAgICAgICAgICAgICAgIHgyID0gY3ggKyByeCAqIG1hdGguY29zKGYyKTtcbiAgICAgICAgICAgICAgICB5MiA9IGN5ICsgcnkgKiBtYXRoLnNpbihmMik7XG4gICAgICAgICAgICAgICAgcmVzID0gYTJjKHgyLCB5MiwgcngsIHJ5LCBhbmdsZSwgMCwgc3dlZXBfZmxhZywgeDJvbGQsIHkyb2xkLCBbZjIsIGYyb2xkLCBjeCwgY3ldKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRmID0gZjIgLSBmMTtcbiAgICAgICAgICAgIHZhciBjMSA9IG1hdGguY29zKGYxKSxcbiAgICAgICAgICAgICAgICBzMSA9IG1hdGguc2luKGYxKSxcbiAgICAgICAgICAgICAgICBjMiA9IG1hdGguY29zKGYyKSxcbiAgICAgICAgICAgICAgICBzMiA9IG1hdGguc2luKGYyKSxcbiAgICAgICAgICAgICAgICB0ID0gbWF0aC50YW4oZGYgLyA0KSxcbiAgICAgICAgICAgICAgICBoeCA9IDQgLyAzICogcnggKiB0LFxuICAgICAgICAgICAgICAgIGh5ID0gNCAvIDMgKiByeSAqIHQsXG4gICAgICAgICAgICAgICAgbTEgPSBbeDEsIHkxXSxcbiAgICAgICAgICAgICAgICBtMiA9IFt4MSArIGh4ICogczEsIHkxIC0gaHkgKiBjMV0sXG4gICAgICAgICAgICAgICAgbTMgPSBbeDIgKyBoeCAqIHMyLCB5MiAtIGh5ICogYzJdLFxuICAgICAgICAgICAgICAgIG00ID0gW3gyLCB5Ml07XG4gICAgICAgICAgICBtMlswXSA9IDIgKiBtMVswXSAtIG0yWzBdO1xuICAgICAgICAgICAgbTJbMV0gPSAyICogbTFbMV0gLSBtMlsxXTtcbiAgICAgICAgICAgIGlmIChyZWN1cnNpdmUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gW20yLCBtMywgbTRdW2NvbmNhdF0ocmVzKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzID0gW20yLCBtMywgbTRdW2NvbmNhdF0ocmVzKS5qb2luKClbc3BsaXRdKFwiLFwiKTtcbiAgICAgICAgICAgICAgICB2YXIgbmV3cmVzID0gW107XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gcmVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbmV3cmVzW2ldID0gaSAlIDIgPyByb3RhdGUocmVzW2kgLSAxXSwgcmVzW2ldLCByYWQpLnkgOiByb3RhdGUocmVzW2ldLCByZXNbaSArIDFdLCByYWQpLng7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBuZXdyZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGZpbmREb3RBdFNlZ21lbnQgPSBmdW5jdGlvbiAocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIHQpIHtcbiAgICAgICAgICAgIHZhciB0MSA9IDEgLSB0O1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB4OiBwb3codDEsIDMpICogcDF4ICsgcG93KHQxLCAyKSAqIDMgKiB0ICogYzF4ICsgdDEgKiAzICogdCAqIHQgKiBjMnggKyBwb3codCwgMykgKiBwMngsXG4gICAgICAgICAgICAgICAgeTogcG93KHQxLCAzKSAqIHAxeSArIHBvdyh0MSwgMikgKiAzICogdCAqIGMxeSArIHQxICogMyAqIHQgKiB0ICogYzJ5ICsgcG93KHQsIDMpICogcDJ5XG4gICAgICAgICAgICB9O1xuICAgICAgICB9LFxuICAgICAgICBjdXJ2ZURpbSA9IGNhY2hlcihmdW5jdGlvbiAocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnkpIHtcbiAgICAgICAgICAgIHZhciBhID0gKGMyeCAtIDIgKiBjMXggKyBwMXgpIC0gKHAyeCAtIDIgKiBjMnggKyBjMXgpLFxuICAgICAgICAgICAgICAgIGIgPSAyICogKGMxeCAtIHAxeCkgLSAyICogKGMyeCAtIGMxeCksXG4gICAgICAgICAgICAgICAgYyA9IHAxeCAtIGMxeCxcbiAgICAgICAgICAgICAgICB0MSA9ICgtYiArIG1hdGguc3FydChiICogYiAtIDQgKiBhICogYykpIC8gMiAvIGEsXG4gICAgICAgICAgICAgICAgdDIgPSAoLWIgLSBtYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpKSAvIDIgLyBhLFxuICAgICAgICAgICAgICAgIHkgPSBbcDF5LCBwMnldLFxuICAgICAgICAgICAgICAgIHggPSBbcDF4LCBwMnhdLFxuICAgICAgICAgICAgICAgIGRvdDtcbiAgICAgICAgICAgIGFicyh0MSkgPiBcIjFlMTJcIiAmJiAodDEgPSAuNSk7XG4gICAgICAgICAgICBhYnModDIpID4gXCIxZTEyXCIgJiYgKHQyID0gLjUpO1xuICAgICAgICAgICAgaWYgKHQxID4gMCAmJiB0MSA8IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSBmaW5kRG90QXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0MSk7XG4gICAgICAgICAgICAgICAgeC5wdXNoKGRvdC54KTtcbiAgICAgICAgICAgICAgICB5LnB1c2goZG90LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHQyID4gMCAmJiB0MiA8IDEpIHtcbiAgICAgICAgICAgICAgICBkb3QgPSBmaW5kRG90QXRTZWdtZW50KHAxeCwgcDF5LCBjMXgsIGMxeSwgYzJ4LCBjMnksIHAyeCwgcDJ5LCB0Mik7XG4gICAgICAgICAgICAgICAgeC5wdXNoKGRvdC54KTtcbiAgICAgICAgICAgICAgICB5LnB1c2goZG90LnkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYSA9IChjMnkgLSAyICogYzF5ICsgcDF5KSAtIChwMnkgLSAyICogYzJ5ICsgYzF5KTtcbiAgICAgICAgICAgIGIgPSAyICogKGMxeSAtIHAxeSkgLSAyICogKGMyeSAtIGMxeSk7XG4gICAgICAgICAgICBjID0gcDF5IC0gYzF5O1xuICAgICAgICAgICAgdDEgPSAoLWIgKyBtYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpKSAvIDIgLyBhO1xuICAgICAgICAgICAgdDIgPSAoLWIgLSBtYXRoLnNxcnQoYiAqIGIgLSA0ICogYSAqIGMpKSAvIDIgLyBhO1xuICAgICAgICAgICAgYWJzKHQxKSA+IFwiMWUxMlwiICYmICh0MSA9IC41KTtcbiAgICAgICAgICAgIGFicyh0MikgPiBcIjFlMTJcIiAmJiAodDIgPSAuNSk7XG4gICAgICAgICAgICBpZiAodDEgPiAwICYmIHQxIDwgMSkge1xuICAgICAgICAgICAgICAgIGRvdCA9IGZpbmREb3RBdFNlZ21lbnQocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIHQxKTtcbiAgICAgICAgICAgICAgICB4LnB1c2goZG90LngpO1xuICAgICAgICAgICAgICAgIHkucHVzaChkb3QueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodDIgPiAwICYmIHQyIDwgMSkge1xuICAgICAgICAgICAgICAgIGRvdCA9IGZpbmREb3RBdFNlZ21lbnQocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIHQyKTtcbiAgICAgICAgICAgICAgICB4LnB1c2goZG90LngpO1xuICAgICAgICAgICAgICAgIHkucHVzaChkb3QueSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG1pbjoge3g6IG1taW5bYXBwbHldKDAsIHgpLCB5OiBtbWluW2FwcGx5XSgwLCB5KX0sXG4gICAgICAgICAgICAgICAgbWF4OiB7eDogbW1heFthcHBseV0oMCwgeCksIHk6IG1tYXhbYXBwbHldKDAsIHkpfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSksXG4gICAgICAgIHBhdGgyY3VydmUgPSBSLl9wYXRoMmN1cnZlID0gY2FjaGVyKGZ1bmN0aW9uIChwYXRoLCBwYXRoMikge1xuICAgICAgICAgICAgdmFyIHB0aCA9ICFwYXRoMiAmJiBwYXRocyhwYXRoKTtcbiAgICAgICAgICAgIGlmICghcGF0aDIgJiYgcHRoLmN1cnZlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhdGhDbG9uZShwdGguY3VydmUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHAgPSBwYXRoVG9BYnNvbHV0ZShwYXRoKSxcbiAgICAgICAgICAgICAgICBwMiA9IHBhdGgyICYmIHBhdGhUb0Fic29sdXRlKHBhdGgyKSxcbiAgICAgICAgICAgICAgICBhdHRycyA9IHt4OiAwLCB5OiAwLCBieDogMCwgYnk6IDAsIFg6IDAsIFk6IDAsIHF4OiBudWxsLCBxeTogbnVsbH0sXG4gICAgICAgICAgICAgICAgYXR0cnMyID0ge3g6IDAsIHk6IDAsIGJ4OiAwLCBieTogMCwgWDogMCwgWTogMCwgcXg6IG51bGwsIHF5OiBudWxsfSxcbiAgICAgICAgICAgICAgICBwcm9jZXNzUGF0aCA9IGZ1bmN0aW9uIChwYXRoLCBkLCBwY29tKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBueCwgbnksIHRxID0ge1Q6MSwgUToxfTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gW1wiQ1wiLCBkLngsIGQueSwgZC54LCBkLnksIGQueCwgZC55XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAhKHBhdGhbMF0gaW4gdHEpICYmIChkLnF4ID0gZC5xeSA9IG51bGwpO1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHBhdGhbMF0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJNXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZC5YID0gcGF0aFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLlkgPSBwYXRoWzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKGEyY1thcHBseV0oMCwgW2QueCwgZC55XVtjb25jYXRdKHBhdGguc2xpY2UoMSkpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiU1wiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwY29tID09IFwiQ1wiIHx8IHBjb20gPT0gXCJTXCIpIHsgLy8gSW4gXCJTXCIgY2FzZSB3ZSBoYXZlIHRvIHRha2UgaW50byBhY2NvdW50LCBpZiB0aGUgcHJldmlvdXMgY29tbWFuZCBpcyBDL1MuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG54ID0gZC54ICogMiAtIGQuYng7ICAgICAgICAgIC8vIEFuZCByZWZsZWN0IHRoZSBwcmV2aW91c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueSA9IGQueSAqIDIgLSBkLmJ5OyAgICAgICAgICAvLyBjb21tYW5kJ3MgY29udHJvbCBwb2ludCByZWxhdGl2ZSB0byB0aGUgY3VycmVudCBwb2ludC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7ICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIHNvbWUgZWxzZSBvciBub3RoaW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG54ID0gZC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBueSA9IGQueTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIiwgbngsIG55XVtjb25jYXRdKHBhdGguc2xpY2UoMSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGNvbSA9PSBcIlFcIiB8fCBwY29tID09IFwiVFwiKSB7IC8vIEluIFwiVFwiIGNhc2Ugd2UgaGF2ZSB0byB0YWtlIGludG8gYWNjb3VudCwgaWYgdGhlIHByZXZpb3VzIGNvbW1hbmQgaXMgUS9ULlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF4ID0gZC54ICogMiAtIGQucXg7ICAgICAgICAvLyBBbmQgbWFrZSBhIHJlZmxlY3Rpb24gc2ltaWxhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF5ID0gZC55ICogMiAtIGQucXk7ICAgICAgICAvLyB0byBjYXNlIFwiU1wiLlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gb3Igc29tZXRoaW5nIGVsc2Ugb3Igbm90aGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF4ID0gZC54O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF5ID0gZC55O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKHEyYyhkLngsIGQueSwgZC5xeCwgZC5xeSwgcGF0aFsxXSwgcGF0aFsyXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIlFcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF4ID0gcGF0aFsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkLnF5ID0gcGF0aFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKHEyYyhkLngsIGQueSwgcGF0aFsxXSwgcGF0aFsyXSwgcGF0aFszXSwgcGF0aFs0XSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKGwyYyhkLngsIGQueSwgcGF0aFsxXSwgcGF0aFsyXSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcIkhcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXRoID0gW1wiQ1wiXVtjb25jYXRdKGwyYyhkLngsIGQueSwgcGF0aFsxXSwgZC55KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiVlwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhdGggPSBbXCJDXCJdW2NvbmNhdF0obDJjKGQueCwgZC55LCBkLngsIHBhdGhbMV0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJaXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aCA9IFtcIkNcIl1bY29uY2F0XShsMmMoZC54LCBkLnksIGQuWCwgZC5ZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBmaXhBcmMgPSBmdW5jdGlvbiAocHAsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBwW2ldLmxlbmd0aCA+IDcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBwW2ldLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcGkgPSBwcFtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChwaS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwY29tczFbaV09XCJBXCI7IC8vIGlmIGNyZWF0ZWQgbXVsdGlwbGUgQzpzLCB0aGVpciBvcmlnaW5hbCBzZWcgaXMgc2F2ZWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwMiAmJiAocGNvbXMyW2ldPVwiQVwiKTsgLy8gdGhlIHNhbWUgYXMgYWJvdmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwcC5zcGxpY2UoaSsrLCAwLCBbXCJDXCJdW2NvbmNhdF0ocGkuc3BsaWNlKDAsIDYpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwcC5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpaSA9IG1tYXgocC5sZW5ndGgsIHAyICYmIHAyLmxlbmd0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZml4TSA9IGZ1bmN0aW9uIChwYXRoMSwgcGF0aDIsIGExLCBhMiwgaSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAocGF0aDEgJiYgcGF0aDIgJiYgcGF0aDFbaV1bMF0gPT0gXCJNXCIgJiYgcGF0aDJbaV1bMF0gIT0gXCJNXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGgyLnNwbGljZShpLCAwLCBbXCJNXCIsIGEyLngsIGEyLnldKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExLmJ4ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExLmJ5ID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExLnggPSBwYXRoMVtpXVsxXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGExLnkgPSBwYXRoMVtpXVsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlpID0gbW1heChwLmxlbmd0aCwgcDIgJiYgcDIubGVuZ3RoIHx8IDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBwY29tczEgPSBbXSwgLy8gcGF0aCBjb21tYW5kcyBvZiBvcmlnaW5hbCBwYXRoIHBcbiAgICAgICAgICAgICAgICBwY29tczIgPSBbXSwgLy8gcGF0aCBjb21tYW5kcyBvZiBvcmlnaW5hbCBwYXRoIHAyXG4gICAgICAgICAgICAgICAgcGZpcnN0ID0gXCJcIiwgLy8gdGVtcG9yYXJ5IGhvbGRlciBmb3Igb3JpZ2luYWwgcGF0aCBjb21tYW5kXG4gICAgICAgICAgICAgICAgcGNvbSA9IFwiXCI7IC8vIGhvbGRlciBmb3IgcHJldmlvdXMgcGF0aCBjb21tYW5kIG9mIG9yaWdpbmFsIHBhdGhcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG1tYXgocC5sZW5ndGgsIHAyICYmIHAyLmxlbmd0aCB8fCAwKTsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwW2ldICYmIChwZmlyc3QgPSBwW2ldWzBdKTsgLy8gc2F2ZSBjdXJyZW50IHBhdGggY29tbWFuZFxuXG4gICAgICAgICAgICAgICAgaWYgKHBmaXJzdCAhPSBcIkNcIikgLy8gQyBpcyBub3Qgc2F2ZWQgeWV0LCBiZWNhdXNlIGl0IG1heSBiZSByZXN1bHQgb2YgY29udmVyc2lvblxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcGNvbXMxW2ldID0gcGZpcnN0OyAvLyBTYXZlIGN1cnJlbnQgcGF0aCBjb21tYW5kXG4gICAgICAgICAgICAgICAgICAgIGkgJiYgKCBwY29tID0gcGNvbXMxW2ktMV0pOyAvLyBHZXQgcHJldmlvdXMgcGF0aCBjb21tYW5kIHBjb21cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcFtpXSA9IHByb2Nlc3NQYXRoKHBbaV0sIGF0dHJzLCBwY29tKTsgLy8gUHJldmlvdXMgcGF0aCBjb21tYW5kIGlzIGlucHV0dGVkIHRvIHByb2Nlc3NQYXRoXG5cbiAgICAgICAgICAgICAgICBpZiAocGNvbXMxW2ldICE9IFwiQVwiICYmIHBmaXJzdCA9PSBcIkNcIikgcGNvbXMxW2ldID0gXCJDXCI7IC8vIEEgaXMgdGhlIG9ubHkgY29tbWFuZFxuICAgICAgICAgICAgICAgIC8vIHdoaWNoIG1heSBwcm9kdWNlIG11bHRpcGxlIEM6c1xuICAgICAgICAgICAgICAgIC8vIHNvIHdlIGhhdmUgdG8gbWFrZSBzdXJlIHRoYXQgQyBpcyBhbHNvIEMgaW4gb3JpZ2luYWwgcGF0aFxuXG4gICAgICAgICAgICAgICAgZml4QXJjKHAsIGkpOyAvLyBmaXhBcmMgYWRkcyBhbHNvIHRoZSByaWdodCBhbW91bnQgb2YgQTpzIHRvIHBjb21zMVxuXG4gICAgICAgICAgICAgICAgaWYgKHAyKSB7IC8vIHRoZSBzYW1lIHByb2NlZHVyZXMgaXMgZG9uZSB0byBwMlxuICAgICAgICAgICAgICAgICAgICBwMltpXSAmJiAocGZpcnN0ID0gcDJbaV1bMF0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGZpcnN0ICE9IFwiQ1wiKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwY29tczJbaV0gPSBwZmlyc3Q7XG4gICAgICAgICAgICAgICAgICAgICAgICBpICYmIChwY29tID0gcGNvbXMyW2ktMV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHAyW2ldID0gcHJvY2Vzc1BhdGgocDJbaV0sIGF0dHJzMiwgcGNvbSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHBjb21zMltpXSE9XCJBXCIgJiYgcGZpcnN0PT1cIkNcIikgcGNvbXMyW2ldPVwiQ1wiO1xuXG4gICAgICAgICAgICAgICAgICAgIGZpeEFyYyhwMiwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGZpeE0ocCwgcDIsIGF0dHJzLCBhdHRyczIsIGkpO1xuICAgICAgICAgICAgICAgIGZpeE0ocDIsIHAsIGF0dHJzMiwgYXR0cnMsIGkpO1xuICAgICAgICAgICAgICAgIHZhciBzZWcgPSBwW2ldLFxuICAgICAgICAgICAgICAgICAgICBzZWcyID0gcDIgJiYgcDJbaV0sXG4gICAgICAgICAgICAgICAgICAgIHNlZ2xlbiA9IHNlZy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIHNlZzJsZW4gPSBwMiAmJiBzZWcyLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBhdHRycy54ID0gc2VnW3NlZ2xlbiAtIDJdO1xuICAgICAgICAgICAgICAgIGF0dHJzLnkgPSBzZWdbc2VnbGVuIC0gMV07XG4gICAgICAgICAgICAgICAgYXR0cnMuYnggPSB0b0Zsb2F0KHNlZ1tzZWdsZW4gLSA0XSkgfHwgYXR0cnMueDtcbiAgICAgICAgICAgICAgICBhdHRycy5ieSA9IHRvRmxvYXQoc2VnW3NlZ2xlbiAtIDNdKSB8fCBhdHRycy55O1xuICAgICAgICAgICAgICAgIGF0dHJzMi5ieCA9IHAyICYmICh0b0Zsb2F0KHNlZzJbc2VnMmxlbiAtIDRdKSB8fCBhdHRyczIueCk7XG4gICAgICAgICAgICAgICAgYXR0cnMyLmJ5ID0gcDIgJiYgKHRvRmxvYXQoc2VnMltzZWcybGVuIC0gM10pIHx8IGF0dHJzMi55KTtcbiAgICAgICAgICAgICAgICBhdHRyczIueCA9IHAyICYmIHNlZzJbc2VnMmxlbiAtIDJdO1xuICAgICAgICAgICAgICAgIGF0dHJzMi55ID0gcDIgJiYgc2VnMltzZWcybGVuIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXAyKSB7XG4gICAgICAgICAgICAgICAgcHRoLmN1cnZlID0gcGF0aENsb25lKHApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHAyID8gW3AsIHAyXSA6IHA7XG4gICAgICAgIH0sIG51bGwsIHBhdGhDbG9uZSksXG4gICAgICAgIHBhcnNlRG90cyA9IFIuX3BhcnNlRG90cyA9IGNhY2hlcihmdW5jdGlvbiAoZ3JhZGllbnQpIHtcbiAgICAgICAgICAgIHZhciBkb3RzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBncmFkaWVudC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGRvdCA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBwYXIgPSBncmFkaWVudFtpXS5tYXRjaCgvXihbXjpdKik6PyhbXFxkXFwuXSopLyk7XG4gICAgICAgICAgICAgICAgZG90LmNvbG9yID0gUi5nZXRSR0IocGFyWzFdKTtcbiAgICAgICAgICAgICAgICBpZiAoZG90LmNvbG9yLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb3Qub3BhY2l0eSA9IGRvdC5jb2xvci5vcGFjaXR5O1xuICAgICAgICAgICAgICAgIGRvdC5jb2xvciA9IGRvdC5jb2xvci5oZXg7XG4gICAgICAgICAgICAgICAgcGFyWzJdICYmIChkb3Qub2Zmc2V0ID0gcGFyWzJdICsgXCIlXCIpO1xuICAgICAgICAgICAgICAgIGRvdHMucHVzaChkb3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChpID0gMSwgaWkgPSBkb3RzLmxlbmd0aCAtIDE7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFkb3RzW2ldLm9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgc3RhcnQgPSB0b0Zsb2F0KGRvdHNbaSAtIDFdLm9mZnNldCB8fCAwKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSBpICsgMTsgaiA8IGlpOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkb3RzW2pdLm9mZnNldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuZCA9IGRvdHNbal0ub2Zmc2V0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbmQgPSAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBqID0gaWk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZW5kID0gdG9GbG9hdChlbmQpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IChlbmQgLSBzdGFydCkgLyAoaiAtIGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgZm9yICg7IGkgPCBqOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXJ0ICs9IGQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBkb3RzW2ldLm9mZnNldCA9IHN0YXJ0ICsgXCIlXCI7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZG90cztcbiAgICAgICAgfSksXG4gICAgICAgIHRlYXIgPSBSLl90ZWFyID0gZnVuY3Rpb24gKGVsLCBwYXBlcikge1xuICAgICAgICAgICAgZWwgPT0gcGFwZXIudG9wICYmIChwYXBlci50b3AgPSBlbC5wcmV2KTtcbiAgICAgICAgICAgIGVsID09IHBhcGVyLmJvdHRvbSAmJiAocGFwZXIuYm90dG9tID0gZWwubmV4dCk7XG4gICAgICAgICAgICBlbC5uZXh0ICYmIChlbC5uZXh0LnByZXYgPSBlbC5wcmV2KTtcbiAgICAgICAgICAgIGVsLnByZXYgJiYgKGVsLnByZXYubmV4dCA9IGVsLm5leHQpO1xuICAgICAgICB9LFxuICAgICAgICB0b2Zyb250ID0gUi5fdG9mcm9udCA9IGZ1bmN0aW9uIChlbCwgcGFwZXIpIHtcbiAgICAgICAgICAgIGlmIChwYXBlci50b3AgPT09IGVsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGVhcihlbCwgcGFwZXIpO1xuICAgICAgICAgICAgZWwubmV4dCA9IG51bGw7XG4gICAgICAgICAgICBlbC5wcmV2ID0gcGFwZXIudG9wO1xuICAgICAgICAgICAgcGFwZXIudG9wLm5leHQgPSBlbDtcbiAgICAgICAgICAgIHBhcGVyLnRvcCA9IGVsO1xuICAgICAgICB9LFxuICAgICAgICB0b2JhY2sgPSBSLl90b2JhY2sgPSBmdW5jdGlvbiAoZWwsIHBhcGVyKSB7XG4gICAgICAgICAgICBpZiAocGFwZXIuYm90dG9tID09PSBlbCkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRlYXIoZWwsIHBhcGVyKTtcbiAgICAgICAgICAgIGVsLm5leHQgPSBwYXBlci5ib3R0b207XG4gICAgICAgICAgICBlbC5wcmV2ID0gbnVsbDtcbiAgICAgICAgICAgIHBhcGVyLmJvdHRvbS5wcmV2ID0gZWw7XG4gICAgICAgICAgICBwYXBlci5ib3R0b20gPSBlbDtcbiAgICAgICAgfSxcbiAgICAgICAgaW5zZXJ0YWZ0ZXIgPSBSLl9pbnNlcnRhZnRlciA9IGZ1bmN0aW9uIChlbCwgZWwyLCBwYXBlcikge1xuICAgICAgICAgICAgdGVhcihlbCwgcGFwZXIpO1xuICAgICAgICAgICAgZWwyID09IHBhcGVyLnRvcCAmJiAocGFwZXIudG9wID0gZWwpO1xuICAgICAgICAgICAgZWwyLm5leHQgJiYgKGVsMi5uZXh0LnByZXYgPSBlbCk7XG4gICAgICAgICAgICBlbC5uZXh0ID0gZWwyLm5leHQ7XG4gICAgICAgICAgICBlbC5wcmV2ID0gZWwyO1xuICAgICAgICAgICAgZWwyLm5leHQgPSBlbDtcbiAgICAgICAgfSxcbiAgICAgICAgaW5zZXJ0YmVmb3JlID0gUi5faW5zZXJ0YmVmb3JlID0gZnVuY3Rpb24gKGVsLCBlbDIsIHBhcGVyKSB7XG4gICAgICAgICAgICB0ZWFyKGVsLCBwYXBlcik7XG4gICAgICAgICAgICBlbDIgPT0gcGFwZXIuYm90dG9tICYmIChwYXBlci5ib3R0b20gPSBlbCk7XG4gICAgICAgICAgICBlbDIucHJldiAmJiAoZWwyLnByZXYubmV4dCA9IGVsKTtcbiAgICAgICAgICAgIGVsLnByZXYgPSBlbDIucHJldjtcbiAgICAgICAgICAgIGVsMi5wcmV2ID0gZWw7XG4gICAgICAgICAgICBlbC5uZXh0ID0gZWwyO1xuICAgICAgICB9LFxuICAgICAgICAvKlxcXG4gICAgICAgICAqIFJhcGhhZWwudG9NYXRyaXhcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFV0aWxpdHkgbWV0aG9kXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm5zIG1hdHJpeCBvZiB0cmFuc2Zvcm1hdGlvbnMgYXBwbGllZCB0byBhIGdpdmVuIHBhdGhcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSBwYXRoIChzdHJpbmcpIHBhdGggc3RyaW5nXG4gICAgICAgICAtIHRyYW5zZm9ybSAoc3RyaW5nfGFycmF5KSB0cmFuc2Zvcm1hdGlvbiBzdHJpbmdcbiAgICAgICAgID0gKG9iamVjdCkgQE1hdHJpeFxuICAgICAgICBcXCovXG4gICAgICAgIHRvTWF0cml4ID0gUi50b01hdHJpeCA9IGZ1bmN0aW9uIChwYXRoLCB0cmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIHZhciBiYiA9IHBhdGhEaW1lbnNpb25zKHBhdGgpLFxuICAgICAgICAgICAgICAgIGVsID0ge1xuICAgICAgICAgICAgICAgICAgICBfOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2Zvcm06IEVcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZ2V0QkJveDogZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGJiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGV4dHJhY3RUcmFuc2Zvcm0oZWwsIHRyYW5zZm9ybSk7XG4gICAgICAgICAgICByZXR1cm4gZWwubWF0cml4O1xuICAgICAgICB9LFxuICAgICAgICAvKlxcXG4gICAgICAgICAqIFJhcGhhZWwudHJhbnNmb3JtUGF0aFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybnMgcGF0aCB0cmFuc2Zvcm1lZCBieSBhIGdpdmVuIHRyYW5zZm9ybWF0aW9uXG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0gcGF0aCAoc3RyaW5nKSBwYXRoIHN0cmluZ1xuICAgICAgICAgLSB0cmFuc2Zvcm0gKHN0cmluZ3xhcnJheSkgdHJhbnNmb3JtYXRpb24gc3RyaW5nXG4gICAgICAgICA9IChzdHJpbmcpIHBhdGhcbiAgICAgICAgXFwqL1xuICAgICAgICB0cmFuc2Zvcm1QYXRoID0gUi50cmFuc2Zvcm1QYXRoID0gZnVuY3Rpb24gKHBhdGgsIHRyYW5zZm9ybSkge1xuICAgICAgICAgICAgcmV0dXJuIG1hcFBhdGgocGF0aCwgdG9NYXRyaXgocGF0aCwgdHJhbnNmb3JtKSk7XG4gICAgICAgIH0sXG4gICAgICAgIGV4dHJhY3RUcmFuc2Zvcm0gPSBSLl9leHRyYWN0VHJhbnNmb3JtID0gZnVuY3Rpb24gKGVsLCB0c3RyKSB7XG4gICAgICAgICAgICBpZiAodHN0ciA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsLl8udHJhbnNmb3JtO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdHN0ciA9IFN0cih0c3RyKS5yZXBsYWNlKC9cXC57M318XFx1MjAyNi9nLCBlbC5fLnRyYW5zZm9ybSB8fCBFKTtcbiAgICAgICAgICAgIHZhciB0ZGF0YSA9IFIucGFyc2VUcmFuc2Zvcm1TdHJpbmcodHN0ciksXG4gICAgICAgICAgICAgICAgZGVnID0gMCxcbiAgICAgICAgICAgICAgICBkeCA9IDAsXG4gICAgICAgICAgICAgICAgZHkgPSAwLFxuICAgICAgICAgICAgICAgIHN4ID0gMSxcbiAgICAgICAgICAgICAgICBzeSA9IDEsXG4gICAgICAgICAgICAgICAgXyA9IGVsLl8sXG4gICAgICAgICAgICAgICAgbSA9IG5ldyBNYXRyaXg7XG4gICAgICAgICAgICBfLnRyYW5zZm9ybSA9IHRkYXRhIHx8IFtdO1xuICAgICAgICAgICAgaWYgKHRkYXRhKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGRhdGEubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgdCA9IHRkYXRhW2ldLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGxlbiA9IHQubGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29tbWFuZCA9IFN0cih0WzBdKS50b0xvd2VyQ2FzZSgpLFxuICAgICAgICAgICAgICAgICAgICAgICAgYWJzb2x1dGUgPSB0WzBdICE9IGNvbW1hbmQsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnZlciA9IGFic29sdXRlID8gbS5pbnZlcnQoKSA6IDAsXG4gICAgICAgICAgICAgICAgICAgICAgICB4MSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHkxLFxuICAgICAgICAgICAgICAgICAgICAgICAgeDIsXG4gICAgICAgICAgICAgICAgICAgICAgICB5MixcbiAgICAgICAgICAgICAgICAgICAgICAgIGJiO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29tbWFuZCA9PSBcInRcIiAmJiB0bGVuID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHgxID0gaW52ZXIueCgwLCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5MSA9IGludmVyLnkoMCwgMCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeDIgPSBpbnZlci54KHRbMV0sIHRbMl0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gaW52ZXIueSh0WzFdLCB0WzJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnRyYW5zbGF0ZSh4MiAtIHgxLCB5MiAtIHkxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS50cmFuc2xhdGUodFsxXSwgdFsyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PSBcInJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRsZW4gPT0gMikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJiID0gYmIgfHwgZWwuZ2V0QkJveCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnJvdGF0ZSh0WzFdLCBiYi54ICsgYmIud2lkdGggLyAyLCBiYi55ICsgYmIuaGVpZ2h0IC8gMik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVnICs9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRsZW4gPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MiA9IGludmVyLngodFsyXSwgdFszXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gaW52ZXIueSh0WzJdLCB0WzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5yb3RhdGUodFsxXSwgeDIsIHkyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtLnJvdGF0ZSh0WzFdLCB0WzJdLCB0WzNdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVnICs9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY29tbWFuZCA9PSBcInNcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRsZW4gPT0gMiB8fCB0bGVuID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYiA9IGJiIHx8IGVsLmdldEJCb3goMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5zY2FsZSh0WzFdLCB0W3RsZW4gLSAxXSwgYmIueCArIGJiLndpZHRoIC8gMiwgYmIueSArIGJiLmhlaWdodCAvIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4ICo9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3kgKj0gdFt0bGVuIC0gMV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHRsZW4gPT0gNSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB4MiA9IGludmVyLngodFszXSwgdFs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkyID0gaW52ZXIueSh0WzNdLCB0WzRdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5zY2FsZSh0WzFdLCB0WzJdLCB4MiwgeTIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG0uc2NhbGUodFsxXSwgdFsyXSwgdFszXSwgdFs0XSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN4ICo9IHRbMV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3kgKj0gdFsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChjb21tYW5kID09IFwibVwiICYmIHRsZW4gPT0gNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgbS5hZGQodFsxXSwgdFsyXSwgdFszXSwgdFs0XSwgdFs1XSwgdFs2XSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgXy5kaXJ0eVQgPSAxO1xuICAgICAgICAgICAgICAgICAgICBlbC5tYXRyaXggPSBtO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLypcXFxuICAgICAgICAgICAgICogRWxlbWVudC5tYXRyaXhcbiAgICAgICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICAgICAqKlxuICAgICAgICAgICAgICogS2VlcHMgQE1hdHJpeCBvYmplY3QsIHdoaWNoIHJlcHJlc2VudHMgZWxlbWVudCB0cmFuc2Zvcm1hdGlvblxuICAgICAgICAgICAgXFwqL1xuICAgICAgICAgICAgZWwubWF0cml4ID0gbTtcblxuICAgICAgICAgICAgXy5zeCA9IHN4O1xuICAgICAgICAgICAgXy5zeSA9IHN5O1xuICAgICAgICAgICAgXy5kZWcgPSBkZWc7XG4gICAgICAgICAgICBfLmR4ID0gZHggPSBtLmU7XG4gICAgICAgICAgICBfLmR5ID0gZHkgPSBtLmY7XG5cbiAgICAgICAgICAgIGlmIChzeCA9PSAxICYmIHN5ID09IDEgJiYgIWRlZyAmJiBfLmJib3gpIHtcbiAgICAgICAgICAgICAgICBfLmJib3gueCArPSArZHg7XG4gICAgICAgICAgICAgICAgXy5iYm94LnkgKz0gK2R5O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBfLmRpcnR5VCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdldEVtcHR5ID0gZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHZhciBsID0gaXRlbVswXTtcbiAgICAgICAgICAgIHN3aXRjaCAobC50b0xvd2VyQ2FzZSgpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInRcIjogcmV0dXJuIFtsLCAwLCAwXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwibVwiOiByZXR1cm4gW2wsIDEsIDAsIDAsIDEsIDAsIDBdO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyXCI6IGlmIChpdGVtLmxlbmd0aCA9PSA0KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbbCwgMCwgaXRlbVsyXSwgaXRlbVszXV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsLCAwXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcInNcIjogaWYgKGl0ZW0ubGVuZ3RoID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsLCAxLCAxLCBpdGVtWzNdLCBpdGVtWzRdXTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGl0ZW0ubGVuZ3RoID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtsLCAxLCAxXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gW2wsIDFdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgZXF1YWxpc2VUcmFuc2Zvcm0gPSBSLl9lcXVhbGlzZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0MSwgdDIpIHtcbiAgICAgICAgICAgIHQyID0gU3RyKHQyKS5yZXBsYWNlKC9cXC57M318XFx1MjAyNi9nLCB0MSk7XG4gICAgICAgICAgICB0MSA9IFIucGFyc2VUcmFuc2Zvcm1TdHJpbmcodDEpIHx8IFtdO1xuICAgICAgICAgICAgdDIgPSBSLnBhcnNlVHJhbnNmb3JtU3RyaW5nKHQyKSB8fCBbXTtcbiAgICAgICAgICAgIHZhciBtYXhsZW5ndGggPSBtbWF4KHQxLmxlbmd0aCwgdDIubGVuZ3RoKSxcbiAgICAgICAgICAgICAgICBmcm9tID0gW10sXG4gICAgICAgICAgICAgICAgdG8gPSBbXSxcbiAgICAgICAgICAgICAgICBpID0gMCwgaiwgamosXG4gICAgICAgICAgICAgICAgdHQxLCB0dDI7XG4gICAgICAgICAgICBmb3IgKDsgaSA8IG1heGxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdHQxID0gdDFbaV0gfHwgZ2V0RW1wdHkodDJbaV0pO1xuICAgICAgICAgICAgICAgIHR0MiA9IHQyW2ldIHx8IGdldEVtcHR5KHR0MSk7XG4gICAgICAgICAgICAgICAgaWYgKCh0dDFbMF0gIT0gdHQyWzBdKSB8fFxuICAgICAgICAgICAgICAgICAgICAodHQxWzBdLnRvTG93ZXJDYXNlKCkgPT0gXCJyXCIgJiYgKHR0MVsyXSAhPSB0dDJbMl0gfHwgdHQxWzNdICE9IHR0MlszXSkpIHx8XG4gICAgICAgICAgICAgICAgICAgICh0dDFbMF0udG9Mb3dlckNhc2UoKSA9PSBcInNcIiAmJiAodHQxWzNdICE9IHR0MlszXSB8fCB0dDFbNF0gIT0gdHQyWzRdKSlcbiAgICAgICAgICAgICAgICAgICAgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZnJvbVtpXSA9IFtdO1xuICAgICAgICAgICAgICAgIHRvW2ldID0gW107XG4gICAgICAgICAgICAgICAgZm9yIChqID0gMCwgamogPSBtbWF4KHR0MS5sZW5ndGgsIHR0Mi5sZW5ndGgpOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICBqIGluIHR0MSAmJiAoZnJvbVtpXVtqXSA9IHR0MVtqXSk7XG4gICAgICAgICAgICAgICAgICAgIGogaW4gdHQyICYmICh0b1tpXVtqXSA9IHR0MltqXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBmcm9tOiBmcm9tLFxuICAgICAgICAgICAgICAgIHRvOiB0b1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfTtcbiAgICBSLl9nZXRDb250YWluZXIgPSBmdW5jdGlvbiAoeCwgeSwgdywgaCkge1xuICAgICAgICB2YXIgY29udGFpbmVyO1xuICAgICAgICBjb250YWluZXIgPSBoID09IG51bGwgJiYgIVIuaXMoeCwgXCJvYmplY3RcIikgPyBnLmRvYy5nZXRFbGVtZW50QnlJZCh4KSA6IHg7XG4gICAgICAgIGlmIChjb250YWluZXIgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb250YWluZXIudGFnTmFtZSkge1xuICAgICAgICAgICAgaWYgKHkgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogY29udGFpbmVyLFxuICAgICAgICAgICAgICAgICAgICB3aWR0aDogY29udGFpbmVyLnN0eWxlLnBpeGVsV2lkdGggfHwgY29udGFpbmVyLm9mZnNldFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5zdHlsZS5waXhlbEhlaWdodCB8fCBjb250YWluZXIub2Zmc2V0SGVpZ2h0XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiBjb250YWluZXIsXG4gICAgICAgICAgICAgICAgICAgIHdpZHRoOiB5LFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHdcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjb250YWluZXI6IDEsXG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHdpZHRoOiB3LFxuICAgICAgICAgICAgaGVpZ2h0OiBoXG4gICAgICAgIH07XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5wYXRoVG9SZWxhdGl2ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBDb252ZXJ0cyBwYXRoIHRvIHJlbGF0aXZlIGZvcm1cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gcGF0aFN0cmluZyAoc3RyaW5nfGFycmF5KSBwYXRoIHN0cmluZyBvciBhcnJheSBvZiBzZWdtZW50c1xuICAgICA9IChhcnJheSkgYXJyYXkgb2Ygc2VnbWVudHMuXG4gICAgXFwqL1xuICAgIFIucGF0aFRvUmVsYXRpdmUgPSBwYXRoVG9SZWxhdGl2ZTtcbiAgICBSLl9lbmdpbmUgPSB7fTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5wYXRoMmN1cnZlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBVdGlsaXR5IG1ldGhvZFxuICAgICAqKlxuICAgICAqIENvbnZlcnRzIHBhdGggdG8gYSBuZXcgcGF0aCB3aGVyZSBhbGwgc2VnbWVudHMgYXJlIGN1YmljIGJlemllciBjdXJ2ZXMuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGhTdHJpbmcgKHN0cmluZ3xhcnJheSkgcGF0aCBzdHJpbmcgb3IgYXJyYXkgb2Ygc2VnbWVudHNcbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIHNlZ21lbnRzLlxuICAgIFxcKi9cbiAgICBSLnBhdGgyY3VydmUgPSBwYXRoMmN1cnZlO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLm1hdHJpeFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogVXRpbGl0eSBtZXRob2RcbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIG1hdHJpeCBiYXNlZCBvbiBnaXZlbiBwYXJhbWV0ZXJzLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBhIChudW1iZXIpXG4gICAgIC0gYiAobnVtYmVyKVxuICAgICAtIGMgKG51bWJlcilcbiAgICAgLSBkIChudW1iZXIpXG4gICAgIC0gZSAobnVtYmVyKVxuICAgICAtIGYgKG51bWJlcilcbiAgICAgPSAob2JqZWN0KSBATWF0cml4XG4gICAgXFwqL1xuICAgIFIubWF0cml4ID0gZnVuY3Rpb24gKGEsIGIsIGMsIGQsIGUsIGYpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBNYXRyaXgoYSwgYiwgYywgZCwgZSwgZik7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBNYXRyaXgoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgICBpZiAoYSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmEgPSArYTtcbiAgICAgICAgICAgIHRoaXMuYiA9ICtiO1xuICAgICAgICAgICAgdGhpcy5jID0gK2M7XG4gICAgICAgICAgICB0aGlzLmQgPSArZDtcbiAgICAgICAgICAgIHRoaXMuZSA9ICtlO1xuICAgICAgICAgICAgdGhpcy5mID0gK2Y7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmEgPSAxO1xuICAgICAgICAgICAgdGhpcy5iID0gMDtcbiAgICAgICAgICAgIHRoaXMuYyA9IDA7XG4gICAgICAgICAgICB0aGlzLmQgPSAxO1xuICAgICAgICAgICAgdGhpcy5lID0gMDtcbiAgICAgICAgICAgIHRoaXMuZiA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgKGZ1bmN0aW9uIChtYXRyaXhwcm90bykge1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC5hZGRcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIEFkZHMgZ2l2ZW4gbWF0cml4IHRvIGV4aXN0aW5nIG9uZS5cbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSBhIChudW1iZXIpXG4gICAgICAgICAtIGIgKG51bWJlcilcbiAgICAgICAgIC0gYyAobnVtYmVyKVxuICAgICAgICAgLSBkIChudW1iZXIpXG4gICAgICAgICAtIGUgKG51bWJlcilcbiAgICAgICAgIC0gZiAobnVtYmVyKVxuICAgICAgICAgb3JcbiAgICAgICAgIC0gbWF0cml4IChvYmplY3QpIEBNYXRyaXhcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5hZGQgPSBmdW5jdGlvbiAoYSwgYiwgYywgZCwgZSwgZikge1xuICAgICAgICAgICAgdmFyIG91dCA9IFtbXSwgW10sIFtdXSxcbiAgICAgICAgICAgICAgICBtID0gW1t0aGlzLmEsIHRoaXMuYywgdGhpcy5lXSwgW3RoaXMuYiwgdGhpcy5kLCB0aGlzLmZdLCBbMCwgMCwgMV1dLFxuICAgICAgICAgICAgICAgIG1hdHJpeCA9IFtbYSwgYywgZV0sIFtiLCBkLCBmXSwgWzAsIDAsIDFdXSxcbiAgICAgICAgICAgICAgICB4LCB5LCB6LCByZXM7XG5cbiAgICAgICAgICAgIGlmIChhICYmIGEgaW5zdGFuY2VvZiBNYXRyaXgpIHtcbiAgICAgICAgICAgICAgICBtYXRyaXggPSBbW2EuYSwgYS5jLCBhLmVdLCBbYS5iLCBhLmQsIGEuZl0sIFswLCAwLCAxXV07XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZvciAoeCA9IDA7IHggPCAzOyB4KyspIHtcbiAgICAgICAgICAgICAgICBmb3IgKHkgPSAwOyB5IDwgMzsgeSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoeiA9IDA7IHogPCAzOyB6KyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcyArPSBtW3hdW3pdICogbWF0cml4W3pdW3ldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG91dFt4XVt5XSA9IHJlcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmEgPSBvdXRbMF1bMF07XG4gICAgICAgICAgICB0aGlzLmIgPSBvdXRbMV1bMF07XG4gICAgICAgICAgICB0aGlzLmMgPSBvdXRbMF1bMV07XG4gICAgICAgICAgICB0aGlzLmQgPSBvdXRbMV1bMV07XG4gICAgICAgICAgICB0aGlzLmUgPSBvdXRbMF1bMl07XG4gICAgICAgICAgICB0aGlzLmYgPSBvdXRbMV1bMl07XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LmludmVydFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmV0dXJucyBpbnZlcnRlZCB2ZXJzaW9uIG9mIHRoZSBtYXRyaXhcbiAgICAgICAgID0gKG9iamVjdCkgQE1hdHJpeFxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLmludmVydCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBtZSA9IHRoaXMsXG4gICAgICAgICAgICAgICAgeCA9IG1lLmEgKiBtZS5kIC0gbWUuYiAqIG1lLmM7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE1hdHJpeChtZS5kIC8geCwgLW1lLmIgLyB4LCAtbWUuYyAvIHgsIG1lLmEgLyB4LCAobWUuYyAqIG1lLmYgLSBtZS5kICogbWUuZSkgLyB4LCAobWUuYiAqIG1lLmUgLSBtZS5hICogbWUuZikgLyB4KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXguY2xvbmVcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybnMgY29weSBvZiB0aGUgbWF0cml4XG4gICAgICAgICA9IChvYmplY3QpIEBNYXRyaXhcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5jbG9uZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgTWF0cml4KHRoaXMuYSwgdGhpcy5iLCB0aGlzLmMsIHRoaXMuZCwgdGhpcy5lLCB0aGlzLmYpO1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC50cmFuc2xhdGVcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFRyYW5zbGF0ZSB0aGUgbWF0cml4XG4gICAgICAgICA+IFBhcmFtZXRlcnNcbiAgICAgICAgIC0geCAobnVtYmVyKVxuICAgICAgICAgLSB5IChudW1iZXIpXG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8udHJhbnNsYXRlID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHRoaXMuYWRkKDEsIDAsIDAsIDEsIHgsIHkpO1xuICAgICAgICB9O1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC5zY2FsZVxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogU2NhbGVzIHRoZSBtYXRyaXhcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSB4IChudW1iZXIpXG4gICAgICAgICAtIHkgKG51bWJlcikgI29wdGlvbmFsXG4gICAgICAgICAtIGN4IChudW1iZXIpICNvcHRpb25hbFxuICAgICAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWxcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5zY2FsZSA9IGZ1bmN0aW9uICh4LCB5LCBjeCwgY3kpIHtcbiAgICAgICAgICAgIHkgPT0gbnVsbCAmJiAoeSA9IHgpO1xuICAgICAgICAgICAgKGN4IHx8IGN5KSAmJiB0aGlzLmFkZCgxLCAwLCAwLCAxLCBjeCwgY3kpO1xuICAgICAgICAgICAgdGhpcy5hZGQoeCwgMCwgMCwgeSwgMCwgMCk7XG4gICAgICAgICAgICAoY3ggfHwgY3kpICYmIHRoaXMuYWRkKDEsIDAsIDAsIDEsIC1jeCwgLWN5KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXgucm90YXRlXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSb3RhdGVzIHRoZSBtYXRyaXhcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSBhIChudW1iZXIpXG4gICAgICAgICAtIHggKG51bWJlcilcbiAgICAgICAgIC0geSAobnVtYmVyKVxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLnJvdGF0ZSA9IGZ1bmN0aW9uIChhLCB4LCB5KSB7XG4gICAgICAgICAgICBhID0gUi5yYWQoYSk7XG4gICAgICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICAgICAgeSA9IHkgfHwgMDtcbiAgICAgICAgICAgIHZhciBjb3MgPSArbWF0aC5jb3MoYSkudG9GaXhlZCg5KSxcbiAgICAgICAgICAgICAgICBzaW4gPSArbWF0aC5zaW4oYSkudG9GaXhlZCg5KTtcbiAgICAgICAgICAgIHRoaXMuYWRkKGNvcywgc2luLCAtc2luLCBjb3MsIHgsIHkpO1xuICAgICAgICAgICAgdGhpcy5hZGQoMSwgMCwgMCwgMSwgLXgsIC15KTtcbiAgICAgICAgfTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBNYXRyaXgueFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmV0dXJuIHggY29vcmRpbmF0ZSBmb3IgZ2l2ZW4gcG9pbnQgYWZ0ZXIgdHJhbnNmb3JtYXRpb24gZGVzY3JpYmVkIGJ5IHRoZSBtYXRyaXguIFNlZSBhbHNvIEBNYXRyaXgueVxuICAgICAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICAgICAtIHggKG51bWJlcilcbiAgICAgICAgIC0geSAobnVtYmVyKVxuICAgICAgICAgPSAobnVtYmVyKSB4XG4gICAgICAgIFxcKi9cbiAgICAgICAgbWF0cml4cHJvdG8ueCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICByZXR1cm4geCAqIHRoaXMuYSArIHkgKiB0aGlzLmMgKyB0aGlzLmU7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LnlcbiAgICAgICAgIFsgbWV0aG9kIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIFJldHVybiB5IGNvb3JkaW5hdGUgZm9yIGdpdmVuIHBvaW50IGFmdGVyIHRyYW5zZm9ybWF0aW9uIGRlc2NyaWJlZCBieSB0aGUgbWF0cml4LiBTZWUgYWxzbyBATWF0cml4LnhcbiAgICAgICAgID4gUGFyYW1ldGVyc1xuICAgICAgICAgLSB4IChudW1iZXIpXG4gICAgICAgICAtIHkgKG51bWJlcilcbiAgICAgICAgID0gKG51bWJlcikgeVxuICAgICAgICBcXCovXG4gICAgICAgIG1hdHJpeHByb3RvLnkgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgcmV0dXJuIHggKiB0aGlzLmIgKyB5ICogdGhpcy5kICsgdGhpcy5mO1xuICAgICAgICB9O1xuICAgICAgICBtYXRyaXhwcm90by5nZXQgPSBmdW5jdGlvbiAoaSkge1xuICAgICAgICAgICAgcmV0dXJuICt0aGlzW1N0ci5mcm9tQ2hhckNvZGUoOTcgKyBpKV0udG9GaXhlZCg0KTtcbiAgICAgICAgfTtcbiAgICAgICAgbWF0cml4cHJvdG8udG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gUi5zdmcgP1xuICAgICAgICAgICAgICAgIFwibWF0cml4KFwiICsgW3RoaXMuZ2V0KDApLCB0aGlzLmdldCgxKSwgdGhpcy5nZXQoMiksIHRoaXMuZ2V0KDMpLCB0aGlzLmdldCg0KSwgdGhpcy5nZXQoNSldLmpvaW4oKSArIFwiKVwiIDpcbiAgICAgICAgICAgICAgICBbdGhpcy5nZXQoMCksIHRoaXMuZ2V0KDIpLCB0aGlzLmdldCgxKSwgdGhpcy5nZXQoMyksIDAsIDBdLmpvaW4oKTtcbiAgICAgICAgfTtcbiAgICAgICAgbWF0cml4cHJvdG8udG9GaWx0ZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gXCJwcm9naWQ6RFhJbWFnZVRyYW5zZm9ybS5NaWNyb3NvZnQuTWF0cml4KE0xMT1cIiArIHRoaXMuZ2V0KDApICtcbiAgICAgICAgICAgICAgICBcIiwgTTEyPVwiICsgdGhpcy5nZXQoMikgKyBcIiwgTTIxPVwiICsgdGhpcy5nZXQoMSkgKyBcIiwgTTIyPVwiICsgdGhpcy5nZXQoMykgK1xuICAgICAgICAgICAgICAgIFwiLCBEeD1cIiArIHRoaXMuZ2V0KDQpICsgXCIsIER5PVwiICsgdGhpcy5nZXQoNSkgKyBcIiwgc2l6aW5nbWV0aG9kPSdhdXRvIGV4cGFuZCcpXCI7XG4gICAgICAgIH07XG4gICAgICAgIG1hdHJpeHByb3RvLm9mZnNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBbdGhpcy5lLnRvRml4ZWQoNCksIHRoaXMuZi50b0ZpeGVkKDQpXTtcbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gbm9ybShhKSB7XG4gICAgICAgICAgICByZXR1cm4gYVswXSAqIGFbMF0gKyBhWzFdICogYVsxXTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBub3JtYWxpemUoYSkge1xuICAgICAgICAgICAgdmFyIG1hZyA9IG1hdGguc3FydChub3JtKGEpKTtcbiAgICAgICAgICAgIGFbMF0gJiYgKGFbMF0gLz0gbWFnKTtcbiAgICAgICAgICAgIGFbMV0gJiYgKGFbMV0gLz0gbWFnKTtcbiAgICAgICAgfVxuICAgICAgICAvKlxcXG4gICAgICAgICAqIE1hdHJpeC5zcGxpdFxuICAgICAgICAgWyBtZXRob2QgXVxuICAgICAgICAgKipcbiAgICAgICAgICogU3BsaXRzIG1hdHJpeCBpbnRvIHByaW1pdGl2ZSB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgICAgID0gKG9iamVjdCkgaW4gZm9ybWF0OlxuICAgICAgICAgbyBkeCAobnVtYmVyKSB0cmFuc2xhdGlvbiBieSB4XG4gICAgICAgICBvIGR5IChudW1iZXIpIHRyYW5zbGF0aW9uIGJ5IHlcbiAgICAgICAgIG8gc2NhbGV4IChudW1iZXIpIHNjYWxlIGJ5IHhcbiAgICAgICAgIG8gc2NhbGV5IChudW1iZXIpIHNjYWxlIGJ5IHlcbiAgICAgICAgIG8gc2hlYXIgKG51bWJlcikgc2hlYXJcbiAgICAgICAgIG8gcm90YXRlIChudW1iZXIpIHJvdGF0aW9uIGluIGRlZ1xuICAgICAgICAgbyBpc1NpbXBsZSAoYm9vbGVhbikgY291bGQgaXQgYmUgcmVwcmVzZW50ZWQgdmlhIHNpbXBsZSB0cmFuc2Zvcm1hdGlvbnNcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by5zcGxpdCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBvdXQgPSB7fTtcbiAgICAgICAgICAgIC8vIHRyYW5zbGF0aW9uXG4gICAgICAgICAgICBvdXQuZHggPSB0aGlzLmU7XG4gICAgICAgICAgICBvdXQuZHkgPSB0aGlzLmY7XG5cbiAgICAgICAgICAgIC8vIHNjYWxlIGFuZCBzaGVhclxuICAgICAgICAgICAgdmFyIHJvdyA9IFtbdGhpcy5hLCB0aGlzLmNdLCBbdGhpcy5iLCB0aGlzLmRdXTtcbiAgICAgICAgICAgIG91dC5zY2FsZXggPSBtYXRoLnNxcnQobm9ybShyb3dbMF0pKTtcbiAgICAgICAgICAgIG5vcm1hbGl6ZShyb3dbMF0pO1xuXG4gICAgICAgICAgICBvdXQuc2hlYXIgPSByb3dbMF1bMF0gKiByb3dbMV1bMF0gKyByb3dbMF1bMV0gKiByb3dbMV1bMV07XG4gICAgICAgICAgICByb3dbMV0gPSBbcm93WzFdWzBdIC0gcm93WzBdWzBdICogb3V0LnNoZWFyLCByb3dbMV1bMV0gLSByb3dbMF1bMV0gKiBvdXQuc2hlYXJdO1xuXG4gICAgICAgICAgICBvdXQuc2NhbGV5ID0gbWF0aC5zcXJ0KG5vcm0ocm93WzFdKSk7XG4gICAgICAgICAgICBub3JtYWxpemUocm93WzFdKTtcbiAgICAgICAgICAgIG91dC5zaGVhciAvPSBvdXQuc2NhbGV5O1xuXG4gICAgICAgICAgICAvLyByb3RhdGlvblxuICAgICAgICAgICAgdmFyIHNpbiA9IC1yb3dbMF1bMV0sXG4gICAgICAgICAgICAgICAgY29zID0gcm93WzFdWzFdO1xuICAgICAgICAgICAgaWYgKGNvcyA8IDApIHtcbiAgICAgICAgICAgICAgICBvdXQucm90YXRlID0gUi5kZWcobWF0aC5hY29zKGNvcykpO1xuICAgICAgICAgICAgICAgIGlmIChzaW4gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dC5yb3RhdGUgPSAzNjAgLSBvdXQucm90YXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgb3V0LnJvdGF0ZSA9IFIuZGVnKG1hdGguYXNpbihzaW4pKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgb3V0LmlzU2ltcGxlID0gIStvdXQuc2hlYXIudG9GaXhlZCg5KSAmJiAob3V0LnNjYWxleC50b0ZpeGVkKDkpID09IG91dC5zY2FsZXkudG9GaXhlZCg5KSB8fCAhb3V0LnJvdGF0ZSk7XG4gICAgICAgICAgICBvdXQuaXNTdXBlclNpbXBsZSA9ICErb3V0LnNoZWFyLnRvRml4ZWQoOSkgJiYgb3V0LnNjYWxleC50b0ZpeGVkKDkpID09IG91dC5zY2FsZXkudG9GaXhlZCg5KSAmJiAhb3V0LnJvdGF0ZTtcbiAgICAgICAgICAgIG91dC5ub1JvdGF0aW9uID0gIStvdXQuc2hlYXIudG9GaXhlZCg5KSAmJiAhb3V0LnJvdGF0ZTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogTWF0cml4LnRvVHJhbnNmb3JtU3RyaW5nXG4gICAgICAgICBbIG1ldGhvZCBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZXR1cm4gdHJhbnNmb3JtIHN0cmluZyB0aGF0IHJlcHJlc2VudHMgZ2l2ZW4gbWF0cml4XG4gICAgICAgICA9IChzdHJpbmcpIHRyYW5zZm9ybSBzdHJpbmdcbiAgICAgICAgXFwqL1xuICAgICAgICBtYXRyaXhwcm90by50b1RyYW5zZm9ybVN0cmluZyA9IGZ1bmN0aW9uIChzaG9ydGVyKSB7XG4gICAgICAgICAgICB2YXIgcyA9IHNob3J0ZXIgfHwgdGhpc1tzcGxpdF0oKTtcbiAgICAgICAgICAgIGlmIChzLmlzU2ltcGxlKSB7XG4gICAgICAgICAgICAgICAgcy5zY2FsZXggPSArcy5zY2FsZXgudG9GaXhlZCg0KTtcbiAgICAgICAgICAgICAgICBzLnNjYWxleSA9ICtzLnNjYWxleS50b0ZpeGVkKDQpO1xuICAgICAgICAgICAgICAgIHMucm90YXRlID0gK3Mucm90YXRlLnRvRml4ZWQoNCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuICAocy5keCB8fCBzLmR5ID8gXCJ0XCIgKyBbcy5keCwgcy5keV0gOiBFKSArXG4gICAgICAgICAgICAgICAgICAgICAgICAocy5zY2FsZXggIT0gMSB8fCBzLnNjYWxleSAhPSAxID8gXCJzXCIgKyBbcy5zY2FsZXgsIHMuc2NhbGV5LCAwLCAwXSA6IEUpICtcbiAgICAgICAgICAgICAgICAgICAgICAgIChzLnJvdGF0ZSA/IFwiclwiICsgW3Mucm90YXRlLCAwLCAwXSA6IEUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJtXCIgKyBbdGhpcy5nZXQoMCksIHRoaXMuZ2V0KDEpLCB0aGlzLmdldCgyKSwgdGhpcy5nZXQoMyksIHRoaXMuZ2V0KDQpLCB0aGlzLmdldCg1KV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfSkoTWF0cml4LnByb3RvdHlwZSk7XG5cbiAgICB2YXIgcHJldmVudERlZmF1bHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMucmV0dXJuVmFsdWUgPSBmYWxzZTtcbiAgICB9LFxuICAgIHByZXZlbnRUb3VjaCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3JpZ2luYWxFdmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0sXG4gICAgc3RvcFByb3BhZ2F0aW9uID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNhbmNlbEJ1YmJsZSA9IHRydWU7XG4gICAgfSxcbiAgICBzdG9wVG91Y2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm9yaWdpbmFsRXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgfSxcbiAgICBnZXRFdmVudFBvc2l0aW9uID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHNjcm9sbFkgPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGcuZG9jLmJvZHkuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgc2Nyb2xsWCA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGcuZG9jLmJvZHkuc2Nyb2xsTGVmdDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogZS5jbGllbnRYICsgc2Nyb2xsWCxcbiAgICAgICAgICAgIHk6IGUuY2xpZW50WSArIHNjcm9sbFlcbiAgICAgICAgfTtcbiAgICB9LFxuICAgIGFkZEV2ZW50ID0gKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGcuZG9jLmFkZEV2ZW50TGlzdGVuZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAob2JqLCB0eXBlLCBmbiwgZWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHZhciBmID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IGdldEV2ZW50UG9zaXRpb24oZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmbi5jYWxsKGVsZW1lbnQsIGUsIHBvcy54LCBwb3MueSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICBpZiAoc3VwcG9ydHNUb3VjaCAmJiB0b3VjaE1hcFt0eXBlXSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2YgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IGdldEV2ZW50UG9zaXRpb24oZSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2xkZSA9IGU7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGUudGFyZ2V0VG91Y2hlcyAmJiBlLnRhcmdldFRvdWNoZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldFRvdWNoZXNbaV0udGFyZ2V0ID09IG9iaikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlID0gZS50YXJnZXRUb3VjaGVzW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLm9yaWdpbmFsRXZlbnQgPSBvbGRlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0ID0gcHJldmVudFRvdWNoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BUb3VjaDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm4uY2FsbChlbGVtZW50LCBlLCBwb3MueCwgcG9zLnkpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICBvYmouYWRkRXZlbnRMaXN0ZW5lcih0b3VjaE1hcFt0eXBlXSwgX2YsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBmLCBmYWxzZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHN1cHBvcnRzVG91Y2ggJiYgdG91Y2hNYXBbdHlwZV0pXG4gICAgICAgICAgICAgICAgICAgICAgICBvYmoucmVtb3ZlRXZlbnRMaXN0ZW5lcih0b3VjaE1hcFt0eXBlXSwgX2YsIGZhbHNlKTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIGlmIChnLmRvYy5hdHRhY2hFdmVudCkge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChvYmosIHR5cGUsIGZuLCBlbGVtZW50KSB7XG4gICAgICAgICAgICAgICAgdmFyIGYgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlID0gZSB8fCBnLndpbi5ldmVudDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNjcm9sbFkgPSBnLmRvYy5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wIHx8IGcuZG9jLmJvZHkuc2Nyb2xsVG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsWCA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGcuZG9jLmJvZHkuc2Nyb2xsTGVmdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSBlLmNsaWVudFggKyBzY3JvbGxYLFxuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IGUuY2xpZW50WSArIHNjcm9sbFk7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBlLnByZXZlbnREZWZhdWx0IHx8IHByZXZlbnREZWZhdWx0O1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IGUuc3RvcFByb3BhZ2F0aW9uIHx8IHN0b3BQcm9wYWdhdGlvbjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZuLmNhbGwoZWxlbWVudCwgZSwgeCwgeSk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBvYmouYXR0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgZik7XG4gICAgICAgICAgICAgICAgdmFyIGRldGFjaGVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICBvYmouZGV0YWNoRXZlbnQoXCJvblwiICsgdHlwZSwgZik7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRldGFjaGVyO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0pKCksXG4gICAgZHJhZyA9IFtdLFxuICAgIGRyYWdNb3ZlID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHggPSBlLmNsaWVudFgsXG4gICAgICAgICAgICB5ID0gZS5jbGllbnRZLFxuICAgICAgICAgICAgc2Nyb2xsWSA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZy5kb2MuYm9keS5zY3JvbGxUb3AsXG4gICAgICAgICAgICBzY3JvbGxYID0gZy5kb2MuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQgfHwgZy5kb2MuYm9keS5zY3JvbGxMZWZ0LFxuICAgICAgICAgICAgZHJhZ2ksXG4gICAgICAgICAgICBqID0gZHJhZy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChqLS0pIHtcbiAgICAgICAgICAgIGRyYWdpID0gZHJhZ1tqXTtcbiAgICAgICAgICAgIGlmIChzdXBwb3J0c1RvdWNoICYmIGUudG91Y2hlcykge1xuICAgICAgICAgICAgICAgIHZhciBpID0gZS50b3VjaGVzLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgdG91Y2g7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGUudG91Y2hlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvdWNoLmlkZW50aWZpZXIgPT0gZHJhZ2kuZWwuX2RyYWcuaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHggPSB0b3VjaC5jbGllbnRYO1xuICAgICAgICAgICAgICAgICAgICAgICAgeSA9IHRvdWNoLmNsaWVudFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAoZS5vcmlnaW5hbEV2ZW50ID8gZS5vcmlnaW5hbEV2ZW50IDogZSkucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgbm9kZSA9IGRyYWdpLmVsLm5vZGUsXG4gICAgICAgICAgICAgICAgbyxcbiAgICAgICAgICAgICAgICBuZXh0ID0gbm9kZS5uZXh0U2libGluZyxcbiAgICAgICAgICAgICAgICBwYXJlbnQgPSBub2RlLnBhcmVudE5vZGUsXG4gICAgICAgICAgICAgICAgZGlzcGxheSA9IG5vZGUuc3R5bGUuZGlzcGxheTtcbiAgICAgICAgICAgIGcud2luLm9wZXJhICYmIHBhcmVudC5yZW1vdmVDaGlsZChub2RlKTtcbiAgICAgICAgICAgIG5vZGUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgbyA9IGRyYWdpLmVsLnBhcGVyLmdldEVsZW1lbnRCeVBvaW50KHgsIHkpO1xuICAgICAgICAgICAgbm9kZS5zdHlsZS5kaXNwbGF5ID0gZGlzcGxheTtcbiAgICAgICAgICAgIGcud2luLm9wZXJhICYmIChuZXh0ID8gcGFyZW50Lmluc2VydEJlZm9yZShub2RlLCBuZXh0KSA6IHBhcmVudC5hcHBlbmRDaGlsZChub2RlKSk7XG4gICAgICAgICAgICBvICYmIGV2ZShcInJhcGhhZWwuZHJhZy5vdmVyLlwiICsgZHJhZ2kuZWwuaWQsIGRyYWdpLmVsLCBvKTtcbiAgICAgICAgICAgIHggKz0gc2Nyb2xsWDtcbiAgICAgICAgICAgIHkgKz0gc2Nyb2xsWTtcbiAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuZHJhZy5tb3ZlLlwiICsgZHJhZ2kuZWwuaWQsIGRyYWdpLm1vdmVfc2NvcGUgfHwgZHJhZ2kuZWwsIHggLSBkcmFnaS5lbC5fZHJhZy54LCB5IC0gZHJhZ2kuZWwuX2RyYWcueSwgeCwgeSwgZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRyYWdVcCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIFIudW5tb3VzZW1vdmUoZHJhZ01vdmUpLnVubW91c2V1cChkcmFnVXApO1xuICAgICAgICB2YXIgaSA9IGRyYWcubGVuZ3RoLFxuICAgICAgICAgICAgZHJhZ2k7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIGRyYWdpID0gZHJhZ1tpXTtcbiAgICAgICAgICAgIGRyYWdpLmVsLl9kcmFnID0ge307XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmRyYWcuZW5kLlwiICsgZHJhZ2kuZWwuaWQsIGRyYWdpLmVuZF9zY29wZSB8fCBkcmFnaS5zdGFydF9zY29wZSB8fCBkcmFnaS5tb3ZlX3Njb3BlIHx8IGRyYWdpLmVsLCBlKTtcbiAgICAgICAgfVxuICAgICAgICBkcmFnID0gW107XG4gICAgfSxcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5lbFxuICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgKipcbiAgICAgKiBZb3UgY2FuIGFkZCB5b3VyIG93biBtZXRob2QgdG8gZWxlbWVudHMuIFRoaXMgaXMgdXNlZnVsIHdoZW4geW91IHdhbnQgdG8gaGFjayBkZWZhdWx0IGZ1bmN0aW9uYWxpdHkgb3JcbiAgICAgKiB3YW50IHRvIHdyYXAgc29tZSBjb21tb24gdHJhbnNmb3JtYXRpb24gb3IgYXR0cmlidXRlcyBpbiBvbmUgbWV0aG9kLiBJbiBkaWZmZXJlbmNlIHRvIGNhbnZhcyBtZXRob2RzLFxuICAgICAqIHlvdSBjYW4gcmVkZWZpbmUgZWxlbWVudCBtZXRob2QgYXQgYW55IHRpbWUuIEV4cGVuZGluZyBlbGVtZW50IG1ldGhvZHMgd291bGRu4oCZdCBhZmZlY3Qgc2V0LlxuICAgICA+IFVzYWdlXG4gICAgIHwgUmFwaGFlbC5lbC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgIHwgICAgIHRoaXMuYXR0cih7ZmlsbDogXCIjZjAwXCJ9KTtcbiAgICAgfCB9O1xuICAgICB8IC8vIHRoZW4gdXNlIGl0XG4gICAgIHwgcGFwZXIuY2lyY2xlKDEwMCwgMTAwLCAyMCkucmVkKCk7XG4gICAgXFwqL1xuICAgIGVscHJvdG8gPSBSLmVsID0ge307XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuY2xpY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgY2xpY2sgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5jbGlja1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBjbGljayBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5kYmxjbGlja1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciBkb3VibGUgY2xpY2sgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5kYmxjbGlja1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBkb3VibGUgY2xpY2sgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2Vkb3duXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlZG93biBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bm1vdXNlZG93blxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZWRvd24gZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2Vtb3ZlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlbW92ZSBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC51bm1vdXNlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZW1vdmUgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQubW91c2VvdXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2VvdXQgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5tb3VzZW91dFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciBtb3VzZW91dCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5tb3VzZW92ZXJcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgbW91c2VvdmVyIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVubW91c2VvdmVyXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNlb3ZlciBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG5cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5tb3VzZXVwXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNldXAgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5tb3VzZXVwXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGV2ZW50IGhhbmRsZXIgZm9yIG1vdXNldXAgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudG91Y2hzdGFydFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaHN0YXJ0IGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVudG91Y2hzdGFydFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaHN0YXJ0IGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvdWNobW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaG1vdmUgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW50b3VjaG1vdmVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2htb3ZlIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pICNvcHRpb25hbCBoYW5kbGVyIGZvciB0aGUgZXZlbnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvdWNoZW5kXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBBZGRzIGV2ZW50IGhhbmRsZXIgZm9yIHRvdWNoZW5kIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gaGFuZGxlciAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVudG91Y2hlbmRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hlbmQgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgI29wdGlvbmFsIGhhbmRsZXIgZm9yIHRoZSBldmVudFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudG91Y2hjYW5jZWxcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlciBmb3IgdG91Y2hjYW5jZWwgZm9yIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBoYW5kbGVyIChmdW5jdGlvbikgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW50b3VjaGNhbmNlbFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBldmVudCBoYW5kbGVyIGZvciB0b3VjaGNhbmNlbCBmb3IgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGhhbmRsZXIgKGZ1bmN0aW9uKSAjb3B0aW9uYWwgaGFuZGxlciBmb3IgdGhlIGV2ZW50XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgZm9yICh2YXIgaSA9IGV2ZW50cy5sZW5ndGg7IGktLTspIHtcbiAgICAgICAgKGZ1bmN0aW9uIChldmVudE5hbWUpIHtcbiAgICAgICAgICAgIFJbZXZlbnROYW1lXSA9IGVscHJvdG9bZXZlbnROYW1lXSA9IGZ1bmN0aW9uIChmbiwgc2NvcGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoUi5pcyhmbiwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cyA9IHRoaXMuZXZlbnRzIHx8IFtdO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmV2ZW50cy5wdXNoKHtuYW1lOiBldmVudE5hbWUsIGY6IGZuLCB1bmJpbmQ6IGFkZEV2ZW50KHRoaXMuc2hhcGUgfHwgdGhpcy5ub2RlIHx8IGcuZG9jLCBldmVudE5hbWUsIGZuLCBzY29wZSB8fCB0aGlzKX0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBSW1widW5cIiArIGV2ZW50TmFtZV0gPSBlbHByb3RvW1widW5cIiArIGV2ZW50TmFtZV0gPSBmdW5jdGlvbiAoZm4pIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRzID0gdGhpcy5ldmVudHMgfHwgW10sXG4gICAgICAgICAgICAgICAgICAgIGwgPSBldmVudHMubGVuZ3RoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsLS0pe1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXZlbnRzW2xdLm5hbWUgPT0gZXZlbnROYW1lICYmIChSLmlzKGZuLCBcInVuZGVmaW5lZFwiKSB8fCBldmVudHNbbF0uZiA9PSBmbikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50c1tsXS51bmJpbmQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50cy5zcGxpY2UobCwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAhZXZlbnRzLmxlbmd0aCAmJiBkZWxldGUgdGhpcy5ldmVudHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KShldmVudHNbaV0pO1xuICAgIH1cblxuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmRhdGFcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgb3IgcmV0cmlldmVzIGdpdmVuIHZhbHVlIGFzc29jaWF0ZWQgd2l0aCBnaXZlbiBrZXkuXG4gICAgICoqXG4gICAgICogU2VlIGFsc28gQEVsZW1lbnQucmVtb3ZlRGF0YVxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBrZXkgKHN0cmluZykga2V5IHRvIHN0b3JlIGRhdGFcbiAgICAgLSB2YWx1ZSAoYW55KSAjb3B0aW9uYWwgdmFsdWUgdG8gc3RvcmVcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgICAqIG9yLCBpZiB2YWx1ZSBpcyBub3Qgc3BlY2lmaWVkOlxuICAgICA9IChhbnkpIHZhbHVlXG4gICAgICogb3IsIGlmIGtleSBhbmQgdmFsdWUgYXJlIG5vdCBzcGVjaWZpZWQ6XG4gICAgID0gKG9iamVjdCkgS2V5L3ZhbHVlIHBhaXJzIGZvciBhbGwgdGhlIGRhdGEgYXNzb2NpYXRlZCB3aXRoIHRoZSBlbGVtZW50LlxuICAgICA+IFVzYWdlXG4gICAgIHwgZm9yICh2YXIgaSA9IDAsIGkgPCA1LCBpKyspIHtcbiAgICAgfCAgICAgcGFwZXIuY2lyY2xlKDEwICsgMTUgKiBpLCAxMCwgMTApXG4gICAgIHwgICAgICAgICAgLmF0dHIoe2ZpbGw6IFwiIzAwMFwifSlcbiAgICAgfCAgICAgICAgICAuZGF0YShcImlcIiwgaSlcbiAgICAgfCAgICAgICAgICAuY2xpY2soZnVuY3Rpb24gKCkge1xuICAgICB8ICAgICAgICAgICAgIGFsZXJ0KHRoaXMuZGF0YShcImlcIikpO1xuICAgICB8ICAgICAgICAgIH0pO1xuICAgICB8IH1cbiAgICBcXCovXG4gICAgZWxwcm90by5kYXRhID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBlbGRhdGFbdGhpcy5pZF0gPSBlbGRhdGFbdGhpcy5pZF0gfHwge307XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHJldHVybiBkYXRhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgIGlmIChSLmlzKGtleSwgXCJvYmplY3RcIikpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIGtleSkgaWYgKGtleVtoYXNdKGkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YShpLCBrZXlbaV0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuZGF0YS5nZXQuXCIgKyB0aGlzLmlkLCB0aGlzLCBkYXRhW2tleV0sIGtleSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIGRhdGFba2V5XSA9IHZhbHVlO1xuICAgICAgICBldmUoXCJyYXBoYWVsLmRhdGEuc2V0LlwiICsgdGhpcy5pZCwgdGhpcywgdmFsdWUsIGtleSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQucmVtb3ZlRGF0YVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyB2YWx1ZSBhc3NvY2lhdGVkIHdpdGggYW4gZWxlbWVudCBieSBnaXZlbiBrZXkuXG4gICAgICogSWYga2V5IGlzIG5vdCBwcm92aWRlZCwgcmVtb3ZlcyBhbGwgdGhlIGRhdGEgb2YgdGhlIGVsZW1lbnQuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIGtleSAoc3RyaW5nKSAjb3B0aW9uYWwga2V5XG4gICAgID0gKG9iamVjdCkgQEVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5yZW1vdmVEYXRhID0gZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoa2V5ID09IG51bGwpIHtcbiAgICAgICAgICAgIGRlbGV0ZSBlbGRhdGFbdGhpcy5pZF07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBlbGRhdGFbdGhpcy5pZF0gJiYgZGVsZXRlIGVsZGF0YVt0aGlzLmlkXVtrZXldO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmdldERhdGFcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHJpZXZlcyB0aGUgZWxlbWVudCBkYXRhXG4gICAgID0gKG9iamVjdCkgZGF0YVxuICAgIFxcKi9cbiAgICBlbHByb3RvLmdldERhdGEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBjbG9uZShlbGRhdGFbdGhpcy5pZF0gfHwge30pO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaG92ZXJcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZXZlbnQgaGFuZGxlcnMgZm9yIGhvdmVyIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZl9pbiAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGhvdmVyIGluXG4gICAgIC0gZl9vdXQgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciBob3ZlciBvdXRcbiAgICAgLSBpY29udGV4dCAob2JqZWN0KSAjb3B0aW9uYWwgY29udGV4dCBmb3IgaG92ZXIgaW4gaGFuZGxlclxuICAgICAtIG9jb250ZXh0IChvYmplY3QpICNvcHRpb25hbCBjb250ZXh0IGZvciBob3ZlciBvdXQgaGFuZGxlclxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaG92ZXIgPSBmdW5jdGlvbiAoZl9pbiwgZl9vdXQsIHNjb3BlX2luLCBzY29wZV9vdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW91c2VvdmVyKGZfaW4sIHNjb3BlX2luKS5tb3VzZW91dChmX291dCwgc2NvcGVfb3V0IHx8IHNjb3BlX2luKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnVuaG92ZXJcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZXZlbnQgaGFuZGxlcnMgZm9yIGhvdmVyIGZvciB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZl9pbiAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGhvdmVyIGluXG4gICAgIC0gZl9vdXQgKGZ1bmN0aW9uKSBoYW5kbGVyIGZvciBob3ZlciBvdXRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnVuaG92ZXIgPSBmdW5jdGlvbiAoZl9pbiwgZl9vdXQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudW5tb3VzZW92ZXIoZl9pbikudW5tb3VzZW91dChmX291dCk7XG4gICAgfTtcbiAgICB2YXIgZHJhZ2dhYmxlID0gW107XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZHJhZ1xuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBldmVudCBoYW5kbGVycyBmb3IgZHJhZyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gb25tb3ZlIChmdW5jdGlvbikgaGFuZGxlciBmb3IgbW92aW5nXG4gICAgIC0gb25zdGFydCAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGRyYWcgc3RhcnRcbiAgICAgLSBvbmVuZCAoZnVuY3Rpb24pIGhhbmRsZXIgZm9yIGRyYWcgZW5kXG4gICAgIC0gbWNvbnRleHQgKG9iamVjdCkgI29wdGlvbmFsIGNvbnRleHQgZm9yIG1vdmluZyBoYW5kbGVyXG4gICAgIC0gc2NvbnRleHQgKG9iamVjdCkgI29wdGlvbmFsIGNvbnRleHQgZm9yIGRyYWcgc3RhcnQgaGFuZGxlclxuICAgICAtIGVjb250ZXh0IChvYmplY3QpICNvcHRpb25hbCBjb250ZXh0IGZvciBkcmFnIGVuZCBoYW5kbGVyXG4gICAgICogQWRkaXRpb25hbGx5IGZvbGxvd2luZyBgZHJhZ2AgZXZlbnRzIHdpbGwgYmUgdHJpZ2dlcmVkOiBgZHJhZy5zdGFydC48aWQ+YCBvbiBzdGFydCxcbiAgICAgKiBgZHJhZy5lbmQuPGlkPmAgb24gZW5kIGFuZCBgZHJhZy5tb3ZlLjxpZD5gIG9uIGV2ZXJ5IG1vdmUuIFdoZW4gZWxlbWVudCB3aWxsIGJlIGRyYWdnZWQgb3ZlciBhbm90aGVyIGVsZW1lbnRcbiAgICAgKiBgZHJhZy5vdmVyLjxpZD5gIHdpbGwgYmUgZmlyZWQgYXMgd2VsbC5cbiAgICAgKlxuICAgICAqIFN0YXJ0IGV2ZW50IGFuZCBzdGFydCBoYW5kbGVyIHdpbGwgYmUgY2FsbGVkIGluIHNwZWNpZmllZCBjb250ZXh0IG9yIGluIGNvbnRleHQgb2YgdGhlIGVsZW1lbnQgd2l0aCBmb2xsb3dpbmcgcGFyYW1ldGVyczpcbiAgICAgbyB4IChudW1iZXIpIHggcG9zaXRpb24gb2YgdGhlIG1vdXNlXG4gICAgIG8geSAobnVtYmVyKSB5IHBvc2l0aW9uIG9mIHRoZSBtb3VzZVxuICAgICBvIGV2ZW50IChvYmplY3QpIERPTSBldmVudCBvYmplY3RcbiAgICAgKiBNb3ZlIGV2ZW50IGFuZCBtb3ZlIGhhbmRsZXIgd2lsbCBiZSBjYWxsZWQgaW4gc3BlY2lmaWVkIGNvbnRleHQgb3IgaW4gY29udGV4dCBvZiB0aGUgZWxlbWVudCB3aXRoIGZvbGxvd2luZyBwYXJhbWV0ZXJzOlxuICAgICBvIGR4IChudW1iZXIpIHNoaWZ0IGJ5IHggZnJvbSB0aGUgc3RhcnQgcG9pbnRcbiAgICAgbyBkeSAobnVtYmVyKSBzaGlmdCBieSB5IGZyb20gdGhlIHN0YXJ0IHBvaW50XG4gICAgIG8geCAobnVtYmVyKSB4IHBvc2l0aW9uIG9mIHRoZSBtb3VzZVxuICAgICBvIHkgKG51bWJlcikgeSBwb3NpdGlvbiBvZiB0aGUgbW91c2VcbiAgICAgbyBldmVudCAob2JqZWN0KSBET00gZXZlbnQgb2JqZWN0XG4gICAgICogRW5kIGV2ZW50IGFuZCBlbmQgaGFuZGxlciB3aWxsIGJlIGNhbGxlZCBpbiBzcGVjaWZpZWQgY29udGV4dCBvciBpbiBjb250ZXh0IG9mIHRoZSBlbGVtZW50IHdpdGggZm9sbG93aW5nIHBhcmFtZXRlcnM6XG4gICAgIG8gZXZlbnQgKG9iamVjdCkgRE9NIGV2ZW50IG9iamVjdFxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uZHJhZyA9IGZ1bmN0aW9uIChvbm1vdmUsIG9uc3RhcnQsIG9uZW5kLCBtb3ZlX3Njb3BlLCBzdGFydF9zY29wZSwgZW5kX3Njb3BlKSB7XG4gICAgICAgIGZ1bmN0aW9uIHN0YXJ0KGUpIHtcbiAgICAgICAgICAgIChlLm9yaWdpbmFsRXZlbnQgfHwgZSkucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHZhciB4ID0gZS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHkgPSBlLmNsaWVudFksXG4gICAgICAgICAgICAgICAgc2Nyb2xsWSA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3AgfHwgZy5kb2MuYm9keS5zY3JvbGxUb3AsXG4gICAgICAgICAgICAgICAgc2Nyb2xsWCA9IGcuZG9jLmRvY3VtZW50RWxlbWVudC5zY3JvbGxMZWZ0IHx8IGcuZG9jLmJvZHkuc2Nyb2xsTGVmdDtcbiAgICAgICAgICAgIHRoaXMuX2RyYWcuaWQgPSBlLmlkZW50aWZpZXI7XG4gICAgICAgICAgICBpZiAoc3VwcG9ydHNUb3VjaCAmJiBlLnRvdWNoZXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgaSA9IGUudG91Y2hlcy5sZW5ndGgsIHRvdWNoO1xuICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgdG91Y2ggPSBlLnRvdWNoZXNbaV07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYWcuaWQgPSB0b3VjaC5pZGVudGlmaWVyO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG91Y2guaWRlbnRpZmllciA9PSB0aGlzLl9kcmFnLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB4ID0gdG91Y2guY2xpZW50WDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHkgPSB0b3VjaC5jbGllbnRZO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9kcmFnLnggPSB4ICsgc2Nyb2xsWDtcbiAgICAgICAgICAgIHRoaXMuX2RyYWcueSA9IHkgKyBzY3JvbGxZO1xuICAgICAgICAgICAgIWRyYWcubGVuZ3RoICYmIFIubW91c2Vtb3ZlKGRyYWdNb3ZlKS5tb3VzZXVwKGRyYWdVcCk7XG4gICAgICAgICAgICBkcmFnLnB1c2goe2VsOiB0aGlzLCBtb3ZlX3Njb3BlOiBtb3ZlX3Njb3BlLCBzdGFydF9zY29wZTogc3RhcnRfc2NvcGUsIGVuZF9zY29wZTogZW5kX3Njb3BlfSk7XG4gICAgICAgICAgICBvbnN0YXJ0ICYmIGV2ZS5vbihcInJhcGhhZWwuZHJhZy5zdGFydC5cIiArIHRoaXMuaWQsIG9uc3RhcnQpO1xuICAgICAgICAgICAgb25tb3ZlICYmIGV2ZS5vbihcInJhcGhhZWwuZHJhZy5tb3ZlLlwiICsgdGhpcy5pZCwgb25tb3ZlKTtcbiAgICAgICAgICAgIG9uZW5kICYmIGV2ZS5vbihcInJhcGhhZWwuZHJhZy5lbmQuXCIgKyB0aGlzLmlkLCBvbmVuZCk7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmRyYWcuc3RhcnQuXCIgKyB0aGlzLmlkLCBzdGFydF9zY29wZSB8fCBtb3ZlX3Njb3BlIHx8IHRoaXMsIHRoaXMuX2RyYWcueCwgdGhpcy5fZHJhZy55LCBlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9kcmFnID0ge307XG4gICAgICAgIGRyYWdnYWJsZS5wdXNoKHtlbDogdGhpcywgc3RhcnQ6IHN0YXJ0fSk7XG4gICAgICAgIHRoaXMubW91c2Vkb3duKHN0YXJ0KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5vbkRyYWdPdmVyXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTaG9ydGN1dCBmb3IgYXNzaWduaW5nIGV2ZW50IGhhbmRsZXIgZm9yIGBkcmFnLm92ZXIuPGlkPmAgZXZlbnQsIHdoZXJlIGlkIGlzIGlkIG9mIHRoZSBlbGVtZW50IChzZWUgQEVsZW1lbnQuaWQpLlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBmIChmdW5jdGlvbikgaGFuZGxlciBmb3IgZXZlbnQsIGZpcnN0IGFyZ3VtZW50IHdvdWxkIGJlIHRoZSBlbGVtZW50IHlvdSBhcmUgZHJhZ2dpbmcgb3ZlclxuICAgIFxcKi9cbiAgICBlbHByb3RvLm9uRHJhZ092ZXIgPSBmdW5jdGlvbiAoZikge1xuICAgICAgICBmID8gZXZlLm9uKFwicmFwaGFlbC5kcmFnLm92ZXIuXCIgKyB0aGlzLmlkLCBmKSA6IGV2ZS51bmJpbmQoXCJyYXBoYWVsLmRyYWcub3Zlci5cIiArIHRoaXMuaWQpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudW5kcmFnXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGFsbCBkcmFnIGV2ZW50IGhhbmRsZXJzIGZyb20gZ2l2ZW4gZWxlbWVudC5cbiAgICBcXCovXG4gICAgZWxwcm90by51bmRyYWcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpID0gZHJhZ2dhYmxlLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGktLSkgaWYgKGRyYWdnYWJsZVtpXS5lbCA9PSB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzLnVubW91c2Vkb3duKGRyYWdnYWJsZVtpXS5zdGFydCk7XG4gICAgICAgICAgICBkcmFnZ2FibGUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgZXZlLnVuYmluZChcInJhcGhhZWwuZHJhZy4qLlwiICsgdGhpcy5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgIWRyYWdnYWJsZS5sZW5ndGggJiYgUi51bm1vdXNlbW92ZShkcmFnTW92ZSkudW5tb3VzZXVwKGRyYWdVcCk7XG4gICAgICAgIGRyYWcgPSBbXTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5jaXJjbGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERyYXdzIGEgY2lyY2xlLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgY2VudHJlXG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRyZVxuICAgICAtIHIgKG51bWJlcikgcmFkaXVzXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3Qgd2l0aCB0eXBlIOKAnGNpcmNsZeKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIGMgPSBwYXBlci5jaXJjbGUoNTAsIDUwLCA0MCk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uY2lyY2xlID0gZnVuY3Rpb24gKHgsIHksIHIpIHtcbiAgICAgICAgdmFyIG91dCA9IFIuX2VuZ2luZS5jaXJjbGUodGhpcywgeCB8fCAwLCB5IHx8IDAsIHIgfHwgMCk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlY3RcbiAgICAgWyBtZXRob2QgXVxuICAgICAqXG4gICAgICogRHJhd3MgYSByZWN0YW5nbGUuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSB0b3AgbGVmdCBjb3JuZXJcbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgdG9wIGxlZnQgY29ybmVyXG4gICAgIC0gd2lkdGggKG51bWJlcikgd2lkdGhcbiAgICAgLSBoZWlnaHQgKG51bWJlcikgaGVpZ2h0XG4gICAgIC0gciAobnVtYmVyKSAjb3B0aW9uYWwgcmFkaXVzIGZvciByb3VuZGVkIGNvcm5lcnMsIGRlZmF1bHQgaXMgMFxuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0IHdpdGggdHlwZSDigJxyZWN04oCdXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCAvLyByZWd1bGFyIHJlY3RhbmdsZVxuICAgICB8IHZhciBjID0gcGFwZXIucmVjdCgxMCwgMTAsIDUwLCA1MCk7XG4gICAgIHwgLy8gcmVjdGFuZ2xlIHdpdGggcm91bmRlZCBjb3JuZXJzXG4gICAgIHwgdmFyIGMgPSBwYXBlci5yZWN0KDQwLCA0MCwgNTAsIDUwLCAxMCk7XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8ucmVjdCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCByKSB7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUucmVjdCh0aGlzLCB4IHx8IDAsIHkgfHwgMCwgdyB8fCAwLCBoIHx8IDAsIHIgfHwgMCk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmVsbGlwc2VcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERyYXdzIGFuIGVsbGlwc2UuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHggKG51bWJlcikgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmVcbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgY2VudHJlXG4gICAgIC0gcnggKG51bWJlcikgaG9yaXpvbnRhbCByYWRpdXNcbiAgICAgLSByeSAobnVtYmVyKSB2ZXJ0aWNhbCByYWRpdXNcbiAgICAgPSAob2JqZWN0KSBSYXBoYcOrbCBlbGVtZW50IG9iamVjdCB3aXRoIHR5cGUg4oCcZWxsaXBzZeKAnVxuICAgICAqKlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIGMgPSBwYXBlci5lbGxpcHNlKDUwLCA1MCwgNDAsIDIwKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5lbGxpcHNlID0gZnVuY3Rpb24gKHgsIHksIHJ4LCByeSkge1xuICAgICAgICB2YXIgb3V0ID0gUi5fZW5naW5lLmVsbGlwc2UodGhpcywgeCB8fCAwLCB5IHx8IDAsIHJ4IHx8IDAsIHJ5IHx8IDApO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5wYXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGEgcGF0aCBlbGVtZW50IGJ5IGdpdmVuIHBhdGggZGF0YSBzdHJpbmcuXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHBhdGhTdHJpbmcgKHN0cmluZykgI29wdGlvbmFsIHBhdGggc3RyaW5nIGluIFNWRyBmb3JtYXQuXG4gICAgICogUGF0aCBzdHJpbmcgY29uc2lzdHMgb2Ygb25lLWxldHRlciBjb21tYW5kcywgZm9sbG93ZWQgYnkgY29tbWEgc2VwcmFyYXRlZCBhcmd1bWVudHMgaW4gbnVtZXJjYWwgZm9ybS4gRXhhbXBsZTpcbiAgICAgfCBcIk0xMCwyMEwzMCw0MFwiXG4gICAgICogSGVyZSB3ZSBjYW4gc2VlIHR3byBjb21tYW5kczog4oCcTeKAnSwgd2l0aCBhcmd1bWVudHMgYCgxMCwgMjApYCBhbmQg4oCcTOKAnSB3aXRoIGFyZ3VtZW50cyBgKDMwLCA0MClgLiBVcHBlciBjYXNlIGxldHRlciBtZWFuIGNvbW1hbmQgaXMgYWJzb2x1dGUsIGxvd2VyIGNhc2XigJRyZWxhdGl2ZS5cbiAgICAgKlxuICAgICAjIDxwPkhlcmUgaXMgc2hvcnQgbGlzdCBvZiBjb21tYW5kcyBhdmFpbGFibGUsIGZvciBtb3JlIGRldGFpbHMgc2VlIDxhIGhyZWY9XCJodHRwOi8vd3d3LnczLm9yZy9UUi9TVkcvcGF0aHMuaHRtbCNQYXRoRGF0YVwiIHRpdGxlPVwiRGV0YWlscyBvZiBhIHBhdGgncyBkYXRhIGF0dHJpYnV0ZSdzIGZvcm1hdCBhcmUgZGVzY3JpYmVkIGluIHRoZSBTVkcgc3BlY2lmaWNhdGlvbi5cIj5TVkcgcGF0aCBzdHJpbmcgZm9ybWF0PC9hPi48L3A+XG4gICAgICMgPHRhYmxlPjx0aGVhZD48dHI+PHRoPkNvbW1hbmQ8L3RoPjx0aD5OYW1lPC90aD48dGg+UGFyYW1ldGVyczwvdGg+PC90cj48L3RoZWFkPjx0Ym9keT5cbiAgICAgIyA8dHI+PHRkPk08L3RkPjx0ZD5tb3ZldG88L3RkPjx0ZD4oeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5aPC90ZD48dGQ+Y2xvc2VwYXRoPC90ZD48dGQ+KG5vbmUpPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+TDwvdGQ+PHRkPmxpbmV0bzwvdGQ+PHRkPih4IHkpKzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPkg8L3RkPjx0ZD5ob3Jpem9udGFsIGxpbmV0bzwvdGQ+PHRkPngrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+VjwvdGQ+PHRkPnZlcnRpY2FsIGxpbmV0bzwvdGQ+PHRkPnkrPC90ZD48L3RyPlxuICAgICAjIDx0cj48dGQ+QzwvdGQ+PHRkPmN1cnZldG88L3RkPjx0ZD4oeDEgeTEgeDIgeTIgeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5TPC90ZD48dGQ+c21vb3RoIGN1cnZldG88L3RkPjx0ZD4oeDIgeTIgeCB5KSs8L3RkPjwvdHI+XG4gICAgICMgPHRyPjx0ZD5RPC90ZD48dGQ+cXVhZHJhdGljIELDqXppZXIgY3VydmV0bzwvdGQ+PHRkPih4MSB5MSB4IHkpKzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPlQ8L3RkPjx0ZD5zbW9vdGggcXVhZHJhdGljIELDqXppZXIgY3VydmV0bzwvdGQ+PHRkPih4IHkpKzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPkE8L3RkPjx0ZD5lbGxpcHRpY2FsIGFyYzwvdGQ+PHRkPihyeCByeSB4LWF4aXMtcm90YXRpb24gbGFyZ2UtYXJjLWZsYWcgc3dlZXAtZmxhZyB4IHkpKzwvdGQ+PC90cj5cbiAgICAgIyA8dHI+PHRkPlI8L3RkPjx0ZD48YSBocmVmPVwiaHR0cDovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYXRtdWxs4oCTUm9tX3NwbGluZSNDYXRtdWxsLkUyLjgwLjkzUm9tX3NwbGluZVwiPkNhdG11bGwtUm9tIGN1cnZldG88L2E+KjwvdGQ+PHRkPngxIHkxICh4IHkpKzwvdGQ+PC90cj48L3Rib2R5PjwvdGFibGU+XG4gICAgICogKiDigJxDYXRtdWxsLVJvbSBjdXJ2ZXRv4oCdIGlzIGEgbm90IHN0YW5kYXJkIFNWRyBjb21tYW5kIGFuZCBhZGRlZCBpbiAyLjAgdG8gbWFrZSBsaWZlIGVhc2llci5cbiAgICAgKiBOb3RlOiB0aGVyZSBpcyBhIHNwZWNpYWwgY2FzZSB3aGVuIHBhdGggY29uc2lzdCBvZiBqdXN0IHRocmVlIGNvbW1hbmRzOiDigJxNMTAsMTBS4oCmeuKAnS4gSW4gdGhpcyBjYXNlIHBhdGggd2lsbCBzbW9vdGhseSBjb25uZWN0cyB0byBpdHMgYmVnaW5uaW5nLlxuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIGMgPSBwYXBlci5wYXRoKFwiTTEwIDEwTDkwIDkwXCIpO1xuICAgICB8IC8vIGRyYXcgYSBkaWFnb25hbCBsaW5lOlxuICAgICB8IC8vIG1vdmUgdG8gMTAsMTAsIGxpbmUgdG8gOTAsOTBcbiAgICAgKiBGb3IgZXhhbXBsZSBvZiBwYXRoIHN0cmluZ3MsIGNoZWNrIG91dCB0aGVzZSBpY29uczogaHR0cDovL3JhcGhhZWxqcy5jb20vaWNvbnMvXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8ucGF0aCA9IGZ1bmN0aW9uIChwYXRoU3RyaW5nKSB7XG4gICAgICAgIHBhdGhTdHJpbmcgJiYgIVIuaXMocGF0aFN0cmluZywgc3RyaW5nKSAmJiAhUi5pcyhwYXRoU3RyaW5nWzBdLCBhcnJheSkgJiYgKHBhdGhTdHJpbmcgKz0gRSk7XG4gICAgICAgIHZhciBvdXQgPSBSLl9lbmdpbmUucGF0aChSLmZvcm1hdFthcHBseV0oUiwgYXJndW1lbnRzKSwgdGhpcyk7XG4gICAgICAgIHRoaXMuX19zZXRfXyAmJiB0aGlzLl9fc2V0X18ucHVzaChvdXQpO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmltYWdlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBFbWJlZHMgYW4gaW1hZ2UgaW50byB0aGUgc3VyZmFjZS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gc3JjIChzdHJpbmcpIFVSSSBvZiB0aGUgc291cmNlIGltYWdlXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgcG9zaXRpb25cbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBwb3NpdGlvblxuICAgICAtIHdpZHRoIChudW1iZXIpIHdpZHRoIG9mIHRoZSBpbWFnZVxuICAgICAtIGhlaWdodCAobnVtYmVyKSBoZWlnaHQgb2YgdGhlIGltYWdlXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3Qgd2l0aCB0eXBlIOKAnGltYWdl4oCdXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgYyA9IHBhcGVyLmltYWdlKFwiYXBwbGUucG5nXCIsIDEwLCAxMCwgODAsIDgwKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5pbWFnZSA9IGZ1bmN0aW9uIChzcmMsIHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIG91dCA9IFIuX2VuZ2luZS5pbWFnZSh0aGlzLCBzcmMgfHwgXCJhYm91dDpibGFua1wiLCB4IHx8IDAsIHkgfHwgMCwgdyB8fCAwLCBoIHx8IDApO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci50ZXh0XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEcmF3cyBhIHRleHQgc3RyaW5nLiBJZiB5b3UgbmVlZCBsaW5lIGJyZWFrcywgcHV0IOKAnFxcbuKAnSBpbiB0aGUgc3RyaW5nLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBwb3NpdGlvblxuICAgICAtIHkgKG51bWJlcikgeSBjb29yZGluYXRlIHBvc2l0aW9uXG4gICAgIC0gdGV4dCAoc3RyaW5nKSBUaGUgdGV4dCBzdHJpbmcgdG8gZHJhd1xuICAgICA9IChvYmplY3QpIFJhcGhhw6tsIGVsZW1lbnQgb2JqZWN0IHdpdGggdHlwZSDigJx0ZXh04oCdXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgdCA9IHBhcGVyLnRleHQoNTAsIDUwLCBcIlJhcGhhw6tsXFxua2lja3NcXG5idXR0IVwiKTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by50ZXh0ID0gZnVuY3Rpb24gKHgsIHksIHRleHQpIHtcbiAgICAgICAgdmFyIG91dCA9IFIuX2VuZ2luZS50ZXh0KHRoaXMsIHggfHwgMCwgeSB8fCAwLCBTdHIodGV4dCkpO1xuICAgICAgICB0aGlzLl9fc2V0X18gJiYgdGhpcy5fX3NldF9fLnB1c2gob3V0KTtcbiAgICAgICAgcmV0dXJuIG91dDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5zZXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgYXJyYXktbGlrZSBvYmplY3QgdG8ga2VlcCBhbmQgb3BlcmF0ZSBzZXZlcmFsIGVsZW1lbnRzIGF0IG9uY2UuXG4gICAgICogV2FybmluZzogaXQgZG9lc27igJl0IGNyZWF0ZSBhbnkgZWxlbWVudHMgZm9yIGl0c2VsZiBpbiB0aGUgcGFnZSwgaXQganVzdCBncm91cHMgZXhpc3RpbmcgZWxlbWVudHMuXG4gICAgICogU2V0cyBhY3QgYXMgcHNldWRvIGVsZW1lbnRzIOKAlCBhbGwgbWV0aG9kcyBhdmFpbGFibGUgdG8gYW4gZWxlbWVudCBjYW4gYmUgdXNlZCBvbiBhIHNldC5cbiAgICAgPSAob2JqZWN0KSBhcnJheS1saWtlIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgc2V0IG9mIGVsZW1lbnRzXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgc3QgPSBwYXBlci5zZXQoKTtcbiAgICAgfCBzdC5wdXNoKFxuICAgICB8ICAgICBwYXBlci5jaXJjbGUoMTAsIDEwLCA1KSxcbiAgICAgfCAgICAgcGFwZXIuY2lyY2xlKDMwLCAxMCwgNSlcbiAgICAgfCApO1xuICAgICB8IHN0LmF0dHIoe2ZpbGw6IFwicmVkXCJ9KTsgLy8gY2hhbmdlcyB0aGUgZmlsbCBvZiBib3RoIGNpcmNsZXNcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5zZXQgPSBmdW5jdGlvbiAoaXRlbXNBcnJheSkge1xuICAgICAgICAhUi5pcyhpdGVtc0FycmF5LCBcImFycmF5XCIpICYmIChpdGVtc0FycmF5ID0gQXJyYXkucHJvdG90eXBlLnNwbGljZS5jYWxsKGFyZ3VtZW50cywgMCwgYXJndW1lbnRzLmxlbmd0aCkpO1xuICAgICAgICB2YXIgb3V0ID0gbmV3IFNldChpdGVtc0FycmF5KTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIG91dFtcInBhcGVyXCJdID0gdGhpcztcbiAgICAgICAgb3V0W1widHlwZVwiXSA9IFwic2V0XCI7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuc2V0U3RhcnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgQFBhcGVyLnNldC4gQWxsIGVsZW1lbnRzIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGFmdGVyIGNhbGxpbmcgdGhpcyBtZXRob2QgYW5kIGJlZm9yZSBjYWxsaW5nXG4gICAgICogQFBhcGVyLnNldEZpbmlzaCB3aWxsIGJlIGFkZGVkIHRvIHRoZSBzZXQuXG4gICAgICoqXG4gICAgID4gVXNhZ2VcbiAgICAgfCBwYXBlci5zZXRTdGFydCgpO1xuICAgICB8IHBhcGVyLmNpcmNsZSgxMCwgMTAsIDUpLFxuICAgICB8IHBhcGVyLmNpcmNsZSgzMCwgMTAsIDUpXG4gICAgIHwgdmFyIHN0ID0gcGFwZXIuc2V0RmluaXNoKCk7XG4gICAgIHwgc3QuYXR0cih7ZmlsbDogXCJyZWRcIn0pOyAvLyBjaGFuZ2VzIHRoZSBmaWxsIG9mIGJvdGggY2lyY2xlc1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnNldFN0YXJ0ID0gZnVuY3Rpb24gKHNldCkge1xuICAgICAgICB0aGlzLl9fc2V0X18gPSBzZXQgfHwgdGhpcy5zZXQoKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5zZXRGaW5pc2hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNlZSBAUGFwZXIuc2V0U3RhcnQuIFRoaXMgbWV0aG9kIGZpbmlzaGVzIGNhdGNoaW5nIGFuZCByZXR1cm5zIHJlc3VsdGluZyBzZXQuXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgc2V0XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uc2V0RmluaXNoID0gZnVuY3Rpb24gKHNldCkge1xuICAgICAgICB2YXIgb3V0ID0gdGhpcy5fX3NldF9fO1xuICAgICAgICBkZWxldGUgdGhpcy5fX3NldF9fO1xuICAgICAgICByZXR1cm4gb3V0O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldFNpemVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE9idGFpbnMgY3VycmVudCBwYXBlciBhY3R1YWwgc2l6ZS5cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KVxuICAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRTaXplID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29udGFpbmVyID0gdGhpcy5jYW52YXMucGFyZW50Tm9kZTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBjb250YWluZXIub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQ6IGNvbnRhaW5lci5vZmZzZXRIZWlnaHRcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5zZXRTaXplXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJZiB5b3UgbmVlZCB0byBjaGFuZ2UgZGltZW5zaW9ucyBvZiB0aGUgY2FudmFzIGNhbGwgdGhpcyBtZXRob2RcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gd2lkdGggKG51bWJlcikgbmV3IHdpZHRoIG9mIHRoZSBjYW52YXNcbiAgICAgLSBoZWlnaHQgKG51bWJlcikgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHJldHVybiBSLl9lbmdpbmUuc2V0U2l6ZS5jYWxsKHRoaXMsIHdpZHRoLCBoZWlnaHQpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnNldFZpZXdCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNldHMgdGhlIHZpZXcgYm94IG9mIHRoZSBwYXBlci4gUHJhY3RpY2FsbHkgaXQgZ2l2ZXMgeW91IGFiaWxpdHkgdG8gem9vbSBhbmQgcGFuIHdob2xlIHBhcGVyIHN1cmZhY2UgYnlcbiAgICAgKiBzcGVjaWZ5aW5nIG5ldyBib3VuZGFyaWVzLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIG5ldyB4IHBvc2l0aW9uLCBkZWZhdWx0IGlzIGAwYFxuICAgICAtIHkgKG51bWJlcikgbmV3IHkgcG9zaXRpb24sIGRlZmF1bHQgaXMgYDBgXG4gICAgIC0gdyAobnVtYmVyKSBuZXcgd2lkdGggb2YgdGhlIGNhbnZhc1xuICAgICAtIGggKG51bWJlcikgbmV3IGhlaWdodCBvZiB0aGUgY2FudmFzXG4gICAgIC0gZml0IChib29sZWFuKSBgdHJ1ZWAgaWYgeW91IHdhbnQgZ3JhcGhpY3MgdG8gZml0IGludG8gbmV3IGJvdW5kYXJ5IGJveFxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLnNldFZpZXdCb3ggPSBmdW5jdGlvbiAoeCwgeSwgdywgaCwgZml0KSB7XG4gICAgICAgIHJldHVybiBSLl9lbmdpbmUuc2V0Vmlld0JveC5jYWxsKHRoaXMsIHgsIHksIHcsIGgsIGZpdCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIudG9wXG4gICAgIFsgcHJvcGVydHkgXVxuICAgICAqKlxuICAgICAqIFBvaW50cyB0byB0aGUgdG9wbW9zdCBlbGVtZW50IG9uIHRoZSBwYXBlclxuICAgIFxcKi9cbiAgICAvKlxcXG4gICAgICogUGFwZXIuYm90dG9tXG4gICAgIFsgcHJvcGVydHkgXVxuICAgICAqKlxuICAgICAqIFBvaW50cyB0byB0aGUgYm90dG9tIGVsZW1lbnQgb24gdGhlIHBhcGVyXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8udG9wID0gcGFwZXJwcm90by5ib3R0b20gPSBudWxsO1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5yYXBoYWVsXG4gICAgIFsgcHJvcGVydHkgXVxuICAgICAqKlxuICAgICAqIFBvaW50cyB0byB0aGUgQFJhcGhhZWwgb2JqZWN0L2Z1bmN0aW9uXG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8ucmFwaGFlbCA9IFI7XG4gICAgdmFyIGdldE9mZnNldCA9IGZ1bmN0aW9uIChlbGVtKSB7XG4gICAgICAgIHZhciBib3ggPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLFxuICAgICAgICAgICAgZG9jID0gZWxlbS5vd25lckRvY3VtZW50LFxuICAgICAgICAgICAgYm9keSA9IGRvYy5ib2R5LFxuICAgICAgICAgICAgZG9jRWxlbSA9IGRvYy5kb2N1bWVudEVsZW1lbnQsXG4gICAgICAgICAgICBjbGllbnRUb3AgPSBkb2NFbGVtLmNsaWVudFRvcCB8fCBib2R5LmNsaWVudFRvcCB8fCAwLCBjbGllbnRMZWZ0ID0gZG9jRWxlbS5jbGllbnRMZWZ0IHx8IGJvZHkuY2xpZW50TGVmdCB8fCAwLFxuICAgICAgICAgICAgdG9wICA9IGJveC50b3AgICsgKGcud2luLnBhZ2VZT2Zmc2V0IHx8IGRvY0VsZW0uc2Nyb2xsVG9wIHx8IGJvZHkuc2Nyb2xsVG9wICkgLSBjbGllbnRUb3AsXG4gICAgICAgICAgICBsZWZ0ID0gYm94LmxlZnQgKyAoZy53aW4ucGFnZVhPZmZzZXQgfHwgZG9jRWxlbS5zY3JvbGxMZWZ0IHx8IGJvZHkuc2Nyb2xsTGVmdCkgLSBjbGllbnRMZWZ0O1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeTogdG9wLFxuICAgICAgICAgICAgeDogbGVmdFxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmdldEVsZW1lbnRCeVBvaW50XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHlvdSB0b3Btb3N0IGVsZW1lbnQgdW5kZXIgZ2l2ZW4gcG9pbnQuXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgUmFwaGHDq2wgZWxlbWVudCBvYmplY3RcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgZnJvbSB0aGUgdG9wIGxlZnQgY29ybmVyIG9mIHRoZSB3aW5kb3dcbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBmcm9tIHRoZSB0b3AgbGVmdCBjb3JuZXIgb2YgdGhlIHdpbmRvd1xuICAgICA+IFVzYWdlXG4gICAgIHwgcGFwZXIuZ2V0RWxlbWVudEJ5UG9pbnQobW91c2VYLCBtb3VzZVkpLmF0dHIoe3N0cm9rZTogXCIjZjAwXCJ9KTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRFbGVtZW50QnlQb2ludCA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBwYXBlciA9IHRoaXMsXG4gICAgICAgICAgICBzdmcgPSBwYXBlci5jYW52YXMsXG4gICAgICAgICAgICB0YXJnZXQgPSBnLmRvYy5lbGVtZW50RnJvbVBvaW50KHgsIHkpO1xuICAgICAgICBpZiAoZy53aW4ub3BlcmEgJiYgdGFyZ2V0LnRhZ05hbWUgPT0gXCJzdmdcIikge1xuICAgICAgICAgICAgdmFyIHNvID0gZ2V0T2Zmc2V0KHN2ZyksXG4gICAgICAgICAgICAgICAgc3IgPSBzdmcuY3JlYXRlU1ZHUmVjdCgpO1xuICAgICAgICAgICAgc3IueCA9IHggLSBzby54O1xuICAgICAgICAgICAgc3IueSA9IHkgLSBzby55O1xuICAgICAgICAgICAgc3Iud2lkdGggPSBzci5oZWlnaHQgPSAxO1xuICAgICAgICAgICAgdmFyIGhpdHMgPSBzdmcuZ2V0SW50ZXJzZWN0aW9uTGlzdChzciwgbnVsbCk7XG4gICAgICAgICAgICBpZiAoaGl0cy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBoaXRzW2hpdHMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCF0YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHdoaWxlICh0YXJnZXQucGFyZW50Tm9kZSAmJiB0YXJnZXQgIT0gc3ZnLnBhcmVudE5vZGUgJiYgIXRhcmdldC5yYXBoYWVsKSB7XG4gICAgICAgICAgICB0YXJnZXQgPSB0YXJnZXQucGFyZW50Tm9kZTtcbiAgICAgICAgfVxuICAgICAgICB0YXJnZXQgPT0gcGFwZXIuY2FudmFzLnBhcmVudE5vZGUgJiYgKHRhcmdldCA9IHN2Zyk7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldCAmJiB0YXJnZXQucmFwaGFlbCA/IHBhcGVyLmdldEJ5SWQodGFyZ2V0LnJhcGhhZWxpZCkgOiBudWxsO1xuICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUGFwZXIuZ2V0RWxlbWVudHNCeUJCb3hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybnMgc2V0IG9mIGVsZW1lbnRzIHRoYXQgaGF2ZSBhbiBpbnRlcnNlY3RpbmcgYm91bmRpbmcgYm94XG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGJib3ggKG9iamVjdCkgYmJveCB0byBjaGVjayB3aXRoXG4gICAgID0gKG9iamVjdCkgQFNldFxuICAgICBcXCovXG4gICAgcGFwZXJwcm90by5nZXRFbGVtZW50c0J5QkJveCA9IGZ1bmN0aW9uIChiYm94KSB7XG4gICAgICAgIHZhciBzZXQgPSB0aGlzLnNldCgpO1xuICAgICAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgICAgICBpZiAoUi5pc0JCb3hJbnRlcnNlY3QoZWwuZ2V0QkJveCgpLCBiYm94KSkge1xuICAgICAgICAgICAgICAgIHNldC5wdXNoKGVsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZXQ7XG4gICAgfTtcblxuICAgIC8qXFxcbiAgICAgKiBQYXBlci5nZXRCeUlkXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHlvdSBlbGVtZW50IGJ5IGl0cyBpbnRlcm5hbCBJRC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gaWQgKG51bWJlcikgaWRcbiAgICAgPSAob2JqZWN0KSBSYXBoYcOrbCBlbGVtZW50IG9iamVjdFxuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmdldEJ5SWQgPSBmdW5jdGlvbiAoaWQpIHtcbiAgICAgICAgdmFyIGJvdCA9IHRoaXMuYm90dG9tO1xuICAgICAgICB3aGlsZSAoYm90KSB7XG4gICAgICAgICAgICBpZiAoYm90LmlkID09IGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGJvdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvdCA9IGJvdC5uZXh0O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLmZvckVhY2hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEV4ZWN1dGVzIGdpdmVuIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQgb24gdGhlIHBhcGVyXG4gICAgICpcbiAgICAgKiBJZiBjYWxsYmFjayBmdW5jdGlvbiByZXR1cm5zIGBmYWxzZWAgaXQgd2lsbCBzdG9wIGxvb3AgcnVubmluZy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gY2FsbGJhY2sgKGZ1bmN0aW9uKSBmdW5jdGlvbiB0byBydW5cbiAgICAgLSB0aGlzQXJnIChvYmplY3QpIGNvbnRleHQgb2JqZWN0IGZvciB0aGUgY2FsbGJhY2tcbiAgICAgPSAob2JqZWN0KSBQYXBlciBvYmplY3RcbiAgICAgPiBVc2FnZVxuICAgICB8IHBhcGVyLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7XG4gICAgIHwgICAgIGVsLmF0dHIoeyBzdHJva2U6IFwiYmx1ZVwiIH0pO1xuICAgICB8IH0pO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmZvckVhY2ggPSBmdW5jdGlvbiAoY2FsbGJhY2ssIHRoaXNBcmcpIHtcbiAgICAgICAgdmFyIGJvdCA9IHRoaXMuYm90dG9tO1xuICAgICAgICB3aGlsZSAoYm90KSB7XG4gICAgICAgICAgICBpZiAoY2FsbGJhY2suY2FsbCh0aGlzQXJnLCBib3QpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm90ID0gYm90Lm5leHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuZ2V0RWxlbWVudHNCeVBvaW50XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHNldCBvZiBlbGVtZW50cyB0aGF0IGhhdmUgY29tbW9uIHBvaW50IGluc2lkZVxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgLSB5IChudW1iZXIpIHkgY29vcmRpbmF0ZSBvZiB0aGUgcG9pbnRcbiAgICAgPSAob2JqZWN0KSBAU2V0XG4gICAgXFwqL1xuICAgIHBhcGVycHJvdG8uZ2V0RWxlbWVudHNCeVBvaW50ID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgdmFyIHNldCA9IHRoaXMuc2V0KCk7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbC5pc1BvaW50SW5zaWRlKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgc2V0LnB1c2goZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNldDtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHhfeSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMueCArIFMgKyB0aGlzLnk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHhfeV93X2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnggKyBTICsgdGhpcy55ICsgUyArIHRoaXMud2lkdGggKyBcIiBcXHhkNyBcIiArIHRoaXMuaGVpZ2h0O1xuICAgIH1cbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5pc1BvaW50SW5zaWRlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEZXRlcm1pbmUgaWYgZ2l2ZW4gcG9pbnQgaXMgaW5zaWRlIHRoaXMgZWxlbWVudOKAmXMgc2hhcGVcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCBpZiBwb2ludCBpbnNpZGUgdGhlIHNoYXBlXG4gICAgXFwqL1xuICAgIGVscHJvdG8uaXNQb2ludEluc2lkZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBycCA9IHRoaXMucmVhbFBhdGggPSBnZXRQYXRoW3RoaXMudHlwZV0odGhpcyk7XG4gICAgICAgIGlmICh0aGlzLmF0dHIoJ3RyYW5zZm9ybScpICYmIHRoaXMuYXR0cigndHJhbnNmb3JtJykubGVuZ3RoKSB7XG4gICAgICAgICAgICBycCA9IFIudHJhbnNmb3JtUGF0aChycCwgdGhpcy5hdHRyKCd0cmFuc2Zvcm0nKSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFIuaXNQb2ludEluc2lkZVBhdGgocnAsIHgsIHkpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0QkJveFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIGJvdW5kaW5nIGJveCBmb3IgYSBnaXZlbiBlbGVtZW50XG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGlzV2l0aG91dFRyYW5zZm9ybSAoYm9vbGVhbikgZmxhZywgYHRydWVgIGlmIHlvdSB3YW50IHRvIGhhdmUgYm91bmRpbmcgYm94IGJlZm9yZSB0cmFuc2Zvcm1hdGlvbnMuIERlZmF1bHQgaXMgYGZhbHNlYC5cbiAgICAgPSAob2JqZWN0KSBCb3VuZGluZyBib3ggb2JqZWN0OlxuICAgICBvIHtcbiAgICAgbyAgICAgeDogKG51bWJlcikgdG9wIGxlZnQgY29ybmVyIHhcbiAgICAgbyAgICAgeTogKG51bWJlcikgdG9wIGxlZnQgY29ybmVyIHlcbiAgICAgbyAgICAgeDI6IChudW1iZXIpIGJvdHRvbSByaWdodCBjb3JuZXIgeFxuICAgICBvICAgICB5MjogKG51bWJlcikgYm90dG9tIHJpZ2h0IGNvcm5lciB5XG4gICAgIG8gICAgIHdpZHRoOiAobnVtYmVyKSB3aWR0aFxuICAgICBvICAgICBoZWlnaHQ6IChudW1iZXIpIGhlaWdodFxuICAgICBvIH1cbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRCQm94ID0gZnVuY3Rpb24gKGlzV2l0aG91dFRyYW5zZm9ybSkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkKSB7XG4gICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICAgICAgdmFyIF8gPSB0aGlzLl87XG4gICAgICAgIGlmIChpc1dpdGhvdXRUcmFuc2Zvcm0pIHtcbiAgICAgICAgICAgIGlmIChfLmRpcnR5IHx8ICFfLmJib3h3dCkge1xuICAgICAgICAgICAgICAgIHRoaXMucmVhbFBhdGggPSBnZXRQYXRoW3RoaXMudHlwZV0odGhpcyk7XG4gICAgICAgICAgICAgICAgXy5iYm94d3QgPSBwYXRoRGltZW5zaW9ucyh0aGlzLnJlYWxQYXRoKTtcbiAgICAgICAgICAgICAgICBfLmJib3h3dC50b1N0cmluZyA9IHhfeV93X2g7XG4gICAgICAgICAgICAgICAgXy5kaXJ0eSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXy5iYm94d3Q7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKF8uZGlydHkgfHwgXy5kaXJ0eVQgfHwgIV8uYmJveCkge1xuICAgICAgICAgICAgaWYgKF8uZGlydHkgfHwgIXRoaXMucmVhbFBhdGgpIHtcbiAgICAgICAgICAgICAgICBfLmJib3h3dCA9IDA7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWFsUGF0aCA9IGdldFBhdGhbdGhpcy50eXBlXSh0aGlzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8uYmJveCA9IHBhdGhEaW1lbnNpb25zKG1hcFBhdGgodGhpcy5yZWFsUGF0aCwgdGhpcy5tYXRyaXgpKTtcbiAgICAgICAgICAgIF8uYmJveC50b1N0cmluZyA9IHhfeV93X2g7XG4gICAgICAgICAgICBfLmRpcnR5ID0gXy5kaXJ0eVQgPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBfLmJib3g7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5jbG9uZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgY2xvbmUgb2YgYSBnaXZlbiBlbGVtZW50XG4gICAgICoqXG4gICAgXFwqL1xuICAgIGVscHJvdG8uY2xvbmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBvdXQgPSB0aGlzLnBhcGVyW3RoaXMudHlwZV0oKS5hdHRyKHRoaXMuYXR0cigpKTtcbiAgICAgICAgdGhpcy5fX3NldF9fICYmIHRoaXMuX19zZXRfXy5wdXNoKG91dCk7XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5nbG93XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm4gc2V0IG9mIGVsZW1lbnRzIHRoYXQgY3JlYXRlIGdsb3ctbGlrZSBlZmZlY3QgYXJvdW5kIGdpdmVuIGVsZW1lbnQuIFNlZSBAUGFwZXIuc2V0LlxuICAgICAqXG4gICAgICogTm90ZTogR2xvdyBpcyBub3QgY29ubmVjdGVkIHRvIHRoZSBlbGVtZW50LiBJZiB5b3UgY2hhbmdlIGVsZW1lbnQgYXR0cmlidXRlcyBpdCB3b27igJl0IGFkanVzdCBpdHNlbGYuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGdsb3cgKG9iamVjdCkgI29wdGlvbmFsIHBhcmFtZXRlcnMgb2JqZWN0IHdpdGggYWxsIHByb3BlcnRpZXMgb3B0aW9uYWw6XG4gICAgIG8ge1xuICAgICBvICAgICB3aWR0aCAobnVtYmVyKSBzaXplIG9mIHRoZSBnbG93LCBkZWZhdWx0IGlzIGAxMGBcbiAgICAgbyAgICAgZmlsbCAoYm9vbGVhbikgd2lsbCBpdCBiZSBmaWxsZWQsIGRlZmF1bHQgaXMgYGZhbHNlYFxuICAgICBvICAgICBvcGFjaXR5IChudW1iZXIpIG9wYWNpdHksIGRlZmF1bHQgaXMgYDAuNWBcbiAgICAgbyAgICAgb2Zmc2V0eCAobnVtYmVyKSBob3Jpem9udGFsIG9mZnNldCwgZGVmYXVsdCBpcyBgMGBcbiAgICAgbyAgICAgb2Zmc2V0eSAobnVtYmVyKSB2ZXJ0aWNhbCBvZmZzZXQsIGRlZmF1bHQgaXMgYDBgXG4gICAgIG8gICAgIGNvbG9yIChzdHJpbmcpIGdsb3cgY29sb3VyLCBkZWZhdWx0IGlzIGBibGFja2BcbiAgICAgbyB9XG4gICAgID0gKG9iamVjdCkgQFBhcGVyLnNldCBvZiBlbGVtZW50cyB0aGF0IHJlcHJlc2VudHMgZ2xvd1xuICAgIFxcKi9cbiAgICBlbHByb3RvLmdsb3cgPSBmdW5jdGlvbiAoZ2xvdykge1xuICAgICAgICBpZiAodGhpcy50eXBlID09IFwidGV4dFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBnbG93ID0gZ2xvdyB8fCB7fTtcbiAgICAgICAgdmFyIHMgPSB7XG4gICAgICAgICAgICB3aWR0aDogKGdsb3cud2lkdGggfHwgMTApICsgKCt0aGlzLmF0dHIoXCJzdHJva2Utd2lkdGhcIikgfHwgMSksXG4gICAgICAgICAgICBmaWxsOiBnbG93LmZpbGwgfHwgZmFsc2UsXG4gICAgICAgICAgICBvcGFjaXR5OiBnbG93Lm9wYWNpdHkgPT0gbnVsbCA/IC41IDogZ2xvdy5vcGFjaXR5LFxuICAgICAgICAgICAgb2Zmc2V0eDogZ2xvdy5vZmZzZXR4IHx8IDAsXG4gICAgICAgICAgICBvZmZzZXR5OiBnbG93Lm9mZnNldHkgfHwgMCxcbiAgICAgICAgICAgIGNvbG9yOiBnbG93LmNvbG9yIHx8IFwiIzAwMFwiXG4gICAgICAgIH0sXG4gICAgICAgICAgICBjID0gcy53aWR0aCAvIDIsXG4gICAgICAgICAgICByID0gdGhpcy5wYXBlcixcbiAgICAgICAgICAgIG91dCA9IHIuc2V0KCksXG4gICAgICAgICAgICBwYXRoID0gdGhpcy5yZWFsUGF0aCB8fCBnZXRQYXRoW3RoaXMudHlwZV0odGhpcyk7XG4gICAgICAgIHBhdGggPSB0aGlzLm1hdHJpeCA/IG1hcFBhdGgocGF0aCwgdGhpcy5tYXRyaXgpIDogcGF0aDtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBjICsgMTsgaSsrKSB7XG4gICAgICAgICAgICBvdXQucHVzaChyLnBhdGgocGF0aCkuYXR0cih7XG4gICAgICAgICAgICAgICAgc3Ryb2tlOiBzLmNvbG9yLFxuICAgICAgICAgICAgICAgIGZpbGw6IHMuZmlsbCA/IHMuY29sb3IgOiBcIm5vbmVcIixcbiAgICAgICAgICAgICAgICBcInN0cm9rZS1saW5lam9pblwiOiBcInJvdW5kXCIsXG4gICAgICAgICAgICAgICAgXCJzdHJva2UtbGluZWNhcFwiOiBcInJvdW5kXCIsXG4gICAgICAgICAgICAgICAgXCJzdHJva2Utd2lkdGhcIjogKyhzLndpZHRoIC8gYyAqIGkpLnRvRml4ZWQoMyksXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogKyhzLm9wYWNpdHkgLyBjKS50b0ZpeGVkKDMpXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dC5pbnNlcnRCZWZvcmUodGhpcykudHJhbnNsYXRlKHMub2Zmc2V0eCwgcy5vZmZzZXR5KTtcbiAgICB9O1xuICAgIHZhciBjdXJ2ZXNsZW5ndGhzID0ge30sXG4gICAgZ2V0UG9pbnRBdFNlZ21lbnRMZW5ndGggPSBmdW5jdGlvbiAocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIGxlbmd0aCkge1xuICAgICAgICBpZiAobGVuZ3RoID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBiZXpsZW4ocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFIuZmluZERvdHNBdFNlZ21lbnQocDF4LCBwMXksIGMxeCwgYzF5LCBjMngsIGMyeSwgcDJ4LCBwMnksIGdldFRhdExlbihwMXgsIHAxeSwgYzF4LCBjMXksIGMyeCwgYzJ5LCBwMngsIHAyeSwgbGVuZ3RoKSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGdldExlbmd0aEZhY3RvcnkgPSBmdW5jdGlvbiAoaXN0b3RhbCwgc3VicGF0aCkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHBhdGgsIGxlbmd0aCwgb25seXN0YXJ0KSB7XG4gICAgICAgICAgICBwYXRoID0gcGF0aDJjdXJ2ZShwYXRoKTtcbiAgICAgICAgICAgIHZhciB4LCB5LCBwLCBsLCBzcCA9IFwiXCIsIHN1YnBhdGhzID0ge30sIHBvaW50LFxuICAgICAgICAgICAgICAgIGxlbiA9IDA7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYXRoLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBwID0gcGF0aFtpXTtcbiAgICAgICAgICAgICAgICBpZiAocFswXSA9PSBcIk1cIikge1xuICAgICAgICAgICAgICAgICAgICB4ID0gK3BbMV07XG4gICAgICAgICAgICAgICAgICAgIHkgPSArcFsyXTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBsID0gZ2V0UG9pbnRBdFNlZ21lbnRMZW5ndGgoeCwgeSwgcFsxXSwgcFsyXSwgcFszXSwgcFs0XSwgcFs1XSwgcFs2XSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsZW4gKyBsID4gbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc3VicGF0aCAmJiAhc3VicGF0aHMuc3RhcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwb2ludCA9IGdldFBvaW50QXRTZWdtZW50TGVuZ3RoKHgsIHksIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0sIHBbNl0sIGxlbmd0aCAtIGxlbik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3AgKz0gW1wiQ1wiICsgcG9pbnQuc3RhcnQueCwgcG9pbnQuc3RhcnQueSwgcG9pbnQubS54LCBwb2ludC5tLnksIHBvaW50LngsIHBvaW50LnldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvbmx5c3RhcnQpIHtyZXR1cm4gc3A7fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1YnBhdGhzLnN0YXJ0ID0gc3A7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc3AgPSBbXCJNXCIgKyBwb2ludC54LCBwb2ludC55ICsgXCJDXCIgKyBwb2ludC5uLngsIHBvaW50Lm4ueSwgcG9pbnQuZW5kLngsIHBvaW50LmVuZC55LCBwWzVdLCBwWzZdXS5qb2luKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVuICs9IGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCA9ICtwWzVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHkgPSArcFs2XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghaXN0b3RhbCAmJiAhc3VicGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBvaW50ID0gZ2V0UG9pbnRBdFNlZ21lbnRMZW5ndGgoeCwgeSwgcFsxXSwgcFsyXSwgcFszXSwgcFs0XSwgcFs1XSwgcFs2XSwgbGVuZ3RoIC0gbGVuKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge3g6IHBvaW50LngsIHk6IHBvaW50LnksIGFscGhhOiBwb2ludC5hbHBoYX07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGVuICs9IGw7XG4gICAgICAgICAgICAgICAgICAgIHggPSArcFs1XTtcbiAgICAgICAgICAgICAgICAgICAgeSA9ICtwWzZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBzcCArPSBwLnNoaWZ0KCkgKyBwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc3VicGF0aHMuZW5kID0gc3A7XG4gICAgICAgICAgICBwb2ludCA9IGlzdG90YWwgPyBsZW4gOiBzdWJwYXRoID8gc3VicGF0aHMgOiBSLmZpbmREb3RzQXRTZWdtZW50KHgsIHksIHBbMF0sIHBbMV0sIHBbMl0sIHBbM10sIHBbNF0sIHBbNV0sIDEpO1xuICAgICAgICAgICAgcG9pbnQuYWxwaGEgJiYgKHBvaW50ID0ge3g6IHBvaW50LngsIHk6IHBvaW50LnksIGFscGhhOiBwb2ludC5hbHBoYX0pO1xuICAgICAgICAgICAgcmV0dXJuIHBvaW50O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgdmFyIGdldFRvdGFsTGVuZ3RoID0gZ2V0TGVuZ3RoRmFjdG9yeSgxKSxcbiAgICAgICAgZ2V0UG9pbnRBdExlbmd0aCA9IGdldExlbmd0aEZhY3RvcnkoKSxcbiAgICAgICAgZ2V0U3VicGF0aHNBdExlbmd0aCA9IGdldExlbmd0aEZhY3RvcnkoMCwgMSk7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0VG90YWxMZW5ndGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybnMgbGVuZ3RoIG9mIHRoZSBnaXZlbiBwYXRoIGluIHBpeGVscy5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gcGF0aCAoc3RyaW5nKSBTVkcgcGF0aCBzdHJpbmcuXG4gICAgICoqXG4gICAgID0gKG51bWJlcikgbGVuZ3RoLlxuICAgIFxcKi9cbiAgICBSLmdldFRvdGFsTGVuZ3RoID0gZ2V0VG90YWxMZW5ndGg7XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuZ2V0UG9pbnRBdExlbmd0aFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmV0dXJuIGNvb3JkaW5hdGVzIG9mIHRoZSBwb2ludCBsb2NhdGVkIGF0IHRoZSBnaXZlbiBsZW5ndGggb24gdGhlIGdpdmVuIHBhdGguXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIHBhdGggKHN0cmluZykgU1ZHIHBhdGggc3RyaW5nXG4gICAgIC0gbGVuZ3RoIChudW1iZXIpXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvaW50OlxuICAgICBvIHtcbiAgICAgbyAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlXG4gICAgIG8gICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZVxuICAgICBvICAgICBhbHBoYTogKG51bWJlcikgYW5nbGUgb2YgZGVyaXZhdGl2ZVxuICAgICBvIH1cbiAgICBcXCovXG4gICAgUi5nZXRQb2ludEF0TGVuZ3RoID0gZ2V0UG9pbnRBdExlbmd0aDtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5nZXRTdWJwYXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm4gc3VicGF0aCBvZiBhIGdpdmVuIHBhdGggZnJvbSBnaXZlbiBsZW5ndGggdG8gZ2l2ZW4gbGVuZ3RoLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBwYXRoIChzdHJpbmcpIFNWRyBwYXRoIHN0cmluZ1xuICAgICAtIGZyb20gKG51bWJlcikgcG9zaXRpb24gb2YgdGhlIHN0YXJ0IG9mIHRoZSBzZWdtZW50XG4gICAgIC0gdG8gKG51bWJlcikgcG9zaXRpb24gb2YgdGhlIGVuZCBvZiB0aGUgc2VnbWVudFxuICAgICAqKlxuICAgICA9IChzdHJpbmcpIHBhdGhzdHJpbmcgZm9yIHRoZSBzZWdtZW50XG4gICAgXFwqL1xuICAgIFIuZ2V0U3VicGF0aCA9IGZ1bmN0aW9uIChwYXRoLCBmcm9tLCB0bykge1xuICAgICAgICBpZiAodGhpcy5nZXRUb3RhbExlbmd0aChwYXRoKSAtIHRvIDwgMWUtNikge1xuICAgICAgICAgICAgcmV0dXJuIGdldFN1YnBhdGhzQXRMZW5ndGgocGF0aCwgZnJvbSkuZW5kO1xuICAgICAgICB9XG4gICAgICAgIHZhciBhID0gZ2V0U3VicGF0aHNBdExlbmd0aChwYXRoLCB0bywgMSk7XG4gICAgICAgIHJldHVybiBmcm9tID8gZ2V0U3VicGF0aHNBdExlbmd0aChhLCBmcm9tKS5lbmQgOiBhO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuZ2V0VG90YWxMZW5ndGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybnMgbGVuZ3RoIG9mIHRoZSBwYXRoIGluIHBpeGVscy4gT25seSB3b3JrcyBmb3IgZWxlbWVudCBvZiDigJxwYXRo4oCdIHR5cGUuXG4gICAgID0gKG51bWJlcikgbGVuZ3RoLlxuICAgIFxcKi9cbiAgICBlbHByb3RvLmdldFRvdGFsTGVuZ3RoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLm5vZGUuZ2V0VG90YWxMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGUuZ2V0VG90YWxMZW5ndGgoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRUb3RhbExlbmd0aChwYXRoKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LmdldFBvaW50QXRMZW5ndGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJldHVybiBjb29yZGluYXRlcyBvZiB0aGUgcG9pbnQgbG9jYXRlZCBhdCB0aGUgZ2l2ZW4gbGVuZ3RoIG9uIHRoZSBnaXZlbiBwYXRoLiBPbmx5IHdvcmtzIGZvciBlbGVtZW50IG9mIOKAnHBhdGjigJ0gdHlwZS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gbGVuZ3RoIChudW1iZXIpXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgcmVwcmVzZW50YXRpb24gb2YgdGhlIHBvaW50OlxuICAgICBvIHtcbiAgICAgbyAgICAgeDogKG51bWJlcikgeCBjb29yZGluYXRlXG4gICAgIG8gICAgIHk6IChudW1iZXIpIHkgY29vcmRpbmF0ZVxuICAgICBvICAgICBhbHBoYTogKG51bWJlcikgYW5nbGUgb2YgZGVyaXZhdGl2ZVxuICAgICBvIH1cbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRQb2ludEF0TGVuZ3RoID0gZnVuY3Rpb24gKGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHRoaXMuZ2V0UGF0aCgpO1xuICAgICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBnZXRQb2ludEF0TGVuZ3RoKHBhdGgsIGxlbmd0aCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5nZXRQYXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIHBhdGggb2YgdGhlIGVsZW1lbnQuIE9ubHkgd29ya3MgZm9yIGVsZW1lbnRzIG9mIOKAnHBhdGjigJ0gdHlwZSBhbmQgc2ltcGxlIGVsZW1lbnRzIGxpa2UgY2lyY2xlLlxuICAgICA9IChvYmplY3QpIHBhdGhcbiAgICAgKipcbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRQYXRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgcGF0aCxcbiAgICAgICAgICAgIGdldFBhdGggPSBSLl9nZXRQYXRoW3RoaXMudHlwZV07XG5cbiAgICAgICAgaWYgKHRoaXMudHlwZSA9PSBcInRleHRcIiB8fCB0aGlzLnR5cGUgPT0gXCJzZXRcIikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGdldFBhdGgpIHtcbiAgICAgICAgICAgIHBhdGggPSBnZXRQYXRoKHRoaXMpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5nZXRTdWJwYXRoXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm4gc3VicGF0aCBvZiBhIGdpdmVuIGVsZW1lbnQgZnJvbSBnaXZlbiBsZW5ndGggdG8gZ2l2ZW4gbGVuZ3RoLiBPbmx5IHdvcmtzIGZvciBlbGVtZW50IG9mIOKAnHBhdGjigJ0gdHlwZS5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZnJvbSAobnVtYmVyKSBwb3NpdGlvbiBvZiB0aGUgc3RhcnQgb2YgdGhlIHNlZ21lbnRcbiAgICAgLSB0byAobnVtYmVyKSBwb3NpdGlvbiBvZiB0aGUgZW5kIG9mIHRoZSBzZWdtZW50XG4gICAgICoqXG4gICAgID0gKHN0cmluZykgcGF0aHN0cmluZyBmb3IgdGhlIHNlZ21lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5nZXRTdWJwYXRoID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgICAgIHZhciBwYXRoID0gdGhpcy5nZXRQYXRoKCk7XG4gICAgICAgIGlmICghcGF0aCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFIuZ2V0U3VicGF0aChwYXRoLCBmcm9tLCB0byk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5lYXNpbmdfZm9ybXVsYXNcbiAgICAgWyBwcm9wZXJ0eSBdXG4gICAgICoqXG4gICAgICogT2JqZWN0IHRoYXQgY29udGFpbnMgZWFzaW5nIGZvcm11bGFzIGZvciBhbmltYXRpb24uIFlvdSBjb3VsZCBleHRlbmQgaXQgd2l0aCB5b3VyIG93bi4gQnkgZGVmYXVsdCBpdCBoYXMgZm9sbG93aW5nIGxpc3Qgb2YgZWFzaW5nOlxuICAgICAjIDx1bD5cbiAgICAgIyAgICAgPGxpPuKAnGxpbmVhcuKAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJwmbHQ74oCdIG9yIOKAnGVhc2VJbuKAnSBvciDigJxlYXNlLWlu4oCdPC9saT5cbiAgICAgIyAgICAgPGxpPuKAnD7igJ0gb3Ig4oCcZWFzZU91dOKAnSBvciDigJxlYXNlLW91dOKAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJwmbHQ7PuKAnSBvciDigJxlYXNlSW5PdXTigJ0gb3Ig4oCcZWFzZS1pbi1vdXTigJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcYmFja0lu4oCdIG9yIOKAnGJhY2staW7igJ08L2xpPlxuICAgICAjICAgICA8bGk+4oCcYmFja091dOKAnSBvciDigJxiYWNrLW91dOKAnTwvbGk+XG4gICAgICMgICAgIDxsaT7igJxlbGFzdGlj4oCdPC9saT5cbiAgICAgIyAgICAgPGxpPuKAnGJvdW5jZeKAnTwvbGk+XG4gICAgICMgPC91bD5cbiAgICAgIyA8cD5TZWUgYWxzbyA8YSBocmVmPVwiaHR0cDovL3JhcGhhZWxqcy5jb20vZWFzaW5nLmh0bWxcIj5FYXNpbmcgZGVtbzwvYT4uPC9wPlxuICAgIFxcKi9cbiAgICB2YXIgZWYgPSBSLmVhc2luZ19mb3JtdWxhcyA9IHtcbiAgICAgICAgbGluZWFyOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgIH0sXG4gICAgICAgIFwiPFwiOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgcmV0dXJuIHBvdyhuLCAxLjcpO1xuICAgICAgICB9LFxuICAgICAgICBcIj5cIjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHJldHVybiBwb3cobiwgLjQ4KTtcbiAgICAgICAgfSxcbiAgICAgICAgXCI8PlwiOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgdmFyIHEgPSAuNDggLSBuIC8gMS4wNCxcbiAgICAgICAgICAgICAgICBRID0gbWF0aC5zcXJ0KC4xNzM0ICsgcSAqIHEpLFxuICAgICAgICAgICAgICAgIHggPSBRIC0gcSxcbiAgICAgICAgICAgICAgICBYID0gcG93KGFicyh4KSwgMSAvIDMpICogKHggPCAwID8gLTEgOiAxKSxcbiAgICAgICAgICAgICAgICB5ID0gLVEgLSBxLFxuICAgICAgICAgICAgICAgIFkgPSBwb3coYWJzKHkpLCAxIC8gMykgKiAoeSA8IDAgPyAtMSA6IDEpLFxuICAgICAgICAgICAgICAgIHQgPSBYICsgWSArIC41O1xuICAgICAgICAgICAgcmV0dXJuICgxIC0gdCkgKiAzICogdCAqIHQgKyB0ICogdCAqIHQ7XG4gICAgICAgIH0sXG4gICAgICAgIGJhY2tJbjogZnVuY3Rpb24gKG4pIHtcbiAgICAgICAgICAgIHZhciBzID0gMS43MDE1ODtcbiAgICAgICAgICAgIHJldHVybiBuICogbiAqICgocyArIDEpICogbiAtIHMpO1xuICAgICAgICB9LFxuICAgICAgICBiYWNrT3V0OiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgbiA9IG4gLSAxO1xuICAgICAgICAgICAgdmFyIHMgPSAxLjcwMTU4O1xuICAgICAgICAgICAgcmV0dXJuIG4gKiBuICogKChzICsgMSkgKiBuICsgcykgKyAxO1xuICAgICAgICB9LFxuICAgICAgICBlbGFzdGljOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgaWYgKG4gPT0gISFuKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcG93KDIsIC0xMCAqIG4pICogbWF0aC5zaW4oKG4gLSAuMDc1KSAqICgyICogUEkpIC8gLjMpICsgMTtcbiAgICAgICAgfSxcbiAgICAgICAgYm91bmNlOiBmdW5jdGlvbiAobikge1xuICAgICAgICAgICAgdmFyIHMgPSA3LjU2MjUsXG4gICAgICAgICAgICAgICAgcCA9IDIuNzUsXG4gICAgICAgICAgICAgICAgbDtcbiAgICAgICAgICAgIGlmIChuIDwgKDEgLyBwKSkge1xuICAgICAgICAgICAgICAgIGwgPSBzICogbiAqIG47XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChuIDwgKDIgLyBwKSkge1xuICAgICAgICAgICAgICAgICAgICBuIC09ICgxLjUgLyBwKTtcbiAgICAgICAgICAgICAgICAgICAgbCA9IHMgKiBuICogbiArIC43NTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAobiA8ICgyLjUgLyBwKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbiAtPSAoMi4yNSAvIHApO1xuICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHMgKiBuICogbiArIC45Mzc1O1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbiAtPSAoMi42MjUgLyBwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGwgPSBzICogbiAqIG4gKyAuOTg0Mzc1O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGVmLmVhc2VJbiA9IGVmW1wiZWFzZS1pblwiXSA9IGVmW1wiPFwiXTtcbiAgICBlZi5lYXNlT3V0ID0gZWZbXCJlYXNlLW91dFwiXSA9IGVmW1wiPlwiXTtcbiAgICBlZi5lYXNlSW5PdXQgPSBlZltcImVhc2UtaW4tb3V0XCJdID0gZWZbXCI8PlwiXTtcbiAgICBlZltcImJhY2staW5cIl0gPSBlZi5iYWNrSW47XG4gICAgZWZbXCJiYWNrLW91dFwiXSA9IGVmLmJhY2tPdXQ7XG5cbiAgICB2YXIgYW5pbWF0aW9uRWxlbWVudHMgPSBbXSxcbiAgICAgICAgcmVxdWVzdEFuaW1GcmFtZSA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy53ZWJraXRSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tb3pSZXF1ZXN0QW5pbWF0aW9uRnJhbWUgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5vUmVxdWVzdEFuaW1hdGlvbkZyYW1lICAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5tc1JlcXVlc3RBbmltYXRpb25GcmFtZSAgICAgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoY2FsbGJhY2ssIDE2KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgIGFuaW1hdGlvbiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHZhciBOb3cgPSArbmV3IERhdGUsXG4gICAgICAgICAgICAgICAgbCA9IDA7XG4gICAgICAgICAgICBmb3IgKDsgbCA8IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDsgbCsrKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSBhbmltYXRpb25FbGVtZW50c1tsXTtcbiAgICAgICAgICAgICAgICBpZiAoZS5lbC5yZW1vdmVkIHx8IGUucGF1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgdGltZSA9IE5vdyAtIGUuc3RhcnQsXG4gICAgICAgICAgICAgICAgICAgIG1zID0gZS5tcyxcbiAgICAgICAgICAgICAgICAgICAgZWFzaW5nID0gZS5lYXNpbmcsXG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBlLmZyb20sXG4gICAgICAgICAgICAgICAgICAgIGRpZmYgPSBlLmRpZmYsXG4gICAgICAgICAgICAgICAgICAgIHRvID0gZS50byxcbiAgICAgICAgICAgICAgICAgICAgdCA9IGUudCxcbiAgICAgICAgICAgICAgICAgICAgdGhhdCA9IGUuZWwsXG4gICAgICAgICAgICAgICAgICAgIHNldCA9IHt9LFxuICAgICAgICAgICAgICAgICAgICBub3csXG4gICAgICAgICAgICAgICAgICAgIGluaXQgPSB7fSxcbiAgICAgICAgICAgICAgICAgICAga2V5O1xuICAgICAgICAgICAgICAgIGlmIChlLmluaXRzdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdGltZSA9IChlLmluaXRzdGF0dXMgKiBlLmFuaW0udG9wIC0gZS5wcmV2KSAvIChlLnBlcmNlbnQgLSBlLnByZXYpICogbXM7XG4gICAgICAgICAgICAgICAgICAgIGUuc3RhdHVzID0gZS5pbml0c3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZS5pbml0c3RhdHVzO1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3AgJiYgYW5pbWF0aW9uRWxlbWVudHMuc3BsaWNlKGwtLSwgMSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZS5zdGF0dXMgPSAoZS5wcmV2ICsgKGUucGVyY2VudCAtIGUucHJldikgKiAodGltZSAvIG1zKSkgLyBlLmFuaW0udG9wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGltZSA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0aW1lIDwgbXMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBvcyA9IGVhc2luZyh0aW1lIC8gbXMpO1xuICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGZyb20pIGlmIChmcm9tW2hhc10oYXR0cikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYXZhaWxhYmxlQW5pbUF0dHJzW2F0dHJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBudTpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gK2Zyb21bYXR0cl0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJjb2xvdXJcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gXCJyZ2IoXCIgKyBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvMjU1KHJvdW5kKGZyb21bYXR0cl0uciArIHBvcyAqIG1zICogZGlmZlthdHRyXS5yKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvMjU1KHJvdW5kKGZyb21bYXR0cl0uZyArIHBvcyAqIG1zICogZGlmZlthdHRyXS5nKSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cHRvMjU1KHJvdW5kKGZyb21bYXR0cl0uYiArIHBvcyAqIG1zICogZGlmZlthdHRyXS5iKSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXS5qb2luKFwiLFwiKSArIFwiKVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3cgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZnJvbVthdHRyXS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV0gPSBbZnJvbVthdHRyXVtpXVswXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMSwgamogPSBmcm9tW2F0dHJdW2ldLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV1bal0gPSArZnJvbVthdHRyXVtpXVtqXSArIHBvcyAqIG1zICogZGlmZlthdHRyXVtpXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vd1tpXSA9IG5vd1tpXS5qb2luKFMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IG5vdy5qb2luKFMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwidHJhbnNmb3JtXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkaWZmW2F0dHJdLnJlYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBmcm9tW2F0dHJdLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV0gPSBbZnJvbVthdHRyXVtpXVswXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChqID0gMSwgamogPSBmcm9tW2F0dHJdW2ldLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldW2pdID0gZnJvbVthdHRyXVtpXVtqXSArIHBvcyAqIG1zICogZGlmZlthdHRyXVtpXVtqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ2V0ID0gZnVuY3Rpb24gKGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gK2Zyb21bYXR0cl1baV0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm93ID0gW1tcInJcIiwgZ2V0KDIpLCAwLCAwXSwgW1widFwiLCBnZXQoMyksIGdldCg0KV0sIFtcInNcIiwgZ2V0KDApLCBnZXQoMSksIDAsIDBdXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFtbXCJtXCIsIGdldCgwKSwgZ2V0KDEpLCBnZXQoMiksIGdldCgzKSwgZ2V0KDQpLCBnZXQoNSldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3N2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyID09IFwiY2xpcC1yZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vdyA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IDQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93W2ldID0gK2Zyb21bYXR0cl1baV0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZyb20yID0gW11bY29uY2F0XShmcm9tW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbm93ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSB0aGF0LnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbYXR0cl0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBub3dbaV0gPSArZnJvbTJbaV0gKyBwb3MgKiBtcyAqIGRpZmZbYXR0cl1baV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRbYXR0cl0gPSBub3c7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5hdHRyKHNldCk7XG4gICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbiAoaWQsIHRoYXQsIGFuaW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuYW5pbS5mcmFtZS5cIiArIGlkLCB0aGF0LCBhbmltKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9KSh0aGF0LmlkLCB0aGF0LCBlLmFuaW0pO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIChmdW5jdGlvbihmLCBlbCwgYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmUoXCJyYXBoYWVsLmFuaW0uZnJhbWUuXCIgKyBlbC5pZCwgZWwsIGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZShcInJhcGhhZWwuYW5pbS5maW5pc2guXCIgKyBlbC5pZCwgZWwsIGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFIuaXMoZiwgXCJmdW5jdGlvblwiKSAmJiBmLmNhbGwoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0pKGUuY2FsbGJhY2ssIHRoYXQsIGUuYW5pbSk7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQuYXR0cih0byk7XG4gICAgICAgICAgICAgICAgICAgIGFuaW1hdGlvbkVsZW1lbnRzLnNwbGljZShsLS0sIDEpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5yZXBlYXQgPiAxICYmICFlLm5leHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIHRvKSBpZiAodG9baGFzXShrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdFtrZXldID0gZS50b3RhbE9yaWdpbltrZXldO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgZS5lbC5hdHRyKGluaXQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVuQW5pbWF0aW9uKGUuYW5pbSwgZS5lbCwgZS5hbmltLnBlcmNlbnRzWzBdLCBudWxsLCBlLnRvdGFsT3JpZ2luLCBlLnJlcGVhdCAtIDEpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLm5leHQgJiYgIWUuc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcnVuQW5pbWF0aW9uKGUuYW5pbSwgZS5lbCwgZS5uZXh0LCBudWxsLCBlLnRvdGFsT3JpZ2luLCBlLnJlcGVhdCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5sZW5ndGggJiYgcmVxdWVzdEFuaW1GcmFtZShhbmltYXRpb24pO1xuICAgICAgICB9LFxuICAgICAgICB1cHRvMjU1ID0gZnVuY3Rpb24gKGNvbG9yKSB7XG4gICAgICAgICAgICByZXR1cm4gY29sb3IgPiAyNTUgPyAyNTUgOiBjb2xvciA8IDAgPyAwIDogY29sb3I7XG4gICAgICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuYW5pbWF0ZVdpdGhcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFjdHMgc2ltaWxhciB0byBARWxlbWVudC5hbmltYXRlLCBidXQgZW5zdXJlIHRoYXQgZ2l2ZW4gYW5pbWF0aW9uIHJ1bnMgaW4gc3luYyB3aXRoIGFub3RoZXIgZ2l2ZW4gZWxlbWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZWwgKG9iamVjdCkgZWxlbWVudCB0byBzeW5jIHdpdGhcbiAgICAgLSBhbmltIChvYmplY3QpIGFuaW1hdGlvbiB0byBzeW5jIHdpdGhcbiAgICAgLSBwYXJhbXMgKG9iamVjdCkgI29wdGlvbmFsIGZpbmFsIGF0dHJpYnV0ZXMgZm9yIHRoZSBlbGVtZW50LCBzZWUgYWxzbyBARWxlbWVudC5hdHRyXG4gICAgIC0gbXMgKG51bWJlcikgI29wdGlvbmFsIG51bWJlciBvZiBtaWxsaXNlY29uZHMgZm9yIGFuaW1hdGlvbiB0byBydW5cbiAgICAgLSBlYXNpbmcgKHN0cmluZykgI29wdGlvbmFsIGVhc2luZyB0eXBlLiBBY2NlcHQgb24gb2YgQFJhcGhhZWwuZWFzaW5nX2Zvcm11bGFzIG9yIENTUyBmb3JtYXQ6IGBjdWJpYyYjeDIwMTA7YmV6aWVyKFhYLCYjMTYwO1hYLCYjMTYwO1hYLCYjMTYwO1hYKWBcbiAgICAgLSBjYWxsYmFjayAoZnVuY3Rpb24pICNvcHRpb25hbCBjYWxsYmFjayBmdW5jdGlvbi4gV2lsbCBiZSBjYWxsZWQgYXQgdGhlIGVuZCBvZiBhbmltYXRpb24uXG4gICAgICogb3JcbiAgICAgLSBlbGVtZW50IChvYmplY3QpIGVsZW1lbnQgdG8gc3luYyB3aXRoXG4gICAgIC0gYW5pbSAob2JqZWN0KSBhbmltYXRpb24gdG8gc3luYyB3aXRoXG4gICAgIC0gYW5pbWF0aW9uIChvYmplY3QpICNvcHRpb25hbCBhbmltYXRpb24gb2JqZWN0LCBzZWUgQFJhcGhhZWwuYW5pbWF0aW9uXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLmFuaW1hdGVXaXRoID0gZnVuY3Rpb24gKGVsLCBhbmltLCBwYXJhbXMsIG1zLCBlYXNpbmcsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBlbGVtZW50ID0gdGhpcztcbiAgICAgICAgaWYgKGVsZW1lbnQucmVtb3ZlZCkge1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2suY2FsbChlbGVtZW50KTtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICB9XG4gICAgICAgIHZhciBhID0gcGFyYW1zIGluc3RhbmNlb2YgQW5pbWF0aW9uID8gcGFyYW1zIDogUi5hbmltYXRpb24ocGFyYW1zLCBtcywgZWFzaW5nLCBjYWxsYmFjayksXG4gICAgICAgICAgICB4LCB5O1xuICAgICAgICBydW5BbmltYXRpb24oYSwgZWxlbWVudCwgYS5wZXJjZW50c1swXSwgbnVsbCwgZWxlbWVudC5hdHRyKCkpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBpZiAoYW5pbWF0aW9uRWxlbWVudHNbaV0uYW5pbSA9PSBhbmltICYmIGFuaW1hdGlvbkVsZW1lbnRzW2ldLmVsID09IGVsKSB7XG4gICAgICAgICAgICAgICAgYW5pbWF0aW9uRWxlbWVudHNbaWkgLSAxXS5zdGFydCA9IGFuaW1hdGlvbkVsZW1lbnRzW2ldLnN0YXJ0O1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAvL1xuICAgICAgICAvL1xuICAgICAgICAvLyB2YXIgYSA9IHBhcmFtcyA/IFIuYW5pbWF0aW9uKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spIDogYW5pbSxcbiAgICAgICAgLy8gICAgIHN0YXR1cyA9IGVsZW1lbnQuc3RhdHVzKGFuaW0pO1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5hbmltYXRlKGEpLnN0YXR1cyhhLCBzdGF0dXMgKiBhbmltLm1zIC8gYS5tcyk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBDdWJpY0JlemllckF0VGltZSh0LCBwMXgsIHAxeSwgcDJ4LCBwMnksIGR1cmF0aW9uKSB7XG4gICAgICAgIHZhciBjeCA9IDMgKiBwMXgsXG4gICAgICAgICAgICBieCA9IDMgKiAocDJ4IC0gcDF4KSAtIGN4LFxuICAgICAgICAgICAgYXggPSAxIC0gY3ggLSBieCxcbiAgICAgICAgICAgIGN5ID0gMyAqIHAxeSxcbiAgICAgICAgICAgIGJ5ID0gMyAqIChwMnkgLSBwMXkpIC0gY3ksXG4gICAgICAgICAgICBheSA9IDEgLSBjeSAtIGJ5O1xuICAgICAgICBmdW5jdGlvbiBzYW1wbGVDdXJ2ZVgodCkge1xuICAgICAgICAgICAgcmV0dXJuICgoYXggKiB0ICsgYngpICogdCArIGN4KSAqIHQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gc29sdmUoeCwgZXBzaWxvbikge1xuICAgICAgICAgICAgdmFyIHQgPSBzb2x2ZUN1cnZlWCh4LCBlcHNpbG9uKTtcbiAgICAgICAgICAgIHJldHVybiAoKGF5ICogdCArIGJ5KSAqIHQgKyBjeSkgKiB0O1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHNvbHZlQ3VydmVYKHgsIGVwc2lsb24pIHtcbiAgICAgICAgICAgIHZhciB0MCwgdDEsIHQyLCB4MiwgZDIsIGk7XG4gICAgICAgICAgICBmb3IodDIgPSB4LCBpID0gMDsgaSA8IDg7IGkrKykge1xuICAgICAgICAgICAgICAgIHgyID0gc2FtcGxlQ3VydmVYKHQyKSAtIHg7XG4gICAgICAgICAgICAgICAgaWYgKGFicyh4MikgPCBlcHNpbG9uKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZDIgPSAoMyAqIGF4ICogdDIgKyAyICogYngpICogdDIgKyBjeDtcbiAgICAgICAgICAgICAgICBpZiAoYWJzKGQyKSA8IDFlLTYpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHQyID0gdDIgLSB4MiAvIGQyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdDAgPSAwO1xuICAgICAgICAgICAgdDEgPSAxO1xuICAgICAgICAgICAgdDIgPSB4O1xuICAgICAgICAgICAgaWYgKHQyIDwgdDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodDIgPiB0MSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0MTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlICh0MCA8IHQxKSB7XG4gICAgICAgICAgICAgICAgeDIgPSBzYW1wbGVDdXJ2ZVgodDIpO1xuICAgICAgICAgICAgICAgIGlmIChhYnMoeDIgLSB4KSA8IGVwc2lsb24pIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHQyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoeCA+IHgyKSB7XG4gICAgICAgICAgICAgICAgICAgIHQwID0gdDI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdDEgPSB0MjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdDIgPSAodDEgLSB0MCkgLyAyICsgdDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdDI7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNvbHZlKHQsIDEgLyAoMjAwICogZHVyYXRpb24pKTtcbiAgICB9XG4gICAgZWxwcm90by5vbkFuaW1hdGlvbiA9IGZ1bmN0aW9uIChmKSB7XG4gICAgICAgIGYgPyBldmUub24oXCJyYXBoYWVsLmFuaW0uZnJhbWUuXCIgKyB0aGlzLmlkLCBmKSA6IGV2ZS51bmJpbmQoXCJyYXBoYWVsLmFuaW0uZnJhbWUuXCIgKyB0aGlzLmlkKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBBbmltYXRpb24oYW5pbSwgbXMpIHtcbiAgICAgICAgdmFyIHBlcmNlbnRzID0gW10sXG4gICAgICAgICAgICBuZXdBbmltID0ge307XG4gICAgICAgIHRoaXMubXMgPSBtcztcbiAgICAgICAgdGhpcy50aW1lcyA9IDE7XG4gICAgICAgIGlmIChhbmltKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBhdHRyIGluIGFuaW0pIGlmIChhbmltW2hhc10oYXR0cikpIHtcbiAgICAgICAgICAgICAgICBuZXdBbmltW3RvRmxvYXQoYXR0cildID0gYW5pbVthdHRyXTtcbiAgICAgICAgICAgICAgICBwZXJjZW50cy5wdXNoKHRvRmxvYXQoYXR0cikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGVyY2VudHMuc29ydChzb3J0QnlOdW1iZXIpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuYW5pbSA9IG5ld0FuaW07XG4gICAgICAgIHRoaXMudG9wID0gcGVyY2VudHNbcGVyY2VudHMubGVuZ3RoIC0gMV07XG4gICAgICAgIHRoaXMucGVyY2VudHMgPSBwZXJjZW50cztcbiAgICB9XG4gICAgLypcXFxuICAgICAqIEFuaW1hdGlvbi5kZWxheVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ3JlYXRlcyBhIGNvcHkgb2YgZXhpc3RpbmcgYW5pbWF0aW9uIG9iamVjdCB3aXRoIGdpdmVuIGRlbGF5LlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBkZWxheSAobnVtYmVyKSBudW1iZXIgb2YgbXMgdG8gcGFzcyBiZXR3ZWVuIGFuaW1hdGlvbiBzdGFydCBhbmQgYWN0dWFsIGFuaW1hdGlvblxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG5ldyBhbHRlcmVkIEFuaW1hdGlvbiBvYmplY3RcbiAgICAgfCB2YXIgYW5pbSA9IFJhcGhhZWwuYW5pbWF0aW9uKHtjeDogMTAsIGN5OiAyMH0sIDJlMyk7XG4gICAgIHwgY2lyY2xlMS5hbmltYXRlKGFuaW0pOyAvLyBydW4gdGhlIGdpdmVuIGFuaW1hdGlvbiBpbW1lZGlhdGVseVxuICAgICB8IGNpcmNsZTIuYW5pbWF0ZShhbmltLmRlbGF5KDUwMCkpOyAvLyBydW4gdGhlIGdpdmVuIGFuaW1hdGlvbiBhZnRlciA1MDAgbXNcbiAgICBcXCovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5kZWxheSA9IGZ1bmN0aW9uIChkZWxheSkge1xuICAgICAgICB2YXIgYSA9IG5ldyBBbmltYXRpb24odGhpcy5hbmltLCB0aGlzLm1zKTtcbiAgICAgICAgYS50aW1lcyA9IHRoaXMudGltZXM7XG4gICAgICAgIGEuZGVsID0gK2RlbGF5IHx8IDA7XG4gICAgICAgIHJldHVybiBhO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEFuaW1hdGlvbi5yZXBlYXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgYSBjb3B5IG9mIGV4aXN0aW5nIGFuaW1hdGlvbiBvYmplY3Qgd2l0aCBnaXZlbiByZXBldGl0aW9uLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSByZXBlYXQgKG51bWJlcikgbnVtYmVyIGl0ZXJhdGlvbnMgb2YgYW5pbWF0aW9uLiBGb3IgaW5maW5pdGUgYW5pbWF0aW9uIHBhc3MgYEluZmluaXR5YFxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG5ldyBhbHRlcmVkIEFuaW1hdGlvbiBvYmplY3RcbiAgICBcXCovXG4gICAgQW5pbWF0aW9uLnByb3RvdHlwZS5yZXBlYXQgPSBmdW5jdGlvbiAodGltZXMpIHtcbiAgICAgICAgdmFyIGEgPSBuZXcgQW5pbWF0aW9uKHRoaXMuYW5pbSwgdGhpcy5tcyk7XG4gICAgICAgIGEuZGVsID0gdGhpcy5kZWw7XG4gICAgICAgIGEudGltZXMgPSBtYXRoLmZsb29yKG1tYXgodGltZXMsIDApKSB8fCAxO1xuICAgICAgICByZXR1cm4gYTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHJ1bkFuaW1hdGlvbihhbmltLCBlbGVtZW50LCBwZXJjZW50LCBzdGF0dXMsIHRvdGFsT3JpZ2luLCB0aW1lcykge1xuICAgICAgICBwZXJjZW50ID0gdG9GbG9hdChwZXJjZW50KTtcbiAgICAgICAgdmFyIHBhcmFtcyxcbiAgICAgICAgICAgIGlzSW5BbmltLFxuICAgICAgICAgICAgaXNJbkFuaW1TZXQsXG4gICAgICAgICAgICBwZXJjZW50cyA9IFtdLFxuICAgICAgICAgICAgbmV4dCxcbiAgICAgICAgICAgIHByZXYsXG4gICAgICAgICAgICB0aW1lc3RhbXAsXG4gICAgICAgICAgICBtcyA9IGFuaW0ubXMsXG4gICAgICAgICAgICBmcm9tID0ge30sXG4gICAgICAgICAgICB0byA9IHt9LFxuICAgICAgICAgICAgZGlmZiA9IHt9O1xuICAgICAgICBpZiAoc3RhdHVzKSB7XG4gICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9IGFuaW1hdGlvbkVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgICAgIGlmIChlLmVsLmlkID09IGVsZW1lbnQuaWQgJiYgZS5hbmltID09IGFuaW0pIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucGVyY2VudCAhPSBwZXJjZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5zcGxpY2UoaSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luQW5pbVNldCA9IDE7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpc0luQW5pbSA9IGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5hdHRyKGUudG90YWxPcmlnaW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzdGF0dXMgPSArdG87IC8vIE5hTlxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGFuaW0ucGVyY2VudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgaWYgKGFuaW0ucGVyY2VudHNbaV0gPT0gcGVyY2VudCB8fCBhbmltLnBlcmNlbnRzW2ldID4gc3RhdHVzICogYW5pbS50b3ApIHtcbiAgICAgICAgICAgICAgICBwZXJjZW50ID0gYW5pbS5wZXJjZW50c1tpXTtcbiAgICAgICAgICAgICAgICBwcmV2ID0gYW5pbS5wZXJjZW50c1tpIC0gMV0gfHwgMDtcbiAgICAgICAgICAgICAgICBtcyA9IG1zIC8gYW5pbS50b3AgKiAocGVyY2VudCAtIHByZXYpO1xuICAgICAgICAgICAgICAgIG5leHQgPSBhbmltLnBlcmNlbnRzW2kgKyAxXTtcbiAgICAgICAgICAgICAgICBwYXJhbXMgPSBhbmltLmFuaW1bcGVyY2VudF07XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKHN0YXR1cykge1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuYXR0cihhbmltLmFuaW1bYW5pbS5wZXJjZW50c1tpXV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFpc0luQW5pbSkge1xuICAgICAgICAgICAgZm9yICh2YXIgYXR0ciBpbiBwYXJhbXMpIGlmIChwYXJhbXNbaGFzXShhdHRyKSkge1xuICAgICAgICAgICAgICAgIGlmIChhdmFpbGFibGVBbmltQXR0cnNbaGFzXShhdHRyKSB8fCBlbGVtZW50LnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShhdHRyKSkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gZWxlbWVudC5hdHRyKGF0dHIpO1xuICAgICAgICAgICAgICAgICAgICAoZnJvbVthdHRyXSA9PSBudWxsKSAmJiAoZnJvbVthdHRyXSA9IGF2YWlsYWJsZUF0dHJzW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgdG9bYXR0cl0gPSBwYXJhbXNbYXR0cl07XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoYXZhaWxhYmxlQW5pbUF0dHJzW2F0dHJdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIG51OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSAodG9bYXR0cl0gLSBmcm9tW2F0dHJdKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbG91clwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21bYXR0cl0gPSBSLmdldFJHQihmcm9tW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdG9Db2xvdXIgPSBSLmdldFJHQih0b1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcjogKHRvQ29sb3VyLnIgLSBmcm9tW2F0dHJdLnIpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGc6ICh0b0NvbG91ci5nIC0gZnJvbVthdHRyXS5nKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBiOiAodG9Db2xvdXIuYiAtIGZyb21bYXR0cl0uYikgLyBtc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXRoZXMgPSBwYXRoMmN1cnZlKGZyb21bYXR0cl0sIHRvW2F0dHJdKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9QYXRoID0gcGF0aGVzWzFdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21bYXR0cl0gPSBwYXRoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gZnJvbVthdHRyXS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV0gPSBbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAxLCBqaiA9IGZyb21bYXR0cl1baV0ubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXVtpXVtqXSA9ICh0b1BhdGhbaV1bal0gLSBmcm9tW2F0dHJdW2ldW2pdKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRyYW5zZm9ybVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBfID0gZWxlbWVudC5fLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcSA9IGVxdWFsaXNlVHJhbnNmb3JtKF9bYXR0cl0sIHRvW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnJvbVthdHRyXSA9IGVxLmZyb207XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvW2F0dHJdID0gZXEudG87XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXS5yZWFsID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBmcm9tW2F0dHJdLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV0gPSBbZnJvbVthdHRyXVtpXVswXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKGogPSAxLCBqaiA9IGZyb21bYXR0cl1baV0ubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpZmZbYXR0cl1baV1bal0gPSAodG9bYXR0cl1baV1bal0gLSBmcm9tW2F0dHJdW2ldW2pdKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG0gPSAoZWxlbWVudC5tYXRyaXggfHwgbmV3IE1hdHJpeCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0bzIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXzoge3RyYW5zZm9ybTogXy50cmFuc2Zvcm19LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGdldEJCb3g6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuZ2V0QkJveCgxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tW2F0dHJdID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5hLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5jLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5kLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5lLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbS5mXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhY3RUcmFuc2Zvcm0odG8yLCB0b1thdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvW2F0dHJdID0gdG8yLl8udHJhbnNmb3JtO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdID0gW1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvMi5tYXRyaXguYSAtIG0uYSkgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0bzIubWF0cml4LmIgLSBtLmIpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodG8yLm1hdHJpeC5jIC0gbS5jKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKHRvMi5tYXRyaXguZCAtIG0uZCkgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICh0bzIubWF0cml4LmUgLSBtLmUpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAodG8yLm1hdHJpeC5mIC0gbS5mKSAvIG1zXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZyb21bYXR0cl0gPSBbXy5zeCwgXy5zeSwgXy5kZWcsIF8uZHgsIF8uZHldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB2YXIgdG8yID0ge186e30sIGdldEJCb3g6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGVsZW1lbnQuZ2V0QkJveCgpOyB9fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXh0cmFjdFRyYW5zZm9ybSh0bzIsIHRvW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZGlmZlthdHRyXSA9IFtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICh0bzIuXy5zeCAtIF8uc3gpIC8gbXMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAodG8yLl8uc3kgLSBfLnN5KSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgKHRvMi5fLmRlZyAtIF8uZGVnKSAvIG1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgKHRvMi5fLmR4IC0gXy5keCkgLyBtcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICh0bzIuXy5keSAtIF8uZHkpIC8gbXNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3N2XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFN0cihwYXJhbXNbYXR0cl0pW3NwbGl0XShzZXBhcmF0b3IpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tMiA9IFN0cihmcm9tW2F0dHJdKVtzcGxpdF0oc2VwYXJhdG9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ciA9PSBcImNsaXAtcmVjdFwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyb21bYXR0cl0gPSBmcm9tMjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gZnJvbTIubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWZmW2F0dHJdW2ldID0gKHZhbHVlc1tpXSAtIGZyb21bYXR0cl1baV0pIC8gbXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9bYXR0cl0gPSB2YWx1ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlcyA9IFtdW2NvbmNhdF0ocGFyYW1zW2F0dHJdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmcm9tMiA9IFtdW2NvbmNhdF0oZnJvbVthdHRyXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBlbGVtZW50LnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbYXR0cl0ubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlmZlthdHRyXVtpXSA9ICgodmFsdWVzW2ldIHx8IDApIC0gKGZyb20yW2ldIHx8IDApKSAvIG1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBlYXNpbmcgPSBwYXJhbXMuZWFzaW5nLFxuICAgICAgICAgICAgICAgIGVhc3llYXN5ID0gUi5lYXNpbmdfZm9ybXVsYXNbZWFzaW5nXTtcbiAgICAgICAgICAgIGlmICghZWFzeWVhc3kpIHtcbiAgICAgICAgICAgICAgICBlYXN5ZWFzeSA9IFN0cihlYXNpbmcpLm1hdGNoKGJlemllcnJnKTtcbiAgICAgICAgICAgICAgICBpZiAoZWFzeWVhc3kgJiYgZWFzeWVhc3kubGVuZ3RoID09IDUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGN1cnZlID0gZWFzeWVhc3k7XG4gICAgICAgICAgICAgICAgICAgIGVhc3llYXN5ID0gZnVuY3Rpb24gKHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBDdWJpY0JlemllckF0VGltZSh0LCArY3VydmVbMV0sICtjdXJ2ZVsyXSwgK2N1cnZlWzNdLCArY3VydmVbNF0sIG1zKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlYXN5ZWFzeSA9IHBpcGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGltZXN0YW1wID0gcGFyYW1zLnN0YXJ0IHx8IGFuaW0uc3RhcnQgfHwgK25ldyBEYXRlO1xuICAgICAgICAgICAgZSA9IHtcbiAgICAgICAgICAgICAgICBhbmltOiBhbmltLFxuICAgICAgICAgICAgICAgIHBlcmNlbnQ6IHBlcmNlbnQsXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgc3RhcnQ6IHRpbWVzdGFtcCArIChhbmltLmRlbCB8fCAwKSxcbiAgICAgICAgICAgICAgICBzdGF0dXM6IDAsXG4gICAgICAgICAgICAgICAgaW5pdHN0YXR1czogc3RhdHVzIHx8IDAsXG4gICAgICAgICAgICAgICAgc3RvcDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbXM6IG1zLFxuICAgICAgICAgICAgICAgIGVhc2luZzogZWFzeWVhc3ksXG4gICAgICAgICAgICAgICAgZnJvbTogZnJvbSxcbiAgICAgICAgICAgICAgICBkaWZmOiBkaWZmLFxuICAgICAgICAgICAgICAgIHRvOiB0byxcbiAgICAgICAgICAgICAgICBlbDogZWxlbWVudCxcbiAgICAgICAgICAgICAgICBjYWxsYmFjazogcGFyYW1zLmNhbGxiYWNrLFxuICAgICAgICAgICAgICAgIHByZXY6IHByZXYsXG4gICAgICAgICAgICAgICAgbmV4dDogbmV4dCxcbiAgICAgICAgICAgICAgICByZXBlYXQ6IHRpbWVzIHx8IGFuaW0udGltZXMsXG4gICAgICAgICAgICAgICAgb3JpZ2luOiBlbGVtZW50LmF0dHIoKSxcbiAgICAgICAgICAgICAgICB0b3RhbE9yaWdpbjogdG90YWxPcmlnaW5cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5wdXNoKGUpO1xuICAgICAgICAgICAgaWYgKHN0YXR1cyAmJiAhaXNJbkFuaW0gJiYgIWlzSW5BbmltU2V0KSB7XG4gICAgICAgICAgICAgICAgZS5zdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBlLnN0YXJ0ID0gbmV3IERhdGUgLSBtcyAqIHN0YXR1cztcbiAgICAgICAgICAgICAgICBpZiAoYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFuaW1hdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChpc0luQW5pbVNldCkge1xuICAgICAgICAgICAgICAgIGUuc3RhcnQgPSBuZXcgRGF0ZSAtIGUubXMgKiBzdGF0dXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBhbmltYXRpb25FbGVtZW50cy5sZW5ndGggPT0gMSAmJiByZXF1ZXN0QW5pbUZyYW1lKGFuaW1hdGlvbik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpc0luQW5pbS5pbml0c3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgICAgaXNJbkFuaW0uc3RhcnQgPSBuZXcgRGF0ZSAtIGlzSW5BbmltLm1zICogc3RhdHVzO1xuICAgICAgICB9XG4gICAgICAgIGV2ZShcInJhcGhhZWwuYW5pbS5zdGFydC5cIiArIGVsZW1lbnQuaWQsIGVsZW1lbnQsIGFuaW0pO1xuICAgIH1cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5hbmltYXRpb25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENyZWF0ZXMgYW4gYW5pbWF0aW9uIG9iamVjdCB0aGF0IGNhbiBiZSBwYXNzZWQgdG8gdGhlIEBFbGVtZW50LmFuaW1hdGUgb3IgQEVsZW1lbnQuYW5pbWF0ZVdpdGggbWV0aG9kcy5cbiAgICAgKiBTZWUgYWxzbyBAQW5pbWF0aW9uLmRlbGF5IGFuZCBAQW5pbWF0aW9uLnJlcGVhdCBtZXRob2RzLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBwYXJhbXMgKG9iamVjdCkgZmluYWwgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnQsIHNlZSBhbHNvIEBFbGVtZW50LmF0dHJcbiAgICAgLSBtcyAobnVtYmVyKSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciBhbmltYXRpb24gdG8gcnVuXG4gICAgIC0gZWFzaW5nIChzdHJpbmcpICNvcHRpb25hbCBlYXNpbmcgdHlwZS4gQWNjZXB0IG9uZSBvZiBAUmFwaGFlbC5lYXNpbmdfZm9ybXVsYXMgb3IgQ1NTIGZvcm1hdDogYGN1YmljJiN4MjAxMDtiZXppZXIoWFgsJiMxNjA7WFgsJiMxNjA7WFgsJiMxNjA7WFgpYFxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uLiBXaWxsIGJlIGNhbGxlZCBhdCB0aGUgZW5kIG9mIGFuaW1hdGlvbi5cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBAQW5pbWF0aW9uXG4gICAgXFwqL1xuICAgIFIuYW5pbWF0aW9uID0gZnVuY3Rpb24gKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgaWYgKHBhcmFtcyBpbnN0YW5jZW9mIEFuaW1hdGlvbikge1xuICAgICAgICAgICAgcmV0dXJuIHBhcmFtcztcbiAgICAgICAgfVxuICAgICAgICBpZiAoUi5pcyhlYXNpbmcsIFwiZnVuY3Rpb25cIikgfHwgIWVhc2luZykge1xuICAgICAgICAgICAgY2FsbGJhY2sgPSBjYWxsYmFjayB8fCBlYXNpbmcgfHwgbnVsbDtcbiAgICAgICAgICAgIGVhc2luZyA9IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcGFyYW1zID0gT2JqZWN0KHBhcmFtcyk7XG4gICAgICAgIG1zID0gK21zIHx8IDA7XG4gICAgICAgIHZhciBwID0ge30sXG4gICAgICAgICAgICBqc29uLFxuICAgICAgICAgICAgYXR0cjtcbiAgICAgICAgZm9yIChhdHRyIGluIHBhcmFtcykgaWYgKHBhcmFtc1toYXNdKGF0dHIpICYmIHRvRmxvYXQoYXR0cikgIT0gYXR0ciAmJiB0b0Zsb2F0KGF0dHIpICsgXCIlXCIgIT0gYXR0cikge1xuICAgICAgICAgICAganNvbiA9IHRydWU7XG4gICAgICAgICAgICBwW2F0dHJdID0gcGFyYW1zW2F0dHJdO1xuICAgICAgICB9XG4gICAgICAgIGlmICghanNvbikge1xuICAgICAgICAgICAgLy8gaWYgcGVyY2VudC1saWtlIHN5bnRheCBpcyB1c2VkIGFuZCBlbmQtb2YtYWxsIGFuaW1hdGlvbiBjYWxsYmFjayB1c2VkXG4gICAgICAgICAgICBpZihjYWxsYmFjayl7XG4gICAgICAgICAgICAgICAgLy8gZmluZCB0aGUgbGFzdCBvbmVcbiAgICAgICAgICAgICAgICB2YXIgbGFzdEtleSA9IDA7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBpIGluIHBhcmFtcyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwZXJjZW50ID0gdG9JbnQoaSk7XG4gICAgICAgICAgICAgICAgICAgIGlmKHBhcmFtc1toYXNdKGkpICYmIHBlcmNlbnQgPiBsYXN0S2V5KXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RLZXkgPSBwZXJjZW50O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxhc3RLZXkgKz0gJyUnO1xuICAgICAgICAgICAgICAgIC8vIGlmIGFscmVhZHkgZGVmaW5lZCBjYWxsYmFjayBpbiB0aGUgbGFzdCBrZXlmcmFtZSwgc2tpcFxuICAgICAgICAgICAgICAgICFwYXJhbXNbbGFzdEtleV0uY2FsbGJhY2sgJiYgKHBhcmFtc1tsYXN0S2V5XS5jYWxsYmFjayA9IGNhbGxiYWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbihwYXJhbXMsIG1zKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGVhc2luZyAmJiAocC5lYXNpbmcgPSBlYXNpbmcpO1xuICAgICAgICAgICAgY2FsbGJhY2sgJiYgKHAuY2FsbGJhY2sgPSBjYWxsYmFjayk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEFuaW1hdGlvbih7MTAwOiBwfSwgbXMpO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5hbmltYXRlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIGFuZCBzdGFydHMgYW5pbWF0aW9uIGZvciBnaXZlbiBlbGVtZW50LlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBwYXJhbXMgKG9iamVjdCkgZmluYWwgYXR0cmlidXRlcyBmb3IgdGhlIGVsZW1lbnQsIHNlZSBhbHNvIEBFbGVtZW50LmF0dHJcbiAgICAgLSBtcyAobnVtYmVyKSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGZvciBhbmltYXRpb24gdG8gcnVuXG4gICAgIC0gZWFzaW5nIChzdHJpbmcpICNvcHRpb25hbCBlYXNpbmcgdHlwZS4gQWNjZXB0IG9uZSBvZiBAUmFwaGFlbC5lYXNpbmdfZm9ybXVsYXMgb3IgQ1NTIGZvcm1hdDogYGN1YmljJiN4MjAxMDtiZXppZXIoWFgsJiMxNjA7WFgsJiMxNjA7WFgsJiMxNjA7WFgpYFxuICAgICAtIGNhbGxiYWNrIChmdW5jdGlvbikgI29wdGlvbmFsIGNhbGxiYWNrIGZ1bmN0aW9uLiBXaWxsIGJlIGNhbGxlZCBhdCB0aGUgZW5kIG9mIGFuaW1hdGlvbi5cbiAgICAgKiBvclxuICAgICAtIGFuaW1hdGlvbiAob2JqZWN0KSBhbmltYXRpb24gb2JqZWN0LCBzZWUgQFJhcGhhZWwuYW5pbWF0aW9uXG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLmFuaW1hdGUgPSBmdW5jdGlvbiAocGFyYW1zLCBtcywgZWFzaW5nLCBjYWxsYmFjaykge1xuICAgICAgICB2YXIgZWxlbWVudCA9IHRoaXM7XG4gICAgICAgIGlmIChlbGVtZW50LnJlbW92ZWQpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrLmNhbGwoZWxlbWVudCk7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYW5pbSA9IHBhcmFtcyBpbnN0YW5jZW9mIEFuaW1hdGlvbiA/IHBhcmFtcyA6IFIuYW5pbWF0aW9uKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spO1xuICAgICAgICBydW5BbmltYXRpb24oYW5pbSwgZWxlbWVudCwgYW5pbS5wZXJjZW50c1swXSwgbnVsbCwgZWxlbWVudC5hdHRyKCkpO1xuICAgICAgICByZXR1cm4gZWxlbWVudDtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnNldFRpbWVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNldHMgdGhlIHN0YXR1cyBvZiBhbmltYXRpb24gb2YgdGhlIGVsZW1lbnQgaW4gbWlsbGlzZWNvbmRzLiBTaW1pbGFyIHRvIEBFbGVtZW50LnN0YXR1cyBtZXRob2QuXG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGFuaW0gKG9iamVjdCkgYW5pbWF0aW9uIG9iamVjdFxuICAgICAtIHZhbHVlIChudW1iZXIpIG51bWJlciBvZiBtaWxsaXNlY29uZHMgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhbmltYXRpb25cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBvcmlnaW5hbCBlbGVtZW50IGlmIGB2YWx1ZWAgaXMgc3BlY2lmaWVkXG4gICAgICogTm90ZSwgdGhhdCBkdXJpbmcgYW5pbWF0aW9uIGZvbGxvd2luZyBldmVudHMgYXJlIHRyaWdnZXJlZDpcbiAgICAgKlxuICAgICAqIE9uIGVhY2ggYW5pbWF0aW9uIGZyYW1lIGV2ZW50IGBhbmltLmZyYW1lLjxpZD5gLCBvbiBzdGFydCBgYW5pbS5zdGFydC48aWQ+YCBhbmQgb24gZW5kIGBhbmltLmZpbmlzaC48aWQ+YC5cbiAgICBcXCovXG4gICAgZWxwcm90by5zZXRUaW1lID0gZnVuY3Rpb24gKGFuaW0sIHZhbHVlKSB7XG4gICAgICAgIGlmIChhbmltICYmIHZhbHVlICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMuc3RhdHVzKGFuaW0sIG1taW4odmFsdWUsIGFuaW0ubXMpIC8gYW5pbS5tcyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zdGF0dXNcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEdldHMgb3Igc2V0cyB0aGUgc3RhdHVzIG9mIGFuaW1hdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gYW5pbSAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdFxuICAgICAtIHZhbHVlIChudW1iZXIpICNvcHRpb25hbCAwIOKAkyAxLiBJZiBzcGVjaWZpZWQsIG1ldGhvZCB3b3JrcyBsaWtlIGEgc2V0dGVyIGFuZCBzZXRzIHRoZSBzdGF0dXMgb2YgYSBnaXZlbiBhbmltYXRpb24gdG8gdGhlIHZhbHVlLiBUaGlzIHdpbGwgY2F1c2UgYW5pbWF0aW9uIHRvIGp1bXAgdG8gdGhlIGdpdmVuIHBvc2l0aW9uLlxuICAgICAqKlxuICAgICA9IChudW1iZXIpIHN0YXR1c1xuICAgICAqIG9yXG4gICAgID0gKGFycmF5KSBzdGF0dXMgaWYgYGFuaW1gIGlzIG5vdCBzcGVjaWZpZWQuIEFycmF5IG9mIG9iamVjdHMgaW4gZm9ybWF0OlxuICAgICBvIHtcbiAgICAgbyAgICAgYW5pbTogKG9iamVjdCkgYW5pbWF0aW9uIG9iamVjdFxuICAgICBvICAgICBzdGF0dXM6IChudW1iZXIpIHN0YXR1c1xuICAgICBvIH1cbiAgICAgKiBvclxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnQgaWYgYHZhbHVlYCBpcyBzcGVjaWZpZWRcbiAgICBcXCovXG4gICAgZWxwcm90by5zdGF0dXMgPSBmdW5jdGlvbiAoYW5pbSwgdmFsdWUpIHtcbiAgICAgICAgdmFyIG91dCA9IFtdLFxuICAgICAgICAgICAgaSA9IDAsXG4gICAgICAgICAgICBsZW4sXG4gICAgICAgICAgICBlO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgcnVuQW5pbWF0aW9uKGFuaW0sIHRoaXMsIC0xLCBtbWluKHZhbHVlLCAxKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGxlbiA9IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICAgICAgICBlID0gYW5pbWF0aW9uRWxlbWVudHNbaV07XG4gICAgICAgICAgICAgICAgaWYgKGUuZWwuaWQgPT0gdGhpcy5pZCAmJiAoIWFuaW0gfHwgZS5hbmltID09IGFuaW0pKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhbmltKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZS5zdGF0dXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5pbTogZS5hbmltLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RhdHVzOiBlLnN0YXR1c1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYW5pbSkge1xuICAgICAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQucGF1c2VcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFN0b3BzIGFuaW1hdGlvbiBvZiB0aGUgZWxlbWVudCB3aXRoIGFiaWxpdHkgdG8gcmVzdW1lIGl0IGxhdGVyIG9uLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBhbmltIChvYmplY3QpICNvcHRpb25hbCBhbmltYXRpb24gb2JqZWN0XG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnBhdXNlID0gZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkrKykgaWYgKGFuaW1hdGlvbkVsZW1lbnRzW2ldLmVsLmlkID09IHRoaXMuaWQgJiYgKCFhbmltIHx8IGFuaW1hdGlvbkVsZW1lbnRzW2ldLmFuaW0gPT0gYW5pbSkpIHtcbiAgICAgICAgICAgIGlmIChldmUoXCJyYXBoYWVsLmFuaW0ucGF1c2UuXCIgKyB0aGlzLmlkLCB0aGlzLCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltKSAhPT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBhbmltYXRpb25FbGVtZW50c1tpXS5wYXVzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQucmVzdW1lXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXN1bWVzIGFuaW1hdGlvbiBpZiBpdCB3YXMgcGF1c2VkIHdpdGggQEVsZW1lbnQucGF1c2UgbWV0aG9kLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBhbmltIChvYmplY3QpICNvcHRpb25hbCBhbmltYXRpb24gb2JqZWN0XG4gICAgICoqXG4gICAgID0gKG9iamVjdCkgb3JpZ2luYWwgZWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJlc3VtZSA9IGZ1bmN0aW9uIChhbmltKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYW5pbWF0aW9uRWxlbWVudHMubGVuZ3RoOyBpKyspIGlmIChhbmltYXRpb25FbGVtZW50c1tpXS5lbC5pZCA9PSB0aGlzLmlkICYmICghYW5pbSB8fCBhbmltYXRpb25FbGVtZW50c1tpXS5hbmltID09IGFuaW0pKSB7XG4gICAgICAgICAgICB2YXIgZSA9IGFuaW1hdGlvbkVsZW1lbnRzW2ldO1xuICAgICAgICAgICAgaWYgKGV2ZShcInJhcGhhZWwuYW5pbS5yZXN1bWUuXCIgKyB0aGlzLmlkLCB0aGlzLCBlLmFuaW0pICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBlLnBhdXNlZDtcbiAgICAgICAgICAgICAgICB0aGlzLnN0YXR1cyhlLmFuaW0sIGUuc3RhdHVzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnN0b3BcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFN0b3BzIGFuaW1hdGlvbiBvZiB0aGUgZWxlbWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gYW5pbSAob2JqZWN0KSAjb3B0aW9uYWwgYW5pbWF0aW9uIG9iamVjdFxuICAgICAqKlxuICAgICA9IChvYmplY3QpIG9yaWdpbmFsIGVsZW1lbnRcbiAgICBcXCovXG4gICAgZWxwcm90by5zdG9wID0gZnVuY3Rpb24gKGFuaW0pIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhbmltYXRpb25FbGVtZW50cy5sZW5ndGg7IGkrKykgaWYgKGFuaW1hdGlvbkVsZW1lbnRzW2ldLmVsLmlkID09IHRoaXMuaWQgJiYgKCFhbmltIHx8IGFuaW1hdGlvbkVsZW1lbnRzW2ldLmFuaW0gPT0gYW5pbSkpIHtcbiAgICAgICAgICAgIGlmIChldmUoXCJyYXBoYWVsLmFuaW0uc3RvcC5cIiArIHRoaXMuaWQsIHRoaXMsIGFuaW1hdGlvbkVsZW1lbnRzW2ldLmFuaW0pICE9PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGFuaW1hdGlvbkVsZW1lbnRzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZnVuY3Rpb24gc3RvcEFuaW1hdGlvbihwYXBlcikge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFuaW1hdGlvbkVsZW1lbnRzLmxlbmd0aDsgaSsrKSBpZiAoYW5pbWF0aW9uRWxlbWVudHNbaV0uZWwucGFwZXIgPT0gcGFwZXIpIHtcbiAgICAgICAgICAgIGFuaW1hdGlvbkVsZW1lbnRzLnNwbGljZShpLS0sIDEpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGV2ZS5vbihcInJhcGhhZWwucmVtb3ZlXCIsIHN0b3BBbmltYXRpb24pO1xuICAgIGV2ZS5vbihcInJhcGhhZWwuY2xlYXJcIiwgc3RvcEFuaW1hdGlvbik7XG4gICAgZWxwcm90by50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIFwiUmFwaGFcXHhlYmxcXHUyMDE5cyBvYmplY3RcIjtcbiAgICB9O1xuXG4gICAgLy8gU2V0XG4gICAgdmFyIFNldCA9IGZ1bmN0aW9uIChpdGVtcykge1xuICAgICAgICB0aGlzLml0ZW1zID0gW107XG4gICAgICAgIHRoaXMubGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy50eXBlID0gXCJzZXRcIjtcbiAgICAgICAgaWYgKGl0ZW1zKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBpdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1zW2ldICYmIChpdGVtc1tpXS5jb25zdHJ1Y3RvciA9PSBlbHByb3RvLmNvbnN0cnVjdG9yIHx8IGl0ZW1zW2ldLmNvbnN0cnVjdG9yID09IFNldCkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1t0aGlzLml0ZW1zLmxlbmd0aF0gPSB0aGlzLml0ZW1zW3RoaXMuaXRlbXMubGVuZ3RoXSA9IGl0ZW1zW2ldO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG4gICAgc2V0cHJvdG8gPSBTZXQucHJvdG90eXBlO1xuICAgIC8qXFxcbiAgICAgKiBTZXQucHVzaFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQWRkcyBlYWNoIGFyZ3VtZW50IHRvIHRoZSBjdXJyZW50IHNldC5cbiAgICAgPSAob2JqZWN0KSBvcmlnaW5hbCBlbGVtZW50XG4gICAgXFwqL1xuICAgIHNldHByb3RvLnB1c2ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBpdGVtLFxuICAgICAgICAgICAgbGVuO1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBhcmd1bWVudHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgaXRlbSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgICAgIGlmIChpdGVtICYmIChpdGVtLmNvbnN0cnVjdG9yID09IGVscHJvdG8uY29uc3RydWN0b3IgfHwgaXRlbS5jb25zdHJ1Y3RvciA9PSBTZXQpKSB7XG4gICAgICAgICAgICAgICAgbGVuID0gdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpc1tsZW5dID0gdGhpcy5pdGVtc1tsZW5dID0gaXRlbTtcbiAgICAgICAgICAgICAgICB0aGlzLmxlbmd0aCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFNldC5wb3BcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgbGFzdCBlbGVtZW50IGFuZCByZXR1cm5zIGl0LlxuICAgICA9IChvYmplY3QpIGVsZW1lbnRcbiAgICBcXCovXG4gICAgc2V0cHJvdG8ucG9wID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmxlbmd0aCAmJiBkZWxldGUgdGhpc1t0aGlzLmxlbmd0aC0tXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXRlbXMucG9wKCk7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogU2V0LmZvckVhY2hcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEV4ZWN1dGVzIGdpdmVuIGZ1bmN0aW9uIGZvciBlYWNoIGVsZW1lbnQgaW4gdGhlIHNldC5cbiAgICAgKlxuICAgICAqIElmIGZ1bmN0aW9uIHJldHVybnMgYGZhbHNlYCBpdCB3aWxsIHN0b3AgbG9vcCBydW5uaW5nLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBjYWxsYmFjayAoZnVuY3Rpb24pIGZ1bmN0aW9uIHRvIHJ1blxuICAgICAtIHRoaXNBcmcgKG9iamVjdCkgY29udGV4dCBvYmplY3QgZm9yIHRoZSBjYWxsYmFja1xuICAgICA9IChvYmplY3QpIFNldCBvYmplY3RcbiAgICBcXCovXG4gICAgc2V0cHJvdG8uZm9yRWFjaCA9IGZ1bmN0aW9uIChjYWxsYmFjaywgdGhpc0FyZykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLml0ZW1zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMuaXRlbXNbaV0sIGkpID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSkge1xuICAgICAgICBzZXRwcm90b1ttZXRob2RdID0gKGZ1bmN0aW9uIChtZXRob2RuYW1lKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHZhciBhcmcgPSBhcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZWxbbWV0aG9kbmFtZV1bYXBwbHldKGVsLCBhcmcpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkobWV0aG9kKTtcbiAgICB9XG4gICAgc2V0cHJvdG8uYXR0ciA9IGZ1bmN0aW9uIChuYW1lLCB2YWx1ZSkge1xuICAgICAgICBpZiAobmFtZSAmJiBSLmlzKG5hbWUsIGFycmF5KSAmJiBSLmlzKG5hbWVbMF0sIFwib2JqZWN0XCIpKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBqID0gMCwgamogPSBuYW1lLmxlbmd0aDsgaiA8IGpqOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zW2pdLmF0dHIobmFtZVtqXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLml0ZW1zLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1zW2ldLmF0dHIobmFtZSwgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFNldC5jbGVhclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSB0aGUgc2V0XG4gICAgXFwqL1xuICAgIHNldHByb3RvLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB3aGlsZSAodGhpcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHRoaXMucG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBTZXQuc3BsaWNlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZW1vdmVzIGdpdmVuIGVsZW1lbnQgZnJvbSB0aGUgc2V0XG4gICAgICoqXG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAqKlxuICAgICAtIGluZGV4IChudW1iZXIpIHBvc2l0aW9uIG9mIHRoZSBkZWxldGlvblxuICAgICAtIGNvdW50IChudW1iZXIpIG51bWJlciBvZiBlbGVtZW50IHRvIHJlbW92ZVxuICAgICAtIGluc2VydGlvbuKApiAob2JqZWN0KSAjb3B0aW9uYWwgZWxlbWVudHMgdG8gaW5zZXJ0XG4gICAgID0gKG9iamVjdCkgc2V0IGVsZW1lbnRzIHRoYXQgd2VyZSBkZWxldGVkXG4gICAgXFwqL1xuICAgIHNldHByb3RvLnNwbGljZSA9IGZ1bmN0aW9uIChpbmRleCwgY291bnQsIGluc2VydGlvbikge1xuICAgICAgICBpbmRleCA9IGluZGV4IDwgMCA/IG1tYXgodGhpcy5sZW5ndGggKyBpbmRleCwgMCkgOiBpbmRleDtcbiAgICAgICAgY291bnQgPSBtbWF4KDAsIG1taW4odGhpcy5sZW5ndGggLSBpbmRleCwgY291bnQpKTtcbiAgICAgICAgdmFyIHRhaWwgPSBbXSxcbiAgICAgICAgICAgIHRvZGVsID0gW10sXG4gICAgICAgICAgICBhcmdzID0gW10sXG4gICAgICAgICAgICBpO1xuICAgICAgICBmb3IgKGkgPSAyOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgICAgICAgdG9kZWwucHVzaCh0aGlzW2luZGV4ICsgaV0pO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoOyBpIDwgdGhpcy5sZW5ndGggLSBpbmRleDsgaSsrKSB7XG4gICAgICAgICAgICB0YWlsLnB1c2godGhpc1tpbmRleCArIGldKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYXJnbGVuID0gYXJncy5sZW5ndGg7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBhcmdsZW4gKyB0YWlsLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLml0ZW1zW2luZGV4ICsgaV0gPSB0aGlzW2luZGV4ICsgaV0gPSBpIDwgYXJnbGVuID8gYXJnc1tpXSA6IHRhaWxbaSAtIGFyZ2xlbl07XG4gICAgICAgIH1cbiAgICAgICAgaSA9IHRoaXMuaXRlbXMubGVuZ3RoID0gdGhpcy5sZW5ndGggLT0gY291bnQgLSBhcmdsZW47XG4gICAgICAgIHdoaWxlICh0aGlzW2ldKSB7XG4gICAgICAgICAgICBkZWxldGUgdGhpc1tpKytdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU2V0KHRvZGVsKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBTZXQuZXhjbHVkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBnaXZlbiBlbGVtZW50IGZyb20gdGhlIHNldFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBlbGVtZW50IChvYmplY3QpIGVsZW1lbnQgdG8gcmVtb3ZlXG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCBpZiBvYmplY3Qgd2FzIGZvdW5kICYgcmVtb3ZlZCBmcm9tIHRoZSBzZXRcbiAgICBcXCovXG4gICAgc2V0cHJvdG8uZXhjbHVkZSA9IGZ1bmN0aW9uIChlbCkge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSB0aGlzLmxlbmd0aDsgaSA8IGlpOyBpKyspIGlmICh0aGlzW2ldID09IGVsKSB7XG4gICAgICAgICAgICB0aGlzLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfTtcbiAgICBzZXRwcm90by5hbmltYXRlID0gZnVuY3Rpb24gKHBhcmFtcywgbXMsIGVhc2luZywgY2FsbGJhY2spIHtcbiAgICAgICAgKFIuaXMoZWFzaW5nLCBcImZ1bmN0aW9uXCIpIHx8ICFlYXNpbmcpICYmIChjYWxsYmFjayA9IGVhc2luZyB8fCBudWxsKTtcbiAgICAgICAgdmFyIGxlbiA9IHRoaXMuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaSA9IGxlbixcbiAgICAgICAgICAgIGl0ZW0sXG4gICAgICAgICAgICBzZXQgPSB0aGlzLFxuICAgICAgICAgICAgY29sbGVjdG9yO1xuICAgICAgICBpZiAoIWxlbikge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgY2FsbGJhY2sgJiYgKGNvbGxlY3RvciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICEtLWxlbiAmJiBjYWxsYmFjay5jYWxsKHNldCk7XG4gICAgICAgIH0pO1xuICAgICAgICBlYXNpbmcgPSBSLmlzKGVhc2luZywgc3RyaW5nKSA/IGVhc2luZyA6IGNvbGxlY3RvcjtcbiAgICAgICAgdmFyIGFuaW0gPSBSLmFuaW1hdGlvbihwYXJhbXMsIG1zLCBlYXNpbmcsIGNvbGxlY3Rvcik7XG4gICAgICAgIGl0ZW0gPSB0aGlzLml0ZW1zWy0taV0uYW5pbWF0ZShhbmltKTtcbiAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgdGhpcy5pdGVtc1tpXSAmJiAhdGhpcy5pdGVtc1tpXS5yZW1vdmVkICYmIHRoaXMuaXRlbXNbaV0uYW5pbWF0ZVdpdGgoaXRlbSwgYW5pbSwgYW5pbSk7XG4gICAgICAgICAgICAodGhpcy5pdGVtc1tpXSAmJiAhdGhpcy5pdGVtc1tpXS5yZW1vdmVkKSB8fCBsZW4tLTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIHNldHByb3RvLmluc2VydEFmdGVyID0gZnVuY3Rpb24gKGVsKSB7XG4gICAgICAgIHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGg7XG4gICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgIHRoaXMuaXRlbXNbaV0uaW5zZXJ0QWZ0ZXIoZWwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgc2V0cHJvdG8uZ2V0QkJveCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHggPSBbXSxcbiAgICAgICAgICAgIHkgPSBbXSxcbiAgICAgICAgICAgIHgyID0gW10sXG4gICAgICAgICAgICB5MiA9IFtdO1xuICAgICAgICBmb3IgKHZhciBpID0gdGhpcy5pdGVtcy5sZW5ndGg7IGktLTspIGlmICghdGhpcy5pdGVtc1tpXS5yZW1vdmVkKSB7XG4gICAgICAgICAgICB2YXIgYm94ID0gdGhpcy5pdGVtc1tpXS5nZXRCQm94KCk7XG4gICAgICAgICAgICB4LnB1c2goYm94LngpO1xuICAgICAgICAgICAgeS5wdXNoKGJveC55KTtcbiAgICAgICAgICAgIHgyLnB1c2goYm94LnggKyBib3gud2lkdGgpO1xuICAgICAgICAgICAgeTIucHVzaChib3gueSArIGJveC5oZWlnaHQpO1xuICAgICAgICB9XG4gICAgICAgIHggPSBtbWluW2FwcGx5XSgwLCB4KTtcbiAgICAgICAgeSA9IG1taW5bYXBwbHldKDAsIHkpO1xuICAgICAgICB4MiA9IG1tYXhbYXBwbHldKDAsIHgyKTtcbiAgICAgICAgeTIgPSBtbWF4W2FwcGx5XSgwLCB5Mik7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeSxcbiAgICAgICAgICAgIHgyOiB4MixcbiAgICAgICAgICAgIHkyOiB5MixcbiAgICAgICAgICAgIHdpZHRoOiB4MiAtIHgsXG4gICAgICAgICAgICBoZWlnaHQ6IHkyIC0geVxuICAgICAgICB9O1xuICAgIH07XG4gICAgc2V0cHJvdG8uY2xvbmUgPSBmdW5jdGlvbiAocykge1xuICAgICAgICBzID0gdGhpcy5wYXBlci5zZXQoKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gdGhpcy5pdGVtcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBzLnB1c2godGhpcy5pdGVtc1tpXS5jbG9uZSgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9O1xuICAgIHNldHByb3RvLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gXCJSYXBoYVxceGVibFxcdTIwMThzIHNldFwiO1xuICAgIH07XG5cbiAgICBzZXRwcm90by5nbG93ID0gZnVuY3Rpb24oZ2xvd0NvbmZpZykge1xuICAgICAgICB2YXIgcmV0ID0gdGhpcy5wYXBlci5zZXQoKTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHNoYXBlLCBpbmRleCl7XG4gICAgICAgICAgICB2YXIgZyA9IHNoYXBlLmdsb3coZ2xvd0NvbmZpZyk7XG4gICAgICAgICAgICBpZihnICE9IG51bGwpe1xuICAgICAgICAgICAgICAgIGcuZm9yRWFjaChmdW5jdGlvbihzaGFwZTIsIGluZGV4Mil7XG4gICAgICAgICAgICAgICAgICAgIHJldC5wdXNoKHNoYXBlMik7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cblxuICAgIC8qXFxcbiAgICAgKiBTZXQuaXNQb2ludEluc2lkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRGV0ZXJtaW5lIGlmIGdpdmVuIHBvaW50IGlzIGluc2lkZSB0aGlzIHNldOKAmXMgZWxlbWVudHNcbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0geCAobnVtYmVyKSB4IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgIC0geSAobnVtYmVyKSB5IGNvb3JkaW5hdGUgb2YgdGhlIHBvaW50XG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCBpZiBwb2ludCBpcyBpbnNpZGUgYW55IG9mIHRoZSBzZXQncyBlbGVtZW50c1xuICAgICBcXCovXG4gICAgc2V0cHJvdG8uaXNQb2ludEluc2lkZSA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgIHZhciBpc1BvaW50SW5zaWRlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgICAgICAgIGlmIChlbC5pc1BvaW50SW5zaWRlKHgsIHkpKSB7XG4gICAgICAgICAgICAgICAgaXNQb2ludEluc2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzdG9wIGxvb3BcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBpc1BvaW50SW5zaWRlO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5yZWdpc3RlckZvbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgZ2l2ZW4gZm9udCB0byB0aGUgcmVnaXN0ZXJlZCBzZXQgb2YgZm9udHMgZm9yIFJhcGhhw6tsLiBTaG91bGQgYmUgdXNlZCBhcyBhbiBpbnRlcm5hbCBjYWxsIGZyb20gd2l0aGluIEN1ZsOzbuKAmXMgZm9udCBmaWxlLlxuICAgICAqIFJldHVybnMgb3JpZ2luYWwgcGFyYW1ldGVyLCBzbyBpdCBjb3VsZCBiZSB1c2VkIHdpdGggY2hhaW5pbmcuXG4gICAgICMgPGEgaHJlZj1cImh0dHA6Ly93aWtpLmdpdGh1Yi5jb20vc29yY2N1L2N1Zm9uL2Fib3V0XCI+TW9yZSBhYm91dCBDdWbDs24gYW5kIGhvdyB0byBjb252ZXJ0IHlvdXIgZm9udCBmb3JtIFRURiwgT1RGLCBldGMgdG8gSmF2YVNjcmlwdCBmaWxlLjwvYT5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gZm9udCAob2JqZWN0KSB0aGUgZm9udCB0byByZWdpc3RlclxuICAgICA9IChvYmplY3QpIHRoZSBmb250IHlvdSBwYXNzZWQgaW5cbiAgICAgPiBVc2FnZVxuICAgICB8IEN1Zm9uLnJlZ2lzdGVyRm9udChSYXBoYWVsLnJlZ2lzdGVyRm9udCh74oCmfSkpO1xuICAgIFxcKi9cbiAgICBSLnJlZ2lzdGVyRm9udCA9IGZ1bmN0aW9uIChmb250KSB7XG4gICAgICAgIGlmICghZm9udC5mYWNlKSB7XG4gICAgICAgICAgICByZXR1cm4gZm9udDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmZvbnRzID0gdGhpcy5mb250cyB8fCB7fTtcbiAgICAgICAgdmFyIGZvbnRjb3B5ID0ge1xuICAgICAgICAgICAgICAgIHc6IGZvbnQudyxcbiAgICAgICAgICAgICAgICBmYWNlOiB7fSxcbiAgICAgICAgICAgICAgICBnbHlwaHM6IHt9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFtaWx5ID0gZm9udC5mYWNlW1wiZm9udC1mYW1pbHlcIl07XG4gICAgICAgIGZvciAodmFyIHByb3AgaW4gZm9udC5mYWNlKSBpZiAoZm9udC5mYWNlW2hhc10ocHJvcCkpIHtcbiAgICAgICAgICAgIGZvbnRjb3B5LmZhY2VbcHJvcF0gPSBmb250LmZhY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuZm9udHNbZmFtaWx5XSkge1xuICAgICAgICAgICAgdGhpcy5mb250c1tmYW1pbHldLnB1c2goZm9udGNvcHkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5mb250c1tmYW1pbHldID0gW2ZvbnRjb3B5XTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWZvbnQuc3ZnKSB7XG4gICAgICAgICAgICBmb250Y29weS5mYWNlW1widW5pdHMtcGVyLWVtXCJdID0gdG9JbnQoZm9udC5mYWNlW1widW5pdHMtcGVyLWVtXCJdLCAxMCk7XG4gICAgICAgICAgICBmb3IgKHZhciBnbHlwaCBpbiBmb250LmdseXBocykgaWYgKGZvbnQuZ2x5cGhzW2hhc10oZ2x5cGgpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGggPSBmb250LmdseXBoc1tnbHlwaF07XG4gICAgICAgICAgICAgICAgZm9udGNvcHkuZ2x5cGhzW2dseXBoXSA9IHtcbiAgICAgICAgICAgICAgICAgICAgdzogcGF0aC53LFxuICAgICAgICAgICAgICAgICAgICBrOiB7fSxcbiAgICAgICAgICAgICAgICAgICAgZDogcGF0aC5kICYmIFwiTVwiICsgcGF0aC5kLnJlcGxhY2UoL1ttbGN4dHJ2XS9nLCBmdW5jdGlvbiAoY29tbWFuZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7bDogXCJMXCIsIGM6IFwiQ1wiLCB4OiBcInpcIiwgdDogXCJtXCIsIHI6IFwibFwiLCB2OiBcImNcIn1bY29tbWFuZF0gfHwgXCJNXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KSArIFwielwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocGF0aC5rKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGsgaW4gcGF0aC5rKSBpZiAocGF0aFtoYXNdKGspKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmb250Y29weS5nbHlwaHNbZ2x5cGhdLmtba10gPSBwYXRoLmtba107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvbnQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUGFwZXIuZ2V0Rm9udFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRmluZHMgZm9udCBvYmplY3QgaW4gdGhlIHJlZ2lzdGVyZWQgZm9udHMgYnkgZ2l2ZW4gcGFyYW1ldGVycy4gWW91IGNvdWxkIHNwZWNpZnkgb25seSBvbmUgd29yZCBmcm9tIHRoZSBmb250IG5hbWUsIGxpa2Ug4oCcTXlyaWFk4oCdIGZvciDigJxNeXJpYWQgUHJv4oCdLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBmYW1pbHkgKHN0cmluZykgZm9udCBmYW1pbHkgbmFtZSBvciBhbnkgd29yZCBmcm9tIGl0XG4gICAgIC0gd2VpZ2h0IChzdHJpbmcpICNvcHRpb25hbCBmb250IHdlaWdodFxuICAgICAtIHN0eWxlIChzdHJpbmcpICNvcHRpb25hbCBmb250IHN0eWxlXG4gICAgIC0gc3RyZXRjaCAoc3RyaW5nKSAjb3B0aW9uYWwgZm9udCBzdHJldGNoXG4gICAgID0gKG9iamVjdCkgdGhlIGZvbnQgb2JqZWN0XG4gICAgID4gVXNhZ2VcbiAgICAgfCBwYXBlci5wcmludCgxMDAsIDEwMCwgXCJUZXN0IHN0cmluZ1wiLCBwYXBlci5nZXRGb250KFwiVGltZXNcIiwgODAwKSwgMzApO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmdldEZvbnQgPSBmdW5jdGlvbiAoZmFtaWx5LCB3ZWlnaHQsIHN0eWxlLCBzdHJldGNoKSB7XG4gICAgICAgIHN0cmV0Y2ggPSBzdHJldGNoIHx8IFwibm9ybWFsXCI7XG4gICAgICAgIHN0eWxlID0gc3R5bGUgfHwgXCJub3JtYWxcIjtcbiAgICAgICAgd2VpZ2h0ID0gK3dlaWdodCB8fCB7bm9ybWFsOiA0MDAsIGJvbGQ6IDcwMCwgbGlnaHRlcjogMzAwLCBib2xkZXI6IDgwMH1bd2VpZ2h0XSB8fCA0MDA7XG4gICAgICAgIGlmICghUi5mb250cykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBmb250ID0gUi5mb250c1tmYW1pbHldO1xuICAgICAgICBpZiAoIWZvbnQpIHtcbiAgICAgICAgICAgIHZhciBuYW1lID0gbmV3IFJlZ0V4cChcIihefFxcXFxzKVwiICsgZmFtaWx5LnJlcGxhY2UoL1teXFx3XFxkXFxzKyF+LjpfLV0vZywgRSkgKyBcIihcXFxcc3wkKVwiLCBcImlcIik7XG4gICAgICAgICAgICBmb3IgKHZhciBmb250TmFtZSBpbiBSLmZvbnRzKSBpZiAoUi5mb250c1toYXNdKGZvbnROYW1lKSkge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lLnRlc3QoZm9udE5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvbnQgPSBSLmZvbnRzW2ZvbnROYW1lXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB0aGVmb250O1xuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gZm9udC5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgdGhlZm9udCA9IGZvbnRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRoZWZvbnQuZmFjZVtcImZvbnQtd2VpZ2h0XCJdID09IHdlaWdodCAmJiAodGhlZm9udC5mYWNlW1wiZm9udC1zdHlsZVwiXSA9PSBzdHlsZSB8fCAhdGhlZm9udC5mYWNlW1wiZm9udC1zdHlsZVwiXSkgJiYgdGhlZm9udC5mYWNlW1wiZm9udC1zdHJldGNoXCJdID09IHN0cmV0Y2gpIHtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGVmb250O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnByaW50XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBDcmVhdGVzIHBhdGggdGhhdCByZXByZXNlbnQgZ2l2ZW4gdGV4dCB3cml0dGVuIHVzaW5nIGdpdmVuIGZvbnQgYXQgZ2l2ZW4gcG9zaXRpb24gd2l0aCBnaXZlbiBzaXplLlxuICAgICAqIFJlc3VsdCBvZiB0aGUgbWV0aG9kIGlzIHBhdGggZWxlbWVudCB0aGF0IGNvbnRhaW5zIHdob2xlIHRleHQgYXMgYSBzZXBhcmF0ZSBwYXRoLlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB4IChudW1iZXIpIHggcG9zaXRpb24gb2YgdGhlIHRleHRcbiAgICAgLSB5IChudW1iZXIpIHkgcG9zaXRpb24gb2YgdGhlIHRleHRcbiAgICAgLSBzdHJpbmcgKHN0cmluZykgdGV4dCB0byBwcmludFxuICAgICAtIGZvbnQgKG9iamVjdCkgZm9udCBvYmplY3QsIHNlZSBAUGFwZXIuZ2V0Rm9udFxuICAgICAtIHNpemUgKG51bWJlcikgI29wdGlvbmFsIHNpemUgb2YgdGhlIGZvbnQsIGRlZmF1bHQgaXMgYDE2YFxuICAgICAtIG9yaWdpbiAoc3RyaW5nKSAjb3B0aW9uYWwgY291bGQgYmUgYFwiYmFzZWxpbmVcImAgb3IgYFwibWlkZGxlXCJgLCBkZWZhdWx0IGlzIGBcIm1pZGRsZVwiYFxuICAgICAtIGxldHRlcl9zcGFjaW5nIChudW1iZXIpICNvcHRpb25hbCBudW1iZXIgaW4gcmFuZ2UgYC0xLi4xYCwgZGVmYXVsdCBpcyBgMGBcbiAgICAgLSBsaW5lX3NwYWNpbmcgKG51bWJlcikgI29wdGlvbmFsIG51bWJlciBpbiByYW5nZSBgMS4uM2AsIGRlZmF1bHQgaXMgYDFgXG4gICAgID0gKG9iamVjdCkgcmVzdWx0aW5nIHBhdGggZWxlbWVudCwgd2hpY2ggY29uc2lzdCBvZiBhbGwgbGV0dGVyc1xuICAgICA+IFVzYWdlXG4gICAgIHwgdmFyIHR4dCA9IHIucHJpbnQoMTAsIDUwLCBcInByaW50XCIsIHIuZ2V0Rm9udChcIk11c2VvXCIpLCAzMCkuYXR0cih7ZmlsbDogXCIjZmZmXCJ9KTtcbiAgICBcXCovXG4gICAgcGFwZXJwcm90by5wcmludCA9IGZ1bmN0aW9uICh4LCB5LCBzdHJpbmcsIGZvbnQsIHNpemUsIG9yaWdpbiwgbGV0dGVyX3NwYWNpbmcsIGxpbmVfc3BhY2luZykge1xuICAgICAgICBvcmlnaW4gPSBvcmlnaW4gfHwgXCJtaWRkbGVcIjsgLy8gYmFzZWxpbmV8bWlkZGxlXG4gICAgICAgIGxldHRlcl9zcGFjaW5nID0gbW1heChtbWluKGxldHRlcl9zcGFjaW5nIHx8IDAsIDEpLCAtMSk7XG4gICAgICAgIGxpbmVfc3BhY2luZyA9IG1tYXgobW1pbihsaW5lX3NwYWNpbmcgfHwgMSwgMyksIDEpO1xuICAgICAgICB2YXIgbGV0dGVycyA9IFN0cihzdHJpbmcpW3NwbGl0XShFKSxcbiAgICAgICAgICAgIHNoaWZ0ID0gMCxcbiAgICAgICAgICAgIG5vdGZpcnN0ID0gMCxcbiAgICAgICAgICAgIHBhdGggPSBFLFxuICAgICAgICAgICAgc2NhbGU7XG4gICAgICAgIFIuaXMoZm9udCwgXCJzdHJpbmdcIikgJiYgKGZvbnQgPSB0aGlzLmdldEZvbnQoZm9udCkpO1xuICAgICAgICBpZiAoZm9udCkge1xuICAgICAgICAgICAgc2NhbGUgPSAoc2l6ZSB8fCAxNikgLyBmb250LmZhY2VbXCJ1bml0cy1wZXItZW1cIl07XG4gICAgICAgICAgICB2YXIgYmIgPSBmb250LmZhY2UuYmJveFtzcGxpdF0oc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICB0b3AgPSArYmJbMF0sXG4gICAgICAgICAgICAgICAgbGluZUhlaWdodCA9IGJiWzNdIC0gYmJbMV0sXG4gICAgICAgICAgICAgICAgc2hpZnR5ID0gMCxcbiAgICAgICAgICAgICAgICBoZWlnaHQgPSArYmJbMV0gKyAob3JpZ2luID09IFwiYmFzZWxpbmVcIiA/IGxpbmVIZWlnaHQgKyAoK2ZvbnQuZmFjZS5kZXNjZW50KSA6IGxpbmVIZWlnaHQgLyAyKTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxldHRlcnMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmIChsZXR0ZXJzW2ldID09IFwiXFxuXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc2hpZnQgPSAwO1xuICAgICAgICAgICAgICAgICAgICBjdXJyID0gMDtcbiAgICAgICAgICAgICAgICAgICAgbm90Zmlyc3QgPSAwO1xuICAgICAgICAgICAgICAgICAgICBzaGlmdHkgKz0gbGluZUhlaWdodCAqIGxpbmVfc3BhY2luZztcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcHJldiA9IG5vdGZpcnN0ICYmIGZvbnQuZ2x5cGhzW2xldHRlcnNbaSAtIDFdXSB8fCB7fSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBmb250LmdseXBoc1tsZXR0ZXJzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgc2hpZnQgKz0gbm90Zmlyc3QgPyAocHJldi53IHx8IGZvbnQudykgKyAocHJldi5rICYmIHByZXYua1tsZXR0ZXJzW2ldXSB8fCAwKSArIChmb250LncgKiBsZXR0ZXJfc3BhY2luZykgOiAwO1xuICAgICAgICAgICAgICAgICAgICBub3RmaXJzdCA9IDE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjdXJyICYmIGN1cnIuZCkge1xuICAgICAgICAgICAgICAgICAgICBwYXRoICs9IFIudHJhbnNmb3JtUGF0aChjdXJyLmQsIFtcInRcIiwgc2hpZnQgKiBzY2FsZSwgc2hpZnR5ICogc2NhbGUsIFwic1wiLCBzY2FsZSwgc2NhbGUsIHRvcCwgaGVpZ2h0LCBcInRcIiwgKHggLSB0b3ApIC8gc2NhbGUsICh5IC0gaGVpZ2h0KSAvIHNjYWxlXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnBhdGgocGF0aCkuYXR0cih7XG4gICAgICAgICAgICBmaWxsOiBcIiMwMDBcIixcbiAgICAgICAgICAgIHN0cm9rZTogXCJub25lXCJcbiAgICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qXFxcbiAgICAgKiBQYXBlci5hZGRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEltcG9ydHMgZWxlbWVudHMgaW4gSlNPTiBhcnJheSBpbiBmb3JtYXQgYHt0eXBlOiB0eXBlLCA8YXR0cmlidXRlcz59YFxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSBqc29uIChhcnJheSlcbiAgICAgPSAob2JqZWN0KSByZXN1bHRpbmcgc2V0IG9mIGltcG9ydGVkIGVsZW1lbnRzXG4gICAgID4gVXNhZ2VcbiAgICAgfCBwYXBlci5hZGQoW1xuICAgICB8ICAgICB7XG4gICAgIHwgICAgICAgICB0eXBlOiBcImNpcmNsZVwiLFxuICAgICB8ICAgICAgICAgY3g6IDEwLFxuICAgICB8ICAgICAgICAgY3k6IDEwLFxuICAgICB8ICAgICAgICAgcjogNVxuICAgICB8ICAgICB9LFxuICAgICB8ICAgICB7XG4gICAgIHwgICAgICAgICB0eXBlOiBcInJlY3RcIixcbiAgICAgfCAgICAgICAgIHg6IDEwLFxuICAgICB8ICAgICAgICAgeTogMTAsXG4gICAgIHwgICAgICAgICB3aWR0aDogMTAsXG4gICAgIHwgICAgICAgICBoZWlnaHQ6IDEwLFxuICAgICB8ICAgICAgICAgZmlsbDogXCIjZmMwXCJcbiAgICAgfCAgICAgfVxuICAgICB8IF0pO1xuICAgIFxcKi9cbiAgICBwYXBlcnByb3RvLmFkZCA9IGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICAgIGlmIChSLmlzKGpzb24sIFwiYXJyYXlcIikpIHtcbiAgICAgICAgICAgIHZhciByZXMgPSB0aGlzLnNldCgpLFxuICAgICAgICAgICAgICAgIGkgPSAwLFxuICAgICAgICAgICAgICAgIGlpID0ganNvbi5sZW5ndGgsXG4gICAgICAgICAgICAgICAgajtcbiAgICAgICAgICAgIGZvciAoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGogPSBqc29uW2ldIHx8IHt9O1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzW2hhc10oai50eXBlKSAmJiByZXMucHVzaCh0aGlzW2oudHlwZV0oKS5hdHRyKGopKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG5cbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5mb3JtYXRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFNpbXBsZSBmb3JtYXQgZnVuY3Rpb24uIFJlcGxhY2VzIGNvbnN0cnVjdGlvbiBvZiB0eXBlIOKAnGB7PG51bWJlcj59YOKAnSB0byB0aGUgY29ycmVzcG9uZGluZyBhcmd1bWVudC5cbiAgICAgKipcbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgICoqXG4gICAgIC0gdG9rZW4gKHN0cmluZykgc3RyaW5nIHRvIGZvcm1hdFxuICAgICAtIOKApiAoc3RyaW5nKSByZXN0IG9mIGFyZ3VtZW50cyB3aWxsIGJlIHRyZWF0ZWQgYXMgcGFyYW1ldGVycyBmb3IgcmVwbGFjZW1lbnRcbiAgICAgPSAoc3RyaW5nKSBmb3JtYXRlZCBzdHJpbmdcbiAgICAgPiBVc2FnZVxuICAgICB8IHZhciB4ID0gMTAsXG4gICAgIHwgICAgIHkgPSAyMCxcbiAgICAgfCAgICAgd2lkdGggPSA0MCxcbiAgICAgfCAgICAgaGVpZ2h0ID0gNTA7XG4gICAgIHwgLy8gdGhpcyB3aWxsIGRyYXcgYSByZWN0YW5ndWxhciBzaGFwZSBlcXVpdmFsZW50IHRvIFwiTTEwLDIwaDQwdjUwaC00MHpcIlxuICAgICB8IHBhcGVyLnBhdGgoUmFwaGFlbC5mb3JtYXQoXCJNezB9LHsxfWh7Mn12ezN9aHs0fXpcIiwgeCwgeSwgd2lkdGgsIGhlaWdodCwgLXdpZHRoKSk7XG4gICAgXFwqL1xuICAgIFIuZm9ybWF0ID0gZnVuY3Rpb24gKHRva2VuLCBwYXJhbXMpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBSLmlzKHBhcmFtcywgYXJyYXkpID8gWzBdW2NvbmNhdF0ocGFyYW1zKSA6IGFyZ3VtZW50cztcbiAgICAgICAgdG9rZW4gJiYgUi5pcyh0b2tlbiwgc3RyaW5nKSAmJiBhcmdzLmxlbmd0aCAtIDEgJiYgKHRva2VuID0gdG9rZW4ucmVwbGFjZShmb3JtYXRyZywgZnVuY3Rpb24gKHN0ciwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIGFyZ3NbKytpXSA9PSBudWxsID8gRSA6IGFyZ3NbaV07XG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHRva2VuIHx8IEU7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogUmFwaGFlbC5mdWxsZmlsbFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQSBsaXR0bGUgYml0IG1vcmUgYWR2YW5jZWQgZm9ybWF0IGZ1bmN0aW9uIHRoYW4gQFJhcGhhZWwuZm9ybWF0LiBSZXBsYWNlcyBjb25zdHJ1Y3Rpb24gb2YgdHlwZSDigJxgezxuYW1lPn1g4oCdIHRvIHRoZSBjb3JyZXNwb25kaW5nIGFyZ3VtZW50LlxuICAgICAqKlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgKipcbiAgICAgLSB0b2tlbiAoc3RyaW5nKSBzdHJpbmcgdG8gZm9ybWF0XG4gICAgIC0ganNvbiAob2JqZWN0KSBvYmplY3Qgd2hpY2ggcHJvcGVydGllcyB3aWxsIGJlIHVzZWQgYXMgYSByZXBsYWNlbWVudFxuICAgICA9IChzdHJpbmcpIGZvcm1hdGVkIHN0cmluZ1xuICAgICA+IFVzYWdlXG4gICAgIHwgLy8gdGhpcyB3aWxsIGRyYXcgYSByZWN0YW5ndWxhciBzaGFwZSBlcXVpdmFsZW50IHRvIFwiTTEwLDIwaDQwdjUwaC00MHpcIlxuICAgICB8IHBhcGVyLnBhdGgoUmFwaGFlbC5mdWxsZmlsbChcIk17eH0se3l9aHtkaW0ud2lkdGh9dntkaW0uaGVpZ2h0fWh7ZGltWyduZWdhdGl2ZSB3aWR0aCddfXpcIiwge1xuICAgICB8ICAgICB4OiAxMCxcbiAgICAgfCAgICAgeTogMjAsXG4gICAgIHwgICAgIGRpbToge1xuICAgICB8ICAgICAgICAgd2lkdGg6IDQwLFxuICAgICB8ICAgICAgICAgaGVpZ2h0OiA1MCxcbiAgICAgfCAgICAgICAgIFwibmVnYXRpdmUgd2lkdGhcIjogLTQwXG4gICAgIHwgICAgIH1cbiAgICAgfCB9KSk7XG4gICAgXFwqL1xuICAgIFIuZnVsbGZpbGwgPSAoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgdG9rZW5SZWdleCA9IC9cXHsoW15cXH1dKylcXH0vZyxcbiAgICAgICAgICAgIG9iak5vdGF0aW9uUmVnZXggPSAvKD86KD86XnxcXC4pKC4rPykoPz1cXFt8XFwufCR8XFwoKXxcXFsoJ3xcIikoLis/KVxcMlxcXSkoXFwoXFwpKT8vZywgLy8gbWF0Y2hlcyAueHh4eHggb3IgW1wieHh4eHhcIl0gdG8gcnVuIG92ZXIgb2JqZWN0IHByb3BlcnRpZXNcbiAgICAgICAgICAgIHJlcGxhY2VyID0gZnVuY3Rpb24gKGFsbCwga2V5LCBvYmopIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzID0gb2JqO1xuICAgICAgICAgICAgICAgIGtleS5yZXBsYWNlKG9iak5vdGF0aW9uUmVnZXgsIGZ1bmN0aW9uIChhbGwsIG5hbWUsIHF1b3RlLCBxdW90ZWROYW1lLCBpc0Z1bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZSA9IG5hbWUgfHwgcXVvdGVkTmFtZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5hbWUgaW4gcmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzW25hbWVdO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZW9mIHJlcyA9PSBcImZ1bmN0aW9uXCIgJiYgaXNGdW5jICYmIChyZXMgPSByZXMoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXMgPSAocmVzID09IG51bGwgfHwgcmVzID09IG9iaiA/IGFsbCA6IHJlcykgKyBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKHN0ciwgb2JqKSB7XG4gICAgICAgICAgICByZXR1cm4gU3RyaW5nKHN0cikucmVwbGFjZSh0b2tlblJlZ2V4LCBmdW5jdGlvbiAoYWxsLCBrZXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVwbGFjZXIoYWxsLCBrZXksIG9iaik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICB9KSgpO1xuICAgIC8qXFxcbiAgICAgKiBSYXBoYWVsLm5pbmphXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJZiB5b3Ugd2FudCB0byBsZWF2ZSBubyB0cmFjZSBvZiBSYXBoYcOrbCAoV2VsbCwgUmFwaGHDq2wgY3JlYXRlcyBvbmx5IG9uZSBnbG9iYWwgdmFyaWFibGUgYFJhcGhhZWxgLCBidXQgYW55d2F5LikgWW91IGNhbiB1c2UgYG5pbmphYCBtZXRob2QuXG4gICAgICogQmV3YXJlLCB0aGF0IGluIHRoaXMgY2FzZSBwbHVnaW5zIGNvdWxkIHN0b3Agd29ya2luZywgYmVjYXVzZSB0aGV5IGFyZSBkZXBlbmRpbmcgb24gZ2xvYmFsIHZhcmlhYmxlIGV4aXN0ZW5jZS5cbiAgICAgKipcbiAgICAgPSAob2JqZWN0KSBSYXBoYWVsIG9iamVjdFxuICAgICA+IFVzYWdlXG4gICAgIHwgKGZ1bmN0aW9uIChsb2NhbF9yYXBoYWVsKSB7XG4gICAgIHwgICAgIHZhciBwYXBlciA9IGxvY2FsX3JhcGhhZWwoMTAsIDEwLCAzMjAsIDIwMCk7XG4gICAgIHwgICAgIOKAplxuICAgICB8IH0pKFJhcGhhZWwubmluamEoKSk7XG4gICAgXFwqL1xuICAgIFIubmluamEgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvbGRSYXBoYWVsLndhcykge1xuICAgICAgICAgICAgZy53aW4uUmFwaGFlbCA9IG9sZFJhcGhhZWwuaXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBJRTggcmFpc2VzIGFuIGVycm9yIHdoZW4gZGVsZXRpbmcgd2luZG93IHByb3BlcnR5XG4gICAgICAgICAgICB3aW5kb3cuUmFwaGFlbCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5SYXBoYWVsO1xuICAgICAgICAgICAgfSBjYXRjaChlKSB7fVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBSO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFJhcGhhZWwuc3RcbiAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICoqXG4gICAgICogWW91IGNhbiBhZGQgeW91ciBvd24gbWV0aG9kIHRvIGVsZW1lbnRzIGFuZCBzZXRzLiBJdCBpcyB3aXNlIHRvIGFkZCBhIHNldCBtZXRob2QgZm9yIGVhY2ggZWxlbWVudCBtZXRob2RcbiAgICAgKiB5b3UgYWRkZWQsIHNvIHlvdSB3aWxsIGJlIGFibGUgdG8gY2FsbCB0aGUgc2FtZSBtZXRob2Qgb24gc2V0cyB0b28uXG4gICAgICoqXG4gICAgICogU2VlIGFsc28gQFJhcGhhZWwuZWwuXG4gICAgID4gVXNhZ2VcbiAgICAgfCBSYXBoYWVsLmVsLnJlZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgfCAgICAgdGhpcy5hdHRyKHtmaWxsOiBcIiNmMDBcIn0pO1xuICAgICB8IH07XG4gICAgIHwgUmFwaGFlbC5zdC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgIHwgICAgIHRoaXMuZm9yRWFjaChmdW5jdGlvbiAoZWwpIHtcbiAgICAgfCAgICAgICAgIGVsLnJlZCgpO1xuICAgICB8ICAgICB9KTtcbiAgICAgfCB9O1xuICAgICB8IC8vIHRoZW4gdXNlIGl0XG4gICAgIHwgcGFwZXIuc2V0KHBhcGVyLmNpcmNsZSgxMDAsIDEwMCwgMjApLCBwYXBlci5jaXJjbGUoMTEwLCAxMDAsIDIwKSkucmVkKCk7XG4gICAgXFwqL1xuICAgIFIuc3QgPSBzZXRwcm90bztcblxuICAgIGV2ZS5vbihcInJhcGhhZWwuRE9NbG9hZFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxvYWRlZCA9IHRydWU7XG4gICAgfSk7XG5cbiAgICAvLyBGaXJlZm94IDwzLjYgZml4OiBodHRwOi8vd2VicmVmbGVjdGlvbi5ibG9nc3BvdC5jb20vMjAwOS8xMS8xOTUtY2hhcnMtdG8taGVscC1sYXp5LWxvYWRpbmcuaHRtbFxuICAgIChmdW5jdGlvbiAoZG9jLCBsb2FkZWQsIGYpIHtcbiAgICAgICAgaWYgKGRvYy5yZWFkeVN0YXRlID09IG51bGwgJiYgZG9jLmFkZEV2ZW50TGlzdGVuZXIpe1xuICAgICAgICAgICAgZG9jLmFkZEV2ZW50TGlzdGVuZXIobG9hZGVkLCBmID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGRvYy5yZW1vdmVFdmVudExpc3RlbmVyKGxvYWRlZCwgZiwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIGRvYy5yZWFkeVN0YXRlID0gXCJjb21wbGV0ZVwiO1xuICAgICAgICAgICAgfSwgZmFsc2UpO1xuICAgICAgICAgICAgZG9jLnJlYWR5U3RhdGUgPSBcImxvYWRpbmdcIjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBpc0xvYWRlZCgpIHtcbiAgICAgICAgICAgICgvaW4vKS50ZXN0KGRvYy5yZWFkeVN0YXRlKSA/IHNldFRpbWVvdXQoaXNMb2FkZWQsIDkpIDogUi5ldmUoXCJyYXBoYWVsLkRPTWxvYWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgaXNMb2FkZWQoKTtcbiAgICB9KShkb2N1bWVudCwgXCJET01Db250ZW50TG9hZGVkXCIpO1xuXG4gICAgcmV0dXJuIFI7XG59KTtcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./dev/raphael.core.js\n') }, "./dev/raphael.svg.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ "./dev/raphael.core.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\n    if (R && !R.svg) {\n        return;\n    }\n\n    var has = "hasOwnProperty",\n        Str = String,\n        toFloat = parseFloat,\n        toInt = parseInt,\n        math = Math,\n        mmax = math.max,\n        abs = math.abs,\n        pow = math.pow,\n        separator = /[, ]+/,\n        eve = R.eve,\n        E = "",\n        S = " ";\n    var xlink = "http://www.w3.org/1999/xlink",\n        markers = {\n            block: "M5,0 0,2.5 5,5z",\n            classic: "M5,0 0,2.5 5,5 3.5,3 3.5,2z",\n            diamond: "M2.5,0 5,2.5 2.5,5 0,2.5z",\n            open: "M6,1 1,3.5 6,6",\n            oval: "M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"\n        },\n        markerCounter = {};\n    R.toString = function () {\n        return  "Your browser supports SVG.\\nYou are running Rapha\\xebl " + this.version;\n    };\n    var $ = function (el, attr) {\n        if (attr) {\n            if (typeof el == "string") {\n                el = $(el);\n            }\n            for (var key in attr) if (attr[has](key)) {\n                if (key.substring(0, 6) == "xlink:") {\n                    el.setAttributeNS(xlink, key.substring(6), Str(attr[key]));\n                } else {\n                    el.setAttribute(key, Str(attr[key]));\n                }\n            }\n        } else {\n            el = R._g.doc.createElementNS("http://www.w3.org/2000/svg", el);\n            el.style && (el.style.webkitTapHighlightColor = "rgba(0,0,0,0)");\n        }\n        return el;\n    },\n    addGradientFill = function (element, gradient) {\n        var type = "linear",\n            id = element.id + gradient,\n            fx = .5, fy = .5,\n            o = element.node,\n            SVG = element.paper,\n            s = o.style,\n            el = R._g.doc.getElementById(id);\n        if (!el) {\n            gradient = Str(gradient).replace(R._radial_gradient, function (all, _fx, _fy) {\n                type = "radial";\n                if (_fx && _fy) {\n                    fx = toFloat(_fx);\n                    fy = toFloat(_fy);\n                    var dir = ((fy > .5) * 2 - 1);\n                    pow(fx - .5, 2) + pow(fy - .5, 2) > .25 &&\n                        (fy = math.sqrt(.25 - pow(fx - .5, 2)) * dir + .5) &&\n                        fy != .5 &&\n                        (fy = fy.toFixed(5) - 1e-5 * dir);\n                }\n                return E;\n            });\n            gradient = gradient.split(/\\s*\\-\\s*/);\n            if (type == "linear") {\n                var angle = gradient.shift();\n                angle = -toFloat(angle);\n                if (isNaN(angle)) {\n                    return null;\n                }\n                var vector = [0, 0, math.cos(R.rad(angle)), math.sin(R.rad(angle))],\n                    max = 1 / (mmax(abs(vector[2]), abs(vector[3])) || 1);\n                vector[2] *= max;\n                vector[3] *= max;\n                if (vector[2] < 0) {\n                    vector[0] = -vector[2];\n                    vector[2] = 0;\n                }\n                if (vector[3] < 0) {\n                    vector[1] = -vector[3];\n                    vector[3] = 0;\n                }\n            }\n            var dots = R._parseDots(gradient);\n            if (!dots) {\n                return null;\n            }\n            id = id.replace(/[\\(\\)\\s,\\xb0#]/g, "_");\n\n            if (element.gradient && id != element.gradient.id) {\n                SVG.defs.removeChild(element.gradient);\n                delete element.gradient;\n            }\n\n            if (!element.gradient) {\n                el = $(type + "Gradient", {id: id});\n                element.gradient = el;\n                $(el, type == "radial" ? {\n                    fx: fx,\n                    fy: fy\n                } : {\n                    x1: vector[0],\n                    y1: vector[1],\n                    x2: vector[2],\n                    y2: vector[3],\n                    gradientTransform: element.matrix.invert()\n                });\n                SVG.defs.appendChild(el);\n                for (var i = 0, ii = dots.length; i < ii; i++) {\n                    el.appendChild($("stop", {\n                        offset: dots[i].offset ? dots[i].offset : i ? "100%" : "0%",\n                        "stop-color": dots[i].color || "#fff",\n                        "stop-opacity": isFinite(dots[i].opacity) ? dots[i].opacity : 1\n                    }));\n                }\n            }\n        }\n        $(o, {\n            fill: fillurl(id),\n            opacity: 1,\n            "fill-opacity": 1\n        });\n        s.fill = E;\n        s.opacity = 1;\n        s.fillOpacity = 1;\n        return 1;\n    },\n    isIE9or10 = function () {\n      var mode = document.documentMode;\n      return mode && (mode === 9 || mode === 10);\n    },\n    fillurl = function (id) {\n      if (isIE9or10()) {\n          return "url(\'#" + id + "\')";\n      }\n      var location = document.location;\n      var locationString = (\n          location.protocol + \'//\' +\n          location.host +\n          location.pathname +\n          location.search\n      );\n      return "url(\'" + locationString + "#" + id + "\')";\n    },\n    updatePosition = function (o) {\n        var bbox = o.getBBox(1);\n        $(o.pattern, {patternTransform: o.matrix.invert() + " translate(" + bbox.x + "," + bbox.y + ")"});\n    },\n    addArrow = function (o, value, isEnd) {\n        if (o.type == "path") {\n            var values = Str(value).toLowerCase().split("-"),\n                p = o.paper,\n                se = isEnd ? "end" : "start",\n                node = o.node,\n                attrs = o.attrs,\n                stroke = attrs["stroke-width"],\n                i = values.length,\n                type = "classic",\n                from,\n                to,\n                dx,\n                refX,\n                attr,\n                w = 3,\n                h = 3,\n                t = 5;\n            while (i--) {\n                switch (values[i]) {\n                    case "block":\n                    case "classic":\n                    case "oval":\n                    case "diamond":\n                    case "open":\n                    case "none":\n                        type = values[i];\n                        break;\n                    case "wide": h = 5; break;\n                    case "narrow": h = 2; break;\n                    case "long": w = 5; break;\n                    case "short": w = 2; break;\n                }\n            }\n            if (type == "open") {\n                w += 2;\n                h += 2;\n                t += 2;\n                dx = 1;\n                refX = isEnd ? 4 : 1;\n                attr = {\n                    fill: "none",\n                    stroke: attrs.stroke\n                };\n            } else {\n                refX = dx = w / 2;\n                attr = {\n                    fill: attrs.stroke,\n                    stroke: "none"\n                };\n            }\n            if (o._.arrows) {\n                if (isEnd) {\n                    o._.arrows.endPath && markerCounter[o._.arrows.endPath]--;\n                    o._.arrows.endMarker && markerCounter[o._.arrows.endMarker]--;\n                } else {\n                    o._.arrows.startPath && markerCounter[o._.arrows.startPath]--;\n                    o._.arrows.startMarker && markerCounter[o._.arrows.startMarker]--;\n                }\n            } else {\n                o._.arrows = {};\n            }\n            if (type != "none") {\n                var pathId = "raphael-marker-" + type,\n                    markerId = "raphael-marker-" + se + type + w + h + "-obj" + o.id;\n                if (!R._g.doc.getElementById(pathId)) {\n                    p.defs.appendChild($($("path"), {\n                        "stroke-linecap": "round",\n                        d: markers[type],\n                        id: pathId\n                    }));\n                    markerCounter[pathId] = 1;\n                } else {\n                    markerCounter[pathId]++;\n                }\n                var marker = R._g.doc.getElementById(markerId),\n                    use;\n                if (!marker) {\n                    marker = $($("marker"), {\n                        id: markerId,\n                        markerHeight: h,\n                        markerWidth: w,\n                        orient: "auto",\n                        refX: refX,\n                        refY: h / 2\n                    });\n                    use = $($("use"), {\n                        "xlink:href": "#" + pathId,\n                        transform: (isEnd ? "rotate(180 " + w / 2 + " " + h / 2 + ") " : E) + "scale(" + w / t + "," + h / t + ")",\n                        "stroke-width": (1 / ((w / t + h / t) / 2)).toFixed(4)\n                    });\n                    marker.appendChild(use);\n                    p.defs.appendChild(marker);\n                    markerCounter[markerId] = 1;\n                } else {\n                    markerCounter[markerId]++;\n                    use = marker.getElementsByTagName("use")[0];\n                }\n                $(use, attr);\n                var delta = dx * (type != "diamond" && type != "oval");\n                if (isEnd) {\n                    from = o._.arrows.startdx * stroke || 0;\n                    to = R.getTotalLength(attrs.path) - delta * stroke;\n                } else {\n                    from = delta * stroke;\n                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\n                }\n                attr = {};\n                attr["marker-" + se] = "url(#" + markerId + ")";\n                if (to || from) {\n                    attr.d = R.getSubpath(attrs.path, from, to);\n                }\n                $(node, attr);\n                o._.arrows[se + "Path"] = pathId;\n                o._.arrows[se + "Marker"] = markerId;\n                o._.arrows[se + "dx"] = delta;\n                o._.arrows[se + "Type"] = type;\n                o._.arrows[se + "String"] = value;\n            } else {\n                if (isEnd) {\n                    from = o._.arrows.startdx * stroke || 0;\n                    to = R.getTotalLength(attrs.path) - from;\n                } else {\n                    from = 0;\n                    to = R.getTotalLength(attrs.path) - (o._.arrows.enddx * stroke || 0);\n                }\n                o._.arrows[se + "Path"] && $(node, {d: R.getSubpath(attrs.path, from, to)});\n                delete o._.arrows[se + "Path"];\n                delete o._.arrows[se + "Marker"];\n                delete o._.arrows[se + "dx"];\n                delete o._.arrows[se + "Type"];\n                delete o._.arrows[se + "String"];\n            }\n            for (attr in markerCounter) if (markerCounter[has](attr) && !markerCounter[attr]) {\n                var item = R._g.doc.getElementById(attr);\n                item && item.parentNode.removeChild(item);\n            }\n        }\n    },\n    dasharray = {\n        "-": [3, 1],\n        ".": [1, 1],\n        "-.": [3, 1, 1, 1],\n        "-..": [3, 1, 1, 1, 1, 1],\n        ". ": [1, 3],\n        "- ": [4, 3],\n        "--": [8, 3],\n        "- .": [4, 3, 1, 3],\n        "--.": [8, 3, 1, 3],\n        "--..": [8, 3, 1, 3, 1, 3]\n    },\n    addDashes = function (o, value, params) {\n        value = dasharray[Str(value).toLowerCase()];\n        if (value) {\n            var width = o.attrs["stroke-width"] || "1",\n                butt = {round: width, square: width, butt: 0}[o.attrs["stroke-linecap"] || params["stroke-linecap"]] || 0,\n                dashes = [],\n                i = value.length;\n            while (i--) {\n                dashes[i] = value[i] * width + ((i % 2) ? 1 : -1) * butt;\n            }\n            $(o.node, {"stroke-dasharray": dashes.join(",")});\n        }\n        else {\n          $(o.node, {"stroke-dasharray": "none"});\n        }\n    },\n    setFillAndStroke = function (o, params) {\n        var node = o.node,\n            attrs = o.attrs,\n            vis = node.style.visibility;\n        node.style.visibility = "hidden";\n        for (var att in params) {\n            if (params[has](att)) {\n                if (!R._availableAttrs[has](att)) {\n                    continue;\n                }\n                var value = params[att];\n                attrs[att] = value;\n                switch (att) {\n                    case "blur":\n                        o.blur(value);\n                        break;\n                    case "title":\n                        var title = node.getElementsByTagName("title");\n\n                        // Use the existing <title>.\n                        if (title.length && (title = title[0])) {\n                          title.firstChild.nodeValue = value;\n                        } else {\n                          title = $("title");\n                          var val = R._g.doc.createTextNode(value);\n                          title.appendChild(val);\n                          node.appendChild(title);\n                        }\n                        break;\n                    case "href":\n                    case "target":\n                        var pn = node.parentNode;\n                        if (pn.tagName.toLowerCase() != "a") {\n                            var hl = $("a");\n                            pn.insertBefore(hl, node);\n                            hl.appendChild(node);\n                            pn = hl;\n                        }\n                        if (att == "target") {\n                            pn.setAttributeNS(xlink, "show", value == "blank" ? "new" : value);\n                        } else {\n                            pn.setAttributeNS(xlink, att, value);\n                        }\n                        break;\n                    case "cursor":\n                        node.style.cursor = value;\n                        break;\n                    case "transform":\n                        o.transform(value);\n                        break;\n                    case "arrow-start":\n                        addArrow(o, value);\n                        break;\n                    case "arrow-end":\n                        addArrow(o, value, 1);\n                        break;\n                    case "clip-rect":\n                        var rect = Str(value).split(separator);\n                        if (rect.length == 4) {\n                            o.clip && o.clip.parentNode.parentNode.removeChild(o.clip.parentNode);\n                            var el = $("clipPath"),\n                                rc = $("rect");\n                            el.id = R.createUUID();\n                            $(rc, {\n                                x: rect[0],\n                                y: rect[1],\n                                width: rect[2],\n                                height: rect[3]\n                            });\n                            el.appendChild(rc);\n                            o.paper.defs.appendChild(el);\n                            $(node, {"clip-path": "url(#" + el.id + ")"});\n                            o.clip = rc;\n                        }\n                        if (!value) {\n                            var path = node.getAttribute("clip-path");\n                            if (path) {\n                                var clip = R._g.doc.getElementById(path.replace(/(^url\\(#|\\)$)/g, E));\n                                clip && clip.parentNode.removeChild(clip);\n                                $(node, {"clip-path": E});\n                                delete o.clip;\n                            }\n                        }\n                    break;\n                    case "path":\n                        if (o.type == "path") {\n                            $(node, {d: value ? attrs.path = R._pathToAbsolute(value) : "M0,0"});\n                            o._.dirty = 1;\n                            if (o._.arrows) {\n                                "startString" in o._.arrows && addArrow(o, o._.arrows.startString);\n                                "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                            }\n                        }\n                        break;\n                    case "width":\n                        node.setAttribute(att, value);\n                        o._.dirty = 1;\n                        if (attrs.fx) {\n                            att = "x";\n                            value = attrs.x;\n                        } else {\n                            break;\n                        }\n                    case "x":\n                        if (attrs.fx) {\n                            value = -attrs.x - (attrs.width || 0);\n                        }\n                    case "rx":\n                        if (att == "rx" && o.type == "rect") {\n                            break;\n                        }\n                    case "cx":\n                        node.setAttribute(att, value);\n                        o.pattern && updatePosition(o);\n                        o._.dirty = 1;\n                        break;\n                    case "height":\n                        node.setAttribute(att, value);\n                        o._.dirty = 1;\n                        if (attrs.fy) {\n                            att = "y";\n                            value = attrs.y;\n                        } else {\n                            break;\n                        }\n                    case "y":\n                        if (attrs.fy) {\n                            value = -attrs.y - (attrs.height || 0);\n                        }\n                    case "ry":\n                        if (att == "ry" && o.type == "rect") {\n                            break;\n                        }\n                    case "cy":\n                        node.setAttribute(att, value);\n                        o.pattern && updatePosition(o);\n                        o._.dirty = 1;\n                        break;\n                    case "r":\n                        if (o.type == "rect") {\n                            $(node, {rx: value, ry: value});\n                        } else {\n                            node.setAttribute(att, value);\n                        }\n                        o._.dirty = 1;\n                        break;\n                    case "src":\n                        if (o.type == "image") {\n                            node.setAttributeNS(xlink, "href", value);\n                        }\n                        break;\n                    case "stroke-width":\n                        if (o._.sx != 1 || o._.sy != 1) {\n                            value /= mmax(abs(o._.sx), abs(o._.sy)) || 1;\n                        }\n                        node.setAttribute(att, value);\n                        if (attrs["stroke-dasharray"]) {\n                            addDashes(o, attrs["stroke-dasharray"], params);\n                        }\n                        if (o._.arrows) {\n                            "startString" in o._.arrows && addArrow(o, o._.arrows.startString);\n                            "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                        }\n                        break;\n                    case "stroke-dasharray":\n                        addDashes(o, value, params);\n                        break;\n                    case "fill":\n                        var isURL = Str(value).match(R._ISURL);\n                        if (isURL) {\n                            el = $("pattern");\n                            var ig = $("image");\n                            el.id = R.createUUID();\n                            $(el, {x: 0, y: 0, patternUnits: "userSpaceOnUse", height: 1, width: 1});\n                            $(ig, {x: 0, y: 0, "xlink:href": isURL[1]});\n                            el.appendChild(ig);\n\n                            (function (el) {\n                                R._preload(isURL[1], function () {\n                                    var w = this.offsetWidth,\n                                        h = this.offsetHeight;\n                                    $(el, {width: w, height: h});\n                                    $(ig, {width: w, height: h});\n                                });\n                            })(el);\n                            o.paper.defs.appendChild(el);\n                            $(node, {fill: "url(#" + el.id + ")"});\n                            o.pattern = el;\n                            o.pattern && updatePosition(o);\n                            break;\n                        }\n                        var clr = R.getRGB(value);\n                        if (!clr.error) {\n                            delete params.gradient;\n                            delete attrs.gradient;\n                            !R.is(attrs.opacity, "undefined") &&\n                                R.is(params.opacity, "undefined") &&\n                                $(node, {opacity: attrs.opacity});\n                            !R.is(attrs["fill-opacity"], "undefined") &&\n                                R.is(params["fill-opacity"], "undefined") &&\n                                $(node, {"fill-opacity": attrs["fill-opacity"]});\n                        } else if ((o.type == "circle" || o.type == "ellipse" || Str(value).charAt() != "r") && addGradientFill(o, value)) {\n                            if ("opacity" in attrs || "fill-opacity" in attrs) {\n                                var gradient = R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\\(#|\\)$/g, E));\n                                if (gradient) {\n                                    var stops = gradient.getElementsByTagName("stop");\n                                    $(stops[stops.length - 1], {"stop-opacity": ("opacity" in attrs ? attrs.opacity : 1) * ("fill-opacity" in attrs ? attrs["fill-opacity"] : 1)});\n                                }\n                            }\n                            attrs.gradient = value;\n                            attrs.fill = "none";\n                            break;\n                        }\n                        clr[has]("opacity") && $(node, {"fill-opacity": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\n                    case "stroke":\n                        clr = R.getRGB(value);\n                        node.setAttribute(att, clr.hex);\n                        att == "stroke" && clr[has]("opacity") && $(node, {"stroke-opacity": clr.opacity > 1 ? clr.opacity / 100 : clr.opacity});\n                        if (att == "stroke" && o._.arrows) {\n                            "startString" in o._.arrows && addArrow(o, o._.arrows.startString);\n                            "endString" in o._.arrows && addArrow(o, o._.arrows.endString, 1);\n                        }\n                        break;\n                    case "gradient":\n                        (o.type == "circle" || o.type == "ellipse" || Str(value).charAt() != "r") && addGradientFill(o, value);\n                        break;\n                    case "opacity":\n                        if (attrs.gradient && !attrs[has]("stroke-opacity")) {\n                            $(node, {"stroke-opacity": value > 1 ? value / 100 : value});\n                        }\n                        // fall\n                    case "fill-opacity":\n                        if (attrs.gradient) {\n                            gradient = R._g.doc.getElementById(node.getAttribute("fill").replace(/^url\\(#|\\)$/g, E));\n                            if (gradient) {\n                                stops = gradient.getElementsByTagName("stop");\n                                $(stops[stops.length - 1], {"stop-opacity": value});\n                            }\n                            break;\n                        }\n                    default:\n                        att == "font-size" && (value = toInt(value, 10) + "px");\n                        var cssrule = att.replace(/(\\-.)/g, function (w) {\n                            return w.substring(1).toUpperCase();\n                        });\n                        node.style[cssrule] = value;\n                        o._.dirty = 1;\n                        node.setAttribute(att, value);\n                        break;\n                }\n            }\n        }\n\n        tuneText(o, params);\n        node.style.visibility = vis;\n    },\n    leading = 1.2,\n    tuneText = function (el, params) {\n        if (el.type != "text" || !(params[has]("text") || params[has]("font") || params[has]("font-size") || params[has]("x") || params[has]("y"))) {\n            return;\n        }\n        var a = el.attrs,\n            node = el.node,\n            fontSize = node.firstChild ? toInt(R._g.doc.defaultView.getComputedStyle(node.firstChild, E).getPropertyValue("font-size"), 10) : 10;\n\n        if (params[has]("text")) {\n            a.text = params.text;\n            while (node.firstChild) {\n                node.removeChild(node.firstChild);\n            }\n            var texts = Str(params.text).split("\\n"),\n                tspans = [],\n                tspan;\n            for (var i = 0, ii = texts.length; i < ii; i++) {\n                tspan = $("tspan");\n                i && $(tspan, {dy: fontSize * leading, x: a.x});\n                tspan.appendChild(R._g.doc.createTextNode(texts[i]));\n                node.appendChild(tspan);\n                tspans[i] = tspan;\n            }\n        } else {\n            tspans = node.getElementsByTagName("tspan");\n            for (i = 0, ii = tspans.length; i < ii; i++) if (i) {\n                $(tspans[i], {dy: fontSize * leading, x: a.x});\n            } else {\n                $(tspans[0], {dy: 0});\n            }\n        }\n        $(node, {x: a.x, y: a.y});\n        el._.dirty = 1;\n        var bb = el._getBBox(),\n            dif = a.y - (bb.y + bb.height / 2);\n        dif && R.is(dif, "finite") && $(tspans[0], {dy: dif});\n    },\n    getRealNode = function (node) {\n        if (node.parentNode && node.parentNode.tagName.toLowerCase() === "a") {\n            return node.parentNode;\n        } else {\n            return node;\n        }\n    },\n    Element = function (node, svg) {\n        var X = 0,\n            Y = 0;\n        /*\\\n         * Element.node\n         [ property (object) ]\n         **\n         * Gives you a reference to the DOM object, so you can assign event handlers or just mess around.\n         **\n         * Note: Donât mess with it.\n         > Usage\n         | // draw a circle at coordinate 10,10 with radius of 10\n         | var c = paper.circle(10, 10, 10);\n         | c.node.onclick = function () {\n         |     c.attr("fill", "red");\n         | };\n        \\*/\n        this[0] = this.node = node;\n        /*\\\n         * Element.raphael\n         [ property (object) ]\n         **\n         * Internal reference to @Raphael object. In case it is not available.\n         > Usage\n         | Raphael.el.red = function () {\n         |     var hsb = this.paper.raphael.rgb2hsb(this.attr("fill"));\n         |     hsb.h = 1;\n         |     this.attr({fill: this.paper.raphael.hsb2rgb(hsb).hex});\n         | }\n        \\*/\n        node.raphael = true;\n        /*\\\n         * Element.id\n         [ property (number) ]\n         **\n         * Unique id of the element. Especially useful when you want to listen to events of the element,\n         * because all events are fired in format `<module>.<action>.<id>`. Also useful for @Paper.getById method.\n        \\*/\n        this.id = guid();\n        node.raphaelid = this.id;\n\n        /**\n        * Method that returns a 5 letter/digit id, enough for 36^5 = 60466176 elements\n        * @returns {string} id\n        */\n        function guid() {\n            return ("0000" + (Math.random()*Math.pow(36,5) << 0).toString(36)).slice(-5);\n        }\n\n        this.matrix = R.matrix();\n        this.realPath = null;\n        /*\\\n         * Element.paper\n         [ property (object) ]\n         **\n         * Internal reference to âpaperâ where object drawn. Mainly for use in plugins and element extensions.\n         > Usage\n         | Raphael.el.cross = function () {\n         |     this.attr({fill: "red"});\n         |     this.paper.path("M10,10L50,50M50,10L10,50")\n         |         .attr({stroke: "red"});\n         | }\n        \\*/\n        this.paper = svg;\n        this.attrs = this.attrs || {};\n        this._ = {\n            transform: [],\n            sx: 1,\n            sy: 1,\n            deg: 0,\n            dx: 0,\n            dy: 0,\n            dirty: 1\n        };\n        !svg.bottom && (svg.bottom = this);\n        /*\\\n         * Element.prev\n         [ property (object) ]\n         **\n         * Reference to the previous element in the hierarchy.\n        \\*/\n        this.prev = svg.top;\n        svg.top && (svg.top.next = this);\n        svg.top = this;\n        /*\\\n         * Element.next\n         [ property (object) ]\n         **\n         * Reference to the next element in the hierarchy.\n        \\*/\n        this.next = null;\n    },\n    elproto = R.el;\n\n    Element.prototype = elproto;\n    elproto.constructor = Element;\n\n    R._engine.path = function (pathString, SVG) {\n        var el = $("path");\n        SVG.canvas && SVG.canvas.appendChild(el);\n        var p = new Element(el, SVG);\n        p.type = "path";\n        setFillAndStroke(p, {\n            fill: "none",\n            stroke: "#000",\n            path: pathString\n        });\n        return p;\n    };\n    /*\\\n     * Element.rotate\n     [ method ]\n     **\n     * Deprecated! Use @Element.transform instead.\n     * Adds rotation by given angle around given point to the list of\n     * transformations of the element.\n     > Parameters\n     - deg (number) angle in degrees\n     - cx (number) #optional x coordinate of the centre of rotation\n     - cy (number) #optional y coordinate of the centre of rotation\n     * If cx & cy arenât specified centre of the shape is used as a point of rotation.\n     = (object) @Element\n    \\*/\n    elproto.rotate = function (deg, cx, cy) {\n        if (this.removed) {\n            return this;\n        }\n        deg = Str(deg).split(separator);\n        if (deg.length - 1) {\n            cx = toFloat(deg[1]);\n            cy = toFloat(deg[2]);\n        }\n        deg = toFloat(deg[0]);\n        (cy == null) && (cx = cy);\n        if (cx == null || cy == null) {\n            var bbox = this.getBBox(1);\n            cx = bbox.x + bbox.width / 2;\n            cy = bbox.y + bbox.height / 2;\n        }\n        this.transform(this._.transform.concat([["r", deg, cx, cy]]));\n        return this;\n    };\n    /*\\\n     * Element.scale\n     [ method ]\n     **\n     * Deprecated! Use @Element.transform instead.\n     * Adds scale by given amount relative to given point to the list of\n     * transformations of the element.\n     > Parameters\n     - sx (number) horisontal scale amount\n     - sy (number) vertical scale amount\n     - cx (number) #optional x coordinate of the centre of scale\n     - cy (number) #optional y coordinate of the centre of scale\n     * If cx & cy arenât specified centre of the shape is used instead.\n     = (object) @Element\n    \\*/\n    elproto.scale = function (sx, sy, cx, cy) {\n        if (this.removed) {\n            return this;\n        }\n        sx = Str(sx).split(separator);\n        if (sx.length - 1) {\n            sy = toFloat(sx[1]);\n            cx = toFloat(sx[2]);\n            cy = toFloat(sx[3]);\n        }\n        sx = toFloat(sx[0]);\n        (sy == null) && (sy = sx);\n        (cy == null) && (cx = cy);\n        if (cx == null || cy == null) {\n            var bbox = this.getBBox(1);\n        }\n        cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n        cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n        this.transform(this._.transform.concat([["s", sx, sy, cx, cy]]));\n        return this;\n    };\n    /*\\\n     * Element.translate\n     [ method ]\n     **\n     * Deprecated! Use @Element.transform instead.\n     * Adds translation by given amount to the list of transformations of the element.\n     > Parameters\n     - dx (number) horisontal shift\n     - dy (number) vertical shift\n     = (object) @Element\n    \\*/\n    elproto.translate = function (dx, dy) {\n        if (this.removed) {\n            return this;\n        }\n        dx = Str(dx).split(separator);\n        if (dx.length - 1) {\n            dy = toFloat(dx[1]);\n        }\n        dx = toFloat(dx[0]) || 0;\n        dy = +dy || 0;\n        this.transform(this._.transform.concat([["t", dx, dy]]));\n        return this;\n    };\n    /*\\\n     * Element.transform\n     [ method ]\n     **\n     * Adds transformation to the element which is separate to other attributes,\n     * i.e. translation doesnât change `x` or `y` of the rectange. The format\n     * of transformation string is similar to the path string syntax:\n     | "t100,100r30,100,100s2,2,100,100r45s1.5"\n     * Each letter is a command. There are four commands: `t` is for translate, `r` is for rotate, `s` is for\n     * scale and `m` is for matrix.\n     *\n     * There are also alternative âabsoluteâ translation, rotation and scale: `T`, `R` and `S`. They will not take previous transformation into account. For example, `...T100,0` will always move element 100 px horisontally, while `...t100,0` could move it vertically if there is `r90` before. Just compare results of `r90t100,0` and `r90T100,0`.\n     *\n     * So, the example line above could be read like âtranslate by 100, 100; rotate 30Â° around 100, 100; scale twice around 100, 100;\n     * rotate 45Â° around centre; scale 1.5 times relative to centreâ. As you can see rotate and scale commands have origin\n     * coordinates as optional parameters, the default is the centre point of the element.\n     * Matrix accepts six parameters.\n     > Usage\n     | var el = paper.rect(10, 20, 300, 200);\n     | // translate 100, 100, rotate 45Â°, translate -100, 0\n     | el.transform("t100,100r45t-100,0");\n     | // if you want you can append or prepend transformations\n     | el.transform("...t50,50");\n     | el.transform("s2...");\n     | // or even wrap\n     | el.transform("t50,50...t-50-50");\n     | // to reset transformation call method with empty string\n     | el.transform("");\n     | // to get current value call it without parameters\n     | console.log(el.transform());\n     > Parameters\n     - tstr (string) #optional transformation string\n     * If tstr isnât specified\n     = (string) current transformation string\n     * else\n     = (object) @Element\n    \\*/\n    elproto.transform = function (tstr) {\n        var _ = this._;\n        if (tstr == null) {\n            return _.transform;\n        }\n        R._extractTransform(this, tstr);\n\n        this.clip && $(this.clip, {transform: this.matrix.invert()});\n        this.pattern && updatePosition(this);\n        this.node && $(this.node, {transform: this.matrix});\n\n        if (_.sx != 1 || _.sy != 1) {\n            var sw = this.attrs[has]("stroke-width") ? this.attrs["stroke-width"] : 1;\n            this.attr({"stroke-width": sw});\n        }\n\n        return this;\n    };\n    /*\\\n     * Element.hide\n     [ method ]\n     **\n     * Makes element invisible. See @Element.show.\n     = (object) @Element\n    \\*/\n    elproto.hide = function () {\n        if(!this.removed) this.node.style.display = "none";\n        return this;\n    };\n    /*\\\n     * Element.show\n     [ method ]\n     **\n     * Makes element visible. See @Element.hide.\n     = (object) @Element\n    \\*/\n    elproto.show = function () {\n        if(!this.removed) this.node.style.display = "";\n        return this;\n    };\n    /*\\\n     * Element.remove\n     [ method ]\n     **\n     * Removes element from the paper.\n    \\*/\n    elproto.remove = function () {\n        var node = getRealNode(this.node);\n        if (this.removed || !node.parentNode) {\n            return;\n        }\n        var paper = this.paper;\n        paper.__set__ && paper.__set__.exclude(this);\n        eve.unbind("raphael.*.*." + this.id);\n        if (this.gradient) {\n            paper.defs.removeChild(this.gradient);\n        }\n        R._tear(this, paper);\n\n        node.parentNode.removeChild(node);\n\n        // Remove custom data for element\n        this.removeData();\n\n        for (var i in this) {\n            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;\n        }\n        this.removed = true;\n    };\n    elproto._getBBox = function () {\n        if (this.node.style.display == "none") {\n            this.show();\n            var hide = true;\n        }\n        var canvasHidden = false,\n            containerStyle;\n        if (this.paper.canvas.parentElement) {\n          containerStyle = this.paper.canvas.parentElement.style;\n        } //IE10+ can\'t find parentElement\n        else if (this.paper.canvas.parentNode) {\n          containerStyle = this.paper.canvas.parentNode.style;\n        }\n\n        if(containerStyle && containerStyle.display == "none") {\n          canvasHidden = true;\n          containerStyle.display = "";\n        }\n        var bbox = {};\n        try {\n            bbox = this.node.getBBox();\n        } catch(e) {\n            // Firefox 3.0.x, 25.0.1 (probably more versions affected) play badly here - possible fix\n            bbox = {\n                x: this.node.clientLeft,\n                y: this.node.clientTop,\n                width: this.node.clientWidth,\n                height: this.node.clientHeight\n            }\n        } finally {\n            bbox = bbox || {};\n            if(canvasHidden){\n              containerStyle.display = "none";\n            }\n        }\n        hide && this.hide();\n        return bbox;\n    };\n    /*\\\n     * Element.attr\n     [ method ]\n     **\n     * Sets the attributes of the element.\n     > Parameters\n     - attrName (string) attributeâs name\n     - value (string) value\n     * or\n     - params (object) object of name/value pairs\n     * or\n     - attrName (string) attributeâs name\n     * or\n     - attrNames (array) in this case method returns array of current values for given attribute names\n     = (object) @Element if attrsName & value or params are passed in.\n     = (...) value of the attribute if only attrsName is passed in.\n     = (array) array of values of the attribute if attrsNames is passed in.\n     = (object) object of attributes if nothing is passed in.\n     > Possible parameters\n     # <p>Please refer to the <a href="http://www.w3.org/TR/SVG/" title="The W3C Recommendation for the SVG language describes these properties in detail.">SVG specification</a> for an explanation of these parameters.</p>\n     o arrow-end (string) arrowhead on the end of the path. The format for string is `<type>[-<width>[-<length>]]`. Possible types: `classic`, `block`, `open`, `oval`, `diamond`, `none`, width: `wide`, `narrow`, `medium`, length: `long`, `short`, `midium`.\n     o clip-rect (string) comma or space separated values: x, y, width and height\n     o cursor (string) CSS type of the cursor\n     o cx (number) the x-axis coordinate of the center of the circle, or ellipse\n     o cy (number) the y-axis coordinate of the center of the circle, or ellipse\n     o fill (string) colour, gradient or image\n     o fill-opacity (number)\n     o font (string)\n     o font-family (string)\n     o font-size (number) font size in pixels\n     o font-weight (string)\n     o height (number)\n     o href (string) URL, if specified element behaves as hyperlink\n     o opacity (number)\n     o path (string) SVG path string format\n     o r (number) radius of the circle, ellipse or rounded corner on the rect\n     o rx (number) horisontal radius of the ellipse\n     o ry (number) vertical radius of the ellipse\n     o src (string) image URL, only works for @Element.image element\n     o stroke (string) stroke colour\n     o stroke-dasharray (string) [ââ, ânoneâ, â`-`â, â`.`â, â`-.`â, â`-..`â, â`. `â, â`- `â, â`--`â, â`- .`â, â`--.`â, â`--..`â]\n     o stroke-linecap (string) [â`butt`â, â`square`â, â`round`â]\n     o stroke-linejoin (string) [â`bevel`â, â`round`â, â`miter`â]\n     o stroke-miterlimit (number)\n     o stroke-opacity (number)\n     o stroke-width (number) stroke width in pixels, default is \'1\'\n     o target (string) used with href\n     o text (string) contents of the text element. Use `\\n` for multiline text\n     o text-anchor (string) [â`start`â, â`middle`â, â`end`â], default is â`middle`â\n     o title (string) will create tooltip with a given text\n     o transform (string) see @Element.transform\n     o width (number)\n     o x (number)\n     o y (number)\n     > Gradients\n     * Linear gradient format: â`â¹angleâº-â¹colourâº[-â¹colourâº[:â¹offsetâº]]*-â¹colourâº`â, example: â`90-#fff-#000`â â 90Â°\n     * gradient from white to black or â`0-#fff-#f00:20-#000`â â 0Â° gradient from white via red (at 20%) to black.\n     *\n     * radial gradient: â`r[(â¹fxâº, â¹fyâº)]â¹colourâº[-â¹colourâº[:â¹offsetâº]]*-â¹colourâº`â, example: â`r#fff-#000`â â\n     * gradient from white to black or â`r(0.25, 0.75)#fff-#000`â â gradient from white to black with focus point\n     * at 0.25, 0.75. Focus point coordinates are in 0..1 range. Radial gradients can only be applied to circles and ellipses.\n     > Path String\n     # <p>Please refer to <a href="http://www.w3.org/TR/SVG/paths.html#PathData" title="Details of a pathâs data attributeâs format are described in the SVG specification.">SVG documentation regarding path string</a>. RaphaÃ«l fully supports it.</p>\n     > Colour Parsing\n     # <ul>\n     #     <li>Colour name (â<code>red</code>â, â<code>green</code>â, â<code>cornflowerblue</code>â, etc)</li>\n     #     <li>#â¢â¢â¢ â shortened HTML colour: (â<code>#000</code>â, â<code>#fc0</code>â, etc)</li>\n     #     <li>#â¢â¢â¢â¢â¢â¢ â full length HTML colour: (â<code>#000000</code>â, â<code>#bd2300</code>â)</li>\n     #     <li>rgb(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â red, green and blue channelsâ values: (â<code>rgb(200,&nbsp;100,&nbsp;0)</code>â)</li>\n     #     <li>rgb(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %: (â<code>rgb(100%,&nbsp;175%,&nbsp;0%)</code>â)</li>\n     #     <li>rgba(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â red, green and blue channelsâ values: (â<code>rgba(200,&nbsp;100,&nbsp;0, .5)</code>â)</li>\n     #     <li>rgba(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %: (â<code>rgba(100%,&nbsp;175%,&nbsp;0%, 50%)</code>â)</li>\n     #     <li>hsb(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â hue, saturation and brightness values: (â<code>hsb(0.5,&nbsp;0.25,&nbsp;1)</code>â)</li>\n     #     <li>hsb(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %</li>\n     #     <li>hsba(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â same as above, but with opacity</li>\n     #     <li>hsl(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â almost the same as hsb, see <a href="http://en.wikipedia.org/wiki/HSL_and_HSV" title="HSL and HSV - Wikipedia, the free encyclopedia">Wikipedia page</a></li>\n     #     <li>hsl(â¢â¢â¢%, â¢â¢â¢%, â¢â¢â¢%) â same as above, but in %</li>\n     #     <li>hsla(â¢â¢â¢, â¢â¢â¢, â¢â¢â¢, â¢â¢â¢) â same as above, but with opacity</li>\n     #     <li>Optionally for hsb and hsl you could specify hue as a degree: â<code>hsl(240deg,&nbsp;1,&nbsp;.5)</code>â or, if you want to go fancy, â<code>hsl(240Â°,&nbsp;1,&nbsp;.5)</code>â</li>\n     # </ul>\n    \\*/\n    elproto.attr = function (name, value) {\n        if (this.removed) {\n            return this;\n        }\n        if (name == null) {\n            var res = {};\n            for (var a in this.attrs) if (this.attrs[has](a)) {\n                res[a] = this.attrs[a];\n            }\n            res.gradient && res.fill == "none" && (res.fill = res.gradient) && delete res.gradient;\n            res.transform = this._.transform;\n            return res;\n        }\n        if (value == null && R.is(name, "string")) {\n            if (name == "fill" && this.attrs.fill == "none" && this.attrs.gradient) {\n                return this.attrs.gradient;\n            }\n            if (name == "transform") {\n                return this._.transform;\n            }\n            var names = name.split(separator),\n                out = {};\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                name = names[i];\n                if (name in this.attrs) {\n                    out[name] = this.attrs[name];\n                } else if (R.is(this.paper.customAttributes[name], "function")) {\n                    out[name] = this.paper.customAttributes[name].def;\n                } else {\n                    out[name] = R._availableAttrs[name];\n                }\n            }\n            return ii - 1 ? out : out[names[0]];\n        }\n        if (value == null && R.is(name, "array")) {\n            out = {};\n            for (i = 0, ii = name.length; i < ii; i++) {\n                out[name[i]] = this.attr(name[i]);\n            }\n            return out;\n        }\n        if (value != null) {\n            var params = {};\n            params[name] = value;\n        } else if (name != null && R.is(name, "object")) {\n            params = name;\n        }\n        for (var key in params) {\n            eve("raphael.attr." + key + "." + this.id, this, params[key]);\n        }\n        for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], "function")) {\n            var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\n            this.attrs[key] = params[key];\n            for (var subkey in par) if (par[has](subkey)) {\n                params[subkey] = par[subkey];\n            }\n        }\n        setFillAndStroke(this, params);\n        return this;\n    };\n    /*\\\n     * Element.toFront\n     [ method ]\n     **\n     * Moves the element so it is the closest to the viewerâs eyes, on top of other elements.\n     = (object) @Element\n    \\*/\n    elproto.toFront = function () {\n        if (this.removed) {\n            return this;\n        }\n        var node = getRealNode(this.node);\n        node.parentNode.appendChild(node);\n        var svg = this.paper;\n        svg.top != this && R._tofront(this, svg);\n        return this;\n    };\n    /*\\\n     * Element.toBack\n     [ method ]\n     **\n     * Moves the element so it is the furthest from the viewerâs eyes, behind other elements.\n     = (object) @Element\n    \\*/\n    elproto.toBack = function () {\n        if (this.removed) {\n            return this;\n        }\n        var node = getRealNode(this.node);\n        var parentNode = node.parentNode;\n        parentNode.insertBefore(node, parentNode.firstChild);\n        R._toback(this, this.paper);\n        var svg = this.paper;\n        return this;\n    };\n    /*\\\n     * Element.insertAfter\n     [ method ]\n     **\n     * Inserts current object after the given one.\n     = (object) @Element\n    \\*/\n    elproto.insertAfter = function (element) {\n        if (this.removed || !element) {\n            return this;\n        }\n\n        var node = getRealNode(this.node);\n        var afterNode = getRealNode(element.node || element[element.length - 1].node);\n        if (afterNode.nextSibling) {\n            afterNode.parentNode.insertBefore(node, afterNode.nextSibling);\n        } else {\n            afterNode.parentNode.appendChild(node);\n        }\n        R._insertafter(this, element, this.paper);\n        return this;\n    };\n    /*\\\n     * Element.insertBefore\n     [ method ]\n     **\n     * Inserts current object before the given one.\n     = (object) @Element\n    \\*/\n    elproto.insertBefore = function (element) {\n        if (this.removed || !element) {\n            return this;\n        }\n\n        var node = getRealNode(this.node);\n        var beforeNode = getRealNode(element.node || element[0].node);\n        beforeNode.parentNode.insertBefore(node, beforeNode);\n        R._insertbefore(this, element, this.paper);\n        return this;\n    };\n    elproto.blur = function (size) {\n        // Experimental. No Safari support. Use it on your own risk.\n        var t = this;\n        if (+size !== 0) {\n            var fltr = $("filter"),\n                blur = $("feGaussianBlur");\n            t.attrs.blur = size;\n            fltr.id = R.createUUID();\n            $(blur, {stdDeviation: +size || 1.5});\n            fltr.appendChild(blur);\n            t.paper.defs.appendChild(fltr);\n            t._blur = fltr;\n            $(t.node, {filter: "url(#" + fltr.id + ")"});\n        } else {\n            if (t._blur) {\n                t._blur.parentNode.removeChild(t._blur);\n                delete t._blur;\n                delete t.attrs.blur;\n            }\n            t.node.removeAttribute("filter");\n        }\n        return t;\n    };\n    R._engine.circle = function (svg, x, y, r) {\n        var el = $("circle");\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {cx: x, cy: y, r: r, fill: "none", stroke: "#000"};\n        res.type = "circle";\n        $(el, res.attrs);\n        return res;\n    };\n    R._engine.rect = function (svg, x, y, w, h, r) {\n        var el = $("rect");\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {x: x, y: y, width: w, height: h, rx: r || 0, ry: r || 0, fill: "none", stroke: "#000"};\n        res.type = "rect";\n        $(el, res.attrs);\n        return res;\n    };\n    R._engine.ellipse = function (svg, x, y, rx, ry) {\n        var el = $("ellipse");\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {cx: x, cy: y, rx: rx, ry: ry, fill: "none", stroke: "#000"};\n        res.type = "ellipse";\n        $(el, res.attrs);\n        return res;\n    };\n    R._engine.image = function (svg, src, x, y, w, h) {\n        var el = $("image");\n        $(el, {x: x, y: y, width: w, height: h, preserveAspectRatio: "none"});\n        el.setAttributeNS(xlink, "href", src);\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {x: x, y: y, width: w, height: h, src: src};\n        res.type = "image";\n        return res;\n    };\n    R._engine.text = function (svg, x, y, text) {\n        var el = $("text");\n        svg.canvas && svg.canvas.appendChild(el);\n        var res = new Element(el, svg);\n        res.attrs = {\n            x: x,\n            y: y,\n            "text-anchor": "middle",\n            text: text,\n            "font-family": R._availableAttrs["font-family"],\n            "font-size": R._availableAttrs["font-size"],\n            stroke: "none",\n            fill: "#000"\n        };\n        res.type = "text";\n        setFillAndStroke(res, res.attrs);\n        return res;\n    };\n    R._engine.setSize = function (width, height) {\n        this.width = width || this.width;\n        this.height = height || this.height;\n        this.canvas.setAttribute("width", this.width);\n        this.canvas.setAttribute("height", this.height);\n        if (this._viewBox) {\n            this.setViewBox.apply(this, this._viewBox);\n        }\n        return this;\n    };\n    R._engine.create = function () {\n        var con = R._getContainer.apply(0, arguments),\n            container = con && con.container;\n        if (!container) {\n            throw new Error("SVG container not found.");\n        }\n        var x = con.x,\n            y = con.y,\n            width = con.width,\n            height = con.height,\n            cnvs = $("svg"),\n            css = "overflow:hidden;",\n            isFloating;\n        x = x || 0;\n        y = y || 0;\n        width = width || 512;\n        height = height || 342;\n        $(cnvs, {\n            height: height,\n            version: 1.1,\n            width: width,\n            xmlns: "http://www.w3.org/2000/svg",\n            "xmlns:xlink": "http://www.w3.org/1999/xlink"\n        });\n        if (container == 1) {\n            cnvs.style.cssText = css + "position:absolute;left:" + x + "px;top:" + y + "px";\n            R._g.doc.body.appendChild(cnvs);\n            isFloating = 1;\n        } else {\n            cnvs.style.cssText = css + "position:relative";\n            if (container.firstChild) {\n                container.insertBefore(cnvs, container.firstChild);\n            } else {\n                container.appendChild(cnvs);\n            }\n        }\n        container = new R._Paper;\n        container.width = width;\n        container.height = height;\n        container.canvas = cnvs;\n        container.clear();\n        container._left = container._top = 0;\n        isFloating && (container.renderfix = function () {});\n        container.renderfix();\n        return container;\n    };\n    R._engine.setViewBox = function (x, y, w, h, fit) {\n        eve("raphael.setViewBox", this, this._viewBox, [x, y, w, h, fit]);\n        var paperSize = this.getSize(),\n            size = mmax(w / paperSize.width, h / paperSize.height),\n            top = this.top,\n            aspectRatio = fit ? "xMidYMid meet" : "xMinYMin",\n            vb,\n            sw;\n        if (x == null) {\n            if (this._vbSize) {\n                size = 1;\n            }\n            delete this._vbSize;\n            vb = "0 0 " + this.width + S + this.height;\n        } else {\n            this._vbSize = size;\n            vb = x + S + y + S + w + S + h;\n        }\n        $(this.canvas, {\n            viewBox: vb,\n            preserveAspectRatio: aspectRatio\n        });\n        while (size && top) {\n            sw = "stroke-width" in top.attrs ? top.attrs["stroke-width"] : 1;\n            top.attr({"stroke-width": sw});\n            top._.dirty = 1;\n            top._.dirtyT = 1;\n            top = top.prev;\n        }\n        this._viewBox = [x, y, w, h, !!fit];\n        return this;\n    };\n    /*\\\n     * Paper.renderfix\n     [ method ]\n     **\n     * Fixes the issue of Firefox and IE9 regarding subpixel rendering. If paper is dependent\n     * on other elements after reflow it could shift half pixel which cause for lines to lost their crispness.\n     * This method fixes the issue.\n     **\n       Special thanks to Mariusz Nowak (http://www.medikoo.com/) for this method.\n    \\*/\n    R.prototype.renderfix = function () {\n        var cnvs = this.canvas,\n            s = cnvs.style,\n            pos;\n        try {\n            pos = cnvs.getScreenCTM() || cnvs.createSVGMatrix();\n        } catch (e) {\n            pos = cnvs.createSVGMatrix();\n        }\n        var left = -pos.e % 1,\n            top = -pos.f % 1;\n        if (left || top) {\n            if (left) {\n                this._left = (this._left + left) % 1;\n                s.left = this._left + "px";\n            }\n            if (top) {\n                this._top = (this._top + top) % 1;\n                s.top = this._top + "px";\n            }\n        }\n    };\n    /*\\\n     * Paper.clear\n     [ method ]\n     **\n     * Clears the paper, i.e. removes all the elements.\n    \\*/\n    R.prototype.clear = function () {\n        R.eve("raphael.clear", this);\n        var c = this.canvas;\n        while (c.firstChild) {\n            c.removeChild(c.firstChild);\n        }\n        this.bottom = this.top = null;\n        (this.desc = $("desc")).appendChild(R._g.doc.createTextNode("Created with Rapha\\xebl " + R.version));\n        c.appendChild(this.desc);\n        c.appendChild(this.defs = $("defs"));\n    };\n    /*\\\n     * Paper.remove\n     [ method ]\n     **\n     * Removes the paper from the DOM.\n    \\*/\n    R.prototype.remove = function () {\n        eve("raphael.remove", this);\n        this.canvas.parentNode && this.canvas.parentNode.removeChild(this.canvas);\n        for (var i in this) {\n            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;\n        }\n    };\n    var setproto = R.st;\n    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\n        setproto[method] = (function (methodname) {\n            return function () {\n                var arg = arguments;\n                return this.forEach(function (el) {\n                    el[methodname].apply(el, arg);\n                });\n            };\n        })(method);\n    }\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC5zdmcuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwuc3ZnLmpzP2Q4YzciXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCJdLCBmdW5jdGlvbihSKSB7XG4gICAgaWYgKFIgJiYgIVIuc3ZnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGFzID0gXCJoYXNPd25Qcm9wZXJ0eVwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICB0b0ludCA9IHBhcnNlSW50LFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgbW1heCA9IG1hdGgubWF4LFxuICAgICAgICBhYnMgPSBtYXRoLmFicyxcbiAgICAgICAgcG93ID0gbWF0aC5wb3csXG4gICAgICAgIHNlcGFyYXRvciA9IC9bLCBdKy8sXG4gICAgICAgIGV2ZSA9IFIuZXZlLFxuICAgICAgICBFID0gXCJcIixcbiAgICAgICAgUyA9IFwiIFwiO1xuICAgIHZhciB4bGluayA9IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiLFxuICAgICAgICBtYXJrZXJzID0ge1xuICAgICAgICAgICAgYmxvY2s6IFwiTTUsMCAwLDIuNSA1LDV6XCIsXG4gICAgICAgICAgICBjbGFzc2ljOiBcIk01LDAgMCwyLjUgNSw1IDMuNSwzIDMuNSwyelwiLFxuICAgICAgICAgICAgZGlhbW9uZDogXCJNMi41LDAgNSwyLjUgMi41LDUgMCwyLjV6XCIsXG4gICAgICAgICAgICBvcGVuOiBcIk02LDEgMSwzLjUgNiw2XCIsXG4gICAgICAgICAgICBvdmFsOiBcIk0yLjUsMEEyLjUsMi41LDAsMCwxLDIuNSw1IDIuNSwyLjUsMCwwLDEsMi41LDB6XCJcbiAgICAgICAgfSxcbiAgICAgICAgbWFya2VyQ291bnRlciA9IHt9O1xuICAgIFIudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiAgXCJZb3VyIGJyb3dzZXIgc3VwcG9ydHMgU1ZHLlxcbllvdSBhcmUgcnVubmluZyBSYXBoYVxceGVibCBcIiArIHRoaXMudmVyc2lvbjtcbiAgICB9O1xuICAgIHZhciAkID0gZnVuY3Rpb24gKGVsLCBhdHRyKSB7XG4gICAgICAgIGlmIChhdHRyKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGVsID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBlbCA9ICQoZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIGF0dHIpIGlmIChhdHRyW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkuc3Vic3RyaW5nKDAsIDYpID09IFwieGxpbms6XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmssIGtleS5zdWJzdHJpbmcoNiksIFN0cihhdHRyW2tleV0pKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUoa2V5LCBTdHIoYXR0cltrZXldKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWwgPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50TlMoXCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiLCBlbCk7XG4gICAgICAgICAgICBlbC5zdHlsZSAmJiAoZWwuc3R5bGUud2Via2l0VGFwSGlnaGxpZ2h0Q29sb3IgPSBcInJnYmEoMCwwLDAsMClcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVsO1xuICAgIH0sXG4gICAgYWRkR3JhZGllbnRGaWxsID0gZnVuY3Rpb24gKGVsZW1lbnQsIGdyYWRpZW50KSB7XG4gICAgICAgIHZhciB0eXBlID0gXCJsaW5lYXJcIixcbiAgICAgICAgICAgIGlkID0gZWxlbWVudC5pZCArIGdyYWRpZW50LFxuICAgICAgICAgICAgZnggPSAuNSwgZnkgPSAuNSxcbiAgICAgICAgICAgIG8gPSBlbGVtZW50Lm5vZGUsXG4gICAgICAgICAgICBTVkcgPSBlbGVtZW50LnBhcGVyLFxuICAgICAgICAgICAgcyA9IG8uc3R5bGUsXG4gICAgICAgICAgICBlbCA9IFIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgICAgICAgaWYgKCFlbCkge1xuICAgICAgICAgICAgZ3JhZGllbnQgPSBTdHIoZ3JhZGllbnQpLnJlcGxhY2UoUi5fcmFkaWFsX2dyYWRpZW50LCBmdW5jdGlvbiAoYWxsLCBfZngsIF9meSkge1xuICAgICAgICAgICAgICAgIHR5cGUgPSBcInJhZGlhbFwiO1xuICAgICAgICAgICAgICAgIGlmIChfZnggJiYgX2Z5KSB7XG4gICAgICAgICAgICAgICAgICAgIGZ4ID0gdG9GbG9hdChfZngpO1xuICAgICAgICAgICAgICAgICAgICBmeSA9IHRvRmxvYXQoX2Z5KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpciA9ICgoZnkgPiAuNSkgKiAyIC0gMSk7XG4gICAgICAgICAgICAgICAgICAgIHBvdyhmeCAtIC41LCAyKSArIHBvdyhmeSAtIC41LCAyKSA+IC4yNSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgKGZ5ID0gbWF0aC5zcXJ0KC4yNSAtIHBvdyhmeCAtIC41LCAyKSkgKiBkaXIgKyAuNSkgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgIGZ5ICE9IC41ICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAoZnkgPSBmeS50b0ZpeGVkKDUpIC0gMWUtNSAqIGRpcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBFO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBncmFkaWVudCA9IGdyYWRpZW50LnNwbGl0KC9cXHMqXFwtXFxzKi8pO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJsaW5lYXJcIikge1xuICAgICAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgYW5nbGUgPSAtdG9GbG9hdChhbmdsZSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKGFuZ2xlKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZlY3RvciA9IFswLCAwLCBtYXRoLmNvcyhSLnJhZChhbmdsZSkpLCBtYXRoLnNpbihSLnJhZChhbmdsZSkpXSxcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gMSAvIChtbWF4KGFicyh2ZWN0b3JbMl0pLCBhYnModmVjdG9yWzNdKSkgfHwgMSk7XG4gICAgICAgICAgICAgICAgdmVjdG9yWzJdICo9IG1heDtcbiAgICAgICAgICAgICAgICB2ZWN0b3JbM10gKj0gbWF4O1xuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3JbMl0gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclswXSA9IC12ZWN0b3JbMl07XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclsyXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh2ZWN0b3JbM10gPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclsxXSA9IC12ZWN0b3JbM107XG4gICAgICAgICAgICAgICAgICAgIHZlY3RvclszXSA9IDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGRvdHMgPSBSLl9wYXJzZURvdHMoZ3JhZGllbnQpO1xuICAgICAgICAgICAgaWYgKCFkb3RzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZCA9IGlkLnJlcGxhY2UoL1tcXChcXClcXHMsXFx4YjAjXS9nLCBcIl9cIik7XG5cbiAgICAgICAgICAgIGlmIChlbGVtZW50LmdyYWRpZW50ICYmIGlkICE9IGVsZW1lbnQuZ3JhZGllbnQuaWQpIHtcbiAgICAgICAgICAgICAgICBTVkcuZGVmcy5yZW1vdmVDaGlsZChlbGVtZW50LmdyYWRpZW50KTtcbiAgICAgICAgICAgICAgICBkZWxldGUgZWxlbWVudC5ncmFkaWVudDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKCFlbGVtZW50LmdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgZWwgPSAkKHR5cGUgKyBcIkdyYWRpZW50XCIsIHtpZDogaWR9KTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmdyYWRpZW50ID0gZWw7XG4gICAgICAgICAgICAgICAgJChlbCwgdHlwZSA9PSBcInJhZGlhbFwiID8ge1xuICAgICAgICAgICAgICAgICAgICBmeDogZngsXG4gICAgICAgICAgICAgICAgICAgIGZ5OiBmeVxuICAgICAgICAgICAgICAgIH0gOiB7XG4gICAgICAgICAgICAgICAgICAgIHgxOiB2ZWN0b3JbMF0sXG4gICAgICAgICAgICAgICAgICAgIHkxOiB2ZWN0b3JbMV0sXG4gICAgICAgICAgICAgICAgICAgIHgyOiB2ZWN0b3JbMl0sXG4gICAgICAgICAgICAgICAgICAgIHkyOiB2ZWN0b3JbM10sXG4gICAgICAgICAgICAgICAgICAgIGdyYWRpZW50VHJhbnNmb3JtOiBlbGVtZW50Lm1hdHJpeC5pbnZlcnQoKVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIFNWRy5kZWZzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBkb3RzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoJChcInN0b3BcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiBkb3RzW2ldLm9mZnNldCA/IGRvdHNbaV0ub2Zmc2V0IDogaSA/IFwiMTAwJVwiIDogXCIwJVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgXCJzdG9wLWNvbG9yXCI6IGRvdHNbaV0uY29sb3IgfHwgXCIjZmZmXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBcInN0b3Atb3BhY2l0eVwiOiBpc0Zpbml0ZShkb3RzW2ldLm9wYWNpdHkpID8gZG90c1tpXS5vcGFjaXR5IDogMVxuICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgICQobywge1xuICAgICAgICAgICAgZmlsbDogZmlsbHVybChpZCksXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgXCJmaWxsLW9wYWNpdHlcIjogMVxuICAgICAgICB9KTtcbiAgICAgICAgcy5maWxsID0gRTtcbiAgICAgICAgcy5vcGFjaXR5ID0gMTtcbiAgICAgICAgcy5maWxsT3BhY2l0eSA9IDE7XG4gICAgICAgIHJldHVybiAxO1xuICAgIH0sXG4gICAgaXNJRTlvcjEwID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1vZGUgPSBkb2N1bWVudC5kb2N1bWVudE1vZGU7XG4gICAgICByZXR1cm4gbW9kZSAmJiAobW9kZSA9PT0gOSB8fCBtb2RlID09PSAxMCk7XG4gICAgfSxcbiAgICBmaWxsdXJsID0gZnVuY3Rpb24gKGlkKSB7XG4gICAgICBpZiAoaXNJRTlvcjEwKCkpIHtcbiAgICAgICAgICByZXR1cm4gXCJ1cmwoJyNcIiArIGlkICsgXCInKVwiO1xuICAgICAgfVxuICAgICAgdmFyIGxvY2F0aW9uID0gZG9jdW1lbnQubG9jYXRpb247XG4gICAgICB2YXIgbG9jYXRpb25TdHJpbmcgPSAoXG4gICAgICAgICAgbG9jYXRpb24ucHJvdG9jb2wgKyAnLy8nICtcbiAgICAgICAgICBsb2NhdGlvbi5ob3N0ICtcbiAgICAgICAgICBsb2NhdGlvbi5wYXRobmFtZSArXG4gICAgICAgICAgbG9jYXRpb24uc2VhcmNoXG4gICAgICApO1xuICAgICAgcmV0dXJuIFwidXJsKCdcIiArIGxvY2F0aW9uU3RyaW5nICsgXCIjXCIgKyBpZCArIFwiJylcIjtcbiAgICB9LFxuICAgIHVwZGF0ZVBvc2l0aW9uID0gZnVuY3Rpb24gKG8pIHtcbiAgICAgICAgdmFyIGJib3ggPSBvLmdldEJCb3goMSk7XG4gICAgICAgICQoby5wYXR0ZXJuLCB7cGF0dGVyblRyYW5zZm9ybTogby5tYXRyaXguaW52ZXJ0KCkgKyBcIiB0cmFuc2xhdGUoXCIgKyBiYm94LnggKyBcIixcIiArIGJib3gueSArIFwiKVwifSk7XG4gICAgfSxcbiAgICBhZGRBcnJvdyA9IGZ1bmN0aW9uIChvLCB2YWx1ZSwgaXNFbmQpIHtcbiAgICAgICAgaWYgKG8udHlwZSA9PSBcInBhdGhcIikge1xuICAgICAgICAgICAgdmFyIHZhbHVlcyA9IFN0cih2YWx1ZSkudG9Mb3dlckNhc2UoKS5zcGxpdChcIi1cIiksXG4gICAgICAgICAgICAgICAgcCA9IG8ucGFwZXIsXG4gICAgICAgICAgICAgICAgc2UgPSBpc0VuZCA/IFwiZW5kXCIgOiBcInN0YXJ0XCIsXG4gICAgICAgICAgICAgICAgbm9kZSA9IG8ubm9kZSxcbiAgICAgICAgICAgICAgICBhdHRycyA9IG8uYXR0cnMsXG4gICAgICAgICAgICAgICAgc3Ryb2tlID0gYXR0cnNbXCJzdHJva2Utd2lkdGhcIl0sXG4gICAgICAgICAgICAgICAgaSA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgdHlwZSA9IFwiY2xhc3NpY1wiLFxuICAgICAgICAgICAgICAgIGZyb20sXG4gICAgICAgICAgICAgICAgdG8sXG4gICAgICAgICAgICAgICAgZHgsXG4gICAgICAgICAgICAgICAgcmVmWCxcbiAgICAgICAgICAgICAgICBhdHRyLFxuICAgICAgICAgICAgICAgIHcgPSAzLFxuICAgICAgICAgICAgICAgIGggPSAzLFxuICAgICAgICAgICAgICAgIHQgPSA1O1xuICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgIHN3aXRjaCAodmFsdWVzW2ldKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibG9ja1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY2xhc3NpY1wiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3ZhbFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BlblwiOlxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwid2lkZVwiOiBoID0gNTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJuYXJyb3dcIjogaCA9IDI7IGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibG9uZ1wiOiB3ID0gNTsgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzaG9ydFwiOiB3ID0gMjsgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJvcGVuXCIpIHtcbiAgICAgICAgICAgICAgICB3ICs9IDI7XG4gICAgICAgICAgICAgICAgaCArPSAyO1xuICAgICAgICAgICAgICAgIHQgKz0gMjtcbiAgICAgICAgICAgICAgICBkeCA9IDE7XG4gICAgICAgICAgICAgICAgcmVmWCA9IGlzRW5kID8gNCA6IDE7XG4gICAgICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgICAgICAgICAgIHN0cm9rZTogYXR0cnMuc3Ryb2tlXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVmWCA9IGR4ID0gdyAvIDI7XG4gICAgICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbDogYXR0cnMuc3Ryb2tlLFxuICAgICAgICAgICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvLl8uYXJyb3dzKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIG8uXy5hcnJvd3MuZW5kUGF0aCAmJiBtYXJrZXJDb3VudGVyW28uXy5hcnJvd3MuZW5kUGF0aF0tLTtcbiAgICAgICAgICAgICAgICAgICAgby5fLmFycm93cy5lbmRNYXJrZXIgJiYgbWFya2VyQ291bnRlcltvLl8uYXJyb3dzLmVuZE1hcmtlcl0tLTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvLl8uYXJyb3dzLnN0YXJ0UGF0aCAmJiBtYXJrZXJDb3VudGVyW28uXy5hcnJvd3Muc3RhcnRQYXRoXS0tO1xuICAgICAgICAgICAgICAgICAgICBvLl8uYXJyb3dzLnN0YXJ0TWFya2VyICYmIG1hcmtlckNvdW50ZXJbby5fLmFycm93cy5zdGFydE1hcmtlcl0tLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3MgPSB7fTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlICE9IFwibm9uZVwiKSB7XG4gICAgICAgICAgICAgICAgdmFyIHBhdGhJZCA9IFwicmFwaGFlbC1tYXJrZXItXCIgKyB0eXBlLFxuICAgICAgICAgICAgICAgICAgICBtYXJrZXJJZCA9IFwicmFwaGFlbC1tYXJrZXItXCIgKyBzZSArIHR5cGUgKyB3ICsgaCArIFwiLW9ialwiICsgby5pZDtcbiAgICAgICAgICAgICAgICBpZiAoIVIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHBhdGhJZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZzLmFwcGVuZENoaWxkKCQoJChcInBhdGhcIiksIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLWxpbmVjYXBcIjogXCJyb3VuZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZDogbWFya2Vyc1t0eXBlXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBwYXRoSWRcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyW3BhdGhJZF0gPSAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXJbcGF0aElkXSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFya2VyID0gUi5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQobWFya2VySWQpLFxuICAgICAgICAgICAgICAgICAgICB1c2U7XG4gICAgICAgICAgICAgICAgaWYgKCFtYXJrZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgbWFya2VyID0gJCgkKFwibWFya2VyXCIpLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogbWFya2VySWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJIZWlnaHQ6IGgsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXJrZXJXaWR0aDogdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWVudDogXCJhdXRvXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWZYOiByZWZYLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmWTogaCAvIDJcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHVzZSA9ICQoJChcInVzZVwiKSwge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJ4bGluazpocmVmXCI6IFwiI1wiICsgcGF0aElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNmb3JtOiAoaXNFbmQgPyBcInJvdGF0ZSgxODAgXCIgKyB3IC8gMiArIFwiIFwiICsgaCAvIDIgKyBcIikgXCIgOiBFKSArIFwic2NhbGUoXCIgKyB3IC8gdCArIFwiLFwiICsgaCAvIHQgKyBcIilcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIFwic3Ryb2tlLXdpZHRoXCI6ICgxIC8gKCh3IC8gdCArIGggLyB0KSAvIDIpKS50b0ZpeGVkKDQpXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXIuYXBwZW5kQ2hpbGQodXNlKTtcbiAgICAgICAgICAgICAgICAgICAgcC5kZWZzLmFwcGVuZENoaWxkKG1hcmtlcik7XG4gICAgICAgICAgICAgICAgICAgIG1hcmtlckNvdW50ZXJbbWFya2VySWRdID0gMTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBtYXJrZXJDb3VudGVyW21hcmtlcklkXSsrO1xuICAgICAgICAgICAgICAgICAgICB1c2UgPSBtYXJrZXIuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJ1c2VcIilbMF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQodXNlLCBhdHRyKTtcbiAgICAgICAgICAgICAgICB2YXIgZGVsdGEgPSBkeCAqICh0eXBlICE9IFwiZGlhbW9uZFwiICYmIHR5cGUgIT0gXCJvdmFsXCIpO1xuICAgICAgICAgICAgICAgIGlmIChpc0VuZCkge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gby5fLmFycm93cy5zdGFydGR4ICogc3Ryb2tlIHx8IDA7XG4gICAgICAgICAgICAgICAgICAgIHRvID0gUi5nZXRUb3RhbExlbmd0aChhdHRycy5wYXRoKSAtIGRlbHRhICogc3Ryb2tlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBkZWx0YSAqIHN0cm9rZTtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gKG8uXy5hcnJvd3MuZW5kZHggKiBzdHJva2UgfHwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF0dHIgPSB7fTtcbiAgICAgICAgICAgICAgICBhdHRyW1wibWFya2VyLVwiICsgc2VdID0gXCJ1cmwoI1wiICsgbWFya2VySWQgKyBcIilcIjtcbiAgICAgICAgICAgICAgICBpZiAodG8gfHwgZnJvbSkge1xuICAgICAgICAgICAgICAgICAgICBhdHRyLmQgPSBSLmdldFN1YnBhdGgoYXR0cnMucGF0aCwgZnJvbSwgdG8pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkKG5vZGUsIGF0dHIpO1xuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3Nbc2UgKyBcIlBhdGhcIl0gPSBwYXRoSWQ7XG4gICAgICAgICAgICAgICAgby5fLmFycm93c1tzZSArIFwiTWFya2VyXCJdID0gbWFya2VySWQ7XG4gICAgICAgICAgICAgICAgby5fLmFycm93c1tzZSArIFwiZHhcIl0gPSBkZWx0YTtcbiAgICAgICAgICAgICAgICBvLl8uYXJyb3dzW3NlICsgXCJUeXBlXCJdID0gdHlwZTtcbiAgICAgICAgICAgICAgICBvLl8uYXJyb3dzW3NlICsgXCJTdHJpbmdcIl0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzRW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIGZyb20gPSBvLl8uYXJyb3dzLnN0YXJ0ZHggKiBzdHJva2UgfHwgMDtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gZnJvbTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmcm9tID0gMDtcbiAgICAgICAgICAgICAgICAgICAgdG8gPSBSLmdldFRvdGFsTGVuZ3RoKGF0dHJzLnBhdGgpIC0gKG8uXy5hcnJvd3MuZW5kZHggKiBzdHJva2UgfHwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uXy5hcnJvd3Nbc2UgKyBcIlBhdGhcIl0gJiYgJChub2RlLCB7ZDogUi5nZXRTdWJwYXRoKGF0dHJzLnBhdGgsIGZyb20sIHRvKX0pO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJQYXRoXCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJNYXJrZXJcIl07XG4gICAgICAgICAgICAgICAgZGVsZXRlIG8uXy5hcnJvd3Nbc2UgKyBcImR4XCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJUeXBlXCJdO1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBvLl8uYXJyb3dzW3NlICsgXCJTdHJpbmdcIl07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGF0dHIgaW4gbWFya2VyQ291bnRlcikgaWYgKG1hcmtlckNvdW50ZXJbaGFzXShhdHRyKSAmJiAhbWFya2VyQ291bnRlclthdHRyXSkge1xuICAgICAgICAgICAgICAgIHZhciBpdGVtID0gUi5fZy5kb2MuZ2V0RWxlbWVudEJ5SWQoYXR0cik7XG4gICAgICAgICAgICAgICAgaXRlbSAmJiBpdGVtLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoaXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRhc2hhcnJheSA9IHtcbiAgICAgICAgXCItXCI6IFszLCAxXSxcbiAgICAgICAgXCIuXCI6IFsxLCAxXSxcbiAgICAgICAgXCItLlwiOiBbMywgMSwgMSwgMV0sXG4gICAgICAgIFwiLS4uXCI6IFszLCAxLCAxLCAxLCAxLCAxXSxcbiAgICAgICAgXCIuIFwiOiBbMSwgM10sXG4gICAgICAgIFwiLSBcIjogWzQsIDNdLFxuICAgICAgICBcIi0tXCI6IFs4LCAzXSxcbiAgICAgICAgXCItIC5cIjogWzQsIDMsIDEsIDNdLFxuICAgICAgICBcIi0tLlwiOiBbOCwgMywgMSwgM10sXG4gICAgICAgIFwiLS0uLlwiOiBbOCwgMywgMSwgMywgMSwgM11cbiAgICB9LFxuICAgIGFkZERhc2hlcyA9IGZ1bmN0aW9uIChvLCB2YWx1ZSwgcGFyYW1zKSB7XG4gICAgICAgIHZhbHVlID0gZGFzaGFycmF5W1N0cih2YWx1ZSkudG9Mb3dlckNhc2UoKV07XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgdmFyIHdpZHRoID0gby5hdHRyc1tcInN0cm9rZS13aWR0aFwiXSB8fCBcIjFcIixcbiAgICAgICAgICAgICAgICBidXR0ID0ge3JvdW5kOiB3aWR0aCwgc3F1YXJlOiB3aWR0aCwgYnV0dDogMH1bby5hdHRyc1tcInN0cm9rZS1saW5lY2FwXCJdIHx8IHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdXSB8fCAwLFxuICAgICAgICAgICAgICAgIGRhc2hlcyA9IFtdLFxuICAgICAgICAgICAgICAgIGkgPSB2YWx1ZS5sZW5ndGg7XG4gICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgZGFzaGVzW2ldID0gdmFsdWVbaV0gKiB3aWR0aCArICgoaSAlIDIpID8gMSA6IC0xKSAqIGJ1dHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAkKG8ubm9kZSwge1wic3Ryb2tlLWRhc2hhcnJheVwiOiBkYXNoZXMuam9pbihcIixcIil9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAkKG8ubm9kZSwge1wic3Ryb2tlLWRhc2hhcnJheVwiOiBcIm5vbmVcIn0pO1xuICAgICAgICB9XG4gICAgfSxcbiAgICBzZXRGaWxsQW5kU3Ryb2tlID0gZnVuY3Rpb24gKG8sIHBhcmFtcykge1xuICAgICAgICB2YXIgbm9kZSA9IG8ubm9kZSxcbiAgICAgICAgICAgIGF0dHJzID0gby5hdHRycyxcbiAgICAgICAgICAgIHZpcyA9IG5vZGUuc3R5bGUudmlzaWJpbGl0eTtcbiAgICAgICAgbm9kZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgZm9yICh2YXIgYXR0IGluIHBhcmFtcykge1xuICAgICAgICAgICAgaWYgKHBhcmFtc1toYXNdKGF0dCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIVIuX2F2YWlsYWJsZUF0dHJzW2hhc10oYXR0KSkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gcGFyYW1zW2F0dF07XG4gICAgICAgICAgICAgICAgYXR0cnNbYXR0XSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgIHN3aXRjaCAoYXR0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJibHVyXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBvLmJsdXIodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0aXRsZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHRpdGxlID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRpdGxlXCIpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGV4aXN0aW5nIDx0aXRsZT4uXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGl0bGUubGVuZ3RoICYmICh0aXRsZSA9IHRpdGxlWzBdKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0aXRsZS5maXJzdENoaWxkLm5vZGVWYWx1ZSA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGUgPSAkKFwidGl0bGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB2YWwgPSBSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSh2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlLmFwcGVuZENoaWxkKHZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJocmVmXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0YXJnZXRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwbiA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwbi50YWdOYW1lLnRvTG93ZXJDYXNlKCkgIT0gXCJhXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaGwgPSAkKFwiYVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbi5pbnNlcnRCZWZvcmUoaGwsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhsLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuID0gaGw7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ID09IFwidGFyZ2V0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbi5zZXRBdHRyaWJ1dGVOUyh4bGluaywgXCJzaG93XCIsIHZhbHVlID09IFwiYmxhbmtcIiA/IFwibmV3XCIgOiB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBuLnNldEF0dHJpYnV0ZU5TKHhsaW5rLCBhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3Vyc29yXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlLmN1cnNvciA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0cmFuc2Zvcm1cIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG8udHJhbnNmb3JtKHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctc3RhcnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEFycm93KG8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiYXJyb3ctZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRBcnJvdyhvLCB2YWx1ZSwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNsaXAtcmVjdFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlY3QgPSBTdHIodmFsdWUpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVjdC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG8uY2xpcCAmJiBvLmNsaXAucGFyZW50Tm9kZS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKG8uY2xpcC5wYXJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZWwgPSAkKFwiY2xpcFBhdGhcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJjID0gJChcInJlY3RcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHJjLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHg6IHJlY3RbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHk6IHJlY3RbMV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiByZWN0WzJdLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6IHJlY3RbM11cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbC5hcHBlbmRDaGlsZChyYyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5wYXBlci5kZWZzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcImNsaXAtcGF0aFwiOiBcInVybCgjXCIgKyBlbC5pZCArIFwiKVwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5jbGlwID0gcmM7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHBhdGggPSBub2RlLmdldEF0dHJpYnV0ZShcImNsaXAtcGF0aFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocGF0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xpcCA9IFIuX2cuZG9jLmdldEVsZW1lbnRCeUlkKHBhdGgucmVwbGFjZSgvKF51cmxcXCgjfFxcKSQpL2csIEUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xpcCAmJiBjbGlwLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY2xpcCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge1wiY2xpcC1wYXRoXCI6IEV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG8uY2xpcDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicGF0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcInBhdGhcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge2Q6IHZhbHVlID8gYXR0cnMucGF0aCA9IFIuX3BhdGhUb0Fic29sdXRlKHZhbHVlKSA6IFwiTTAsMFwifSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoby5fLmFycm93cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0U3RyaW5nXCIgaW4gby5fLmFycm93cyAmJiBhZGRBcnJvdyhvLCBvLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRTdHJpbmdcIiBpbiBvLl8uYXJyb3dzICYmIGFkZEFycm93KG8sIG8uXy5hcnJvd3MuZW5kU3RyaW5nLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcIndpZHRoXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0cnMuZngpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQgPSBcInhcIjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IGF0dHJzLng7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwieFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmZ4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSAtYXR0cnMueCAtIChhdHRycy53aWR0aCB8fCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJ4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYXR0ID09IFwicnhcIiAmJiBvLnR5cGUgPT0gXCJyZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImN4XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8ucGF0dGVybiAmJiB1cGRhdGVQb3NpdGlvbihvKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImhlaWdodFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZGlydHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmZ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0ID0gXCJ5XCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhdHRycy55O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRycy5meSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gLWF0dHJzLnkgLSAoYXR0cnMuaGVpZ2h0IHx8IDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicnlcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgPT0gXCJyeVwiICYmIG8udHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiY3lcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5wYXR0ZXJuICYmIHVwZGF0ZVBvc2l0aW9uKG8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiclwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8udHlwZSA9PSBcInJlY3RcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge3J4OiB2YWx1ZSwgcnk6IHZhbHVlfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlKGF0dCwgdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic3JjXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoby50eXBlID09IFwiaW1hZ2VcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5vZGUuc2V0QXR0cmlidXRlTlMoeGxpbmssIFwiaHJlZlwiLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cm9rZS13aWR0aFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uXy5zeCAhPSAxIHx8IG8uXy5zeSAhPSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgLz0gbW1heChhYnMoby5fLnN4KSwgYWJzKG8uXy5zeSkpIHx8IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldEF0dHJpYnV0ZShhdHQsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHRyc1tcInN0cm9rZS1kYXNoYXJyYXlcIl0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREYXNoZXMobywgYXR0cnNbXCJzdHJva2UtZGFzaGFycmF5XCJdLCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG8uXy5hcnJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcInN0YXJ0U3RyaW5nXCIgaW4gby5fLmFycm93cyAmJiBhZGRBcnJvdyhvLCBvLl8uYXJyb3dzLnN0YXJ0U3RyaW5nKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImVuZFN0cmluZ1wiIGluIG8uXy5hcnJvd3MgJiYgYWRkQXJyb3cobywgby5fLmFycm93cy5lbmRTdHJpbmcsIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJzdHJva2UtZGFzaGFycmF5XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGREYXNoZXMobywgdmFsdWUsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGxcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpc1VSTCA9IFN0cih2YWx1ZSkubWF0Y2goUi5fSVNVUkwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzVVJMKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwgPSAkKFwicGF0dGVyblwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgaWcgPSAkKFwiaW1hZ2VcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGVsLCB7eDogMCwgeTogMCwgcGF0dGVyblVuaXRzOiBcInVzZXJTcGFjZU9uVXNlXCIsIGhlaWdodDogMSwgd2lkdGg6IDF9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGlnLCB7eDogMCwgeTogMCwgXCJ4bGluazpocmVmXCI6IGlzVVJMWzFdfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWwuYXBwZW5kQ2hpbGQoaWcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLl9wcmVsb2FkKGlzVVJMWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdyA9IHRoaXMub2Zmc2V0V2lkdGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaCA9IHRoaXMub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChlbCwge3dpZHRoOiB3LCBoZWlnaHQ6IGh9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoaWcsIHt3aWR0aDogdywgaGVpZ2h0OiBofSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKGVsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhcGVyLmRlZnMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQobm9kZSwge2ZpbGw6IFwidXJsKCNcIiArIGVsLmlkICsgXCIpXCJ9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhdHRlcm4gPSBlbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvLnBhdHRlcm4gJiYgdXBkYXRlUG9zaXRpb24obyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY2xyID0gUi5nZXRSR0IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjbHIuZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgcGFyYW1zLmdyYWRpZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHRycy5ncmFkaWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhUi5pcyhhdHRycy5vcGFjaXR5LCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBSLmlzKHBhcmFtcy5vcGFjaXR5LCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtvcGFjaXR5OiBhdHRycy5vcGFjaXR5fSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIVIuaXMoYXR0cnNbXCJmaWxsLW9wYWNpdHlcIl0sIFwidW5kZWZpbmVkXCIpICYmXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFIuaXMocGFyYW1zW1wiZmlsbC1vcGFjaXR5XCJdLCBcInVuZGVmaW5lZFwiKSAmJlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcImZpbGwtb3BhY2l0eVwiOiBhdHRyc1tcImZpbGwtb3BhY2l0eVwiXX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICgoby50eXBlID09IFwiY2lyY2xlXCIgfHwgby50eXBlID09IFwiZWxsaXBzZVwiIHx8IFN0cih2YWx1ZSkuY2hhckF0KCkgIT0gXCJyXCIpICYmIGFkZEdyYWRpZW50RmlsbChvLCB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJvcGFjaXR5XCIgaW4gYXR0cnMgfHwgXCJmaWxsLW9wYWNpdHlcIiBpbiBhdHRycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZ3JhZGllbnQgPSBSLl9nLmRvYy5nZXRFbGVtZW50QnlJZChub2RlLmdldEF0dHJpYnV0ZShcImZpbGxcIikucmVwbGFjZSgvXnVybFxcKCN8XFwpJC9nLCBFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChncmFkaWVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0b3BzID0gZ3JhZGllbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChzdG9wc1tzdG9wcy5sZW5ndGggLSAxXSwge1wic3RvcC1vcGFjaXR5XCI6IChcIm9wYWNpdHlcIiBpbiBhdHRycyA/IGF0dHJzLm9wYWNpdHkgOiAxKSAqIChcImZpbGwtb3BhY2l0eVwiIGluIGF0dHJzID8gYXR0cnNbXCJmaWxsLW9wYWNpdHlcIl0gOiAxKX0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dHJzLmdyYWRpZW50ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cnMuZmlsbCA9IFwibm9uZVwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xyW2hhc10oXCJvcGFjaXR5XCIpICYmICQobm9kZSwge1wiZmlsbC1vcGFjaXR5XCI6IGNsci5vcGFjaXR5ID4gMSA/IGNsci5vcGFjaXR5IC8gMTAwIDogY2xyLm9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInN0cm9rZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY2xyID0gUi5nZXRSR0IodmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCBjbHIuaGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF0dCA9PSBcInN0cm9rZVwiICYmIGNscltoYXNdKFwib3BhY2l0eVwiKSAmJiAkKG5vZGUsIHtcInN0cm9rZS1vcGFjaXR5XCI6IGNsci5vcGFjaXR5ID4gMSA/IGNsci5vcGFjaXR5IC8gMTAwIDogY2xyLm9wYWNpdHl9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChhdHQgPT0gXCJzdHJva2VcIiAmJiBvLl8uYXJyb3dzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJzdGFydFN0cmluZ1wiIGluIG8uXy5hcnJvd3MgJiYgYWRkQXJyb3cobywgby5fLmFycm93cy5zdGFydFN0cmluZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJlbmRTdHJpbmdcIiBpbiBvLl8uYXJyb3dzICYmIGFkZEFycm93KG8sIG8uXy5hcnJvd3MuZW5kU3RyaW5nLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZ3JhZGllbnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIChvLnR5cGUgPT0gXCJjaXJjbGVcIiB8fCBvLnR5cGUgPT0gXCJlbGxpcHNlXCIgfHwgU3RyKHZhbHVlKS5jaGFyQXQoKSAhPSBcInJcIikgJiYgYWRkR3JhZGllbnRGaWxsKG8sIHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwib3BhY2l0eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmdyYWRpZW50ICYmICFhdHRyc1toYXNdKFwic3Ryb2tlLW9wYWNpdHlcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKG5vZGUsIHtcInN0cm9rZS1vcGFjaXR5XCI6IHZhbHVlID4gMSA/IHZhbHVlIC8gMTAwIDogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGZhbGxcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGwtb3BhY2l0eVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGF0dHJzLmdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ3JhZGllbnQgPSBSLl9nLmRvYy5nZXRFbGVtZW50QnlJZChub2RlLmdldEF0dHJpYnV0ZShcImZpbGxcIikucmVwbGFjZSgvXnVybFxcKCN8XFwpJC9nLCBFKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGdyYWRpZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3BzID0gZ3JhZGllbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdG9wXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKHN0b3BzW3N0b3BzLmxlbmd0aCAtIDFdLCB7XCJzdG9wLW9wYWNpdHlcIjogdmFsdWV9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgICAgICBhdHQgPT0gXCJmb250LXNpemVcIiAmJiAodmFsdWUgPSB0b0ludCh2YWx1ZSwgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjc3NydWxlID0gYXR0LnJlcGxhY2UoLyhcXC0uKS9nLCBmdW5jdGlvbiAodykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB3LnN1YnN0cmluZygxKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnN0eWxlW2Nzc3J1bGVdID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZGlydHkgPSAxO1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZS5zZXRBdHRyaWJ1dGUoYXR0LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICB0dW5lVGV4dChvLCBwYXJhbXMpO1xuICAgICAgICBub2RlLnN0eWxlLnZpc2liaWxpdHkgPSB2aXM7XG4gICAgfSxcbiAgICBsZWFkaW5nID0gMS4yLFxuICAgIHR1bmVUZXh0ID0gZnVuY3Rpb24gKGVsLCBwYXJhbXMpIHtcbiAgICAgICAgaWYgKGVsLnR5cGUgIT0gXCJ0ZXh0XCIgfHwgIShwYXJhbXNbaGFzXShcInRleHRcIikgfHwgcGFyYW1zW2hhc10oXCJmb250XCIpIHx8IHBhcmFtc1toYXNdKFwiZm9udC1zaXplXCIpIHx8IHBhcmFtc1toYXNdKFwieFwiKSB8fCBwYXJhbXNbaGFzXShcInlcIikpKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGEgPSBlbC5hdHRycyxcbiAgICAgICAgICAgIG5vZGUgPSBlbC5ub2RlLFxuICAgICAgICAgICAgZm9udFNpemUgPSBub2RlLmZpcnN0Q2hpbGQgPyB0b0ludChSLl9nLmRvYy5kZWZhdWx0Vmlldy5nZXRDb21wdXRlZFN0eWxlKG5vZGUuZmlyc3RDaGlsZCwgRSkuZ2V0UHJvcGVydHlWYWx1ZShcImZvbnQtc2l6ZVwiKSwgMTApIDogMTA7XG5cbiAgICAgICAgaWYgKHBhcmFtc1toYXNdKFwidGV4dFwiKSkge1xuICAgICAgICAgICAgYS50ZXh0ID0gcGFyYW1zLnRleHQ7XG4gICAgICAgICAgICB3aGlsZSAobm9kZS5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgbm9kZS5yZW1vdmVDaGlsZChub2RlLmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHRleHRzID0gU3RyKHBhcmFtcy50ZXh0KS5zcGxpdChcIlxcblwiKSxcbiAgICAgICAgICAgICAgICB0c3BhbnMgPSBbXSxcbiAgICAgICAgICAgICAgICB0c3BhbjtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRleHRzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICB0c3BhbiA9ICQoXCJ0c3BhblwiKTtcbiAgICAgICAgICAgICAgICBpICYmICQodHNwYW4sIHtkeTogZm9udFNpemUgKiBsZWFkaW5nLCB4OiBhLnh9KTtcbiAgICAgICAgICAgICAgICB0c3Bhbi5hcHBlbmRDaGlsZChSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZSh0ZXh0c1tpXSkpO1xuICAgICAgICAgICAgICAgIG5vZGUuYXBwZW5kQ2hpbGQodHNwYW4pO1xuICAgICAgICAgICAgICAgIHRzcGFuc1tpXSA9IHRzcGFuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdHNwYW5zID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShcInRzcGFuXCIpO1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSB0c3BhbnMubGVuZ3RoOyBpIDwgaWk7IGkrKykgaWYgKGkpIHtcbiAgICAgICAgICAgICAgICAkKHRzcGFuc1tpXSwge2R5OiBmb250U2l6ZSAqIGxlYWRpbmcsIHg6IGEueH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKHRzcGFuc1swXSwge2R5OiAwfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgJChub2RlLCB7eDogYS54LCB5OiBhLnl9KTtcbiAgICAgICAgZWwuXy5kaXJ0eSA9IDE7XG4gICAgICAgIHZhciBiYiA9IGVsLl9nZXRCQm94KCksXG4gICAgICAgICAgICBkaWYgPSBhLnkgLSAoYmIueSArIGJiLmhlaWdodCAvIDIpO1xuICAgICAgICBkaWYgJiYgUi5pcyhkaWYsIFwiZmluaXRlXCIpICYmICQodHNwYW5zWzBdLCB7ZHk6IGRpZn0pO1xuICAgIH0sXG4gICAgZ2V0UmVhbE5vZGUgPSBmdW5jdGlvbiAobm9kZSkge1xuICAgICAgICBpZiAobm9kZS5wYXJlbnROb2RlICYmIG5vZGUucGFyZW50Tm9kZS50YWdOYW1lLnRvTG93ZXJDYXNlKCkgPT09IFwiYVwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbm9kZS5wYXJlbnROb2RlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIG5vZGU7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSwgc3ZnKSB7XG4gICAgICAgIHZhciBYID0gMCxcbiAgICAgICAgICAgIFkgPSAwO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQubm9kZVxuICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBHaXZlcyB5b3UgYSByZWZlcmVuY2UgdG8gdGhlIERPTSBvYmplY3QsIHNvIHlvdSBjYW4gYXNzaWduIGV2ZW50IGhhbmRsZXJzIG9yIGp1c3QgbWVzcyBhcm91bmQuXG4gICAgICAgICAqKlxuICAgICAgICAgKiBOb3RlOiBEb27igJl0IG1lc3Mgd2l0aCBpdC5cbiAgICAgICAgID4gVXNhZ2VcbiAgICAgICAgIHwgLy8gZHJhdyBhIGNpcmNsZSBhdCBjb29yZGluYXRlIDEwLDEwIHdpdGggcmFkaXVzIG9mIDEwXG4gICAgICAgICB8IHZhciBjID0gcGFwZXIuY2lyY2xlKDEwLCAxMCwgMTApO1xuICAgICAgICAgfCBjLm5vZGUub25jbGljayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIHwgICAgIGMuYXR0cihcImZpbGxcIiwgXCJyZWRcIik7XG4gICAgICAgICB8IH07XG4gICAgICAgIFxcKi9cbiAgICAgICAgdGhpc1swXSA9IHRoaXMubm9kZSA9IG5vZGU7XG4gICAgICAgIC8qXFxcbiAgICAgICAgICogRWxlbWVudC5yYXBoYWVsXG4gICAgICAgICBbIHByb3BlcnR5IChvYmplY3QpIF1cbiAgICAgICAgICoqXG4gICAgICAgICAqIEludGVybmFsIHJlZmVyZW5jZSB0byBAUmFwaGFlbCBvYmplY3QuIEluIGNhc2UgaXQgaXMgbm90IGF2YWlsYWJsZS5cbiAgICAgICAgID4gVXNhZ2VcbiAgICAgICAgIHwgUmFwaGFlbC5lbC5yZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICB8ICAgICB2YXIgaHNiID0gdGhpcy5wYXBlci5yYXBoYWVsLnJnYjJoc2IodGhpcy5hdHRyKFwiZmlsbFwiKSk7XG4gICAgICAgICB8ICAgICBoc2IuaCA9IDE7XG4gICAgICAgICB8ICAgICB0aGlzLmF0dHIoe2ZpbGw6IHRoaXMucGFwZXIucmFwaGFlbC5oc2IycmdiKGhzYikuaGV4fSk7XG4gICAgICAgICB8IH1cbiAgICAgICAgXFwqL1xuICAgICAgICBub2RlLnJhcGhhZWwgPSB0cnVlO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQuaWRcbiAgICAgICAgIFsgcHJvcGVydHkgKG51bWJlcikgXVxuICAgICAgICAgKipcbiAgICAgICAgICogVW5pcXVlIGlkIG9mIHRoZSBlbGVtZW50LiBFc3BlY2lhbGx5IHVzZWZ1bCB3aGVuIHlvdSB3YW50IHRvIGxpc3RlbiB0byBldmVudHMgb2YgdGhlIGVsZW1lbnQsXG4gICAgICAgICAqIGJlY2F1c2UgYWxsIGV2ZW50cyBhcmUgZmlyZWQgaW4gZm9ybWF0IGA8bW9kdWxlPi48YWN0aW9uPi48aWQ+YC4gQWxzbyB1c2VmdWwgZm9yIEBQYXBlci5nZXRCeUlkIG1ldGhvZC5cbiAgICAgICAgXFwqL1xuICAgICAgICB0aGlzLmlkID0gZ3VpZCgpO1xuICAgICAgICBub2RlLnJhcGhhZWxpZCA9IHRoaXMuaWQ7XG5cbiAgICAgICAgLyoqXG4gICAgICAgICogTWV0aG9kIHRoYXQgcmV0dXJucyBhIDUgbGV0dGVyL2RpZ2l0IGlkLCBlbm91Z2ggZm9yIDM2XjUgPSA2MDQ2NjE3NiBlbGVtZW50c1xuICAgICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IGlkXG4gICAgICAgICovXG4gICAgICAgIGZ1bmN0aW9uIGd1aWQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKFwiMDAwMFwiICsgKE1hdGgucmFuZG9tKCkqTWF0aC5wb3coMzYsNSkgPDwgMCkudG9TdHJpbmcoMzYpKS5zbGljZSgtNSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm1hdHJpeCA9IFIubWF0cml4KCk7XG4gICAgICAgIHRoaXMucmVhbFBhdGggPSBudWxsO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQucGFwZXJcbiAgICAgICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAgICAgKipcbiAgICAgICAgICogSW50ZXJuYWwgcmVmZXJlbmNlIHRvIOKAnHBhcGVy4oCdIHdoZXJlIG9iamVjdCBkcmF3bi4gTWFpbmx5IGZvciB1c2UgaW4gcGx1Z2lucyBhbmQgZWxlbWVudCBleHRlbnNpb25zLlxuICAgICAgICAgPiBVc2FnZVxuICAgICAgICAgfCBSYXBoYWVsLmVsLmNyb3NzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgfCAgICAgdGhpcy5hdHRyKHtmaWxsOiBcInJlZFwifSk7XG4gICAgICAgICB8ICAgICB0aGlzLnBhcGVyLnBhdGgoXCJNMTAsMTBMNTAsNTBNNTAsMTBMMTAsNTBcIilcbiAgICAgICAgIHwgICAgICAgICAuYXR0cih7c3Ryb2tlOiBcInJlZFwifSk7XG4gICAgICAgICB8IH1cbiAgICAgICAgXFwqL1xuICAgICAgICB0aGlzLnBhcGVyID0gc3ZnO1xuICAgICAgICB0aGlzLmF0dHJzID0gdGhpcy5hdHRycyB8fCB7fTtcbiAgICAgICAgdGhpcy5fID0ge1xuICAgICAgICAgICAgdHJhbnNmb3JtOiBbXSxcbiAgICAgICAgICAgIHN4OiAxLFxuICAgICAgICAgICAgc3k6IDEsXG4gICAgICAgICAgICBkZWc6IDAsXG4gICAgICAgICAgICBkeDogMCxcbiAgICAgICAgICAgIGR5OiAwLFxuICAgICAgICAgICAgZGlydHk6IDFcbiAgICAgICAgfTtcbiAgICAgICAgIXN2Zy5ib3R0b20gJiYgKHN2Zy5ib3R0b20gPSB0aGlzKTtcbiAgICAgICAgLypcXFxuICAgICAgICAgKiBFbGVtZW50LnByZXZcbiAgICAgICAgIFsgcHJvcGVydHkgKG9iamVjdCkgXVxuICAgICAgICAgKipcbiAgICAgICAgICogUmVmZXJlbmNlIHRvIHRoZSBwcmV2aW91cyBlbGVtZW50IGluIHRoZSBoaWVyYXJjaHkuXG4gICAgICAgIFxcKi9cbiAgICAgICAgdGhpcy5wcmV2ID0gc3ZnLnRvcDtcbiAgICAgICAgc3ZnLnRvcCAmJiAoc3ZnLnRvcC5uZXh0ID0gdGhpcyk7XG4gICAgICAgIHN2Zy50b3AgPSB0aGlzO1xuICAgICAgICAvKlxcXG4gICAgICAgICAqIEVsZW1lbnQubmV4dFxuICAgICAgICAgWyBwcm9wZXJ0eSAob2JqZWN0KSBdXG4gICAgICAgICAqKlxuICAgICAgICAgKiBSZWZlcmVuY2UgdG8gdGhlIG5leHQgZWxlbWVudCBpbiB0aGUgaGllcmFyY2h5LlxuICAgICAgICBcXCovXG4gICAgICAgIHRoaXMubmV4dCA9IG51bGw7XG4gICAgfSxcbiAgICBlbHByb3RvID0gUi5lbDtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlID0gZWxwcm90bztcbiAgICBlbHByb3RvLmNvbnN0cnVjdG9yID0gRWxlbWVudDtcblxuICAgIFIuX2VuZ2luZS5wYXRoID0gZnVuY3Rpb24gKHBhdGhTdHJpbmcsIFNWRykge1xuICAgICAgICB2YXIgZWwgPSAkKFwicGF0aFwiKTtcbiAgICAgICAgU1ZHLmNhbnZhcyAmJiBTVkcuY2FudmFzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgdmFyIHAgPSBuZXcgRWxlbWVudChlbCwgU1ZHKTtcbiAgICAgICAgcC50eXBlID0gXCJwYXRoXCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocCwge1xuICAgICAgICAgICAgZmlsbDogXCJub25lXCIsXG4gICAgICAgICAgICBzdHJva2U6IFwiIzAwMFwiLFxuICAgICAgICAgICAgcGF0aDogcGF0aFN0cmluZ1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5yb3RhdGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERlcHJlY2F0ZWQhIFVzZSBARWxlbWVudC50cmFuc2Zvcm0gaW5zdGVhZC5cbiAgICAgKiBBZGRzIHJvdGF0aW9uIGJ5IGdpdmVuIGFuZ2xlIGFyb3VuZCBnaXZlbiBwb2ludCB0byB0aGUgbGlzdCBvZlxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gZGVnIChudW1iZXIpIGFuZ2xlIGluIGRlZ3JlZXNcbiAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygcm90YXRpb25cbiAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWwgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygcm90YXRpb25cbiAgICAgKiBJZiBjeCAmIGN5IGFyZW7igJl0IHNwZWNpZmllZCBjZW50cmUgb2YgdGhlIHNoYXBlIGlzIHVzZWQgYXMgYSBwb2ludCBvZiByb3RhdGlvbi5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJvdGF0ZSA9IGZ1bmN0aW9uIChkZWcsIGN4LCBjeSkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBkZWcgPSBTdHIoZGVnKS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoZGVnLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgICAgIGN4ID0gdG9GbG9hdChkZWdbMV0pO1xuICAgICAgICAgICAgY3kgPSB0b0Zsb2F0KGRlZ1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgZGVnID0gdG9GbG9hdChkZWdbMF0pO1xuICAgICAgICAoY3kgPT0gbnVsbCkgJiYgKGN4ID0gY3kpO1xuICAgICAgICBpZiAoY3ggPT0gbnVsbCB8fCBjeSA9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgYmJveCA9IHRoaXMuZ2V0QkJveCgxKTtcbiAgICAgICAgICAgIGN4ID0gYmJveC54ICsgYmJveC53aWR0aCAvIDI7XG4gICAgICAgICAgICBjeSA9IGJib3gueSArIGJib3guaGVpZ2h0IC8gMjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1wiclwiLCBkZWcsIGN4LCBjeV1dKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuc2NhbGVcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIERlcHJlY2F0ZWQhIFVzZSBARWxlbWVudC50cmFuc2Zvcm0gaW5zdGVhZC5cbiAgICAgKiBBZGRzIHNjYWxlIGJ5IGdpdmVuIGFtb3VudCByZWxhdGl2ZSB0byBnaXZlbiBwb2ludCB0byB0aGUgbGlzdCBvZlxuICAgICAqIHRyYW5zZm9ybWF0aW9ucyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gc3ggKG51bWJlcikgaG9yaXNvbnRhbCBzY2FsZSBhbW91bnRcbiAgICAgLSBzeSAobnVtYmVyKSB2ZXJ0aWNhbCBzY2FsZSBhbW91bnRcbiAgICAgLSBjeCAobnVtYmVyKSAjb3B0aW9uYWwgeCBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygc2NhbGVcbiAgICAgLSBjeSAobnVtYmVyKSAjb3B0aW9uYWwgeSBjb29yZGluYXRlIG9mIHRoZSBjZW50cmUgb2Ygc2NhbGVcbiAgICAgKiBJZiBjeCAmIGN5IGFyZW7igJl0IHNwZWNpZmllZCBjZW50cmUgb2YgdGhlIHNoYXBlIGlzIHVzZWQgaW5zdGVhZC5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnNjYWxlID0gZnVuY3Rpb24gKHN4LCBzeSwgY3gsIGN5KSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHN4ID0gU3RyKHN4KS5zcGxpdChzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoc3gubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgc3kgPSB0b0Zsb2F0KHN4WzFdKTtcbiAgICAgICAgICAgIGN4ID0gdG9GbG9hdChzeFsyXSk7XG4gICAgICAgICAgICBjeSA9IHRvRmxvYXQoc3hbM10pO1xuICAgICAgICB9XG4gICAgICAgIHN4ID0gdG9GbG9hdChzeFswXSk7XG4gICAgICAgIChzeSA9PSBudWxsKSAmJiAoc3kgPSBzeCk7XG4gICAgICAgIChjeSA9PSBudWxsKSAmJiAoY3ggPSBjeSk7XG4gICAgICAgIGlmIChjeCA9PSBudWxsIHx8IGN5ID09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBiYm94ID0gdGhpcy5nZXRCQm94KDEpO1xuICAgICAgICB9XG4gICAgICAgIGN4ID0gY3ggPT0gbnVsbCA/IGJib3gueCArIGJib3gud2lkdGggLyAyIDogY3g7XG4gICAgICAgIGN5ID0gY3kgPT0gbnVsbCA/IGJib3gueSArIGJib3guaGVpZ2h0IC8gMiA6IGN5O1xuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1wic1wiLCBzeCwgc3ksIGN4LCBjeV1dKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQudHJhbnNsYXRlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBEZXByZWNhdGVkISBVc2UgQEVsZW1lbnQudHJhbnNmb3JtIGluc3RlYWQuXG4gICAgICogQWRkcyB0cmFuc2xhdGlvbiBieSBnaXZlbiBhbW91bnQgdG8gdGhlIGxpc3Qgb2YgdHJhbnNmb3JtYXRpb25zIG9mIHRoZSBlbGVtZW50LlxuICAgICA+IFBhcmFtZXRlcnNcbiAgICAgLSBkeCAobnVtYmVyKSBob3Jpc29udGFsIHNoaWZ0XG4gICAgIC0gZHkgKG51bWJlcikgdmVydGljYWwgc2hpZnRcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZHggPSBTdHIoZHgpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBkeSA9IHRvRmxvYXQoZHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0gdG9GbG9hdChkeFswXSkgfHwgMDtcbiAgICAgICAgZHkgPSArZHkgfHwgMDtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1tcInRcIiwgZHgsIGR5XV0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50cmFuc2Zvcm1cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEFkZHMgdHJhbnNmb3JtYXRpb24gdG8gdGhlIGVsZW1lbnQgd2hpY2ggaXMgc2VwYXJhdGUgdG8gb3RoZXIgYXR0cmlidXRlcyxcbiAgICAgKiBpLmUuIHRyYW5zbGF0aW9uIGRvZXNu4oCZdCBjaGFuZ2UgYHhgIG9yIGB5YCBvZiB0aGUgcmVjdGFuZ2UuIFRoZSBmb3JtYXRcbiAgICAgKiBvZiB0cmFuc2Zvcm1hdGlvbiBzdHJpbmcgaXMgc2ltaWxhciB0byB0aGUgcGF0aCBzdHJpbmcgc3ludGF4OlxuICAgICB8IFwidDEwMCwxMDByMzAsMTAwLDEwMHMyLDIsMTAwLDEwMHI0NXMxLjVcIlxuICAgICAqIEVhY2ggbGV0dGVyIGlzIGEgY29tbWFuZC4gVGhlcmUgYXJlIGZvdXIgY29tbWFuZHM6IGB0YCBpcyBmb3IgdHJhbnNsYXRlLCBgcmAgaXMgZm9yIHJvdGF0ZSwgYHNgIGlzIGZvclxuICAgICAqIHNjYWxlIGFuZCBgbWAgaXMgZm9yIG1hdHJpeC5cbiAgICAgKlxuICAgICAqIFRoZXJlIGFyZSBhbHNvIGFsdGVybmF0aXZlIOKAnGFic29sdXRl4oCdIHRyYW5zbGF0aW9uLCByb3RhdGlvbiBhbmQgc2NhbGU6IGBUYCwgYFJgIGFuZCBgU2AuIFRoZXkgd2lsbCBub3QgdGFrZSBwcmV2aW91cyB0cmFuc2Zvcm1hdGlvbiBpbnRvIGFjY291bnQuIEZvciBleGFtcGxlLCBgLi4uVDEwMCwwYCB3aWxsIGFsd2F5cyBtb3ZlIGVsZW1lbnQgMTAwIHB4IGhvcmlzb250YWxseSwgd2hpbGUgYC4uLnQxMDAsMGAgY291bGQgbW92ZSBpdCB2ZXJ0aWNhbGx5IGlmIHRoZXJlIGlzIGByOTBgIGJlZm9yZS4gSnVzdCBjb21wYXJlIHJlc3VsdHMgb2YgYHI5MHQxMDAsMGAgYW5kIGByOTBUMTAwLDBgLlxuICAgICAqXG4gICAgICogU28sIHRoZSBleGFtcGxlIGxpbmUgYWJvdmUgY291bGQgYmUgcmVhZCBsaWtlIOKAnHRyYW5zbGF0ZSBieSAxMDAsIDEwMDsgcm90YXRlIDMwwrAgYXJvdW5kIDEwMCwgMTAwOyBzY2FsZSB0d2ljZSBhcm91bmQgMTAwLCAxMDA7XG4gICAgICogcm90YXRlIDQ1wrAgYXJvdW5kIGNlbnRyZTsgc2NhbGUgMS41IHRpbWVzIHJlbGF0aXZlIHRvIGNlbnRyZeKAnS4gQXMgeW91IGNhbiBzZWUgcm90YXRlIGFuZCBzY2FsZSBjb21tYW5kcyBoYXZlIG9yaWdpblxuICAgICAqIGNvb3JkaW5hdGVzIGFzIG9wdGlvbmFsIHBhcmFtZXRlcnMsIHRoZSBkZWZhdWx0IGlzIHRoZSBjZW50cmUgcG9pbnQgb2YgdGhlIGVsZW1lbnQuXG4gICAgICogTWF0cml4IGFjY2VwdHMgc2l4IHBhcmFtZXRlcnMuXG4gICAgID4gVXNhZ2VcbiAgICAgfCB2YXIgZWwgPSBwYXBlci5yZWN0KDEwLCAyMCwgMzAwLCAyMDApO1xuICAgICB8IC8vIHRyYW5zbGF0ZSAxMDAsIDEwMCwgcm90YXRlIDQ1wrAsIHRyYW5zbGF0ZSAtMTAwLCAwXG4gICAgIHwgZWwudHJhbnNmb3JtKFwidDEwMCwxMDByNDV0LTEwMCwwXCIpO1xuICAgICB8IC8vIGlmIHlvdSB3YW50IHlvdSBjYW4gYXBwZW5kIG9yIHByZXBlbmQgdHJhbnNmb3JtYXRpb25zXG4gICAgIHwgZWwudHJhbnNmb3JtKFwiLi4udDUwLDUwXCIpO1xuICAgICB8IGVsLnRyYW5zZm9ybShcInMyLi4uXCIpO1xuICAgICB8IC8vIG9yIGV2ZW4gd3JhcFxuICAgICB8IGVsLnRyYW5zZm9ybShcInQ1MCw1MC4uLnQtNTAtNTBcIik7XG4gICAgIHwgLy8gdG8gcmVzZXQgdHJhbnNmb3JtYXRpb24gY2FsbCBtZXRob2Qgd2l0aCBlbXB0eSBzdHJpbmdcbiAgICAgfCBlbC50cmFuc2Zvcm0oXCJcIik7XG4gICAgIHwgLy8gdG8gZ2V0IGN1cnJlbnQgdmFsdWUgY2FsbCBpdCB3aXRob3V0IHBhcmFtZXRlcnNcbiAgICAgfCBjb25zb2xlLmxvZyhlbC50cmFuc2Zvcm0oKSk7XG4gICAgID4gUGFyYW1ldGVyc1xuICAgICAtIHRzdHIgKHN0cmluZykgI29wdGlvbmFsIHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAqIElmIHRzdHIgaXNu4oCZdCBzcGVjaWZpZWRcbiAgICAgPSAoc3RyaW5nKSBjdXJyZW50IHRyYW5zZm9ybWF0aW9uIHN0cmluZ1xuICAgICAqIGVsc2VcbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0c3RyKSB7XG4gICAgICAgIHZhciBfID0gdGhpcy5fO1xuICAgICAgICBpZiAodHN0ciA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm4gXy50cmFuc2Zvcm07XG4gICAgICAgIH1cbiAgICAgICAgUi5fZXh0cmFjdFRyYW5zZm9ybSh0aGlzLCB0c3RyKTtcblxuICAgICAgICB0aGlzLmNsaXAgJiYgJCh0aGlzLmNsaXAsIHt0cmFuc2Zvcm06IHRoaXMubWF0cml4LmludmVydCgpfSk7XG4gICAgICAgIHRoaXMucGF0dGVybiAmJiB1cGRhdGVQb3NpdGlvbih0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlICYmICQodGhpcy5ub2RlLCB7dHJhbnNmb3JtOiB0aGlzLm1hdHJpeH0pO1xuXG4gICAgICAgIGlmIChfLnN4ICE9IDEgfHwgXy5zeSAhPSAxKSB7XG4gICAgICAgICAgICB2YXIgc3cgPSB0aGlzLmF0dHJzW2hhc10oXCJzdHJva2Utd2lkdGhcIikgPyB0aGlzLmF0dHJzW1wic3Ryb2tlLXdpZHRoXCJdIDogMTtcbiAgICAgICAgICAgIHRoaXMuYXR0cih7XCJzdHJva2Utd2lkdGhcIjogc3d9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaGlkZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogTWFrZXMgZWxlbWVudCBpbnZpc2libGUuIFNlZSBARWxlbWVudC5zaG93LlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaGlkZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoIXRoaXMucmVtb3ZlZCkgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5zaG93XG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBNYWtlcyBlbGVtZW50IHZpc2libGUuIFNlZSBARWxlbWVudC5oaWRlLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYoIXRoaXMucmVtb3ZlZCkgdGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnJlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50IGZyb20gdGhlIHBhcGVyLlxuICAgIFxcKi9cbiAgICBlbHByb3RvLnJlbW92ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIG5vZGUgPSBnZXRSZWFsTm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkIHx8ICFub2RlLnBhcmVudE5vZGUpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFwZXIgPSB0aGlzLnBhcGVyO1xuICAgICAgICBwYXBlci5fX3NldF9fICYmIHBhcGVyLl9fc2V0X18uZXhjbHVkZSh0aGlzKTtcbiAgICAgICAgZXZlLnVuYmluZChcInJhcGhhZWwuKi4qLlwiICsgdGhpcy5pZCk7XG4gICAgICAgIGlmICh0aGlzLmdyYWRpZW50KSB7XG4gICAgICAgICAgICBwYXBlci5kZWZzLnJlbW92ZUNoaWxkKHRoaXMuZ3JhZGllbnQpO1xuICAgICAgICB9XG4gICAgICAgIFIuX3RlYXIodGhpcywgcGFwZXIpO1xuXG4gICAgICAgIG5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChub2RlKTtcblxuICAgICAgICAvLyBSZW1vdmUgY3VzdG9tIGRhdGEgZm9yIGVsZW1lbnRcbiAgICAgICAgdGhpcy5yZW1vdmVEYXRhKCk7XG5cbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gdHlwZW9mIHRoaXNbaV0gPT0gXCJmdW5jdGlvblwiID8gUi5fcmVtb3ZlZEZhY3RvcnkoaSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlZCA9IHRydWU7XG4gICAgfTtcbiAgICBlbHByb3RvLl9nZXRCQm94ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPT0gXCJub25lXCIpIHtcbiAgICAgICAgICAgIHRoaXMuc2hvdygpO1xuICAgICAgICAgICAgdmFyIGhpZGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjYW52YXNIaWRkZW4gPSBmYWxzZSxcbiAgICAgICAgICAgIGNvbnRhaW5lclN0eWxlO1xuICAgICAgICBpZiAodGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgIGNvbnRhaW5lclN0eWxlID0gdGhpcy5wYXBlci5jYW52YXMucGFyZW50RWxlbWVudC5zdHlsZTtcbiAgICAgICAgfSAvL0lFMTArIGNhbid0IGZpbmQgcGFyZW50RWxlbWVudFxuICAgICAgICBlbHNlIGlmICh0aGlzLnBhcGVyLmNhbnZhcy5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUgPSB0aGlzLnBhcGVyLmNhbnZhcy5wYXJlbnROb2RlLnN0eWxlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYoY29udGFpbmVyU3R5bGUgJiYgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9PSBcIm5vbmVcIikge1xuICAgICAgICAgIGNhbnZhc0hpZGRlbiA9IHRydWU7XG4gICAgICAgICAgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9IFwiXCI7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJib3ggPSB7fTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJib3ggPSB0aGlzLm5vZGUuZ2V0QkJveCgpO1xuICAgICAgICB9IGNhdGNoKGUpIHtcbiAgICAgICAgICAgIC8vIEZpcmVmb3ggMy4wLngsIDI1LjAuMSAocHJvYmFibHkgbW9yZSB2ZXJzaW9ucyBhZmZlY3RlZCkgcGxheSBiYWRseSBoZXJlIC0gcG9zc2libGUgZml4XG4gICAgICAgICAgICBiYm94ID0ge1xuICAgICAgICAgICAgICAgIHg6IHRoaXMubm9kZS5jbGllbnRMZWZ0LFxuICAgICAgICAgICAgICAgIHk6IHRoaXMubm9kZS5jbGllbnRUb3AsXG4gICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMubm9kZS5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgICAgICBoZWlnaHQ6IHRoaXMubm9kZS5jbGllbnRIZWlnaHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgICAgIGJib3ggPSBiYm94IHx8IHt9O1xuICAgICAgICAgICAgaWYoY2FudmFzSGlkZGVuKXtcbiAgICAgICAgICAgICAgY29udGFpbmVyU3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGhpZGUgJiYgdGhpcy5oaWRlKCk7XG4gICAgICAgIHJldHVybiBiYm94O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuYXR0clxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogU2V0cyB0aGUgYXR0cmlidXRlcyBvZiB0aGUgZWxlbWVudC5cbiAgICAgPiBQYXJhbWV0ZXJzXG4gICAgIC0gYXR0ck5hbWUgKHN0cmluZykgYXR0cmlidXRl4oCZcyBuYW1lXG4gICAgIC0gdmFsdWUgKHN0cmluZykgdmFsdWVcbiAgICAgKiBvclxuICAgICAtIHBhcmFtcyAob2JqZWN0KSBvYmplY3Qgb2YgbmFtZS92YWx1ZSBwYWlyc1xuICAgICAqIG9yXG4gICAgIC0gYXR0ck5hbWUgKHN0cmluZykgYXR0cmlidXRl4oCZcyBuYW1lXG4gICAgICogb3JcbiAgICAgLSBhdHRyTmFtZXMgKGFycmF5KSBpbiB0aGlzIGNhc2UgbWV0aG9kIHJldHVybnMgYXJyYXkgb2YgY3VycmVudCB2YWx1ZXMgZm9yIGdpdmVuIGF0dHJpYnV0ZSBuYW1lc1xuICAgICA9IChvYmplY3QpIEBFbGVtZW50IGlmIGF0dHJzTmFtZSAmIHZhbHVlIG9yIHBhcmFtcyBhcmUgcGFzc2VkIGluLlxuICAgICA9ICguLi4pIHZhbHVlIG9mIHRoZSBhdHRyaWJ1dGUgaWYgb25seSBhdHRyc05hbWUgaXMgcGFzc2VkIGluLlxuICAgICA9IChhcnJheSkgYXJyYXkgb2YgdmFsdWVzIG9mIHRoZSBhdHRyaWJ1dGUgaWYgYXR0cnNOYW1lcyBpcyBwYXNzZWQgaW4uXG4gICAgID0gKG9iamVjdCkgb2JqZWN0IG9mIGF0dHJpYnV0ZXMgaWYgbm90aGluZyBpcyBwYXNzZWQgaW4uXG4gICAgID4gUG9zc2libGUgcGFyYW1ldGVyc1xuICAgICAjIDxwPlBsZWFzZSByZWZlciB0byB0aGUgPGEgaHJlZj1cImh0dHA6Ly93d3cudzMub3JnL1RSL1NWRy9cIiB0aXRsZT1cIlRoZSBXM0MgUmVjb21tZW5kYXRpb24gZm9yIHRoZSBTVkcgbGFuZ3VhZ2UgZGVzY3JpYmVzIHRoZXNlIHByb3BlcnRpZXMgaW4gZGV0YWlsLlwiPlNWRyBzcGVjaWZpY2F0aW9uPC9hPiBmb3IgYW4gZXhwbGFuYXRpb24gb2YgdGhlc2UgcGFyYW1ldGVycy48L3A+XG4gICAgIG8gYXJyb3ctZW5kIChzdHJpbmcpIGFycm93aGVhZCBvbiB0aGUgZW5kIG9mIHRoZSBwYXRoLiBUaGUgZm9ybWF0IGZvciBzdHJpbmcgaXMgYDx0eXBlPlstPHdpZHRoPlstPGxlbmd0aD5dXWAuIFBvc3NpYmxlIHR5cGVzOiBgY2xhc3NpY2AsIGBibG9ja2AsIGBvcGVuYCwgYG92YWxgLCBgZGlhbW9uZGAsIGBub25lYCwgd2lkdGg6IGB3aWRlYCwgYG5hcnJvd2AsIGBtZWRpdW1gLCBsZW5ndGg6IGBsb25nYCwgYHNob3J0YCwgYG1pZGl1bWAuXG4gICAgIG8gY2xpcC1yZWN0IChzdHJpbmcpIGNvbW1hIG9yIHNwYWNlIHNlcGFyYXRlZCB2YWx1ZXM6IHgsIHksIHdpZHRoIGFuZCBoZWlnaHRcbiAgICAgbyBjdXJzb3IgKHN0cmluZykgQ1NTIHR5cGUgb2YgdGhlIGN1cnNvclxuICAgICBvIGN4IChudW1iZXIpIHRoZSB4LWF4aXMgY29vcmRpbmF0ZSBvZiB0aGUgY2VudGVyIG9mIHRoZSBjaXJjbGUsIG9yIGVsbGlwc2VcbiAgICAgbyBjeSAobnVtYmVyKSB0aGUgeS1heGlzIGNvb3JkaW5hdGUgb2YgdGhlIGNlbnRlciBvZiB0aGUgY2lyY2xlLCBvciBlbGxpcHNlXG4gICAgIG8gZmlsbCAoc3RyaW5nKSBjb2xvdXIsIGdyYWRpZW50IG9yIGltYWdlXG4gICAgIG8gZmlsbC1vcGFjaXR5IChudW1iZXIpXG4gICAgIG8gZm9udCAoc3RyaW5nKVxuICAgICBvIGZvbnQtZmFtaWx5IChzdHJpbmcpXG4gICAgIG8gZm9udC1zaXplIChudW1iZXIpIGZvbnQgc2l6ZSBpbiBwaXhlbHNcbiAgICAgbyBmb250LXdlaWdodCAoc3RyaW5nKVxuICAgICBvIGhlaWdodCAobnVtYmVyKVxuICAgICBvIGhyZWYgKHN0cmluZykgVVJMLCBpZiBzcGVjaWZpZWQgZWxlbWVudCBiZWhhdmVzIGFzIGh5cGVybGlua1xuICAgICBvIG9wYWNpdHkgKG51bWJlcilcbiAgICAgbyBwYXRoIChzdHJpbmcpIFNWRyBwYXRoIHN0cmluZyBmb3JtYXRcbiAgICAgbyByIChudW1iZXIpIHJhZGl1cyBvZiB0aGUgY2lyY2xlLCBlbGxpcHNlIG9yIHJvdW5kZWQgY29ybmVyIG9uIHRoZSByZWN0XG4gICAgIG8gcnggKG51bWJlcikgaG9yaXNvbnRhbCByYWRpdXMgb2YgdGhlIGVsbGlwc2VcbiAgICAgbyByeSAobnVtYmVyKSB2ZXJ0aWNhbCByYWRpdXMgb2YgdGhlIGVsbGlwc2VcbiAgICAgbyBzcmMgKHN0cmluZykgaW1hZ2UgVVJMLCBvbmx5IHdvcmtzIGZvciBARWxlbWVudC5pbWFnZSBlbGVtZW50XG4gICAgIG8gc3Ryb2tlIChzdHJpbmcpIHN0cm9rZSBjb2xvdXJcbiAgICAgbyBzdHJva2UtZGFzaGFycmF5IChzdHJpbmcpIFvigJzigJ0sIOKAnG5vbmXigJ0sIOKAnGAtYOKAnSwg4oCcYC5g4oCdLCDigJxgLS5g4oCdLCDigJxgLS4uYOKAnSwg4oCcYC4gYOKAnSwg4oCcYC0gYOKAnSwg4oCcYC0tYOKAnSwg4oCcYC0gLmDigJ0sIOKAnGAtLS5g4oCdLCDigJxgLS0uLmDigJ1dXG4gICAgIG8gc3Ryb2tlLWxpbmVjYXAgKHN0cmluZykgW+KAnGBidXR0YOKAnSwg4oCcYHNxdWFyZWDigJ0sIOKAnGByb3VuZGDigJ1dXG4gICAgIG8gc3Ryb2tlLWxpbmVqb2luIChzdHJpbmcpIFvigJxgYmV2ZWxg4oCdLCDigJxgcm91bmRg4oCdLCDigJxgbWl0ZXJg4oCdXVxuICAgICBvIHN0cm9rZS1taXRlcmxpbWl0IChudW1iZXIpXG4gICAgIG8gc3Ryb2tlLW9wYWNpdHkgKG51bWJlcilcbiAgICAgbyBzdHJva2Utd2lkdGggKG51bWJlcikgc3Ryb2tlIHdpZHRoIGluIHBpeGVscywgZGVmYXVsdCBpcyAnMSdcbiAgICAgbyB0YXJnZXQgKHN0cmluZykgdXNlZCB3aXRoIGhyZWZcbiAgICAgbyB0ZXh0IChzdHJpbmcpIGNvbnRlbnRzIG9mIHRoZSB0ZXh0IGVsZW1lbnQuIFVzZSBgXFxuYCBmb3IgbXVsdGlsaW5lIHRleHRcbiAgICAgbyB0ZXh0LWFuY2hvciAoc3RyaW5nKSBb4oCcYHN0YXJ0YOKAnSwg4oCcYG1pZGRsZWDigJ0sIOKAnGBlbmRg4oCdXSwgZGVmYXVsdCBpcyDigJxgbWlkZGxlYOKAnVxuICAgICBvIHRpdGxlIChzdHJpbmcpIHdpbGwgY3JlYXRlIHRvb2x0aXAgd2l0aCBhIGdpdmVuIHRleHRcbiAgICAgbyB0cmFuc2Zvcm0gKHN0cmluZykgc2VlIEBFbGVtZW50LnRyYW5zZm9ybVxuICAgICBvIHdpZHRoIChudW1iZXIpXG4gICAgIG8geCAobnVtYmVyKVxuICAgICBvIHkgKG51bWJlcilcbiAgICAgPiBHcmFkaWVudHNcbiAgICAgKiBMaW5lYXIgZ3JhZGllbnQgZm9ybWF0OiDigJxg4oC5YW5nbGXigLot4oC5Y29sb3Vy4oC6Wy3igLljb2xvdXLigLpbOuKAuW9mZnNldOKAul1dKi3igLljb2xvdXLigLpg4oCdLCBleGFtcGxlOiDigJxgOTAtI2ZmZi0jMDAwYOKAnSDigJMgOTDCsFxuICAgICAqIGdyYWRpZW50IGZyb20gd2hpdGUgdG8gYmxhY2sgb3Ig4oCcYDAtI2ZmZi0jZjAwOjIwLSMwMDBg4oCdIOKAkyAwwrAgZ3JhZGllbnQgZnJvbSB3aGl0ZSB2aWEgcmVkIChhdCAyMCUpIHRvIGJsYWNrLlxuICAgICAqXG4gICAgICogcmFkaWFsIGdyYWRpZW50OiDigJxgclso4oC5ZnjigLosIOKAuWZ54oC6KV3igLljb2xvdXLigLpbLeKAuWNvbG91cuKAuls64oC5b2Zmc2V04oC6XV0qLeKAuWNvbG91cuKAumDigJ0sIGV4YW1wbGU6IOKAnGByI2ZmZi0jMDAwYOKAnSDigJNcbiAgICAgKiBncmFkaWVudCBmcm9tIHdoaXRlIHRvIGJsYWNrIG9yIOKAnGByKDAuMjUsIDAuNzUpI2ZmZi0jMDAwYOKAnSDigJMgZ3JhZGllbnQgZnJvbSB3aGl0ZSB0byBibGFjayB3aXRoIGZvY3VzIHBvaW50XG4gICAgICogYXQgMC4yNSwgMC43NS4gRm9jdXMgcG9pbnQgY29vcmRpbmF0ZXMgYXJlIGluIDAuLjEgcmFuZ2UuIFJhZGlhbCBncmFkaWVudHMgY2FuIG9ubHkgYmUgYXBwbGllZCB0byBjaXJjbGVzIGFuZCBlbGxpcHNlcy5cbiAgICAgPiBQYXRoIFN0cmluZ1xuICAgICAjIDxwPlBsZWFzZSByZWZlciB0byA8YSBocmVmPVwiaHR0cDovL3d3dy53My5vcmcvVFIvU1ZHL3BhdGhzLmh0bWwjUGF0aERhdGFcIiB0aXRsZT1cIkRldGFpbHMgb2YgYSBwYXRo4oCZcyBkYXRhIGF0dHJpYnV0ZeKAmXMgZm9ybWF0IGFyZSBkZXNjcmliZWQgaW4gdGhlIFNWRyBzcGVjaWZpY2F0aW9uLlwiPlNWRyBkb2N1bWVudGF0aW9uIHJlZ2FyZGluZyBwYXRoIHN0cmluZzwvYT4uIFJhcGhhw6tsIGZ1bGx5IHN1cHBvcnRzIGl0LjwvcD5cbiAgICAgPiBDb2xvdXIgUGFyc2luZ1xuICAgICAjIDx1bD5cbiAgICAgIyAgICAgPGxpPkNvbG91ciBuYW1lICjigJw8Y29kZT5yZWQ8L2NvZGU+4oCdLCDigJw8Y29kZT5ncmVlbjwvY29kZT7igJ0sIOKAnDxjb2RlPmNvcm5mbG93ZXJibHVlPC9jb2RlPuKAnSwgZXRjKTwvbGk+XG4gICAgICMgICAgIDxsaT4j4oCi4oCi4oCiIOKAlCBzaG9ydGVuZWQgSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2ZjMDwvY29kZT7igJ0sIGV0Yyk8L2xpPlxuICAgICAjICAgICA8bGk+I+KAouKAouKAouKAouKAouKAoiDigJQgZnVsbCBsZW5ndGggSFRNTCBjb2xvdXI6ICjigJw8Y29kZT4jMDAwMDAwPC9jb2RlPuKAnSwg4oCcPGNvZGU+I2JkMjMwMDwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2IoMjAwLCZuYnNwOzEwMCwmbmJzcDswKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2IoMTAwJSwmbmJzcDsxNzUlLCZuYnNwOzAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPnJnYmEo4oCi4oCi4oCiLCDigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgcmVkLCBncmVlbiBhbmQgYmx1ZSBjaGFubmVsc+KAmSB2YWx1ZXM6ICjigJw8Y29kZT5yZ2JhKDIwMCwmbmJzcDsxMDAsJm5ic3A7MCwgLjUpPC9jb2RlPuKAnSk8L2xpPlxuICAgICAjICAgICA8bGk+cmdiYSjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU6ICjigJw8Y29kZT5yZ2JhKDEwMCUsJm5ic3A7MTc1JSwmbmJzcDswJSwgNTAlKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgaHVlLCBzYXR1cmF0aW9uIGFuZCBicmlnaHRuZXNzIHZhbHVlczogKOKAnDxjb2RlPmhzYigwLjUsJm5ic3A7MC4yNSwmbmJzcDsxKTwvY29kZT7igJ0pPC9saT5cbiAgICAgIyAgICAgPGxpPmhzYijigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNiYSjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgd2l0aCBvcGFjaXR5PC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiKSDigJQgYWxtb3N0IHRoZSBzYW1lIGFzIGhzYiwgc2VlIDxhIGhyZWY9XCJodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0hTTF9hbmRfSFNWXCIgdGl0bGU9XCJIU0wgYW5kIEhTViAtIFdpa2lwZWRpYSwgdGhlIGZyZWUgZW5jeWNsb3BlZGlhXCI+V2lraXBlZGlhIHBhZ2U8L2E+PC9saT5cbiAgICAgIyAgICAgPGxpPmhzbCjigKLigKLigKIlLCDigKLigKLigKIlLCDigKLigKLigKIlKSDigJQgc2FtZSBhcyBhYm92ZSwgYnV0IGluICU8L2xpPlxuICAgICAjICAgICA8bGk+aHNsYSjigKLigKLigKIsIOKAouKAouKAoiwg4oCi4oCi4oCiLCDigKLigKLigKIpIOKAlCBzYW1lIGFzIGFib3ZlLCBidXQgd2l0aCBvcGFjaXR5PC9saT5cbiAgICAgIyAgICAgPGxpPk9wdGlvbmFsbHkgZm9yIGhzYiBhbmQgaHNsIHlvdSBjb3VsZCBzcGVjaWZ5IGh1ZSBhcyBhIGRlZ3JlZTog4oCcPGNvZGU+aHNsKDI0MGRlZywmbmJzcDsxLCZuYnNwOy41KTwvY29kZT7igJ0gb3IsIGlmIHlvdSB3YW50IHRvIGdvIGZhbmN5LCDigJw8Y29kZT5oc2woMjQwwrAsJm5ic3A7MSwmbmJzcDsuNSk8L2NvZGU+4oCdPC9saT5cbiAgICAgIyA8L3VsPlxuICAgIFxcKi9cbiAgICBlbHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1toYXNdKGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2FdID0gdGhpcy5hdHRyc1thXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5ncmFkaWVudCAmJiByZXMuZmlsbCA9PSBcIm5vbmVcIiAmJiAocmVzLmZpbGwgPSByZXMuZ3JhZGllbnQpICYmIGRlbGV0ZSByZXMuZ3JhZGllbnQ7XG4gICAgICAgICAgICByZXMudHJhbnNmb3JtID0gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gXCJmaWxsXCIgJiYgdGhpcy5hdHRycy5maWxsID09IFwibm9uZVwiICYmIHRoaXMuYXR0cnMuZ3JhZGllbnQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hdHRycy5ncmFkaWVudDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChuYW1lID09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBuYW1lcyA9IG5hbWUuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICBvdXQgPSB7fTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBuYW1lID0gbmFtZXNbaV07XG4gICAgICAgICAgICAgICAgaWYgKG5hbWUgaW4gdGhpcy5hdHRycykge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB0aGlzLmF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV0sIFwiZnVuY3Rpb25cIikpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0W25hbWVdID0gdGhpcy5wYXBlci5jdXN0b21BdHRyaWJ1dGVzW25hbWVdLmRlZjtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSBSLl9hdmFpbGFibGVBdHRyc1tuYW1lXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaWkgLSAxID8gb3V0IDogb3V0W25hbWVzWzBdXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgPT0gbnVsbCAmJiBSLmlzKG5hbWUsIFwiYXJyYXlcIikpIHtcbiAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yIChpID0gMCwgaWkgPSBuYW1lLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvdXRbbmFtZVtpXV0gPSB0aGlzLmF0dHIobmFtZVtpXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmICh2YWx1ZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfSBlbHNlIGlmIChuYW1lICE9IG51bGwgJiYgUi5pcyhuYW1lLCBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgcGFyYW1zID0gbmFtZTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmF0dHIuXCIgKyBrZXkgKyBcIi5cIiArIHRoaXMuaWQsIHRoaXMsIHBhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpIGlmICh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShrZXkpICYmIHBhcmFtc1toYXNdKGtleSkgJiYgUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgdmFyIHBhciA9IHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1trZXldLmFwcGx5KHRoaXMsIFtdLmNvbmNhdChwYXJhbXNba2V5XSkpO1xuICAgICAgICAgICAgdGhpcy5hdHRyc1trZXldID0gcGFyYW1zW2tleV07XG4gICAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gcGFyKSBpZiAocGFyW2hhc10oc3Via2V5KSkge1xuICAgICAgICAgICAgICAgIHBhcmFtc1tzdWJrZXldID0gcGFyW3N1YmtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2V0RmlsbEFuZFN0cm9rZSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBFbGVtZW50LnRvRnJvbnRcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE1vdmVzIHRoZSBlbGVtZW50IHNvIGl0IGlzIHRoZSBjbG9zZXN0IHRvIHRoZSB2aWV3ZXLigJlzIGV5ZXMsIG9uIHRvcCBvZiBvdGhlciBlbGVtZW50cy5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRvRnJvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIHZhciBub2RlID0gZ2V0UmVhbE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgbm9kZS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5wYXBlcjtcbiAgICAgICAgc3ZnLnRvcCAhPSB0aGlzICYmIFIuX3RvZnJvbnQodGhpcywgc3ZnKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC50b0JhY2tcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIE1vdmVzIHRoZSBlbGVtZW50IHNvIGl0IGlzIHRoZSBmdXJ0aGVzdCBmcm9tIHRoZSB2aWV3ZXLigJlzIGV5ZXMsIGJlaGluZCBvdGhlciBlbGVtZW50cy5cbiAgICAgPSAob2JqZWN0KSBARWxlbWVudFxuICAgIFxcKi9cbiAgICBlbHByb3RvLnRvQmFjayA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG5vZGUgPSBnZXRSZWFsTm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICB2YXIgcGFyZW50Tm9kZSA9IG5vZGUucGFyZW50Tm9kZTtcbiAgICAgICAgcGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgcGFyZW50Tm9kZS5maXJzdENoaWxkKTtcbiAgICAgICAgUi5fdG9iYWNrKHRoaXMsIHRoaXMucGFwZXIpO1xuICAgICAgICB2YXIgc3ZnID0gdGhpcy5wYXBlcjtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogRWxlbWVudC5pbnNlcnRBZnRlclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogSW5zZXJ0cyBjdXJyZW50IG9iamVjdCBhZnRlciB0aGUgZ2l2ZW4gb25lLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaW5zZXJ0QWZ0ZXIgPSBmdW5jdGlvbiAoZWxlbWVudCkge1xuICAgICAgICBpZiAodGhpcy5yZW1vdmVkIHx8ICFlbGVtZW50KSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub2RlID0gZ2V0UmVhbE5vZGUodGhpcy5ub2RlKTtcbiAgICAgICAgdmFyIGFmdGVyTm9kZSA9IGdldFJlYWxOb2RlKGVsZW1lbnQubm9kZSB8fCBlbGVtZW50W2VsZW1lbnQubGVuZ3RoIC0gMV0ubm9kZSk7XG4gICAgICAgIGlmIChhZnRlck5vZGUubmV4dFNpYmxpbmcpIHtcbiAgICAgICAgICAgIGFmdGVyTm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShub2RlLCBhZnRlck5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWZ0ZXJOb2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgIH1cbiAgICAgICAgUi5faW5zZXJ0YWZ0ZXIodGhpcywgZWxlbWVudCwgdGhpcy5wYXBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIEVsZW1lbnQuaW5zZXJ0QmVmb3JlXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJbnNlcnRzIGN1cnJlbnQgb2JqZWN0IGJlZm9yZSB0aGUgZ2l2ZW4gb25lLlxuICAgICA9IChvYmplY3QpIEBFbGVtZW50XG4gICAgXFwqL1xuICAgIGVscHJvdG8uaW5zZXJ0QmVmb3JlID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCB8fCAhZWxlbWVudCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbm9kZSA9IGdldFJlYWxOb2RlKHRoaXMubm9kZSk7XG4gICAgICAgIHZhciBiZWZvcmVOb2RlID0gZ2V0UmVhbE5vZGUoZWxlbWVudC5ub2RlIHx8IGVsZW1lbnRbMF0ubm9kZSk7XG4gICAgICAgIGJlZm9yZU5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobm9kZSwgYmVmb3JlTm9kZSk7XG4gICAgICAgIFIuX2luc2VydGJlZm9yZSh0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmJsdXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICAvLyBFeHBlcmltZW50YWwuIE5vIFNhZmFyaSBzdXBwb3J0LiBVc2UgaXQgb24geW91ciBvd24gcmlzay5cbiAgICAgICAgdmFyIHQgPSB0aGlzO1xuICAgICAgICBpZiAoK3NpemUgIT09IDApIHtcbiAgICAgICAgICAgIHZhciBmbHRyID0gJChcImZpbHRlclwiKSxcbiAgICAgICAgICAgICAgICBibHVyID0gJChcImZlR2F1c3NpYW5CbHVyXCIpO1xuICAgICAgICAgICAgdC5hdHRycy5ibHVyID0gc2l6ZTtcbiAgICAgICAgICAgIGZsdHIuaWQgPSBSLmNyZWF0ZVVVSUQoKTtcbiAgICAgICAgICAgICQoYmx1ciwge3N0ZERldmlhdGlvbjogK3NpemUgfHwgMS41fSk7XG4gICAgICAgICAgICBmbHRyLmFwcGVuZENoaWxkKGJsdXIpO1xuICAgICAgICAgICAgdC5wYXBlci5kZWZzLmFwcGVuZENoaWxkKGZsdHIpO1xuICAgICAgICAgICAgdC5fYmx1ciA9IGZsdHI7XG4gICAgICAgICAgICAkKHQubm9kZSwge2ZpbHRlcjogXCJ1cmwoI1wiICsgZmx0ci5pZCArIFwiKVwifSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAodC5fYmx1cikge1xuICAgICAgICAgICAgICAgIHQuX2JsdXIucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0Ll9ibHVyKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdC5fYmx1cjtcbiAgICAgICAgICAgICAgICBkZWxldGUgdC5hdHRycy5ibHVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdC5ub2RlLnJlbW92ZUF0dHJpYnV0ZShcImZpbHRlclwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdDtcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5jaXJjbGUgPSBmdW5jdGlvbiAoc3ZnLCB4LCB5LCByKSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJjaXJjbGVcIik7XG4gICAgICAgIHN2Zy5jYW52YXMgJiYgc3ZnLmNhbnZhcy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZXMgPSBuZXcgRWxlbWVudChlbCwgc3ZnKTtcbiAgICAgICAgcmVzLmF0dHJzID0ge2N4OiB4LCBjeTogeSwgcjogciwgZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCIjMDAwXCJ9O1xuICAgICAgICByZXMudHlwZSA9IFwiY2lyY2xlXCI7XG4gICAgICAgICQoZWwsIHJlcy5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUucmVjdCA9IGZ1bmN0aW9uIChzdmcsIHgsIHksIHcsIGgsIHIpIHtcbiAgICAgICAgdmFyIGVsID0gJChcInJlY3RcIik7XG4gICAgICAgIHN2Zy5jYW52YXMgJiYgc3ZnLmNhbnZhcy5hcHBlbmRDaGlsZChlbCk7XG4gICAgICAgIHZhciByZXMgPSBuZXcgRWxlbWVudChlbCwgc3ZnKTtcbiAgICAgICAgcmVzLmF0dHJzID0ge3g6IHgsIHk6IHksIHdpZHRoOiB3LCBoZWlnaHQ6IGgsIHJ4OiByIHx8IDAsIHJ5OiByIHx8IDAsIGZpbGw6IFwibm9uZVwiLCBzdHJva2U6IFwiIzAwMFwifTtcbiAgICAgICAgcmVzLnR5cGUgPSBcInJlY3RcIjtcbiAgICAgICAgJChlbCwgcmVzLmF0dHJzKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5lbGxpcHNlID0gZnVuY3Rpb24gKHN2ZywgeCwgeSwgcngsIHJ5KSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJlbGxpcHNlXCIpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHtjeDogeCwgY3k6IHksIHJ4OiByeCwgcnk6IHJ5LCBmaWxsOiBcIm5vbmVcIiwgc3Ryb2tlOiBcIiMwMDBcIn07XG4gICAgICAgIHJlcy50eXBlID0gXCJlbGxpcHNlXCI7XG4gICAgICAgICQoZWwsIHJlcy5hdHRycyk7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuaW1hZ2UgPSBmdW5jdGlvbiAoc3ZnLCBzcmMsIHgsIHksIHcsIGgpIHtcbiAgICAgICAgdmFyIGVsID0gJChcImltYWdlXCIpO1xuICAgICAgICAkKGVsLCB7eDogeCwgeTogeSwgd2lkdGg6IHcsIGhlaWdodDogaCwgcHJlc2VydmVBc3BlY3RSYXRpbzogXCJub25lXCJ9KTtcbiAgICAgICAgZWwuc2V0QXR0cmlidXRlTlMoeGxpbmssIFwiaHJlZlwiLCBzcmMpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHt4OiB4LCB5OiB5LCB3aWR0aDogdywgaGVpZ2h0OiBoLCBzcmM6IHNyY307XG4gICAgICAgIHJlcy50eXBlID0gXCJpbWFnZVwiO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnRleHQgPSBmdW5jdGlvbiAoc3ZnLCB4LCB5LCB0ZXh0KSB7XG4gICAgICAgIHZhciBlbCA9ICQoXCJ0ZXh0XCIpO1xuICAgICAgICBzdmcuY2FudmFzICYmIHN2Zy5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgcmVzID0gbmV3IEVsZW1lbnQoZWwsIHN2Zyk7XG4gICAgICAgIHJlcy5hdHRycyA9IHtcbiAgICAgICAgICAgIHg6IHgsXG4gICAgICAgICAgICB5OiB5LFxuICAgICAgICAgICAgXCJ0ZXh0LWFuY2hvclwiOiBcIm1pZGRsZVwiLFxuICAgICAgICAgICAgdGV4dDogdGV4dCxcbiAgICAgICAgICAgIFwiZm9udC1mYW1pbHlcIjogUi5fYXZhaWxhYmxlQXR0cnNbXCJmb250LWZhbWlseVwiXSxcbiAgICAgICAgICAgIFwiZm9udC1zaXplXCI6IFIuX2F2YWlsYWJsZUF0dHJzW1wiZm9udC1zaXplXCJdLFxuICAgICAgICAgICAgc3Ryb2tlOiBcIm5vbmVcIixcbiAgICAgICAgICAgIGZpbGw6IFwiIzAwMFwiXG4gICAgICAgIH07XG4gICAgICAgIHJlcy50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocmVzLCByZXMuYXR0cnMpO1xuICAgICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnNldFNpemUgPSBmdW5jdGlvbiAod2lkdGgsIGhlaWdodCkge1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGggfHwgdGhpcy53aWR0aDtcbiAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQgfHwgdGhpcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMuY2FudmFzLnNldEF0dHJpYnV0ZShcIndpZHRoXCIsIHRoaXMud2lkdGgpO1xuICAgICAgICB0aGlzLmNhbnZhcy5zZXRBdHRyaWJ1dGUoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQpO1xuICAgICAgICBpZiAodGhpcy5fdmlld0JveCkge1xuICAgICAgICAgICAgdGhpcy5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsIHRoaXMuX3ZpZXdCb3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLmNyZWF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNvbiA9IFIuX2dldENvbnRhaW5lci5hcHBseSgwLCBhcmd1bWVudHMpLFxuICAgICAgICAgICAgY29udGFpbmVyID0gY29uICYmIGNvbi5jb250YWluZXI7XG4gICAgICAgIGlmICghY29udGFpbmVyKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTVkcgY29udGFpbmVyIG5vdCBmb3VuZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHggPSBjb24ueCxcbiAgICAgICAgICAgIHkgPSBjb24ueSxcbiAgICAgICAgICAgIHdpZHRoID0gY29uLndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29uLmhlaWdodCxcbiAgICAgICAgICAgIGNudnMgPSAkKFwic3ZnXCIpLFxuICAgICAgICAgICAgY3NzID0gXCJvdmVyZmxvdzpoaWRkZW47XCIsXG4gICAgICAgICAgICBpc0Zsb2F0aW5nO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDUxMjtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IDM0MjtcbiAgICAgICAgJChjbnZzLCB7XG4gICAgICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgICAgIHZlcnNpb246IDEuMSxcbiAgICAgICAgICAgIHdpZHRoOiB3aWR0aCxcbiAgICAgICAgICAgIHhtbG5zOiBcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsXG4gICAgICAgICAgICBcInhtbG5zOnhsaW5rXCI6IFwiaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGlua1wiXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY29udGFpbmVyID09IDEpIHtcbiAgICAgICAgICAgIGNudnMuc3R5bGUuY3NzVGV4dCA9IGNzcyArIFwicG9zaXRpb246YWJzb2x1dGU7bGVmdDpcIiArIHggKyBcInB4O3RvcDpcIiArIHkgKyBcInB4XCI7XG4gICAgICAgICAgICBSLl9nLmRvYy5ib2R5LmFwcGVuZENoaWxkKGNudnMpO1xuICAgICAgICAgICAgaXNGbG9hdGluZyA9IDE7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjbnZzLnN0eWxlLmNzc1RleHQgPSBjc3MgKyBcInBvc2l0aW9uOnJlbGF0aXZlXCI7XG4gICAgICAgICAgICBpZiAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgICAgICBjb250YWluZXIuaW5zZXJ0QmVmb3JlKGNudnMsIGNvbnRhaW5lci5maXJzdENoaWxkKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGNudnMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lciA9IG5ldyBSLl9QYXBlcjtcbiAgICAgICAgY29udGFpbmVyLndpZHRoID0gd2lkdGg7XG4gICAgICAgIGNvbnRhaW5lci5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIGNvbnRhaW5lci5jYW52YXMgPSBjbnZzO1xuICAgICAgICBjb250YWluZXIuY2xlYXIoKTtcbiAgICAgICAgY29udGFpbmVyLl9sZWZ0ID0gY29udGFpbmVyLl90b3AgPSAwO1xuICAgICAgICBpc0Zsb2F0aW5nICYmIChjb250YWluZXIucmVuZGVyZml4ID0gZnVuY3Rpb24gKCkge30pO1xuICAgICAgICBjb250YWluZXIucmVuZGVyZml4KCk7XG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuc2V0Vmlld0JveCA9IGZ1bmN0aW9uICh4LCB5LCB3LCBoLCBmaXQpIHtcbiAgICAgICAgZXZlKFwicmFwaGFlbC5zZXRWaWV3Qm94XCIsIHRoaXMsIHRoaXMuX3ZpZXdCb3gsIFt4LCB5LCB3LCBoLCBmaXRdKTtcbiAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgc2l6ZSA9IG1tYXgodyAvIHBhcGVyU2l6ZS53aWR0aCwgaCAvIHBhcGVyU2l6ZS5oZWlnaHQpLFxuICAgICAgICAgICAgdG9wID0gdGhpcy50b3AsXG4gICAgICAgICAgICBhc3BlY3RSYXRpbyA9IGZpdCA/IFwieE1pZFlNaWQgbWVldFwiIDogXCJ4TWluWU1pblwiLFxuICAgICAgICAgICAgdmIsXG4gICAgICAgICAgICBzdztcbiAgICAgICAgaWYgKHggPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuX3ZiU2l6ZSkge1xuICAgICAgICAgICAgICAgIHNpemUgPSAxO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3ZiU2l6ZTtcbiAgICAgICAgICAgIHZiID0gXCIwIDAgXCIgKyB0aGlzLndpZHRoICsgUyArIHRoaXMuaGVpZ2h0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fdmJTaXplID0gc2l6ZTtcbiAgICAgICAgICAgIHZiID0geCArIFMgKyB5ICsgUyArIHcgKyBTICsgaDtcbiAgICAgICAgfVxuICAgICAgICAkKHRoaXMuY2FudmFzLCB7XG4gICAgICAgICAgICB2aWV3Qm94OiB2YixcbiAgICAgICAgICAgIHByZXNlcnZlQXNwZWN0UmF0aW86IGFzcGVjdFJhdGlvXG4gICAgICAgIH0pO1xuICAgICAgICB3aGlsZSAoc2l6ZSAmJiB0b3ApIHtcbiAgICAgICAgICAgIHN3ID0gXCJzdHJva2Utd2lkdGhcIiBpbiB0b3AuYXR0cnMgPyB0b3AuYXR0cnNbXCJzdHJva2Utd2lkdGhcIl0gOiAxO1xuICAgICAgICAgICAgdG9wLmF0dHIoe1wic3Ryb2tlLXdpZHRoXCI6IHN3fSk7XG4gICAgICAgICAgICB0b3AuXy5kaXJ0eSA9IDE7XG4gICAgICAgICAgICB0b3AuXy5kaXJ0eVQgPSAxO1xuICAgICAgICAgICAgdG9wID0gdG9wLnByZXY7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0JveCA9IFt4LCB5LCB3LCBoLCAhIWZpdF07XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlbmRlcmZpeFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogRml4ZXMgdGhlIGlzc3VlIG9mIEZpcmVmb3ggYW5kIElFOSByZWdhcmRpbmcgc3VicGl4ZWwgcmVuZGVyaW5nLiBJZiBwYXBlciBpcyBkZXBlbmRlbnRcbiAgICAgKiBvbiBvdGhlciBlbGVtZW50cyBhZnRlciByZWZsb3cgaXQgY291bGQgc2hpZnQgaGFsZiBwaXhlbCB3aGljaCBjYXVzZSBmb3IgbGluZXMgdG8gbG9zdCB0aGVpciBjcmlzcG5lc3MuXG4gICAgICogVGhpcyBtZXRob2QgZml4ZXMgdGhlIGlzc3VlLlxuICAgICAqKlxuICAgICAgIFNwZWNpYWwgdGhhbmtzIHRvIE1hcml1c3ogTm93YWsgKGh0dHA6Ly93d3cubWVkaWtvby5jb20vKSBmb3IgdGhpcyBtZXRob2QuXG4gICAgXFwqL1xuICAgIFIucHJvdG90eXBlLnJlbmRlcmZpeCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNudnMgPSB0aGlzLmNhbnZhcyxcbiAgICAgICAgICAgIHMgPSBjbnZzLnN0eWxlLFxuICAgICAgICAgICAgcG9zO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcG9zID0gY252cy5nZXRTY3JlZW5DVE0oKSB8fCBjbnZzLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBwb3MgPSBjbnZzLmNyZWF0ZVNWR01hdHJpeCgpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZWZ0ID0gLXBvcy5lICUgMSxcbiAgICAgICAgICAgIHRvcCA9IC1wb3MuZiAlIDE7XG4gICAgICAgIGlmIChsZWZ0IHx8IHRvcCkge1xuICAgICAgICAgICAgaWYgKGxlZnQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9sZWZ0ID0gKHRoaXMuX2xlZnQgKyBsZWZ0KSAlIDE7XG4gICAgICAgICAgICAgICAgcy5sZWZ0ID0gdGhpcy5fbGVmdCArIFwicHhcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b3ApIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90b3AgPSAodGhpcy5fdG9wICsgdG9wKSAlIDE7XG4gICAgICAgICAgICAgICAgcy50b3AgPSB0aGlzLl90b3AgKyBcInB4XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBQYXBlci5jbGVhclxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ2xlYXJzIHRoZSBwYXBlciwgaS5lLiByZW1vdmVzIGFsbCB0aGUgZWxlbWVudHMuXG4gICAgXFwqL1xuICAgIFIucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBSLmV2ZShcInJhcGhhZWwuY2xlYXJcIiwgdGhpcyk7XG4gICAgICAgIHZhciBjID0gdGhpcy5jYW52YXM7XG4gICAgICAgIHdoaWxlIChjLmZpcnN0Q2hpbGQpIHtcbiAgICAgICAgICAgIGMucmVtb3ZlQ2hpbGQoYy5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmJvdHRvbSA9IHRoaXMudG9wID0gbnVsbDtcbiAgICAgICAgKHRoaXMuZGVzYyA9ICQoXCJkZXNjXCIpKS5hcHBlbmRDaGlsZChSLl9nLmRvYy5jcmVhdGVUZXh0Tm9kZShcIkNyZWF0ZWQgd2l0aCBSYXBoYVxceGVibCBcIiArIFIudmVyc2lvbikpO1xuICAgICAgICBjLmFwcGVuZENoaWxkKHRoaXMuZGVzYyk7XG4gICAgICAgIGMuYXBwZW5kQ2hpbGQodGhpcy5kZWZzID0gJChcImRlZnNcIikpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIFBhcGVyLnJlbW92ZVxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogUmVtb3ZlcyB0aGUgcGFwZXIgZnJvbSB0aGUgRE9NLlxuICAgIFxcKi9cbiAgICBSLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGV2ZShcInJhcGhhZWwucmVtb3ZlXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5wYXJlbnROb2RlICYmIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSB0eXBlb2YgdGhpc1tpXSA9PSBcImZ1bmN0aW9uXCIgPyBSLl9yZW1vdmVkRmFjdG9yeShpKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBzZXRwcm90byA9IFIuc3Q7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSAmJiAhc2V0cHJvdG9baGFzXShtZXRob2QpKSB7XG4gICAgICAgIHNldHByb3RvW21ldGhvZF0gPSAoZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbFttZXRob2RuYW1lXS5hcHBseShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./dev/raphael.svg.js\n') }, "./dev/raphael.vml.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;!(__WEBPACK_AMD_DEFINE_ARRAY__ = [__webpack_require__(/*! ./raphael.core */ "./dev/raphael.core.js")], __WEBPACK_AMD_DEFINE_RESULT__ = (function(R) {\n    if (R && !R.vml) {\n        return;\n    }\n\n    var has = "hasOwnProperty",\n        Str = String,\n        toFloat = parseFloat,\n        math = Math,\n        round = math.round,\n        mmax = math.max,\n        mmin = math.min,\n        abs = math.abs,\n        fillString = "fill",\n        separator = /[, ]+/,\n        eve = R.eve,\n        ms = " progid:DXImageTransform.Microsoft",\n        S = " ",\n        E = "",\n        map = {M: "m", L: "l", C: "c", Z: "x", m: "t", l: "r", c: "v", z: "x"},\n        bites = /([clmz]),?([^clmz]*)/gi,\n        blurregexp = / progid:\\S+Blur\\([^\\)]+\\)/g,\n        val = /-?[^,\\s-]+/g,\n        cssDot = "position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",\n        zoom = 21600,\n        pathTypes = {path: 1, rect: 1, image: 1},\n        ovalTypes = {circle: 1, ellipse: 1},\n        path2vml = function (path) {\n            var total =  /[ahqstv]/ig,\n                command = R._pathToAbsolute;\n            Str(path).match(total) && (command = R._path2curve);\n            total = /[clmz]/g;\n            if (command == R._pathToAbsolute && !Str(path).match(total)) {\n                var res = Str(path).replace(bites, function (all, command, args) {\n                    var vals = [],\n                        isMove = command.toLowerCase() == "m",\n                        res = map[command];\n                    args.replace(val, function (value) {\n                        if (isMove && vals.length == 2) {\n                            res += vals + map[command == "m" ? "l" : "L"];\n                            vals = [];\n                        }\n                        vals.push(round(value * zoom));\n                    });\n                    return res + vals;\n                });\n                return res;\n            }\n            var pa = command(path), p, r;\n            res = [];\n            for (var i = 0, ii = pa.length; i < ii; i++) {\n                p = pa[i];\n                r = pa[i][0].toLowerCase();\n                r == "z" && (r = "x");\n                for (var j = 1, jj = p.length; j < jj; j++) {\n                    r += round(p[j] * zoom) + (j != jj - 1 ? "," : E);\n                }\n                res.push(r);\n            }\n            return res.join(S);\n        },\n        compensation = function (deg, dx, dy) {\n            var m = R.matrix();\n            m.rotate(-deg, .5, .5);\n            return {\n                dx: m.x(dx, dy),\n                dy: m.y(dx, dy)\n            };\n        },\n        setCoords = function (p, sx, sy, dx, dy, deg) {\n            var _ = p._,\n                m = p.matrix,\n                fillpos = _.fillpos,\n                o = p.node,\n                s = o.style,\n                y = 1,\n                flip = "",\n                dxdy,\n                kx = zoom / sx,\n                ky = zoom / sy;\n            s.visibility = "hidden";\n            if (!sx || !sy) {\n                return;\n            }\n            o.coordsize = abs(kx) + S + abs(ky);\n            s.rotation = deg * (sx * sy < 0 ? -1 : 1);\n            if (deg) {\n                var c = compensation(deg, dx, dy);\n                dx = c.dx;\n                dy = c.dy;\n            }\n            sx < 0 && (flip += "x");\n            sy < 0 && (flip += " y") && (y = -1);\n            s.flip = flip;\n            o.coordorigin = (dx * -kx) + S + (dy * -ky);\n            if (fillpos || _.fillsize) {\n                var fill = o.getElementsByTagName(fillString);\n                fill = fill && fill[0];\n                o.removeChild(fill);\n                if (fillpos) {\n                    c = compensation(deg, m.x(fillpos[0], fillpos[1]), m.y(fillpos[0], fillpos[1]));\n                    fill.position = c.dx * y + S + c.dy * y;\n                }\n                if (_.fillsize) {\n                    fill.size = _.fillsize[0] * abs(sx) + S + _.fillsize[1] * abs(sy);\n                }\n                o.appendChild(fill);\n            }\n            s.visibility = "visible";\n        };\n    R.toString = function () {\n        return  "Your browser doesn\\u2019t support SVG. Falling down to VML.\\nYou are running Rapha\\xebl " + this.version;\n    };\n    var addArrow = function (o, value, isEnd) {\n        var values = Str(value).toLowerCase().split("-"),\n            se = isEnd ? "end" : "start",\n            i = values.length,\n            type = "classic",\n            w = "medium",\n            h = "medium";\n        while (i--) {\n            switch (values[i]) {\n                case "block":\n                case "classic":\n                case "oval":\n                case "diamond":\n                case "open":\n                case "none":\n                    type = values[i];\n                    break;\n                case "wide":\n                case "narrow": h = values[i]; break;\n                case "long":\n                case "short": w = values[i]; break;\n            }\n        }\n        var stroke = o.node.getElementsByTagName("stroke")[0];\n        stroke[se + "arrow"] = type;\n        stroke[se + "arrowlength"] = w;\n        stroke[se + "arrowwidth"] = h;\n    },\n    setFillAndStroke = function (o, params) {\n        // o.paper.canvas.style.display = "none";\n        o.attrs = o.attrs || {};\n        var node = o.node,\n            a = o.attrs,\n            s = node.style,\n            xy,\n            newpath = pathTypes[o.type] && (params.x != a.x || params.y != a.y || params.width != a.width || params.height != a.height || params.cx != a.cx || params.cy != a.cy || params.rx != a.rx || params.ry != a.ry || params.r != a.r),\n            isOval = ovalTypes[o.type] && (a.cx != params.cx || a.cy != params.cy || a.r != params.r || a.rx != params.rx || a.ry != params.ry),\n            res = o;\n\n\n        for (var par in params) if (params[has](par)) {\n            a[par] = params[par];\n        }\n        if (newpath) {\n            a.path = R._getPath[o.type](o);\n            o._.dirty = 1;\n        }\n        params.href && (node.href = params.href);\n        params.title && (node.title = params.title);\n        params.target && (node.target = params.target);\n        params.cursor && (s.cursor = params.cursor);\n        "blur" in params && o.blur(params.blur);\n        if (params.path && o.type == "path" || newpath) {\n            node.path = path2vml(~Str(a.path).toLowerCase().indexOf("r") ? R._pathToAbsolute(a.path) : a.path);\n            o._.dirty = 1;\n            if (o.type == "image") {\n                o._.fillpos = [a.x, a.y];\n                o._.fillsize = [a.width, a.height];\n                setCoords(o, 1, 1, 0, 0, 0);\n            }\n        }\n        "transform" in params && o.transform(params.transform);\n        if (isOval) {\n            var cx = +a.cx,\n                cy = +a.cy,\n                rx = +a.rx || +a.r || 0,\n                ry = +a.ry || +a.r || 0;\n            node.path = R.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x", round((cx - rx) * zoom), round((cy - ry) * zoom), round((cx + rx) * zoom), round((cy + ry) * zoom), round(cx * zoom));\n            o._.dirty = 1;\n        }\n        if ("clip-rect" in params) {\n            var rect = Str(params["clip-rect"]).split(separator);\n            if (rect.length == 4) {\n                rect[2] = +rect[2] + (+rect[0]);\n                rect[3] = +rect[3] + (+rect[1]);\n                var div = node.clipRect || R._g.doc.createElement("div"),\n                    dstyle = div.style;\n                dstyle.clip = R.format("rect({1}px {2}px {3}px {0}px)", rect);\n                if (!node.clipRect) {\n                    dstyle.position = "absolute";\n                    dstyle.top = 0;\n                    dstyle.left = 0;\n                    dstyle.width = o.paper.width + "px";\n                    dstyle.height = o.paper.height + "px";\n                    node.parentNode.insertBefore(div, node);\n                    div.appendChild(node);\n                    node.clipRect = div;\n                }\n            }\n            if (!params["clip-rect"]) {\n                node.clipRect && (node.clipRect.style.clip = "auto");\n            }\n        }\n        if (o.textpath) {\n            var textpathStyle = o.textpath.style;\n            params.font && (textpathStyle.font = params.font);\n            params["font-family"] && (textpathStyle.fontFamily = \'"\' + params["font-family"].split(",")[0].replace(/^[\'"]+|[\'"]+$/g, E) + \'"\');\n            params["font-size"] && (textpathStyle.fontSize = params["font-size"]);\n            params["font-weight"] && (textpathStyle.fontWeight = params["font-weight"]);\n            params["font-style"] && (textpathStyle.fontStyle = params["font-style"]);\n        }\n        if ("arrow-start" in params) {\n            addArrow(res, params["arrow-start"]);\n        }\n        if ("arrow-end" in params) {\n            addArrow(res, params["arrow-end"], 1);\n        }\n        if (params.opacity != null ||\n            params.fill != null ||\n            params.src != null ||\n            params.stroke != null ||\n            params["stroke-width"] != null ||\n            params["stroke-opacity"] != null ||\n            params["fill-opacity"] != null ||\n            params["stroke-dasharray"] != null ||\n            params["stroke-miterlimit"] != null ||\n            params["stroke-linejoin"] != null ||\n            params["stroke-linecap"] != null) {\n            var fill = node.getElementsByTagName(fillString),\n                newfill = false;\n            fill = fill && fill[0];\n            !fill && (newfill = fill = createNode(fillString));\n            if (o.type == "image" && params.src) {\n                fill.src = params.src;\n            }\n            params.fill && (fill.on = true);\n            if (fill.on == null || params.fill == "none" || params.fill === null) {\n                fill.on = false;\n            }\n            if (fill.on && params.fill) {\n                var isURL = Str(params.fill).match(R._ISURL);\n                if (isURL) {\n                    fill.parentNode == node && node.removeChild(fill);\n                    fill.rotate = true;\n                    fill.src = isURL[1];\n                    fill.type = "tile";\n                    var bbox = o.getBBox(1);\n                    fill.position = bbox.x + S + bbox.y;\n                    o._.fillpos = [bbox.x, bbox.y];\n\n                    R._preload(isURL[1], function () {\n                        o._.fillsize = [this.offsetWidth, this.offsetHeight];\n                    });\n                } else {\n                    fill.color = R.getRGB(params.fill).hex;\n                    fill.src = E;\n                    fill.type = "solid";\n                    if (R.getRGB(params.fill).error && (res.type in {circle: 1, ellipse: 1} || Str(params.fill).charAt() != "r") && addGradientFill(res, params.fill, fill)) {\n                        a.fill = "none";\n                        a.gradient = params.fill;\n                        fill.rotate = false;\n                    }\n                }\n            }\n            if ("fill-opacity" in params || "opacity" in params) {\n                var opacity = ((+a["fill-opacity"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+R.getRGB(params.fill).o + 1 || 2) - 1);\n                opacity = mmin(mmax(opacity, 0), 1);\n                fill.opacity = opacity;\n                if (fill.src) {\n                    fill.color = "none";\n                }\n            }\n            node.appendChild(fill);\n            var stroke = (node.getElementsByTagName("stroke") && node.getElementsByTagName("stroke")[0]),\n            newstroke = false;\n            !stroke && (newstroke = stroke = createNode("stroke"));\n            if ((params.stroke && params.stroke != "none") ||\n                params["stroke-width"] ||\n                params["stroke-opacity"] != null ||\n                params["stroke-dasharray"] ||\n                params["stroke-miterlimit"] ||\n                params["stroke-linejoin"] ||\n                params["stroke-linecap"]) {\n                stroke.on = true;\n            }\n            (params.stroke == "none" || params.stroke === null || stroke.on == null || params.stroke == 0 || params["stroke-width"] == 0) && (stroke.on = false);\n            var strokeColor = R.getRGB(params.stroke);\n            stroke.on && params.stroke && (stroke.color = strokeColor.hex);\n            opacity = ((+a["stroke-opacity"] + 1 || 2) - 1) * ((+a.opacity + 1 || 2) - 1) * ((+strokeColor.o + 1 || 2) - 1);\n            var width = (toFloat(params["stroke-width"]) || 1) * .75;\n            opacity = mmin(mmax(opacity, 0), 1);\n            params["stroke-width"] == null && (width = a["stroke-width"]);\n            params["stroke-width"] && (stroke.weight = width);\n            width && width < 1 && (opacity *= width) && (stroke.weight = 1);\n            stroke.opacity = opacity;\n\n            params["stroke-linejoin"] && (stroke.joinstyle = params["stroke-linejoin"] || "miter");\n            stroke.miterlimit = params["stroke-miterlimit"] || 8;\n            params["stroke-linecap"] && (stroke.endcap = params["stroke-linecap"] == "butt" ? "flat" : params["stroke-linecap"] == "square" ? "square" : "round");\n            if ("stroke-dasharray" in params) {\n                var dasharray = {\n                    "-": "shortdash",\n                    ".": "shortdot",\n                    "-.": "shortdashdot",\n                    "-..": "shortdashdotdot",\n                    ". ": "dot",\n                    "- ": "dash",\n                    "--": "longdash",\n                    "- .": "dashdot",\n                    "--.": "longdashdot",\n                    "--..": "longdashdotdot"\n                };\n                stroke.dashstyle = dasharray[has](params["stroke-dasharray"]) ? dasharray[params["stroke-dasharray"]] : E;\n            }\n            newstroke && node.appendChild(stroke);\n        }\n        if (res.type == "text") {\n            res.paper.canvas.style.display = E;\n            var span = res.paper.span,\n                m = 100,\n                fontSize = a.font && a.font.match(/\\d+(?:\\.\\d*)?(?=px)/);\n            s = span.style;\n            a.font && (s.font = a.font);\n            a["font-family"] && (s.fontFamily = a["font-family"]);\n            a["font-weight"] && (s.fontWeight = a["font-weight"]);\n            a["font-style"] && (s.fontStyle = a["font-style"]);\n            fontSize = toFloat(a["font-size"] || fontSize && fontSize[0]) || 10;\n            s.fontSize = fontSize * m + "px";\n            res.textpath.string && (span.innerHTML = Str(res.textpath.string).replace(/</g, "&#60;").replace(/&/g, "&#38;").replace(/\\n/g, "<br>"));\n            var brect = span.getBoundingClientRect();\n            res.W = a.w = (brect.right - brect.left) / m;\n            res.H = a.h = (brect.bottom - brect.top) / m;\n            // res.paper.canvas.style.display = "none";\n            res.X = a.x;\n            res.Y = a.y + res.H / 2;\n\n            ("x" in params || "y" in params) && (res.path.v = R.format("m{0},{1}l{2},{1}", round(a.x * zoom), round(a.y * zoom), round(a.x * zoom) + 1));\n            var dirtyattrs = ["x", "y", "text", "font", "font-family", "font-weight", "font-style", "font-size"];\n            for (var d = 0, dd = dirtyattrs.length; d < dd; d++) if (dirtyattrs[d] in params) {\n                res._.dirty = 1;\n                break;\n            }\n\n            // text-anchor emulation\n            switch (a["text-anchor"]) {\n                case "start":\n                    res.textpath.style["v-text-align"] = "left";\n                    res.bbx = res.W / 2;\n                break;\n                case "end":\n                    res.textpath.style["v-text-align"] = "right";\n                    res.bbx = -res.W / 2;\n                break;\n                default:\n                    res.textpath.style["v-text-align"] = "center";\n                    res.bbx = 0;\n                break;\n            }\n            res.textpath.style["v-text-kern"] = true;\n        }\n        // res.paper.canvas.style.display = E;\n    },\n    addGradientFill = function (o, gradient, fill) {\n        o.attrs = o.attrs || {};\n        var attrs = o.attrs,\n            pow = Math.pow,\n            opacity,\n            oindex,\n            type = "linear",\n            fxfy = ".5 .5";\n        o.attrs.gradient = gradient;\n        gradient = Str(gradient).replace(R._radial_gradient, function (all, fx, fy) {\n            type = "radial";\n            if (fx && fy) {\n                fx = toFloat(fx);\n                fy = toFloat(fy);\n                pow(fx - .5, 2) + pow(fy - .5, 2) > .25 && (fy = math.sqrt(.25 - pow(fx - .5, 2)) * ((fy > .5) * 2 - 1) + .5);\n                fxfy = fx + S + fy;\n            }\n            return E;\n        });\n        gradient = gradient.split(/\\s*\\-\\s*/);\n        if (type == "linear") {\n            var angle = gradient.shift();\n            angle = -toFloat(angle);\n            if (isNaN(angle)) {\n                return null;\n            }\n        }\n        var dots = R._parseDots(gradient);\n        if (!dots) {\n            return null;\n        }\n        o = o.shape || o.node;\n        if (dots.length) {\n            o.removeChild(fill);\n            fill.on = true;\n            fill.method = "none";\n            fill.color = dots[0].color;\n            fill.color2 = dots[dots.length - 1].color;\n            var clrs = [];\n            for (var i = 0, ii = dots.length; i < ii; i++) {\n                dots[i].offset && clrs.push(dots[i].offset + S + dots[i].color);\n            }\n            fill.colors = clrs.length ? clrs.join() : "0% " + fill.color;\n            if (type == "radial") {\n                fill.type = "gradientTitle";\n                fill.focus = "100%";\n                fill.focussize = "0 0";\n                fill.focusposition = fxfy;\n                fill.angle = 0;\n            } else {\n                // fill.rotate= true;\n                fill.type = "gradient";\n                fill.angle = (270 - angle) % 360;\n            }\n            o.appendChild(fill);\n        }\n        return 1;\n    },\n    Element = function (node, vml) {\n        this[0] = this.node = node;\n        node.raphael = true;\n        this.id = R._oid++;\n        node.raphaelid = this.id;\n        this.X = 0;\n        this.Y = 0;\n        this.attrs = {};\n        this.paper = vml;\n        this.matrix = R.matrix();\n        this._ = {\n            transform: [],\n            sx: 1,\n            sy: 1,\n            dx: 0,\n            dy: 0,\n            deg: 0,\n            dirty: 1,\n            dirtyT: 1\n        };\n        !vml.bottom && (vml.bottom = this);\n        this.prev = vml.top;\n        vml.top && (vml.top.next = this);\n        vml.top = this;\n        this.next = null;\n    };\n    var elproto = R.el;\n\n    Element.prototype = elproto;\n    elproto.constructor = Element;\n    elproto.transform = function (tstr) {\n        if (tstr == null) {\n            return this._.transform;\n        }\n        var vbs = this.paper._viewBoxShift,\n            vbt = vbs ? "s" + [vbs.scale, vbs.scale] + "-1-1t" + [vbs.dx, vbs.dy] : E,\n            oldt;\n        if (vbs) {\n            oldt = tstr = Str(tstr).replace(/\\.{3}|\\u2026/g, this._.transform || E);\n        }\n        R._extractTransform(this, vbt + tstr);\n        var matrix = this.matrix.clone(),\n            skew = this.skew,\n            o = this.node,\n            split,\n            isGrad = ~Str(this.attrs.fill).indexOf("-"),\n            isPatt = !Str(this.attrs.fill).indexOf("url(");\n        matrix.translate(1, 1);\n        if (isPatt || isGrad || this.type == "image") {\n            skew.matrix = "1 0 0 1";\n            skew.offset = "0 0";\n            split = matrix.split();\n            if ((isGrad && split.noRotation) || !split.isSimple) {\n                o.style.filter = matrix.toFilter();\n                var bb = this.getBBox(),\n                    bbt = this.getBBox(1),\n                    dx = bb.x - bbt.x,\n                    dy = bb.y - bbt.y;\n                o.coordorigin = (dx * -zoom) + S + (dy * -zoom);\n                setCoords(this, 1, 1, dx, dy, 0);\n            } else {\n                o.style.filter = E;\n                setCoords(this, split.scalex, split.scaley, split.dx, split.dy, split.rotate);\n            }\n        } else {\n            o.style.filter = E;\n            skew.matrix = Str(matrix);\n            skew.offset = matrix.offset();\n        }\n        if (oldt !== null) { // empty string value is true as well\n            this._.transform = oldt;\n            R._extractTransform(this, oldt);\n        }\n        return this;\n    };\n    elproto.rotate = function (deg, cx, cy) {\n        if (this.removed) {\n            return this;\n        }\n        if (deg == null) {\n            return;\n        }\n        deg = Str(deg).split(separator);\n        if (deg.length - 1) {\n            cx = toFloat(deg[1]);\n            cy = toFloat(deg[2]);\n        }\n        deg = toFloat(deg[0]);\n        (cy == null) && (cx = cy);\n        if (cx == null || cy == null) {\n            var bbox = this.getBBox(1);\n            cx = bbox.x + bbox.width / 2;\n            cy = bbox.y + bbox.height / 2;\n        }\n        this._.dirtyT = 1;\n        this.transform(this._.transform.concat([["r", deg, cx, cy]]));\n        return this;\n    };\n    elproto.translate = function (dx, dy) {\n        if (this.removed) {\n            return this;\n        }\n        dx = Str(dx).split(separator);\n        if (dx.length - 1) {\n            dy = toFloat(dx[1]);\n        }\n        dx = toFloat(dx[0]) || 0;\n        dy = +dy || 0;\n        if (this._.bbox) {\n            this._.bbox.x += dx;\n            this._.bbox.y += dy;\n        }\n        this.transform(this._.transform.concat([["t", dx, dy]]));\n        return this;\n    };\n    elproto.scale = function (sx, sy, cx, cy) {\n        if (this.removed) {\n            return this;\n        }\n        sx = Str(sx).split(separator);\n        if (sx.length - 1) {\n            sy = toFloat(sx[1]);\n            cx = toFloat(sx[2]);\n            cy = toFloat(sx[3]);\n            isNaN(cx) && (cx = null);\n            isNaN(cy) && (cy = null);\n        }\n        sx = toFloat(sx[0]);\n        (sy == null) && (sy = sx);\n        (cy == null) && (cx = cy);\n        if (cx == null || cy == null) {\n            var bbox = this.getBBox(1);\n        }\n        cx = cx == null ? bbox.x + bbox.width / 2 : cx;\n        cy = cy == null ? bbox.y + bbox.height / 2 : cy;\n\n        this.transform(this._.transform.concat([["s", sx, sy, cx, cy]]));\n        this._.dirtyT = 1;\n        return this;\n    };\n    elproto.hide = function () {\n        !this.removed && (this.node.style.display = "none");\n        return this;\n    };\n    elproto.show = function () {\n        !this.removed && (this.node.style.display = E);\n        return this;\n    };\n    // Needed to fix the vml setViewBox issues\n    elproto.auxGetBBox = R.el.getBBox;\n    elproto.getBBox = function(){\n      var b = this.auxGetBBox();\n      if (this.paper && this.paper._viewBoxShift)\n      {\n        var c = {};\n        var z = 1/this.paper._viewBoxShift.scale;\n        c.x = b.x - this.paper._viewBoxShift.dx;\n        c.x *= z;\n        c.y = b.y - this.paper._viewBoxShift.dy;\n        c.y *= z;\n        c.width  = b.width  * z;\n        c.height = b.height * z;\n        c.x2 = c.x + c.width;\n        c.y2 = c.y + c.height;\n        return c;\n      }\n      return b;\n    };\n    elproto._getBBox = function () {\n        if (this.removed) {\n            return {};\n        }\n        return {\n            x: this.X + (this.bbx || 0) - this.W / 2,\n            y: this.Y - this.H,\n            width: this.W,\n            height: this.H\n        };\n    };\n    elproto.remove = function () {\n        if (this.removed || !this.node.parentNode) {\n            return;\n        }\n        this.paper.__set__ && this.paper.__set__.exclude(this);\n        R.eve.unbind("raphael.*.*." + this.id);\n        R._tear(this, this.paper);\n        this.node.parentNode.removeChild(this.node);\n        this.shape && this.shape.parentNode.removeChild(this.shape);\n        for (var i in this) {\n            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;\n        }\n        this.removed = true;\n    };\n    elproto.attr = function (name, value) {\n        if (this.removed) {\n            return this;\n        }\n        if (name == null) {\n            var res = {};\n            for (var a in this.attrs) if (this.attrs[has](a)) {\n                res[a] = this.attrs[a];\n            }\n            res.gradient && res.fill == "none" && (res.fill = res.gradient) && delete res.gradient;\n            res.transform = this._.transform;\n            return res;\n        }\n        if (value == null && R.is(name, "string")) {\n            if (name == fillString && this.attrs.fill == "none" && this.attrs.gradient) {\n                return this.attrs.gradient;\n            }\n            var names = name.split(separator),\n                out = {};\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                name = names[i];\n                if (name in this.attrs) {\n                    out[name] = this.attrs[name];\n                } else if (R.is(this.paper.customAttributes[name], "function")) {\n                    out[name] = this.paper.customAttributes[name].def;\n                } else {\n                    out[name] = R._availableAttrs[name];\n                }\n            }\n            return ii - 1 ? out : out[names[0]];\n        }\n        if (this.attrs && value == null && R.is(name, "array")) {\n            out = {};\n            for (i = 0, ii = name.length; i < ii; i++) {\n                out[name[i]] = this.attr(name[i]);\n            }\n            return out;\n        }\n        var params;\n        if (value != null) {\n            params = {};\n            params[name] = value;\n        }\n        value == null && R.is(name, "object") && (params = name);\n        for (var key in params) {\n            eve("raphael.attr." + key + "." + this.id, this, params[key]);\n        }\n        if (params) {\n            for (key in this.paper.customAttributes) if (this.paper.customAttributes[has](key) && params[has](key) && R.is(this.paper.customAttributes[key], "function")) {\n                var par = this.paper.customAttributes[key].apply(this, [].concat(params[key]));\n                this.attrs[key] = params[key];\n                for (var subkey in par) if (par[has](subkey)) {\n                    params[subkey] = par[subkey];\n                }\n            }\n            // this.paper.canvas.style.display = "none";\n            if (params.text && this.type == "text") {\n                this.textpath.string = params.text;\n            }\n            setFillAndStroke(this, params);\n            // this.paper.canvas.style.display = E;\n        }\n        return this;\n    };\n    elproto.toFront = function () {\n        !this.removed && this.node.parentNode.appendChild(this.node);\n        this.paper && this.paper.top != this && R._tofront(this, this.paper);\n        return this;\n    };\n    elproto.toBack = function () {\n        if (this.removed) {\n            return this;\n        }\n        if (this.node.parentNode.firstChild != this.node) {\n            this.node.parentNode.insertBefore(this.node, this.node.parentNode.firstChild);\n            R._toback(this, this.paper);\n        }\n        return this;\n    };\n    elproto.insertAfter = function (element) {\n        if (this.removed) {\n            return this;\n        }\n        if (element.constructor == R.st.constructor) {\n            element = element[element.length - 1];\n        }\n        if (element.node.nextSibling) {\n            element.node.parentNode.insertBefore(this.node, element.node.nextSibling);\n        } else {\n            element.node.parentNode.appendChild(this.node);\n        }\n        R._insertafter(this, element, this.paper);\n        return this;\n    };\n    elproto.insertBefore = function (element) {\n        if (this.removed) {\n            return this;\n        }\n        if (element.constructor == R.st.constructor) {\n            element = element[0];\n        }\n        element.node.parentNode.insertBefore(this.node, element.node);\n        R._insertbefore(this, element, this.paper);\n        return this;\n    };\n    elproto.blur = function (size) {\n        var s = this.node.runtimeStyle,\n            f = s.filter;\n        f = f.replace(blurregexp, E);\n        if (+size !== 0) {\n            this.attrs.blur = size;\n            s.filter = f + S + ms + ".Blur(pixelradius=" + (+size || 1.5) + ")";\n            s.margin = R.format("-{0}px 0 0 -{0}px", round(+size || 1.5));\n        } else {\n            s.filter = f;\n            s.margin = 0;\n            delete this.attrs.blur;\n        }\n        return this;\n    };\n\n    R._engine.path = function (pathString, vml) {\n        var el = createNode("shape");\n        el.style.cssText = cssDot;\n        el.coordsize = zoom + S + zoom;\n        el.coordorigin = vml.coordorigin;\n        var p = new Element(el, vml),\n            attr = {fill: "none", stroke: "#000"};\n        pathString && (attr.path = pathString);\n        p.type = "path";\n        p.path = [];\n        p.Path = E;\n        setFillAndStroke(p, attr);\n        vml.canvas && vml.canvas.appendChild(el);\n        var skew = createNode("skew");\n        skew.on = true;\n        el.appendChild(skew);\n        p.skew = skew;\n        p.transform(E);\n        return p;\n    };\n    R._engine.rect = function (vml, x, y, w, h, r) {\n        var path = R._rectPath(x, y, w, h, r),\n            res = vml.path(path),\n            a = res.attrs;\n        res.X = a.x = x;\n        res.Y = a.y = y;\n        res.W = a.width = w;\n        res.H = a.height = h;\n        a.r = r;\n        a.path = path;\n        res.type = "rect";\n        return res;\n    };\n    R._engine.ellipse = function (vml, x, y, rx, ry) {\n        var res = vml.path(),\n            a = res.attrs;\n        res.X = x - rx;\n        res.Y = y - ry;\n        res.W = rx * 2;\n        res.H = ry * 2;\n        res.type = "ellipse";\n        setFillAndStroke(res, {\n            cx: x,\n            cy: y,\n            rx: rx,\n            ry: ry\n        });\n        return res;\n    };\n    R._engine.circle = function (vml, x, y, r) {\n        var res = vml.path(),\n            a = res.attrs;\n        res.X = x - r;\n        res.Y = y - r;\n        res.W = res.H = r * 2;\n        res.type = "circle";\n        setFillAndStroke(res, {\n            cx: x,\n            cy: y,\n            r: r\n        });\n        return res;\n    };\n    R._engine.image = function (vml, src, x, y, w, h) {\n        var path = R._rectPath(x, y, w, h),\n            res = vml.path(path).attr({stroke: "none"}),\n            a = res.attrs,\n            node = res.node,\n            fill = node.getElementsByTagName(fillString)[0];\n        a.src = src;\n        res.X = a.x = x;\n        res.Y = a.y = y;\n        res.W = a.width = w;\n        res.H = a.height = h;\n        a.path = path;\n        res.type = "image";\n        fill.parentNode == node && node.removeChild(fill);\n        fill.rotate = true;\n        fill.src = src;\n        fill.type = "tile";\n        res._.fillpos = [x, y];\n        res._.fillsize = [w, h];\n        node.appendChild(fill);\n        setCoords(res, 1, 1, 0, 0, 0);\n        return res;\n    };\n    R._engine.text = function (vml, x, y, text) {\n        var el = createNode("shape"),\n            path = createNode("path"),\n            o = createNode("textpath");\n        x = x || 0;\n        y = y || 0;\n        text = text || "";\n        path.v = R.format("m{0},{1}l{2},{1}", round(x * zoom), round(y * zoom), round(x * zoom) + 1);\n        path.textpathok = true;\n        o.string = Str(text);\n        o.on = true;\n        el.style.cssText = cssDot;\n        el.coordsize = zoom + S + zoom;\n        el.coordorigin = "0 0";\n        var p = new Element(el, vml),\n            attr = {\n                fill: "#000",\n                stroke: "none",\n                font: R._availableAttrs.font,\n                text: text\n            };\n        p.shape = el;\n        p.path = path;\n        p.textpath = o;\n        p.type = "text";\n        p.attrs.text = Str(text);\n        p.attrs.x = x;\n        p.attrs.y = y;\n        p.attrs.w = 1;\n        p.attrs.h = 1;\n        setFillAndStroke(p, attr);\n        el.appendChild(o);\n        el.appendChild(path);\n        vml.canvas.appendChild(el);\n        var skew = createNode("skew");\n        skew.on = true;\n        el.appendChild(skew);\n        p.skew = skew;\n        p.transform(E);\n        return p;\n    };\n    R._engine.setSize = function (width, height) {\n        var cs = this.canvas.style;\n        this.width = width;\n        this.height = height;\n        width == +width && (width += "px");\n        height == +height && (height += "px");\n        cs.width = width;\n        cs.height = height;\n        cs.clip = "rect(0 " + width + " " + height + " 0)";\n        if (this._viewBox) {\n            R._engine.setViewBox.apply(this, this._viewBox);\n        }\n        return this;\n    };\n    R._engine.setViewBox = function (x, y, w, h, fit) {\n        R.eve("raphael.setViewBox", this, this._viewBox, [x, y, w, h, fit]);\n        var paperSize = this.getSize(),\n            width = paperSize.width,\n            height = paperSize.height,\n            H, W;\n        if (fit) {\n            H = height / h;\n            W = width / w;\n            if (w * H < width) {\n                x -= (width - w * H) / 2 / H;\n            }\n            if (h * W < height) {\n                y -= (height - h * W) / 2 / W;\n            }\n        }\n        this._viewBox = [x, y, w, h, !!fit];\n        this._viewBoxShift = {\n            dx: -x,\n            dy: -y,\n            scale: paperSize\n        };\n        this.forEach(function (el) {\n            el.transform("...");\n        });\n        return this;\n    };\n    var createNode;\n    R._engine.initWin = function (win) {\n            var doc = win.document;\n            if (doc.styleSheets.length < 31) {\n                doc.createStyleSheet().addRule(".rvml", "behavior:url(#default#VML)");\n            } else {\n                // no more room, add to the existing one\n                // http://msdn.microsoft.com/en-us/library/ms531194%28VS.85%29.aspx\n                doc.styleSheets[0].addRule(".rvml", "behavior:url(#default#VML)");\n            }\n            try {\n                !doc.namespaces.rvml && doc.namespaces.add("rvml", "urn:schemas-microsoft-com:vml");\n                createNode = function (tagName) {\n                    return doc.createElement(\'<rvml:\' + tagName + \' class="rvml">\');\n                };\n            } catch (e) {\n                createNode = function (tagName) {\n                    return doc.createElement(\'<\' + tagName + \' xmlns="urn:schemas-microsoft.com:vml" class="rvml">\');\n                };\n            }\n        };\n    R._engine.initWin(R._g.win);\n    R._engine.create = function () {\n        var con = R._getContainer.apply(0, arguments),\n            container = con.container,\n            height = con.height,\n            s,\n            width = con.width,\n            x = con.x,\n            y = con.y;\n        if (!container) {\n            throw new Error("VML container not found.");\n        }\n        var res = new R._Paper,\n            c = res.canvas = R._g.doc.createElement("div"),\n            cs = c.style;\n        x = x || 0;\n        y = y || 0;\n        width = width || 512;\n        height = height || 342;\n        res.width = width;\n        res.height = height;\n        width == +width && (width += "px");\n        height == +height && (height += "px");\n        res.coordsize = zoom * 1e3 + S + zoom * 1e3;\n        res.coordorigin = "0 0";\n        res.span = R._g.doc.createElement("span");\n        res.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;";\n        c.appendChild(res.span);\n        cs.cssText = R.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden", width, height);\n        if (container == 1) {\n            R._g.doc.body.appendChild(c);\n            cs.left = x + "px";\n            cs.top = y + "px";\n            cs.position = "absolute";\n        } else {\n            if (container.firstChild) {\n                container.insertBefore(c, container.firstChild);\n            } else {\n                container.appendChild(c);\n            }\n        }\n        res.renderfix = function () {};\n        return res;\n    };\n    R.prototype.clear = function () {\n        R.eve("raphael.clear", this);\n        this.canvas.innerHTML = E;\n        this.span = R._g.doc.createElement("span");\n        this.span.style.cssText = "position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";\n        this.canvas.appendChild(this.span);\n        this.bottom = this.top = null;\n    };\n    R.prototype.remove = function () {\n        R.eve("raphael.remove", this);\n        this.canvas.parentNode.removeChild(this.canvas);\n        for (var i in this) {\n            this[i] = typeof this[i] == "function" ? R._removedFactory(i) : null;\n        }\n        return true;\n    };\n\n    var setproto = R.st;\n    for (var method in elproto) if (elproto[has](method) && !setproto[has](method)) {\n        setproto[method] = (function (methodname) {\n            return function () {\n                var arg = arguments;\n                return this.forEach(function (el) {\n                    el[methodname].apply(el, arg);\n                });\n            };\n        })(method);\n    }\n}).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9kZXYvcmFwaGFlbC52bWwuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9SYXBoYWVsLy4vZGV2L3JhcGhhZWwudm1sLmpzP2JhZjAiXSwic291cmNlc0NvbnRlbnQiOlsiZGVmaW5lKFtcIi4vcmFwaGFlbC5jb3JlXCJdLCBmdW5jdGlvbihSKSB7XG4gICAgaWYgKFIgJiYgIVIudm1sKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaGFzID0gXCJoYXNPd25Qcm9wZXJ0eVwiLFxuICAgICAgICBTdHIgPSBTdHJpbmcsXG4gICAgICAgIHRvRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgICBtYXRoID0gTWF0aCxcbiAgICAgICAgcm91bmQgPSBtYXRoLnJvdW5kLFxuICAgICAgICBtbWF4ID0gbWF0aC5tYXgsXG4gICAgICAgIG1taW4gPSBtYXRoLm1pbixcbiAgICAgICAgYWJzID0gbWF0aC5hYnMsXG4gICAgICAgIGZpbGxTdHJpbmcgPSBcImZpbGxcIixcbiAgICAgICAgc2VwYXJhdG9yID0gL1ssIF0rLyxcbiAgICAgICAgZXZlID0gUi5ldmUsXG4gICAgICAgIG1zID0gXCIgcHJvZ2lkOkRYSW1hZ2VUcmFuc2Zvcm0uTWljcm9zb2Z0XCIsXG4gICAgICAgIFMgPSBcIiBcIixcbiAgICAgICAgRSA9IFwiXCIsXG4gICAgICAgIG1hcCA9IHtNOiBcIm1cIiwgTDogXCJsXCIsIEM6IFwiY1wiLCBaOiBcInhcIiwgbTogXCJ0XCIsIGw6IFwiclwiLCBjOiBcInZcIiwgejogXCJ4XCJ9LFxuICAgICAgICBiaXRlcyA9IC8oW2NsbXpdKSw/KFteY2xtel0qKS9naSxcbiAgICAgICAgYmx1cnJlZ2V4cCA9IC8gcHJvZ2lkOlxcUytCbHVyXFwoW15cXCldK1xcKS9nLFxuICAgICAgICB2YWwgPSAvLT9bXixcXHMtXSsvZyxcbiAgICAgICAgY3NzRG90ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0OjA7dG9wOjA7d2lkdGg6MXB4O2hlaWdodDoxcHg7YmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIixcbiAgICAgICAgem9vbSA9IDIxNjAwLFxuICAgICAgICBwYXRoVHlwZXMgPSB7cGF0aDogMSwgcmVjdDogMSwgaW1hZ2U6IDF9LFxuICAgICAgICBvdmFsVHlwZXMgPSB7Y2lyY2xlOiAxLCBlbGxpcHNlOiAxfSxcbiAgICAgICAgcGF0aDJ2bWwgPSBmdW5jdGlvbiAocGF0aCkge1xuICAgICAgICAgICAgdmFyIHRvdGFsID0gIC9bYWhxc3R2XS9pZyxcbiAgICAgICAgICAgICAgICBjb21tYW5kID0gUi5fcGF0aFRvQWJzb2x1dGU7XG4gICAgICAgICAgICBTdHIocGF0aCkubWF0Y2godG90YWwpICYmIChjb21tYW5kID0gUi5fcGF0aDJjdXJ2ZSk7XG4gICAgICAgICAgICB0b3RhbCA9IC9bY2xtel0vZztcbiAgICAgICAgICAgIGlmIChjb21tYW5kID09IFIuX3BhdGhUb0Fic29sdXRlICYmICFTdHIocGF0aCkubWF0Y2godG90YWwpKSB7XG4gICAgICAgICAgICAgICAgdmFyIHJlcyA9IFN0cihwYXRoKS5yZXBsYWNlKGJpdGVzLCBmdW5jdGlvbiAoYWxsLCBjb21tYW5kLCBhcmdzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWxzID0gW10sXG4gICAgICAgICAgICAgICAgICAgICAgICBpc01vdmUgPSBjb21tYW5kLnRvTG93ZXJDYXNlKCkgPT0gXCJtXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICByZXMgPSBtYXBbY29tbWFuZF07XG4gICAgICAgICAgICAgICAgICAgIGFyZ3MucmVwbGFjZSh2YWwsIGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzTW92ZSAmJiB2YWxzLmxlbmd0aCA9PSAyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzICs9IHZhbHMgKyBtYXBbY29tbWFuZCA9PSBcIm1cIiA/IFwibFwiIDogXCJMXCJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHMucHVzaChyb3VuZCh2YWx1ZSAqIHpvb20pKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXMgKyB2YWxzO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgcGEgPSBjb21tYW5kKHBhdGgpLCBwLCByO1xuICAgICAgICAgICAgcmVzID0gW107XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgaWkgPSBwYS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgcCA9IHBhW2ldO1xuICAgICAgICAgICAgICAgIHIgPSBwYVtpXVswXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgIHIgPT0gXCJ6XCIgJiYgKHIgPSBcInhcIik7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDEsIGpqID0gcC5sZW5ndGg7IGogPCBqajsgaisrKSB7XG4gICAgICAgICAgICAgICAgICAgIHIgKz0gcm91bmQocFtqXSAqIHpvb20pICsgKGogIT0gamogLSAxID8gXCIsXCIgOiBFKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzLnB1c2gocik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzLmpvaW4oUyk7XG4gICAgICAgIH0sXG4gICAgICAgIGNvbXBlbnNhdGlvbiA9IGZ1bmN0aW9uIChkZWcsIGR4LCBkeSkge1xuICAgICAgICAgICAgdmFyIG0gPSBSLm1hdHJpeCgpO1xuICAgICAgICAgICAgbS5yb3RhdGUoLWRlZywgLjUsIC41KTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgZHg6IG0ueChkeCwgZHkpLFxuICAgICAgICAgICAgICAgIGR5OiBtLnkoZHgsIGR5KVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSxcbiAgICAgICAgc2V0Q29vcmRzID0gZnVuY3Rpb24gKHAsIHN4LCBzeSwgZHgsIGR5LCBkZWcpIHtcbiAgICAgICAgICAgIHZhciBfID0gcC5fLFxuICAgICAgICAgICAgICAgIG0gPSBwLm1hdHJpeCxcbiAgICAgICAgICAgICAgICBmaWxscG9zID0gXy5maWxscG9zLFxuICAgICAgICAgICAgICAgIG8gPSBwLm5vZGUsXG4gICAgICAgICAgICAgICAgcyA9IG8uc3R5bGUsXG4gICAgICAgICAgICAgICAgeSA9IDEsXG4gICAgICAgICAgICAgICAgZmxpcCA9IFwiXCIsXG4gICAgICAgICAgICAgICAgZHhkeSxcbiAgICAgICAgICAgICAgICBreCA9IHpvb20gLyBzeCxcbiAgICAgICAgICAgICAgICBreSA9IHpvb20gLyBzeTtcbiAgICAgICAgICAgIHMudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG4gICAgICAgICAgICBpZiAoIXN4IHx8ICFzeSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG8uY29vcmRzaXplID0gYWJzKGt4KSArIFMgKyBhYnMoa3kpO1xuICAgICAgICAgICAgcy5yb3RhdGlvbiA9IGRlZyAqIChzeCAqIHN5IDwgMCA/IC0xIDogMSk7XG4gICAgICAgICAgICBpZiAoZGVnKSB7XG4gICAgICAgICAgICAgICAgdmFyIGMgPSBjb21wZW5zYXRpb24oZGVnLCBkeCwgZHkpO1xuICAgICAgICAgICAgICAgIGR4ID0gYy5keDtcbiAgICAgICAgICAgICAgICBkeSA9IGMuZHk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzeCA8IDAgJiYgKGZsaXAgKz0gXCJ4XCIpO1xuICAgICAgICAgICAgc3kgPCAwICYmIChmbGlwICs9IFwiIHlcIikgJiYgKHkgPSAtMSk7XG4gICAgICAgICAgICBzLmZsaXAgPSBmbGlwO1xuICAgICAgICAgICAgby5jb29yZG9yaWdpbiA9IChkeCAqIC1reCkgKyBTICsgKGR5ICogLWt5KTtcbiAgICAgICAgICAgIGlmIChmaWxscG9zIHx8IF8uZmlsbHNpemUpIHtcbiAgICAgICAgICAgICAgICB2YXIgZmlsbCA9IG8uZ2V0RWxlbWVudHNCeVRhZ05hbWUoZmlsbFN0cmluZyk7XG4gICAgICAgICAgICAgICAgZmlsbCA9IGZpbGwgJiYgZmlsbFswXTtcbiAgICAgICAgICAgICAgICBvLnJlbW92ZUNoaWxkKGZpbGwpO1xuICAgICAgICAgICAgICAgIGlmIChmaWxscG9zKSB7XG4gICAgICAgICAgICAgICAgICAgIGMgPSBjb21wZW5zYXRpb24oZGVnLCBtLngoZmlsbHBvc1swXSwgZmlsbHBvc1sxXSksIG0ueShmaWxscG9zWzBdLCBmaWxscG9zWzFdKSk7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwucG9zaXRpb24gPSBjLmR4ICogeSArIFMgKyBjLmR5ICogeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKF8uZmlsbHNpemUpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5zaXplID0gXy5maWxsc2l6ZVswXSAqIGFicyhzeCkgKyBTICsgXy5maWxsc2l6ZVsxXSAqIGFicyhzeSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG8uYXBwZW5kQ2hpbGQoZmlsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbiAgICAgICAgfTtcbiAgICBSLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gIFwiWW91ciBicm93c2VyIGRvZXNuXFx1MjAxOXQgc3VwcG9ydCBTVkcuIEZhbGxpbmcgZG93biB0byBWTUwuXFxuWW91IGFyZSBydW5uaW5nIFJhcGhhXFx4ZWJsIFwiICsgdGhpcy52ZXJzaW9uO1xuICAgIH07XG4gICAgdmFyIGFkZEFycm93ID0gZnVuY3Rpb24gKG8sIHZhbHVlLCBpc0VuZCkge1xuICAgICAgICB2YXIgdmFsdWVzID0gU3RyKHZhbHVlKS50b0xvd2VyQ2FzZSgpLnNwbGl0KFwiLVwiKSxcbiAgICAgICAgICAgIHNlID0gaXNFbmQgPyBcImVuZFwiIDogXCJzdGFydFwiLFxuICAgICAgICAgICAgaSA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgICAgICB0eXBlID0gXCJjbGFzc2ljXCIsXG4gICAgICAgICAgICB3ID0gXCJtZWRpdW1cIixcbiAgICAgICAgICAgIGggPSBcIm1lZGl1bVwiO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHZhbHVlc1tpXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJibG9ja1wiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJjbGFzc2ljXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm92YWxcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGlhbW9uZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJvcGVuXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm5vbmVcIjpcbiAgICAgICAgICAgICAgICAgICAgdHlwZSA9IHZhbHVlc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcIndpZGVcIjpcbiAgICAgICAgICAgICAgICBjYXNlIFwibmFycm93XCI6IGggPSB2YWx1ZXNbaV07IGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsb25nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInNob3J0XCI6IHcgPSB2YWx1ZXNbaV07IGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciBzdHJva2UgPSBvLm5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF07XG4gICAgICAgIHN0cm9rZVtzZSArIFwiYXJyb3dcIl0gPSB0eXBlO1xuICAgICAgICBzdHJva2Vbc2UgKyBcImFycm93bGVuZ3RoXCJdID0gdztcbiAgICAgICAgc3Ryb2tlW3NlICsgXCJhcnJvd3dpZHRoXCJdID0gaDtcbiAgICB9LFxuICAgIHNldEZpbGxBbmRTdHJva2UgPSBmdW5jdGlvbiAobywgcGFyYW1zKSB7XG4gICAgICAgIC8vIG8ucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgby5hdHRycyA9IG8uYXR0cnMgfHwge307XG4gICAgICAgIHZhciBub2RlID0gby5ub2RlLFxuICAgICAgICAgICAgYSA9IG8uYXR0cnMsXG4gICAgICAgICAgICBzID0gbm9kZS5zdHlsZSxcbiAgICAgICAgICAgIHh5LFxuICAgICAgICAgICAgbmV3cGF0aCA9IHBhdGhUeXBlc1tvLnR5cGVdICYmIChwYXJhbXMueCAhPSBhLnggfHwgcGFyYW1zLnkgIT0gYS55IHx8IHBhcmFtcy53aWR0aCAhPSBhLndpZHRoIHx8IHBhcmFtcy5oZWlnaHQgIT0gYS5oZWlnaHQgfHwgcGFyYW1zLmN4ICE9IGEuY3ggfHwgcGFyYW1zLmN5ICE9IGEuY3kgfHwgcGFyYW1zLnJ4ICE9IGEucnggfHwgcGFyYW1zLnJ5ICE9IGEucnkgfHwgcGFyYW1zLnIgIT0gYS5yKSxcbiAgICAgICAgICAgIGlzT3ZhbCA9IG92YWxUeXBlc1tvLnR5cGVdICYmIChhLmN4ICE9IHBhcmFtcy5jeCB8fCBhLmN5ICE9IHBhcmFtcy5jeSB8fCBhLnIgIT0gcGFyYW1zLnIgfHwgYS5yeCAhPSBwYXJhbXMucnggfHwgYS5yeSAhPSBwYXJhbXMucnkpLFxuICAgICAgICAgICAgcmVzID0gbztcblxuXG4gICAgICAgIGZvciAodmFyIHBhciBpbiBwYXJhbXMpIGlmIChwYXJhbXNbaGFzXShwYXIpKSB7XG4gICAgICAgICAgICBhW3Bhcl0gPSBwYXJhbXNbcGFyXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobmV3cGF0aCkge1xuICAgICAgICAgICAgYS5wYXRoID0gUi5fZ2V0UGF0aFtvLnR5cGVdKG8pO1xuICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgfVxuICAgICAgICBwYXJhbXMuaHJlZiAmJiAobm9kZS5ocmVmID0gcGFyYW1zLmhyZWYpO1xuICAgICAgICBwYXJhbXMudGl0bGUgJiYgKG5vZGUudGl0bGUgPSBwYXJhbXMudGl0bGUpO1xuICAgICAgICBwYXJhbXMudGFyZ2V0ICYmIChub2RlLnRhcmdldCA9IHBhcmFtcy50YXJnZXQpO1xuICAgICAgICBwYXJhbXMuY3Vyc29yICYmIChzLmN1cnNvciA9IHBhcmFtcy5jdXJzb3IpO1xuICAgICAgICBcImJsdXJcIiBpbiBwYXJhbXMgJiYgby5ibHVyKHBhcmFtcy5ibHVyKTtcbiAgICAgICAgaWYgKHBhcmFtcy5wYXRoICYmIG8udHlwZSA9PSBcInBhdGhcIiB8fCBuZXdwYXRoKSB7XG4gICAgICAgICAgICBub2RlLnBhdGggPSBwYXRoMnZtbCh+U3RyKGEucGF0aCkudG9Mb3dlckNhc2UoKS5pbmRleE9mKFwiclwiKSA/IFIuX3BhdGhUb0Fic29sdXRlKGEucGF0aCkgOiBhLnBhdGgpO1xuICAgICAgICAgICAgby5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgIGlmIChvLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICAgICAgby5fLmZpbGxwb3MgPSBbYS54LCBhLnldO1xuICAgICAgICAgICAgICAgIG8uXy5maWxsc2l6ZSA9IFthLndpZHRoLCBhLmhlaWdodF07XG4gICAgICAgICAgICAgICAgc2V0Q29vcmRzKG8sIDEsIDEsIDAsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFwidHJhbnNmb3JtXCIgaW4gcGFyYW1zICYmIG8udHJhbnNmb3JtKHBhcmFtcy50cmFuc2Zvcm0pO1xuICAgICAgICBpZiAoaXNPdmFsKSB7XG4gICAgICAgICAgICB2YXIgY3ggPSArYS5jeCxcbiAgICAgICAgICAgICAgICBjeSA9ICthLmN5LFxuICAgICAgICAgICAgICAgIHJ4ID0gK2EucnggfHwgK2EuciB8fCAwLFxuICAgICAgICAgICAgICAgIHJ5ID0gK2EucnkgfHwgK2EuciB8fCAwO1xuICAgICAgICAgICAgbm9kZS5wYXRoID0gUi5mb3JtYXQoXCJhcnswfSx7MX0sezJ9LHszfSx7NH0sezF9LHs0fSx7MX14XCIsIHJvdW5kKChjeCAtIHJ4KSAqIHpvb20pLCByb3VuZCgoY3kgLSByeSkgKiB6b29tKSwgcm91bmQoKGN4ICsgcngpICogem9vbSksIHJvdW5kKChjeSArIHJ5KSAqIHpvb20pLCByb3VuZChjeCAqIHpvb20pKTtcbiAgICAgICAgICAgIG8uXy5kaXJ0eSA9IDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY2xpcC1yZWN0XCIgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgcmVjdCA9IFN0cihwYXJhbXNbXCJjbGlwLXJlY3RcIl0pLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgICAgICBpZiAocmVjdC5sZW5ndGggPT0gNCkge1xuICAgICAgICAgICAgICAgIHJlY3RbMl0gPSArcmVjdFsyXSArICgrcmVjdFswXSk7XG4gICAgICAgICAgICAgICAgcmVjdFszXSA9ICtyZWN0WzNdICsgKCtyZWN0WzFdKTtcbiAgICAgICAgICAgICAgICB2YXIgZGl2ID0gbm9kZS5jbGlwUmVjdCB8fCBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgICAgICAgICBkc3R5bGUgPSBkaXYuc3R5bGU7XG4gICAgICAgICAgICAgICAgZHN0eWxlLmNsaXAgPSBSLmZvcm1hdChcInJlY3QoezF9cHggezJ9cHggezN9cHggezB9cHgpXCIsIHJlY3QpO1xuICAgICAgICAgICAgICAgIGlmICghbm9kZS5jbGlwUmVjdCkge1xuICAgICAgICAgICAgICAgICAgICBkc3R5bGUucG9zaXRpb24gPSBcImFic29sdXRlXCI7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS50b3AgPSAwO1xuICAgICAgICAgICAgICAgICAgICBkc3R5bGUubGVmdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS53aWR0aCA9IG8ucGFwZXIud2lkdGggKyBcInB4XCI7XG4gICAgICAgICAgICAgICAgICAgIGRzdHlsZS5oZWlnaHQgPSBvLnBhcGVyLmhlaWdodCArIFwicHhcIjtcbiAgICAgICAgICAgICAgICAgICAgbm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShkaXYsIG5vZGUpO1xuICAgICAgICAgICAgICAgICAgICBkaXYuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUuY2xpcFJlY3QgPSBkaXY7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYXJhbXNbXCJjbGlwLXJlY3RcIl0pIHtcbiAgICAgICAgICAgICAgICBub2RlLmNsaXBSZWN0ICYmIChub2RlLmNsaXBSZWN0LnN0eWxlLmNsaXAgPSBcImF1dG9cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG8udGV4dHBhdGgpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0cGF0aFN0eWxlID0gby50ZXh0cGF0aC5zdHlsZTtcbiAgICAgICAgICAgIHBhcmFtcy5mb250ICYmICh0ZXh0cGF0aFN0eWxlLmZvbnQgPSBwYXJhbXMuZm9udCk7XG4gICAgICAgICAgICBwYXJhbXNbXCJmb250LWZhbWlseVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250RmFtaWx5ID0gJ1wiJyArIHBhcmFtc1tcImZvbnQtZmFtaWx5XCJdLnNwbGl0KFwiLFwiKVswXS5yZXBsYWNlKC9eWydcIl0rfFsnXCJdKyQvZywgRSkgKyAnXCInKTtcbiAgICAgICAgICAgIHBhcmFtc1tcImZvbnQtc2l6ZVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250U2l6ZSA9IHBhcmFtc1tcImZvbnQtc2l6ZVwiXSk7XG4gICAgICAgICAgICBwYXJhbXNbXCJmb250LXdlaWdodFwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250V2VpZ2h0ID0gcGFyYW1zW1wiZm9udC13ZWlnaHRcIl0pO1xuICAgICAgICAgICAgcGFyYW1zW1wiZm9udC1zdHlsZVwiXSAmJiAodGV4dHBhdGhTdHlsZS5mb250U3R5bGUgPSBwYXJhbXNbXCJmb250LXN0eWxlXCJdKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoXCJhcnJvdy1zdGFydFwiIGluIHBhcmFtcykge1xuICAgICAgICAgICAgYWRkQXJyb3cocmVzLCBwYXJhbXNbXCJhcnJvdy1zdGFydFwiXSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiYXJyb3ctZW5kXCIgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBhZGRBcnJvdyhyZXMsIHBhcmFtc1tcImFycm93LWVuZFwiXSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcmFtcy5vcGFjaXR5ICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5maWxsICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtcy5zcmMgIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zLnN0cm9rZSAhPSBudWxsIHx8XG4gICAgICAgICAgICBwYXJhbXNbXCJzdHJva2Utd2lkdGhcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW9wYWNpdHlcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wiZmlsbC1vcGFjaXR5XCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1kYXNoYXJyYXlcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gIT0gbnVsbCB8fFxuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLWxpbmVqb2luXCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdICE9IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBmaWxsID0gbm9kZS5nZXRFbGVtZW50c0J5VGFnTmFtZShmaWxsU3RyaW5nKSxcbiAgICAgICAgICAgICAgICBuZXdmaWxsID0gZmFsc2U7XG4gICAgICAgICAgICBmaWxsID0gZmlsbCAmJiBmaWxsWzBdO1xuICAgICAgICAgICAgIWZpbGwgJiYgKG5ld2ZpbGwgPSBmaWxsID0gY3JlYXRlTm9kZShmaWxsU3RyaW5nKSk7XG4gICAgICAgICAgICBpZiAoby50eXBlID09IFwiaW1hZ2VcIiAmJiBwYXJhbXMuc3JjKSB7XG4gICAgICAgICAgICAgICAgZmlsbC5zcmMgPSBwYXJhbXMuc3JjO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGFyYW1zLmZpbGwgJiYgKGZpbGwub24gPSB0cnVlKTtcbiAgICAgICAgICAgIGlmIChmaWxsLm9uID09IG51bGwgfHwgcGFyYW1zLmZpbGwgPT0gXCJub25lXCIgfHwgcGFyYW1zLmZpbGwgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBmaWxsLm9uID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZmlsbC5vbiAmJiBwYXJhbXMuZmlsbCkge1xuICAgICAgICAgICAgICAgIHZhciBpc1VSTCA9IFN0cihwYXJhbXMuZmlsbCkubWF0Y2goUi5fSVNVUkwpO1xuICAgICAgICAgICAgICAgIGlmIChpc1VSTCkge1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnBhcmVudE5vZGUgPT0gbm9kZSAmJiBub2RlLnJlbW92ZUNoaWxkKGZpbGwpO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnJvdGF0ZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwuc3JjID0gaXNVUkxbMV07XG4gICAgICAgICAgICAgICAgICAgIGZpbGwudHlwZSA9IFwidGlsZVwiO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYmJveCA9IG8uZ2V0QkJveCgxKTtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5wb3NpdGlvbiA9IGJib3gueCArIFMgKyBiYm94Lnk7XG4gICAgICAgICAgICAgICAgICAgIG8uXy5maWxscG9zID0gW2Jib3gueCwgYmJveC55XTtcblxuICAgICAgICAgICAgICAgICAgICBSLl9wcmVsb2FkKGlzVVJMWzFdLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvLl8uZmlsbHNpemUgPSBbdGhpcy5vZmZzZXRXaWR0aCwgdGhpcy5vZmZzZXRIZWlnaHRdO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBmaWxsLmNvbG9yID0gUi5nZXRSR0IocGFyYW1zLmZpbGwpLmhleDtcbiAgICAgICAgICAgICAgICAgICAgZmlsbC5zcmMgPSBFO1xuICAgICAgICAgICAgICAgICAgICBmaWxsLnR5cGUgPSBcInNvbGlkXCI7XG4gICAgICAgICAgICAgICAgICAgIGlmIChSLmdldFJHQihwYXJhbXMuZmlsbCkuZXJyb3IgJiYgKHJlcy50eXBlIGluIHtjaXJjbGU6IDEsIGVsbGlwc2U6IDF9IHx8IFN0cihwYXJhbXMuZmlsbCkuY2hhckF0KCkgIT0gXCJyXCIpICYmIGFkZEdyYWRpZW50RmlsbChyZXMsIHBhcmFtcy5maWxsLCBmaWxsKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYS5maWxsID0gXCJub25lXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhLmdyYWRpZW50ID0gcGFyYW1zLmZpbGw7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWxsLnJvdGF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKFwiZmlsbC1vcGFjaXR5XCIgaW4gcGFyYW1zIHx8IFwib3BhY2l0eVwiIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHZhciBvcGFjaXR5ID0gKCgrYVtcImZpbGwtb3BhY2l0eVwiXSArIDEgfHwgMikgLSAxKSAqICgoK2Eub3BhY2l0eSArIDEgfHwgMikgLSAxKSAqICgoK1IuZ2V0UkdCKHBhcmFtcy5maWxsKS5vICsgMSB8fCAyKSAtIDEpO1xuICAgICAgICAgICAgICAgIG9wYWNpdHkgPSBtbWluKG1tYXgob3BhY2l0eSwgMCksIDEpO1xuICAgICAgICAgICAgICAgIGZpbGwub3BhY2l0eSA9IG9wYWNpdHk7XG4gICAgICAgICAgICAgICAgaWYgKGZpbGwuc3JjKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbGwuY29sb3IgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub2RlLmFwcGVuZENoaWxkKGZpbGwpO1xuICAgICAgICAgICAgdmFyIHN0cm9rZSA9IChub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwic3Ryb2tlXCIpICYmIG5vZGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJzdHJva2VcIilbMF0pLFxuICAgICAgICAgICAgbmV3c3Ryb2tlID0gZmFsc2U7XG4gICAgICAgICAgICAhc3Ryb2tlICYmIChuZXdzdHJva2UgPSBzdHJva2UgPSBjcmVhdGVOb2RlKFwic3Ryb2tlXCIpKTtcbiAgICAgICAgICAgIGlmICgocGFyYW1zLnN0cm9rZSAmJiBwYXJhbXMuc3Ryb2tlICE9IFwibm9uZVwiKSB8fFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSB8fFxuICAgICAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1vcGFjaXR5XCJdICE9IG51bGwgfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtZGFzaGFycmF5XCJdIHx8XG4gICAgICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gfHxcbiAgICAgICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWNhcFwiXSkge1xuICAgICAgICAgICAgICAgIHN0cm9rZS5vbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAocGFyYW1zLnN0cm9rZSA9PSBcIm5vbmVcIiB8fCBwYXJhbXMuc3Ryb2tlID09PSBudWxsIHx8IHN0cm9rZS5vbiA9PSBudWxsIHx8IHBhcmFtcy5zdHJva2UgPT0gMCB8fCBwYXJhbXNbXCJzdHJva2Utd2lkdGhcIl0gPT0gMCkgJiYgKHN0cm9rZS5vbiA9IGZhbHNlKTtcbiAgICAgICAgICAgIHZhciBzdHJva2VDb2xvciA9IFIuZ2V0UkdCKHBhcmFtcy5zdHJva2UpO1xuICAgICAgICAgICAgc3Ryb2tlLm9uICYmIHBhcmFtcy5zdHJva2UgJiYgKHN0cm9rZS5jb2xvciA9IHN0cm9rZUNvbG9yLmhleCk7XG4gICAgICAgICAgICBvcGFjaXR5ID0gKCgrYVtcInN0cm9rZS1vcGFjaXR5XCJdICsgMSB8fCAyKSAtIDEpICogKCgrYS5vcGFjaXR5ICsgMSB8fCAyKSAtIDEpICogKCgrc3Ryb2tlQ29sb3IubyArIDEgfHwgMikgLSAxKTtcbiAgICAgICAgICAgIHZhciB3aWR0aCA9ICh0b0Zsb2F0KHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSkgfHwgMSkgKiAuNzU7XG4gICAgICAgICAgICBvcGFjaXR5ID0gbW1pbihtbWF4KG9wYWNpdHksIDApLCAxKTtcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS13aWR0aFwiXSA9PSBudWxsICYmICh3aWR0aCA9IGFbXCJzdHJva2Utd2lkdGhcIl0pO1xuICAgICAgICAgICAgcGFyYW1zW1wic3Ryb2tlLXdpZHRoXCJdICYmIChzdHJva2Uud2VpZ2h0ID0gd2lkdGgpO1xuICAgICAgICAgICAgd2lkdGggJiYgd2lkdGggPCAxICYmIChvcGFjaXR5ICo9IHdpZHRoKSAmJiAoc3Ryb2tlLndlaWdodCA9IDEpO1xuICAgICAgICAgICAgc3Ryb2tlLm9wYWNpdHkgPSBvcGFjaXR5O1xuXG4gICAgICAgICAgICBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gJiYgKHN0cm9rZS5qb2luc3R5bGUgPSBwYXJhbXNbXCJzdHJva2UtbGluZWpvaW5cIl0gfHwgXCJtaXRlclwiKTtcbiAgICAgICAgICAgIHN0cm9rZS5taXRlcmxpbWl0ID0gcGFyYW1zW1wic3Ryb2tlLW1pdGVybGltaXRcIl0gfHwgODtcbiAgICAgICAgICAgIHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdICYmIChzdHJva2UuZW5kY2FwID0gcGFyYW1zW1wic3Ryb2tlLWxpbmVjYXBcIl0gPT0gXCJidXR0XCIgPyBcImZsYXRcIiA6IHBhcmFtc1tcInN0cm9rZS1saW5lY2FwXCJdID09IFwic3F1YXJlXCIgPyBcInNxdWFyZVwiIDogXCJyb3VuZFwiKTtcbiAgICAgICAgICAgIGlmIChcInN0cm9rZS1kYXNoYXJyYXlcIiBpbiBwYXJhbXMpIHtcbiAgICAgICAgICAgICAgICB2YXIgZGFzaGFycmF5ID0ge1xuICAgICAgICAgICAgICAgICAgICBcIi1cIjogXCJzaG9ydGRhc2hcIixcbiAgICAgICAgICAgICAgICAgICAgXCIuXCI6IFwic2hvcnRkb3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLlwiOiBcInNob3J0ZGFzaGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0uLlwiOiBcInNob3J0ZGFzaGRvdGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi4gXCI6IFwiZG90XCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLSBcIjogXCJkYXNoXCIsXG4gICAgICAgICAgICAgICAgICAgIFwiLS1cIjogXCJsb25nZGFzaFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0gLlwiOiBcImRhc2hkb3RcIixcbiAgICAgICAgICAgICAgICAgICAgXCItLS5cIjogXCJsb25nZGFzaGRvdFwiLFxuICAgICAgICAgICAgICAgICAgICBcIi0tLi5cIjogXCJsb25nZGFzaGRvdGRvdFwiXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBzdHJva2UuZGFzaHN0eWxlID0gZGFzaGFycmF5W2hhc10ocGFyYW1zW1wic3Ryb2tlLWRhc2hhcnJheVwiXSkgPyBkYXNoYXJyYXlbcGFyYW1zW1wic3Ryb2tlLWRhc2hhcnJheVwiXV0gOiBFO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3c3Ryb2tlICYmIG5vZGUuYXBwZW5kQ2hpbGQoc3Ryb2tlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgIHJlcy5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheSA9IEU7XG4gICAgICAgICAgICB2YXIgc3BhbiA9IHJlcy5wYXBlci5zcGFuLFxuICAgICAgICAgICAgICAgIG0gPSAxMDAsXG4gICAgICAgICAgICAgICAgZm9udFNpemUgPSBhLmZvbnQgJiYgYS5mb250Lm1hdGNoKC9cXGQrKD86XFwuXFxkKik/KD89cHgpLyk7XG4gICAgICAgICAgICBzID0gc3Bhbi5zdHlsZTtcbiAgICAgICAgICAgIGEuZm9udCAmJiAocy5mb250ID0gYS5mb250KTtcbiAgICAgICAgICAgIGFbXCJmb250LWZhbWlseVwiXSAmJiAocy5mb250RmFtaWx5ID0gYVtcImZvbnQtZmFtaWx5XCJdKTtcbiAgICAgICAgICAgIGFbXCJmb250LXdlaWdodFwiXSAmJiAocy5mb250V2VpZ2h0ID0gYVtcImZvbnQtd2VpZ2h0XCJdKTtcbiAgICAgICAgICAgIGFbXCJmb250LXN0eWxlXCJdICYmIChzLmZvbnRTdHlsZSA9IGFbXCJmb250LXN0eWxlXCJdKTtcbiAgICAgICAgICAgIGZvbnRTaXplID0gdG9GbG9hdChhW1wiZm9udC1zaXplXCJdIHx8IGZvbnRTaXplICYmIGZvbnRTaXplWzBdKSB8fCAxMDtcbiAgICAgICAgICAgIHMuZm9udFNpemUgPSBmb250U2l6ZSAqIG0gKyBcInB4XCI7XG4gICAgICAgICAgICByZXMudGV4dHBhdGguc3RyaW5nICYmIChzcGFuLmlubmVySFRNTCA9IFN0cihyZXMudGV4dHBhdGguc3RyaW5nKS5yZXBsYWNlKC88L2csIFwiJiM2MDtcIikucmVwbGFjZSgvJi9nLCBcIiYjMzg7XCIpLnJlcGxhY2UoL1xcbi9nLCBcIjxicj5cIikpO1xuICAgICAgICAgICAgdmFyIGJyZWN0ID0gc3Bhbi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcbiAgICAgICAgICAgIHJlcy5XID0gYS53ID0gKGJyZWN0LnJpZ2h0IC0gYnJlY3QubGVmdCkgLyBtO1xuICAgICAgICAgICAgcmVzLkggPSBhLmggPSAoYnJlY3QuYm90dG9tIC0gYnJlY3QudG9wKSAvIG07XG4gICAgICAgICAgICAvLyByZXMucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIHJlcy5YID0gYS54O1xuICAgICAgICAgICAgcmVzLlkgPSBhLnkgKyByZXMuSCAvIDI7XG5cbiAgICAgICAgICAgIChcInhcIiBpbiBwYXJhbXMgfHwgXCJ5XCIgaW4gcGFyYW1zKSAmJiAocmVzLnBhdGgudiA9IFIuZm9ybWF0KFwibXswfSx7MX1sezJ9LHsxfVwiLCByb3VuZChhLnggKiB6b29tKSwgcm91bmQoYS55ICogem9vbSksIHJvdW5kKGEueCAqIHpvb20pICsgMSkpO1xuICAgICAgICAgICAgdmFyIGRpcnR5YXR0cnMgPSBbXCJ4XCIsIFwieVwiLCBcInRleHRcIiwgXCJmb250XCIsIFwiZm9udC1mYW1pbHlcIiwgXCJmb250LXdlaWdodFwiLCBcImZvbnQtc3R5bGVcIiwgXCJmb250LXNpemVcIl07XG4gICAgICAgICAgICBmb3IgKHZhciBkID0gMCwgZGQgPSBkaXJ0eWF0dHJzLmxlbmd0aDsgZCA8IGRkOyBkKyspIGlmIChkaXJ0eWF0dHJzW2RdIGluIHBhcmFtcykge1xuICAgICAgICAgICAgICAgIHJlcy5fLmRpcnR5ID0gMTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gdGV4dC1hbmNob3IgZW11bGF0aW9uXG4gICAgICAgICAgICBzd2l0Y2ggKGFbXCJ0ZXh0LWFuY2hvclwiXSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJzdGFydFwiOlxuICAgICAgICAgICAgICAgICAgICByZXMudGV4dHBhdGguc3R5bGVbXCJ2LXRleHQtYWxpZ25cIl0gPSBcImxlZnRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IHJlcy5XIC8gMjtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kXCI6XG4gICAgICAgICAgICAgICAgICAgIHJlcy50ZXh0cGF0aC5zdHlsZVtcInYtdGV4dC1hbGlnblwiXSA9IFwicmlnaHRcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IC1yZXMuVyAvIDI7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgcmVzLnRleHRwYXRoLnN0eWxlW1widi10ZXh0LWFsaWduXCJdID0gXCJjZW50ZXJcIjtcbiAgICAgICAgICAgICAgICAgICAgcmVzLmJieCA9IDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXMudGV4dHBhdGguc3R5bGVbXCJ2LXRleHQta2VyblwiXSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcmVzLnBhcGVyLmNhbnZhcy5zdHlsZS5kaXNwbGF5ID0gRTtcbiAgICB9LFxuICAgIGFkZEdyYWRpZW50RmlsbCA9IGZ1bmN0aW9uIChvLCBncmFkaWVudCwgZmlsbCkge1xuICAgICAgICBvLmF0dHJzID0gby5hdHRycyB8fCB7fTtcbiAgICAgICAgdmFyIGF0dHJzID0gby5hdHRycyxcbiAgICAgICAgICAgIHBvdyA9IE1hdGgucG93LFxuICAgICAgICAgICAgb3BhY2l0eSxcbiAgICAgICAgICAgIG9pbmRleCxcbiAgICAgICAgICAgIHR5cGUgPSBcImxpbmVhclwiLFxuICAgICAgICAgICAgZnhmeSA9IFwiLjUgLjVcIjtcbiAgICAgICAgby5hdHRycy5ncmFkaWVudCA9IGdyYWRpZW50O1xuICAgICAgICBncmFkaWVudCA9IFN0cihncmFkaWVudCkucmVwbGFjZShSLl9yYWRpYWxfZ3JhZGllbnQsIGZ1bmN0aW9uIChhbGwsIGZ4LCBmeSkge1xuICAgICAgICAgICAgdHlwZSA9IFwicmFkaWFsXCI7XG4gICAgICAgICAgICBpZiAoZnggJiYgZnkpIHtcbiAgICAgICAgICAgICAgICBmeCA9IHRvRmxvYXQoZngpO1xuICAgICAgICAgICAgICAgIGZ5ID0gdG9GbG9hdChmeSk7XG4gICAgICAgICAgICAgICAgcG93KGZ4IC0gLjUsIDIpICsgcG93KGZ5IC0gLjUsIDIpID4gLjI1ICYmIChmeSA9IG1hdGguc3FydCguMjUgLSBwb3coZnggLSAuNSwgMikpICogKChmeSA+IC41KSAqIDIgLSAxKSArIC41KTtcbiAgICAgICAgICAgICAgICBmeGZ5ID0gZnggKyBTICsgZnk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gRTtcbiAgICAgICAgfSk7XG4gICAgICAgIGdyYWRpZW50ID0gZ3JhZGllbnQuc3BsaXQoL1xccypcXC1cXHMqLyk7XG4gICAgICAgIGlmICh0eXBlID09IFwibGluZWFyXCIpIHtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IGdyYWRpZW50LnNoaWZ0KCk7XG4gICAgICAgICAgICBhbmdsZSA9IC10b0Zsb2F0KGFuZ2xlKTtcbiAgICAgICAgICAgIGlmIChpc05hTihhbmdsZSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgZG90cyA9IFIuX3BhcnNlRG90cyhncmFkaWVudCk7XG4gICAgICAgIGlmICghZG90cykge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgbyA9IG8uc2hhcGUgfHwgby5ub2RlO1xuICAgICAgICBpZiAoZG90cy5sZW5ndGgpIHtcbiAgICAgICAgICAgIG8ucmVtb3ZlQ2hpbGQoZmlsbCk7XG4gICAgICAgICAgICBmaWxsLm9uID0gdHJ1ZTtcbiAgICAgICAgICAgIGZpbGwubWV0aG9kID0gXCJub25lXCI7XG4gICAgICAgICAgICBmaWxsLmNvbG9yID0gZG90c1swXS5jb2xvcjtcbiAgICAgICAgICAgIGZpbGwuY29sb3IyID0gZG90c1tkb3RzLmxlbmd0aCAtIDFdLmNvbG9yO1xuICAgICAgICAgICAgdmFyIGNscnMgPSBbXTtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGRvdHMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGRvdHNbaV0ub2Zmc2V0ICYmIGNscnMucHVzaChkb3RzW2ldLm9mZnNldCArIFMgKyBkb3RzW2ldLmNvbG9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbGwuY29sb3JzID0gY2xycy5sZW5ndGggPyBjbHJzLmpvaW4oKSA6IFwiMCUgXCIgKyBmaWxsLmNvbG9yO1xuICAgICAgICAgICAgaWYgKHR5cGUgPT0gXCJyYWRpYWxcIikge1xuICAgICAgICAgICAgICAgIGZpbGwudHlwZSA9IFwiZ3JhZGllbnRUaXRsZVwiO1xuICAgICAgICAgICAgICAgIGZpbGwuZm9jdXMgPSBcIjEwMCVcIjtcbiAgICAgICAgICAgICAgICBmaWxsLmZvY3Vzc2l6ZSA9IFwiMCAwXCI7XG4gICAgICAgICAgICAgICAgZmlsbC5mb2N1c3Bvc2l0aW9uID0gZnhmeTtcbiAgICAgICAgICAgICAgICBmaWxsLmFuZ2xlID0gMDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZmlsbC5yb3RhdGU9IHRydWU7XG4gICAgICAgICAgICAgICAgZmlsbC50eXBlID0gXCJncmFkaWVudFwiO1xuICAgICAgICAgICAgICAgIGZpbGwuYW5nbGUgPSAoMjcwIC0gYW5nbGUpICUgMzYwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgby5hcHBlbmRDaGlsZChmaWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMTtcbiAgICB9LFxuICAgIEVsZW1lbnQgPSBmdW5jdGlvbiAobm9kZSwgdm1sKSB7XG4gICAgICAgIHRoaXNbMF0gPSB0aGlzLm5vZGUgPSBub2RlO1xuICAgICAgICBub2RlLnJhcGhhZWwgPSB0cnVlO1xuICAgICAgICB0aGlzLmlkID0gUi5fb2lkKys7XG4gICAgICAgIG5vZGUucmFwaGFlbGlkID0gdGhpcy5pZDtcbiAgICAgICAgdGhpcy5YID0gMDtcbiAgICAgICAgdGhpcy5ZID0gMDtcbiAgICAgICAgdGhpcy5hdHRycyA9IHt9O1xuICAgICAgICB0aGlzLnBhcGVyID0gdm1sO1xuICAgICAgICB0aGlzLm1hdHJpeCA9IFIubWF0cml4KCk7XG4gICAgICAgIHRoaXMuXyA9IHtcbiAgICAgICAgICAgIHRyYW5zZm9ybTogW10sXG4gICAgICAgICAgICBzeDogMSxcbiAgICAgICAgICAgIHN5OiAxLFxuICAgICAgICAgICAgZHg6IDAsXG4gICAgICAgICAgICBkeTogMCxcbiAgICAgICAgICAgIGRlZzogMCxcbiAgICAgICAgICAgIGRpcnR5OiAxLFxuICAgICAgICAgICAgZGlydHlUOiAxXG4gICAgICAgIH07XG4gICAgICAgICF2bWwuYm90dG9tICYmICh2bWwuYm90dG9tID0gdGhpcyk7XG4gICAgICAgIHRoaXMucHJldiA9IHZtbC50b3A7XG4gICAgICAgIHZtbC50b3AgJiYgKHZtbC50b3AubmV4dCA9IHRoaXMpO1xuICAgICAgICB2bWwudG9wID0gdGhpcztcbiAgICAgICAgdGhpcy5uZXh0ID0gbnVsbDtcbiAgICB9O1xuICAgIHZhciBlbHByb3RvID0gUi5lbDtcblxuICAgIEVsZW1lbnQucHJvdG90eXBlID0gZWxwcm90bztcbiAgICBlbHByb3RvLmNvbnN0cnVjdG9yID0gRWxlbWVudDtcbiAgICBlbHByb3RvLnRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0c3RyKSB7XG4gICAgICAgIGlmICh0c3RyID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl8udHJhbnNmb3JtO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YnMgPSB0aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQsXG4gICAgICAgICAgICB2YnQgPSB2YnMgPyBcInNcIiArIFt2YnMuc2NhbGUsIHZicy5zY2FsZV0gKyBcIi0xLTF0XCIgKyBbdmJzLmR4LCB2YnMuZHldIDogRSxcbiAgICAgICAgICAgIG9sZHQ7XG4gICAgICAgIGlmICh2YnMpIHtcbiAgICAgICAgICAgIG9sZHQgPSB0c3RyID0gU3RyKHRzdHIpLnJlcGxhY2UoL1xcLnszfXxcXHUyMDI2L2csIHRoaXMuXy50cmFuc2Zvcm0gfHwgRSk7XG4gICAgICAgIH1cbiAgICAgICAgUi5fZXh0cmFjdFRyYW5zZm9ybSh0aGlzLCB2YnQgKyB0c3RyKTtcbiAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMubWF0cml4LmNsb25lKCksXG4gICAgICAgICAgICBza2V3ID0gdGhpcy5za2V3LFxuICAgICAgICAgICAgbyA9IHRoaXMubm9kZSxcbiAgICAgICAgICAgIHNwbGl0LFxuICAgICAgICAgICAgaXNHcmFkID0gflN0cih0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoXCItXCIpLFxuICAgICAgICAgICAgaXNQYXR0ID0gIVN0cih0aGlzLmF0dHJzLmZpbGwpLmluZGV4T2YoXCJ1cmwoXCIpO1xuICAgICAgICBtYXRyaXgudHJhbnNsYXRlKDEsIDEpO1xuICAgICAgICBpZiAoaXNQYXR0IHx8IGlzR3JhZCB8fCB0aGlzLnR5cGUgPT0gXCJpbWFnZVwiKSB7XG4gICAgICAgICAgICBza2V3Lm1hdHJpeCA9IFwiMSAwIDAgMVwiO1xuICAgICAgICAgICAgc2tldy5vZmZzZXQgPSBcIjAgMFwiO1xuICAgICAgICAgICAgc3BsaXQgPSBtYXRyaXguc3BsaXQoKTtcbiAgICAgICAgICAgIGlmICgoaXNHcmFkICYmIHNwbGl0Lm5vUm90YXRpb24pIHx8ICFzcGxpdC5pc1NpbXBsZSkge1xuICAgICAgICAgICAgICAgIG8uc3R5bGUuZmlsdGVyID0gbWF0cml4LnRvRmlsdGVyKCk7XG4gICAgICAgICAgICAgICAgdmFyIGJiID0gdGhpcy5nZXRCQm94KCksXG4gICAgICAgICAgICAgICAgICAgIGJidCA9IHRoaXMuZ2V0QkJveCgxKSxcbiAgICAgICAgICAgICAgICAgICAgZHggPSBiYi54IC0gYmJ0LngsXG4gICAgICAgICAgICAgICAgICAgIGR5ID0gYmIueSAtIGJidC55O1xuICAgICAgICAgICAgICAgIG8uY29vcmRvcmlnaW4gPSAoZHggKiAtem9vbSkgKyBTICsgKGR5ICogLXpvb20pO1xuICAgICAgICAgICAgICAgIHNldENvb3Jkcyh0aGlzLCAxLCAxLCBkeCwgZHksIDApO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBvLnN0eWxlLmZpbHRlciA9IEU7XG4gICAgICAgICAgICAgICAgc2V0Q29vcmRzKHRoaXMsIHNwbGl0LnNjYWxleCwgc3BsaXQuc2NhbGV5LCBzcGxpdC5keCwgc3BsaXQuZHksIHNwbGl0LnJvdGF0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBvLnN0eWxlLmZpbHRlciA9IEU7XG4gICAgICAgICAgICBza2V3Lm1hdHJpeCA9IFN0cihtYXRyaXgpO1xuICAgICAgICAgICAgc2tldy5vZmZzZXQgPSBtYXRyaXgub2Zmc2V0KCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9sZHQgIT09IG51bGwpIHsgLy8gZW1wdHkgc3RyaW5nIHZhbHVlIGlzIHRydWUgYXMgd2VsbFxuICAgICAgICAgICAgdGhpcy5fLnRyYW5zZm9ybSA9IG9sZHQ7XG4gICAgICAgICAgICBSLl9leHRyYWN0VHJhbnNmb3JtKHRoaXMsIG9sZHQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZWxwcm90by5yb3RhdGUgPSBmdW5jdGlvbiAoZGVnLCBjeCwgY3kpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZyA9PSBudWxsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZGVnID0gU3RyKGRlZykuc3BsaXQoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKGRlZy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBjeCA9IHRvRmxvYXQoZGVnWzFdKTtcbiAgICAgICAgICAgIGN5ID0gdG9GbG9hdChkZWdbMl0pO1xuICAgICAgICB9XG4gICAgICAgIGRlZyA9IHRvRmxvYXQoZGVnWzBdKTtcbiAgICAgICAgKGN5ID09IG51bGwpICYmIChjeCA9IGN5KTtcbiAgICAgICAgaWYgKGN4ID09IG51bGwgfHwgY3kgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGJib3ggPSB0aGlzLmdldEJCb3goMSk7XG4gICAgICAgICAgICBjeCA9IGJib3gueCArIGJib3gud2lkdGggLyAyO1xuICAgICAgICAgICAgY3kgPSBiYm94LnkgKyBiYm94LmhlaWdodCAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fLmRpcnR5VCA9IDE7XG4gICAgICAgIHRoaXMudHJhbnNmb3JtKHRoaXMuXy50cmFuc2Zvcm0uY29uY2F0KFtbXCJyXCIsIGRlZywgY3gsIGN5XV0pKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLnRyYW5zbGF0ZSA9IGZ1bmN0aW9uIChkeCwgZHkpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgZHggPSBTdHIoZHgpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChkeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBkeSA9IHRvRmxvYXQoZHhbMV0pO1xuICAgICAgICB9XG4gICAgICAgIGR4ID0gdG9GbG9hdChkeFswXSkgfHwgMDtcbiAgICAgICAgZHkgPSArZHkgfHwgMDtcbiAgICAgICAgaWYgKHRoaXMuXy5iYm94KSB7XG4gICAgICAgICAgICB0aGlzLl8uYmJveC54ICs9IGR4O1xuICAgICAgICAgICAgdGhpcy5fLmJib3gueSArPSBkeTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRyYW5zZm9ybSh0aGlzLl8udHJhbnNmb3JtLmNvbmNhdChbW1widFwiLCBkeCwgZHldXSkpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGVscHJvdG8uc2NhbGUgPSBmdW5jdGlvbiAoc3gsIHN5LCBjeCwgY3kpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgc3ggPSBTdHIoc3gpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIGlmIChzeC5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBzeSA9IHRvRmxvYXQoc3hbMV0pO1xuICAgICAgICAgICAgY3ggPSB0b0Zsb2F0KHN4WzJdKTtcbiAgICAgICAgICAgIGN5ID0gdG9GbG9hdChzeFszXSk7XG4gICAgICAgICAgICBpc05hTihjeCkgJiYgKGN4ID0gbnVsbCk7XG4gICAgICAgICAgICBpc05hTihjeSkgJiYgKGN5ID0gbnVsbCk7XG4gICAgICAgIH1cbiAgICAgICAgc3ggPSB0b0Zsb2F0KHN4WzBdKTtcbiAgICAgICAgKHN5ID09IG51bGwpICYmIChzeSA9IHN4KTtcbiAgICAgICAgKGN5ID09IG51bGwpICYmIChjeCA9IGN5KTtcbiAgICAgICAgaWYgKGN4ID09IG51bGwgfHwgY3kgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGJib3ggPSB0aGlzLmdldEJCb3goMSk7XG4gICAgICAgIH1cbiAgICAgICAgY3ggPSBjeCA9PSBudWxsID8gYmJveC54ICsgYmJveC53aWR0aCAvIDIgOiBjeDtcbiAgICAgICAgY3kgPSBjeSA9PSBudWxsID8gYmJveC55ICsgYmJveC5oZWlnaHQgLyAyIDogY3k7XG5cbiAgICAgICAgdGhpcy50cmFuc2Zvcm0odGhpcy5fLnRyYW5zZm9ybS5jb25jYXQoW1tcInNcIiwgc3gsIHN5LCBjeCwgY3ldXSkpO1xuICAgICAgICB0aGlzLl8uZGlydHlUID0gMTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmhpZGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICF0aGlzLnJlbW92ZWQgJiYgKHRoaXMubm9kZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCIpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuICAgIGVscHJvdG8uc2hvdyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgIXRoaXMucmVtb3ZlZCAmJiAodGhpcy5ub2RlLnN0eWxlLmRpc3BsYXkgPSBFKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICAvLyBOZWVkZWQgdG8gZml4IHRoZSB2bWwgc2V0Vmlld0JveCBpc3N1ZXNcbiAgICBlbHByb3RvLmF1eEdldEJCb3ggPSBSLmVsLmdldEJCb3g7XG4gICAgZWxwcm90by5nZXRCQm94ID0gZnVuY3Rpb24oKXtcbiAgICAgIHZhciBiID0gdGhpcy5hdXhHZXRCQm94KCk7XG4gICAgICBpZiAodGhpcy5wYXBlciAmJiB0aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQpXG4gICAgICB7XG4gICAgICAgIHZhciBjID0ge307XG4gICAgICAgIHZhciB6ID0gMS90aGlzLnBhcGVyLl92aWV3Qm94U2hpZnQuc2NhbGU7XG4gICAgICAgIGMueCA9IGIueCAtIHRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keDtcbiAgICAgICAgYy54ICo9IHo7XG4gICAgICAgIGMueSA9IGIueSAtIHRoaXMucGFwZXIuX3ZpZXdCb3hTaGlmdC5keTtcbiAgICAgICAgYy55ICo9IHo7XG4gICAgICAgIGMud2lkdGggID0gYi53aWR0aCAgKiB6O1xuICAgICAgICBjLmhlaWdodCA9IGIuaGVpZ2h0ICogejtcbiAgICAgICAgYy54MiA9IGMueCArIGMud2lkdGg7XG4gICAgICAgIGMueTIgPSBjLnkgKyBjLmhlaWdodDtcbiAgICAgICAgcmV0dXJuIGM7XG4gICAgICB9XG4gICAgICByZXR1cm4gYjtcbiAgICB9O1xuICAgIGVscHJvdG8uX2dldEJCb3ggPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB7fTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgeDogdGhpcy5YICsgKHRoaXMuYmJ4IHx8IDApIC0gdGhpcy5XIC8gMixcbiAgICAgICAgICAgIHk6IHRoaXMuWSAtIHRoaXMuSCxcbiAgICAgICAgICAgIHdpZHRoOiB0aGlzLlcsXG4gICAgICAgICAgICBoZWlnaHQ6IHRoaXMuSFxuICAgICAgICB9O1xuICAgIH07XG4gICAgZWxwcm90by5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQgfHwgIXRoaXMubm9kZS5wYXJlbnROb2RlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wYXBlci5fX3NldF9fICYmIHRoaXMucGFwZXIuX19zZXRfXy5leGNsdWRlKHRoaXMpO1xuICAgICAgICBSLmV2ZS51bmJpbmQoXCJyYXBoYWVsLiouKi5cIiArIHRoaXMuaWQpO1xuICAgICAgICBSLl90ZWFyKHRoaXMsIHRoaXMucGFwZXIpO1xuICAgICAgICB0aGlzLm5vZGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLm5vZGUpO1xuICAgICAgICB0aGlzLnNoYXBlICYmIHRoaXMuc2hhcGUucGFyZW50Tm9kZS5yZW1vdmVDaGlsZCh0aGlzLnNoYXBlKTtcbiAgICAgICAgZm9yICh2YXIgaSBpbiB0aGlzKSB7XG4gICAgICAgICAgICB0aGlzW2ldID0gdHlwZW9mIHRoaXNbaV0gPT0gXCJmdW5jdGlvblwiID8gUi5fcmVtb3ZlZEZhY3RvcnkoaSkgOiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlZCA9IHRydWU7XG4gICAgfTtcbiAgICBlbHByb3RvLmF0dHIgPSBmdW5jdGlvbiAobmFtZSwgdmFsdWUpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG5hbWUgPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIHJlcyA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgYSBpbiB0aGlzLmF0dHJzKSBpZiAodGhpcy5hdHRyc1toYXNdKGEpKSB7XG4gICAgICAgICAgICAgICAgcmVzW2FdID0gdGhpcy5hdHRyc1thXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlcy5ncmFkaWVudCAmJiByZXMuZmlsbCA9PSBcIm5vbmVcIiAmJiAocmVzLmZpbGwgPSByZXMuZ3JhZGllbnQpICYmIGRlbGV0ZSByZXMuZ3JhZGllbnQ7XG4gICAgICAgICAgICByZXMudHJhbnNmb3JtID0gdGhpcy5fLnRyYW5zZm9ybTtcbiAgICAgICAgICAgIHJldHVybiByZXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcInN0cmluZ1wiKSkge1xuICAgICAgICAgICAgaWYgKG5hbWUgPT0gZmlsbFN0cmluZyAmJiB0aGlzLmF0dHJzLmZpbGwgPT0gXCJub25lXCIgJiYgdGhpcy5hdHRycy5ncmFkaWVudCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmF0dHJzLmdyYWRpZW50O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIG5hbWVzID0gbmFtZS5zcGxpdChzZXBhcmF0b3IpLFxuICAgICAgICAgICAgICAgIG91dCA9IHt9O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIG5hbWUgPSBuYW1lc1tpXTtcbiAgICAgICAgICAgICAgICBpZiAobmFtZSBpbiB0aGlzLmF0dHJzKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IHRoaXMuYXR0cnNbbmFtZV07XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChSLmlzKHRoaXMucGFwZXIuY3VzdG9tQXR0cmlidXRlc1tuYW1lXSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgICAgICBvdXRbbmFtZV0gPSB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbbmFtZV0uZGVmO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIG91dFtuYW1lXSA9IFIuX2F2YWlsYWJsZUF0dHJzW25hbWVdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpaSAtIDEgPyBvdXQgOiBvdXRbbmFtZXNbMF1dO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLmF0dHJzICYmIHZhbHVlID09IG51bGwgJiYgUi5pcyhuYW1lLCBcImFycmF5XCIpKSB7XG4gICAgICAgICAgICBvdXQgPSB7fTtcbiAgICAgICAgICAgIGZvciAoaSA9IDAsIGlpID0gbmFtZS5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgb3V0W25hbWVbaV1dID0gdGhpcy5hdHRyKG5hbWVbaV0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcGFyYW1zO1xuICAgICAgICBpZiAodmFsdWUgIT0gbnVsbCkge1xuICAgICAgICAgICAgcGFyYW1zID0ge307XG4gICAgICAgICAgICBwYXJhbXNbbmFtZV0gPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9PSBudWxsICYmIFIuaXMobmFtZSwgXCJvYmplY3RcIikgJiYgKHBhcmFtcyA9IG5hbWUpO1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBldmUoXCJyYXBoYWVsLmF0dHIuXCIgKyBrZXkgKyBcIi5cIiArIHRoaXMuaWQsIHRoaXMsIHBhcmFtc1trZXldKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyYW1zKSB7XG4gICAgICAgICAgICBmb3IgKGtleSBpbiB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXMpIGlmICh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNbaGFzXShrZXkpICYmIHBhcmFtc1toYXNdKGtleSkgJiYgUi5pcyh0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XSwgXCJmdW5jdGlvblwiKSkge1xuICAgICAgICAgICAgICAgIHZhciBwYXIgPSB0aGlzLnBhcGVyLmN1c3RvbUF0dHJpYnV0ZXNba2V5XS5hcHBseSh0aGlzLCBbXS5jb25jYXQocGFyYW1zW2tleV0pKTtcbiAgICAgICAgICAgICAgICB0aGlzLmF0dHJzW2tleV0gPSBwYXJhbXNba2V5XTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBzdWJrZXkgaW4gcGFyKSBpZiAocGFyW2hhc10oc3Via2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBwYXJhbXNbc3Via2V5XSA9IHBhcltzdWJrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIHRoaXMucGFwZXIuY2FudmFzLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGlmIChwYXJhbXMudGV4dCAmJiB0aGlzLnR5cGUgPT0gXCJ0ZXh0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRleHRwYXRoLnN0cmluZyA9IHBhcmFtcy50ZXh0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0RmlsbEFuZFN0cm9rZSh0aGlzLCBwYXJhbXMpO1xuICAgICAgICAgICAgLy8gdGhpcy5wYXBlci5jYW52YXMuc3R5bGUuZGlzcGxheSA9IEU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLnRvRnJvbnQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICF0aGlzLnJlbW92ZWQgJiYgdGhpcy5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgdGhpcy5wYXBlciAmJiB0aGlzLnBhcGVyLnRvcCAhPSB0aGlzICYmIFIuX3RvZnJvbnQodGhpcywgdGhpcy5wYXBlcik7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgZWxwcm90by50b0JhY2sgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLm5vZGUucGFyZW50Tm9kZS5maXJzdENoaWxkICE9IHRoaXMubm9kZSkge1xuICAgICAgICAgICAgdGhpcy5ub2RlLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKHRoaXMubm9kZSwgdGhpcy5ub2RlLnBhcmVudE5vZGUuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICBSLl90b2JhY2sodGhpcywgdGhpcy5wYXBlcik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmluc2VydEFmdGVyID0gZnVuY3Rpb24gKGVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHRoaXMucmVtb3ZlZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVsZW1lbnQuY29uc3RydWN0b3IgPT0gUi5zdC5jb25zdHJ1Y3Rvcikge1xuICAgICAgICAgICAgZWxlbWVudCA9IGVsZW1lbnRbZWxlbWVudC5sZW5ndGggLSAxXTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZWxlbWVudC5ub2RlLm5leHRTaWJsaW5nKSB7XG4gICAgICAgICAgICBlbGVtZW50Lm5vZGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUodGhpcy5ub2RlLCBlbGVtZW50Lm5vZGUubmV4dFNpYmxpbmcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZWxlbWVudC5ub2RlLnBhcmVudE5vZGUuYXBwZW5kQ2hpbGQodGhpcy5ub2RlKTtcbiAgICAgICAgfVxuICAgICAgICBSLl9pbnNlcnRhZnRlcih0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmluc2VydEJlZm9yZSA9IGZ1bmN0aW9uIChlbGVtZW50KSB7XG4gICAgICAgIGlmICh0aGlzLnJlbW92ZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChlbGVtZW50LmNvbnN0cnVjdG9yID09IFIuc3QuY29uc3RydWN0b3IpIHtcbiAgICAgICAgICAgIGVsZW1lbnQgPSBlbGVtZW50WzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQubm9kZS5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLm5vZGUsIGVsZW1lbnQubm9kZSk7XG4gICAgICAgIFIuX2luc2VydGJlZm9yZSh0aGlzLCBlbGVtZW50LCB0aGlzLnBhcGVyKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBlbHByb3RvLmJsdXIgPSBmdW5jdGlvbiAoc2l6ZSkge1xuICAgICAgICB2YXIgcyA9IHRoaXMubm9kZS5ydW50aW1lU3R5bGUsXG4gICAgICAgICAgICBmID0gcy5maWx0ZXI7XG4gICAgICAgIGYgPSBmLnJlcGxhY2UoYmx1cnJlZ2V4cCwgRSk7XG4gICAgICAgIGlmICgrc2l6ZSAhPT0gMCkge1xuICAgICAgICAgICAgdGhpcy5hdHRycy5ibHVyID0gc2l6ZTtcbiAgICAgICAgICAgIHMuZmlsdGVyID0gZiArIFMgKyBtcyArIFwiLkJsdXIocGl4ZWxyYWRpdXM9XCIgKyAoK3NpemUgfHwgMS41KSArIFwiKVwiO1xuICAgICAgICAgICAgcy5tYXJnaW4gPSBSLmZvcm1hdChcIi17MH1weCAwIDAgLXswfXB4XCIsIHJvdW5kKCtzaXplIHx8IDEuNSkpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcy5maWx0ZXIgPSBmO1xuICAgICAgICAgICAgcy5tYXJnaW4gPSAwO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuYXR0cnMuYmx1cjtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgUi5fZW5naW5lLnBhdGggPSBmdW5jdGlvbiAocGF0aFN0cmluZywgdm1sKSB7XG4gICAgICAgIHZhciBlbCA9IGNyZWF0ZU5vZGUoXCJzaGFwZVwiKTtcbiAgICAgICAgZWwuc3R5bGUuY3NzVGV4dCA9IGNzc0RvdDtcbiAgICAgICAgZWwuY29vcmRzaXplID0gem9vbSArIFMgKyB6b29tO1xuICAgICAgICBlbC5jb29yZG9yaWdpbiA9IHZtbC5jb29yZG9yaWdpbjtcbiAgICAgICAgdmFyIHAgPSBuZXcgRWxlbWVudChlbCwgdm1sKSxcbiAgICAgICAgICAgIGF0dHIgPSB7ZmlsbDogXCJub25lXCIsIHN0cm9rZTogXCIjMDAwXCJ9O1xuICAgICAgICBwYXRoU3RyaW5nICYmIChhdHRyLnBhdGggPSBwYXRoU3RyaW5nKTtcbiAgICAgICAgcC50eXBlID0gXCJwYXRoXCI7XG4gICAgICAgIHAucGF0aCA9IFtdO1xuICAgICAgICBwLlBhdGggPSBFO1xuICAgICAgICBzZXRGaWxsQW5kU3Ryb2tlKHAsIGF0dHIpO1xuICAgICAgICB2bWwuY2FudmFzICYmIHZtbC5jYW52YXMuYXBwZW5kQ2hpbGQoZWwpO1xuICAgICAgICB2YXIgc2tldyA9IGNyZWF0ZU5vZGUoXCJza2V3XCIpO1xuICAgICAgICBza2V3Lm9uID0gdHJ1ZTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQoc2tldyk7XG4gICAgICAgIHAuc2tldyA9IHNrZXc7XG4gICAgICAgIHAudHJhbnNmb3JtKEUpO1xuICAgICAgICByZXR1cm4gcDtcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5yZWN0ID0gZnVuY3Rpb24gKHZtbCwgeCwgeSwgdywgaCwgcikge1xuICAgICAgICB2YXIgcGF0aCA9IFIuX3JlY3RQYXRoKHgsIHksIHcsIGgsIHIpLFxuICAgICAgICAgICAgcmVzID0gdm1sLnBhdGgocGF0aCksXG4gICAgICAgICAgICBhID0gcmVzLmF0dHJzO1xuICAgICAgICByZXMuWCA9IGEueCA9IHg7XG4gICAgICAgIHJlcy5ZID0gYS55ID0geTtcbiAgICAgICAgcmVzLlcgPSBhLndpZHRoID0gdztcbiAgICAgICAgcmVzLkggPSBhLmhlaWdodCA9IGg7XG4gICAgICAgIGEuciA9IHI7XG4gICAgICAgIGEucGF0aCA9IHBhdGg7XG4gICAgICAgIHJlcy50eXBlID0gXCJyZWN0XCI7XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuZWxsaXBzZSA9IGZ1bmN0aW9uICh2bWwsIHgsIHksIHJ4LCByeSkge1xuICAgICAgICB2YXIgcmVzID0gdm1sLnBhdGgoKSxcbiAgICAgICAgICAgIGEgPSByZXMuYXR0cnM7XG4gICAgICAgIHJlcy5YID0geCAtIHJ4O1xuICAgICAgICByZXMuWSA9IHkgLSByeTtcbiAgICAgICAgcmVzLlcgPSByeCAqIDI7XG4gICAgICAgIHJlcy5IID0gcnkgKiAyO1xuICAgICAgICByZXMudHlwZSA9IFwiZWxsaXBzZVwiO1xuICAgICAgICBzZXRGaWxsQW5kU3Ryb2tlKHJlcywge1xuICAgICAgICAgICAgY3g6IHgsXG4gICAgICAgICAgICBjeTogeSxcbiAgICAgICAgICAgIHJ4OiByeCxcbiAgICAgICAgICAgIHJ5OiByeVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5jaXJjbGUgPSBmdW5jdGlvbiAodm1sLCB4LCB5LCByKSB7XG4gICAgICAgIHZhciByZXMgPSB2bWwucGF0aCgpLFxuICAgICAgICAgICAgYSA9IHJlcy5hdHRycztcbiAgICAgICAgcmVzLlggPSB4IC0gcjtcbiAgICAgICAgcmVzLlkgPSB5IC0gcjtcbiAgICAgICAgcmVzLlcgPSByZXMuSCA9IHIgKiAyO1xuICAgICAgICByZXMudHlwZSA9IFwiY2lyY2xlXCI7XG4gICAgICAgIHNldEZpbGxBbmRTdHJva2UocmVzLCB7XG4gICAgICAgICAgICBjeDogeCxcbiAgICAgICAgICAgIGN5OiB5LFxuICAgICAgICAgICAgcjogclxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS5pbWFnZSA9IGZ1bmN0aW9uICh2bWwsIHNyYywgeCwgeSwgdywgaCkge1xuICAgICAgICB2YXIgcGF0aCA9IFIuX3JlY3RQYXRoKHgsIHksIHcsIGgpLFxuICAgICAgICAgICAgcmVzID0gdm1sLnBhdGgocGF0aCkuYXR0cih7c3Ryb2tlOiBcIm5vbmVcIn0pLFxuICAgICAgICAgICAgYSA9IHJlcy5hdHRycyxcbiAgICAgICAgICAgIG5vZGUgPSByZXMubm9kZSxcbiAgICAgICAgICAgIGZpbGwgPSBub2RlLmdldEVsZW1lbnRzQnlUYWdOYW1lKGZpbGxTdHJpbmcpWzBdO1xuICAgICAgICBhLnNyYyA9IHNyYztcbiAgICAgICAgcmVzLlggPSBhLnggPSB4O1xuICAgICAgICByZXMuWSA9IGEueSA9IHk7XG4gICAgICAgIHJlcy5XID0gYS53aWR0aCA9IHc7XG4gICAgICAgIHJlcy5IID0gYS5oZWlnaHQgPSBoO1xuICAgICAgICBhLnBhdGggPSBwYXRoO1xuICAgICAgICByZXMudHlwZSA9IFwiaW1hZ2VcIjtcbiAgICAgICAgZmlsbC5wYXJlbnROb2RlID09IG5vZGUgJiYgbm9kZS5yZW1vdmVDaGlsZChmaWxsKTtcbiAgICAgICAgZmlsbC5yb3RhdGUgPSB0cnVlO1xuICAgICAgICBmaWxsLnNyYyA9IHNyYztcbiAgICAgICAgZmlsbC50eXBlID0gXCJ0aWxlXCI7XG4gICAgICAgIHJlcy5fLmZpbGxwb3MgPSBbeCwgeV07XG4gICAgICAgIHJlcy5fLmZpbGxzaXplID0gW3csIGhdO1xuICAgICAgICBub2RlLmFwcGVuZENoaWxkKGZpbGwpO1xuICAgICAgICBzZXRDb29yZHMocmVzLCAxLCAxLCAwLCAwLCAwKTtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICAgIFIuX2VuZ2luZS50ZXh0ID0gZnVuY3Rpb24gKHZtbCwgeCwgeSwgdGV4dCkge1xuICAgICAgICB2YXIgZWwgPSBjcmVhdGVOb2RlKFwic2hhcGVcIiksXG4gICAgICAgICAgICBwYXRoID0gY3JlYXRlTm9kZShcInBhdGhcIiksXG4gICAgICAgICAgICBvID0gY3JlYXRlTm9kZShcInRleHRwYXRoXCIpO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB0ZXh0ID0gdGV4dCB8fCBcIlwiO1xuICAgICAgICBwYXRoLnYgPSBSLmZvcm1hdChcIm17MH0sezF9bHsyfSx7MX1cIiwgcm91bmQoeCAqIHpvb20pLCByb3VuZCh5ICogem9vbSksIHJvdW5kKHggKiB6b29tKSArIDEpO1xuICAgICAgICBwYXRoLnRleHRwYXRob2sgPSB0cnVlO1xuICAgICAgICBvLnN0cmluZyA9IFN0cih0ZXh0KTtcbiAgICAgICAgby5vbiA9IHRydWU7XG4gICAgICAgIGVsLnN0eWxlLmNzc1RleHQgPSBjc3NEb3Q7XG4gICAgICAgIGVsLmNvb3Jkc2l6ZSA9IHpvb20gKyBTICsgem9vbTtcbiAgICAgICAgZWwuY29vcmRvcmlnaW4gPSBcIjAgMFwiO1xuICAgICAgICB2YXIgcCA9IG5ldyBFbGVtZW50KGVsLCB2bWwpLFxuICAgICAgICAgICAgYXR0ciA9IHtcbiAgICAgICAgICAgICAgICBmaWxsOiBcIiMwMDBcIixcbiAgICAgICAgICAgICAgICBzdHJva2U6IFwibm9uZVwiLFxuICAgICAgICAgICAgICAgIGZvbnQ6IFIuX2F2YWlsYWJsZUF0dHJzLmZvbnQsXG4gICAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgfTtcbiAgICAgICAgcC5zaGFwZSA9IGVsO1xuICAgICAgICBwLnBhdGggPSBwYXRoO1xuICAgICAgICBwLnRleHRwYXRoID0gbztcbiAgICAgICAgcC50eXBlID0gXCJ0ZXh0XCI7XG4gICAgICAgIHAuYXR0cnMudGV4dCA9IFN0cih0ZXh0KTtcbiAgICAgICAgcC5hdHRycy54ID0geDtcbiAgICAgICAgcC5hdHRycy55ID0geTtcbiAgICAgICAgcC5hdHRycy53ID0gMTtcbiAgICAgICAgcC5hdHRycy5oID0gMTtcbiAgICAgICAgc2V0RmlsbEFuZFN0cm9rZShwLCBhdHRyKTtcbiAgICAgICAgZWwuYXBwZW5kQ2hpbGQobyk7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHBhdGgpO1xuICAgICAgICB2bWwuY2FudmFzLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgdmFyIHNrZXcgPSBjcmVhdGVOb2RlKFwic2tld1wiKTtcbiAgICAgICAgc2tldy5vbiA9IHRydWU7XG4gICAgICAgIGVsLmFwcGVuZENoaWxkKHNrZXcpO1xuICAgICAgICBwLnNrZXcgPSBza2V3O1xuICAgICAgICBwLnRyYW5zZm9ybShFKTtcbiAgICAgICAgcmV0dXJuIHA7XG4gICAgfTtcbiAgICBSLl9lbmdpbmUuc2V0U2l6ZSA9IGZ1bmN0aW9uICh3aWR0aCwgaGVpZ2h0KSB7XG4gICAgICAgIHZhciBjcyA9IHRoaXMuY2FudmFzLnN0eWxlO1xuICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICB3aWR0aCA9PSArd2lkdGggJiYgKHdpZHRoICs9IFwicHhcIik7XG4gICAgICAgIGhlaWdodCA9PSAraGVpZ2h0ICYmIChoZWlnaHQgKz0gXCJweFwiKTtcbiAgICAgICAgY3Mud2lkdGggPSB3aWR0aDtcbiAgICAgICAgY3MuaGVpZ2h0ID0gaGVpZ2h0O1xuICAgICAgICBjcy5jbGlwID0gXCJyZWN0KDAgXCIgKyB3aWR0aCArIFwiIFwiICsgaGVpZ2h0ICsgXCIgMClcIjtcbiAgICAgICAgaWYgKHRoaXMuX3ZpZXdCb3gpIHtcbiAgICAgICAgICAgIFIuX2VuZ2luZS5zZXRWaWV3Qm94LmFwcGx5KHRoaXMsIHRoaXMuX3ZpZXdCb3gpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgUi5fZW5naW5lLnNldFZpZXdCb3ggPSBmdW5jdGlvbiAoeCwgeSwgdywgaCwgZml0KSB7XG4gICAgICAgIFIuZXZlKFwicmFwaGFlbC5zZXRWaWV3Qm94XCIsIHRoaXMsIHRoaXMuX3ZpZXdCb3gsIFt4LCB5LCB3LCBoLCBmaXRdKTtcbiAgICAgICAgdmFyIHBhcGVyU2l6ZSA9IHRoaXMuZ2V0U2l6ZSgpLFxuICAgICAgICAgICAgd2lkdGggPSBwYXBlclNpemUud2lkdGgsXG4gICAgICAgICAgICBoZWlnaHQgPSBwYXBlclNpemUuaGVpZ2h0LFxuICAgICAgICAgICAgSCwgVztcbiAgICAgICAgaWYgKGZpdCkge1xuICAgICAgICAgICAgSCA9IGhlaWdodCAvIGg7XG4gICAgICAgICAgICBXID0gd2lkdGggLyB3O1xuICAgICAgICAgICAgaWYgKHcgKiBIIDwgd2lkdGgpIHtcbiAgICAgICAgICAgICAgICB4IC09ICh3aWR0aCAtIHcgKiBIKSAvIDIgLyBIO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGggKiBXIDwgaGVpZ2h0KSB7XG4gICAgICAgICAgICAgICAgeSAtPSAoaGVpZ2h0IC0gaCAqIFcpIC8gMiAvIFc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fdmlld0JveCA9IFt4LCB5LCB3LCBoLCAhIWZpdF07XG4gICAgICAgIHRoaXMuX3ZpZXdCb3hTaGlmdCA9IHtcbiAgICAgICAgICAgIGR4OiAteCxcbiAgICAgICAgICAgIGR5OiAteSxcbiAgICAgICAgICAgIHNjYWxlOiBwYXBlclNpemVcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgZWwudHJhbnNmb3JtKFwiLi4uXCIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICB2YXIgY3JlYXRlTm9kZTtcbiAgICBSLl9lbmdpbmUuaW5pdFdpbiA9IGZ1bmN0aW9uICh3aW4pIHtcbiAgICAgICAgICAgIHZhciBkb2MgPSB3aW4uZG9jdW1lbnQ7XG4gICAgICAgICAgICBpZiAoZG9jLnN0eWxlU2hlZXRzLmxlbmd0aCA8IDMxKSB7XG4gICAgICAgICAgICAgICAgZG9jLmNyZWF0ZVN0eWxlU2hlZXQoKS5hZGRSdWxlKFwiLnJ2bWxcIiwgXCJiZWhhdmlvcjp1cmwoI2RlZmF1bHQjVk1MKVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gbm8gbW9yZSByb29tLCBhZGQgdG8gdGhlIGV4aXN0aW5nIG9uZVxuICAgICAgICAgICAgICAgIC8vIGh0dHA6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9tczUzMTE5NCUyOFZTLjg1JTI5LmFzcHhcbiAgICAgICAgICAgICAgICBkb2Muc3R5bGVTaGVldHNbMF0uYWRkUnVsZShcIi5ydm1sXCIsIFwiYmVoYXZpb3I6dXJsKCNkZWZhdWx0I1ZNTClcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICFkb2MubmFtZXNwYWNlcy5ydm1sICYmIGRvYy5uYW1lc3BhY2VzLmFkZChcInJ2bWxcIiwgXCJ1cm46c2NoZW1hcy1taWNyb3NvZnQtY29tOnZtbFwiKTtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlID0gZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KCc8cnZtbDonICsgdGFnTmFtZSArICcgY2xhc3M9XCJydm1sXCI+Jyk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjcmVhdGVOb2RlID0gZnVuY3Rpb24gKHRhZ05hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRvYy5jcmVhdGVFbGVtZW50KCc8JyArIHRhZ05hbWUgKyAnIHhtbG5zPVwidXJuOnNjaGVtYXMtbWljcm9zb2Z0LmNvbTp2bWxcIiBjbGFzcz1cInJ2bWxcIj4nKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIFIuX2VuZ2luZS5pbml0V2luKFIuX2cud2luKTtcbiAgICBSLl9lbmdpbmUuY3JlYXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY29uID0gUi5fZ2V0Q29udGFpbmVyLmFwcGx5KDAsIGFyZ3VtZW50cyksXG4gICAgICAgICAgICBjb250YWluZXIgPSBjb24uY29udGFpbmVyLFxuICAgICAgICAgICAgaGVpZ2h0ID0gY29uLmhlaWdodCxcbiAgICAgICAgICAgIHMsXG4gICAgICAgICAgICB3aWR0aCA9IGNvbi53aWR0aCxcbiAgICAgICAgICAgIHggPSBjb24ueCxcbiAgICAgICAgICAgIHkgPSBjb24ueTtcbiAgICAgICAgaWYgKCFjb250YWluZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlZNTCBjb250YWluZXIgbm90IGZvdW5kLlwiKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgcmVzID0gbmV3IFIuX1BhcGVyLFxuICAgICAgICAgICAgYyA9IHJlcy5jYW52YXMgPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLFxuICAgICAgICAgICAgY3MgPSBjLnN0eWxlO1xuICAgICAgICB4ID0geCB8fCAwO1xuICAgICAgICB5ID0geSB8fCAwO1xuICAgICAgICB3aWR0aCA9IHdpZHRoIHx8IDUxMjtcbiAgICAgICAgaGVpZ2h0ID0gaGVpZ2h0IHx8IDM0MjtcbiAgICAgICAgcmVzLndpZHRoID0gd2lkdGg7XG4gICAgICAgIHJlcy5oZWlnaHQgPSBoZWlnaHQ7XG4gICAgICAgIHdpZHRoID09ICt3aWR0aCAmJiAod2lkdGggKz0gXCJweFwiKTtcbiAgICAgICAgaGVpZ2h0ID09ICtoZWlnaHQgJiYgKGhlaWdodCArPSBcInB4XCIpO1xuICAgICAgICByZXMuY29vcmRzaXplID0gem9vbSAqIDFlMyArIFMgKyB6b29tICogMWUzO1xuICAgICAgICByZXMuY29vcmRvcmlnaW4gPSBcIjAgMFwiO1xuICAgICAgICByZXMuc3BhbiA9IFIuX2cuZG9jLmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuICAgICAgICByZXMuc3Bhbi5zdHlsZS5jc3NUZXh0ID0gXCJwb3NpdGlvbjphYnNvbHV0ZTtsZWZ0Oi05OTk5ZW07dG9wOi05OTk5ZW07cGFkZGluZzowO21hcmdpbjowO2xpbmUtaGVpZ2h0OjE7XCI7XG4gICAgICAgIGMuYXBwZW5kQ2hpbGQocmVzLnNwYW4pO1xuICAgICAgICBjcy5jc3NUZXh0ID0gUi5mb3JtYXQoXCJ0b3A6MDtsZWZ0OjA7d2lkdGg6ezB9O2hlaWdodDp7MX07ZGlzcGxheTppbmxpbmUtYmxvY2s7cG9zaXRpb246cmVsYXRpdmU7Y2xpcDpyZWN0KDAgezB9IHsxfSAwKTtvdmVyZmxvdzpoaWRkZW5cIiwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGlmIChjb250YWluZXIgPT0gMSkge1xuICAgICAgICAgICAgUi5fZy5kb2MuYm9keS5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgICAgIGNzLmxlZnQgPSB4ICsgXCJweFwiO1xuICAgICAgICAgICAgY3MudG9wID0geSArIFwicHhcIjtcbiAgICAgICAgICAgIGNzLnBvc2l0aW9uID0gXCJhYnNvbHV0ZVwiO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKGNvbnRhaW5lci5maXJzdENoaWxkKSB7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyLmluc2VydEJlZm9yZShjLCBjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXMucmVuZGVyZml4ID0gZnVuY3Rpb24gKCkge307XG4gICAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgICBSLnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgUi5ldmUoXCJyYXBoYWVsLmNsZWFyXCIsIHRoaXMpO1xuICAgICAgICB0aGlzLmNhbnZhcy5pbm5lckhUTUwgPSBFO1xuICAgICAgICB0aGlzLnNwYW4gPSBSLl9nLmRvYy5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgdGhpcy5zcGFuLnN0eWxlLmNzc1RleHQgPSBcInBvc2l0aW9uOmFic29sdXRlO2xlZnQ6LTk5OTllbTt0b3A6LTk5OTllbTtwYWRkaW5nOjA7bWFyZ2luOjA7bGluZS1oZWlnaHQ6MTtkaXNwbGF5OmlubGluZTtcIjtcbiAgICAgICAgdGhpcy5jYW52YXMuYXBwZW5kQ2hpbGQodGhpcy5zcGFuKTtcbiAgICAgICAgdGhpcy5ib3R0b20gPSB0aGlzLnRvcCA9IG51bGw7XG4gICAgfTtcbiAgICBSLnByb3RvdHlwZS5yZW1vdmUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIFIuZXZlKFwicmFwaGFlbC5yZW1vdmVcIiwgdGhpcyk7XG4gICAgICAgIHRoaXMuY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5jYW52YXMpO1xuICAgICAgICBmb3IgKHZhciBpIGluIHRoaXMpIHtcbiAgICAgICAgICAgIHRoaXNbaV0gPSB0eXBlb2YgdGhpc1tpXSA9PSBcImZ1bmN0aW9uXCIgPyBSLl9yZW1vdmVkRmFjdG9yeShpKSA6IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfTtcblxuICAgIHZhciBzZXRwcm90byA9IFIuc3Q7XG4gICAgZm9yICh2YXIgbWV0aG9kIGluIGVscHJvdG8pIGlmIChlbHByb3RvW2hhc10obWV0aG9kKSAmJiAhc2V0cHJvdG9baGFzXShtZXRob2QpKSB7XG4gICAgICAgIHNldHByb3RvW21ldGhvZF0gPSAoZnVuY3Rpb24gKG1ldGhvZG5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGFyZyA9IGFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5mb3JFYWNoKGZ1bmN0aW9uIChlbCkge1xuICAgICAgICAgICAgICAgICAgICBlbFttZXRob2RuYW1lXS5hcHBseShlbCwgYXJnKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKG1ldGhvZCk7XG4gICAgfVxufSk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./dev/raphael.vml.js\n') }, "./node_modules/eve-raphael/eve.js": function (module, exports, __webpack_require__) { eval('var __WEBPACK_AMD_DEFINE_ARRAY__, __WEBPACK_AMD_DEFINE_RESULT__;// Copyright (c) 2013 Adobe Systems Incorporated. All rights reserved.\n// \n// Licensed under the Apache License, Version 2.0 (the "License");\n// you may not use this file except in compliance with the License.\n// You may obtain a copy of the License at\n// \n// http://www.apache.org/licenses/LICENSE-2.0\n// \n// Unless required by applicable law or agreed to in writing, software\n// distributed under the License is distributed on an "AS IS" BASIS,\n// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n// See the License for the specific language governing permissions and\n// limitations under the License.\n// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ \\\\\n// â Eve 0.5.0 - JavaScript Events Library                      â \\\\\n// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ¤ \\\\\n// â Author Dmitry Baranovskiy (http://dmitry.baranovskiy.com/) â \\\\\n// ââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââââ \\\\\n\n(function (glob) {\n    var version = "0.5.0",\n        has = "hasOwnProperty",\n        separator = /[\\.\\/]/,\n        comaseparator = /\\s*,\\s*/,\n        wildcard = "*",\n        fun = function () {},\n        numsort = function (a, b) {\n            return a - b;\n        },\n        current_event,\n        stop,\n        events = {n: {}},\n        firstDefined = function () {\n            for (var i = 0, ii = this.length; i < ii; i++) {\n                if (typeof this[i] != "undefined") {\n                    return this[i];\n                }\n            }\n        },\n        lastDefined = function () {\n            var i = this.length;\n            while (--i) {\n                if (typeof this[i] != "undefined") {\n                    return this[i];\n                }\n            }\n        },\n        objtos = Object.prototype.toString,\n        Str = String,\n        isArray = Array.isArray || function (ar) {\n            return ar instanceof Array || objtos.call(ar) == "[object Array]";\n        };\n    /*\\\n     * eve\n     [ method ]\n\n     * Fires event with given `name`, given scope and other parameters.\n\n     > Arguments\n\n     - name (string) name of the *event*, dot (`.`) or slash (`/`) separated\n     - scope (object) context for the event handlers\n     - varargs (...) the rest of arguments will be sent to event handlers\n\n     = (object) array of returned values from the listeners. Array has two methods `.firstDefined()` and `.lastDefined()` to get first or last not `undefined` value.\n    \\*/\n        var eve = function (name, scope) {\n            var e = events,\n                oldstop = stop,\n                args = Array.prototype.slice.call(arguments, 2),\n                listeners = eve.listeners(name),\n                z = 0,\n                f = false,\n                l,\n                indexed = [],\n                queue = {},\n                out = [],\n                ce = current_event,\n                errors = [];\n            out.firstDefined = firstDefined;\n            out.lastDefined = lastDefined;\n            current_event = name;\n            stop = 0;\n            for (var i = 0, ii = listeners.length; i < ii; i++) if ("zIndex" in listeners[i]) {\n                indexed.push(listeners[i].zIndex);\n                if (listeners[i].zIndex < 0) {\n                    queue[listeners[i].zIndex] = listeners[i];\n                }\n            }\n            indexed.sort(numsort);\n            while (indexed[z] < 0) {\n                l = queue[indexed[z++]];\n                out.push(l.apply(scope, args));\n                if (stop) {\n                    stop = oldstop;\n                    return out;\n                }\n            }\n            for (i = 0; i < ii; i++) {\n                l = listeners[i];\n                if ("zIndex" in l) {\n                    if (l.zIndex == indexed[z]) {\n                        out.push(l.apply(scope, args));\n                        if (stop) {\n                            break;\n                        }\n                        do {\n                            z++;\n                            l = queue[indexed[z]];\n                            l && out.push(l.apply(scope, args));\n                            if (stop) {\n                                break;\n                            }\n                        } while (l)\n                    } else {\n                        queue[l.zIndex] = l;\n                    }\n                } else {\n                    out.push(l.apply(scope, args));\n                    if (stop) {\n                        break;\n                    }\n                }\n            }\n            stop = oldstop;\n            current_event = ce;\n            return out;\n        };\n        // Undocumented. Debug only.\n        eve._events = events;\n    /*\\\n     * eve.listeners\n     [ method ]\n\n     * Internal method which gives you array of all event handlers that will be triggered by the given `name`.\n\n     > Arguments\n\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated\n\n     = (array) array of event handlers\n    \\*/\n    eve.listeners = function (name) {\n        var names = isArray(name) ? name : name.split(separator),\n            e = events,\n            item,\n            items,\n            k,\n            i,\n            ii,\n            j,\n            jj,\n            nes,\n            es = [e],\n            out = [];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            nes = [];\n            for (j = 0, jj = es.length; j < jj; j++) {\n                e = es[j].n;\n                items = [e[names[i]], e[wildcard]];\n                k = 2;\n                while (k--) {\n                    item = items[k];\n                    if (item) {\n                        nes.push(item);\n                        out = out.concat(item.f || []);\n                    }\n                }\n            }\n            es = nes;\n        }\n        return out;\n    };\n    /*\\\n     * eve.separator\n     [ method ]\n\n     * If for some reasons you donât like default separators (`.` or `/`) you can specify yours\n     * here. Be aware that if you pass a string longer than one character it will be treated as\n     * a list of characters.\n\n     - separator (string) new separator. Empty string resets to default: `.` or `/`.\n    \\*/\n    eve.separator = function (sep) {\n        if (sep) {\n            sep = Str(sep).replace(/(?=[\\.\\^\\]\\[\\-])/g, "\\\\");\n            sep = "[" + sep + "]";\n            separator = new RegExp(sep);\n        } else {\n            separator = /[\\.\\/]/;\n        }\n    };\n    /*\\\n     * eve.on\n     [ method ]\n     **\n     * Binds given event handler with a given name. You can use wildcards â`*`â for the names:\n     | eve.on("*.under.*", f);\n     | eve("mouse.under.floor"); // triggers f\n     * Use @eve to trigger the listener.\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     - name (array) if you donât want to use separators, you can use array of strings\n     - f (function) event handler function\n     **\n     = (function) returned function accepts a single numeric parameter that represents z-index of the handler. It is an optional feature and only used when you need to ensure that some subset of handlers will be invoked in a given order, despite of the order of assignment. \n     > Example:\n     | eve.on("mouse", eatIt)(2);\n     | eve.on("mouse", scream);\n     | eve.on("mouse", catchIt)(1);\n     * This will ensure that `catchIt` function will be called before `eatIt`.\n     *\n     * If you want to put your handler before non-indexed handlers, specify a negative value.\n     * Note: I assume most of the time you donât need to worry about z-index, but itâs nice to have this feature âjust in caseâ.\n    \\*/\n    eve.on = function (name, f) {\n        if (typeof f != "function") {\n            return function () {};\n        }\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\n        for (var i = 0, ii = names.length; i < ii; i++) {\n            (function (name) {\n                var names = isArray(name) ? name : Str(name).split(separator),\n                    e = events,\n                    exist;\n                for (var i = 0, ii = names.length; i < ii; i++) {\n                    e = e.n;\n                    e = e.hasOwnProperty(names[i]) && e[names[i]] || (e[names[i]] = {n: {}});\n                }\n                e.f = e.f || [];\n                for (i = 0, ii = e.f.length; i < ii; i++) if (e.f[i] == f) {\n                    exist = true;\n                    break;\n                }\n                !exist && e.f.push(f);\n            }(names[i]));\n        }\n        return function (zIndex) {\n            if (+zIndex == +zIndex) {\n                f.zIndex = +zIndex;\n            }\n        };\n    };\n    /*\\\n     * eve.f\n     [ method ]\n     **\n     * Returns function that will fire given event with optional arguments.\n     * Arguments that will be passed to the result function will be also\n     * concated to the list of final arguments.\n     | el.onclick = eve.f("click", 1, 2);\n     | eve.on("click", function (a, b, c) {\n     |     console.log(a, b, c); // 1, 2, [event object]\n     | });\n     > Arguments\n     - event (string) event name\n     - varargs (â¦) and any other arguments\n     = (function) possible event handler function\n    \\*/\n    eve.f = function (event) {\n        var attrs = [].slice.call(arguments, 1);\n        return function () {\n            eve.apply(null, [event, null].concat(attrs).concat([].slice.call(arguments, 0)));\n        };\n    };\n    /*\\\n     * eve.stop\n     [ method ]\n     **\n     * Is used inside an event handler to stop the event, preventing any subsequent listeners from firing.\n    \\*/\n    eve.stop = function () {\n        stop = 1;\n    };\n    /*\\\n     * eve.nt\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     > Arguments\n     **\n     - subname (string) #optional subname of the event\n     **\n     = (string) name of the event, if `subname` is not specified\n     * or\n     = (boolean) `true`, if current eventâs name contains `subname`\n    \\*/\n    eve.nt = function (subname) {\n        var cur = isArray(current_event) ? current_event.join(".") : current_event;\n        if (subname) {\n            return new RegExp("(?:\\\\.|\\\\/|^)" + subname + "(?:\\\\.|\\\\/|$)").test(cur);\n        }\n        return cur;\n    };\n    /*\\\n     * eve.nts\n     [ method ]\n     **\n     * Could be used inside event handler to figure out actual name of the event.\n     **\n     **\n     = (array) names of the event\n    \\*/\n    eve.nts = function () {\n        return isArray(current_event) ? current_event : current_event.split(separator);\n    };\n    /*\\\n     * eve.off\n     [ method ]\n     **\n     * Removes given function from the list of event listeners assigned to given name.\n     * If no arguments specified all the events will be cleared.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n    \\*/\n    /*\\\n     * eve.unbind\n     [ method ]\n     **\n     * See @eve.off\n    \\*/\n    eve.off = eve.unbind = function (name, f) {\n        if (!name) {\n            eve._events = events = {n: {}};\n            return;\n        }\n        var names = isArray(name) ? (isArray(name[0]) ? name : [name]) : Str(name).split(comaseparator);\n        if (names.length > 1) {\n            for (var i = 0, ii = names.length; i < ii; i++) {\n                eve.off(names[i], f);\n            }\n            return;\n        }\n        names = isArray(name) ? name : Str(name).split(separator);\n        var e,\n            key,\n            splice,\n            i, ii, j, jj,\n            cur = [events];\n        for (i = 0, ii = names.length; i < ii; i++) {\n            for (j = 0; j < cur.length; j += splice.length - 2) {\n                splice = [j, 1];\n                e = cur[j].n;\n                if (names[i] != wildcard) {\n                    if (e[names[i]]) {\n                        splice.push(e[names[i]]);\n                    }\n                } else {\n                    for (key in e) if (e[has](key)) {\n                        splice.push(e[key]);\n                    }\n                }\n                cur.splice.apply(cur, splice);\n            }\n        }\n        for (i = 0, ii = cur.length; i < ii; i++) {\n            e = cur[i];\n            while (e.n) {\n                if (f) {\n                    if (e.f) {\n                        for (j = 0, jj = e.f.length; j < jj; j++) if (e.f[j] == f) {\n                            e.f.splice(j, 1);\n                            break;\n                        }\n                        !e.f.length && delete e.f;\n                    }\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        var funcs = e.n[key].f;\n                        for (j = 0, jj = funcs.length; j < jj; j++) if (funcs[j] == f) {\n                            funcs.splice(j, 1);\n                            break;\n                        }\n                        !funcs.length && delete e.n[key].f;\n                    }\n                } else {\n                    delete e.f;\n                    for (key in e.n) if (e.n[has](key) && e.n[key].f) {\n                        delete e.n[key].f;\n                    }\n                }\n                e = e.n;\n            }\n        }\n    };\n    /*\\\n     * eve.once\n     [ method ]\n     **\n     * Binds given event handler with a given name to only run once then unbind itself.\n     | eve.once("login", f);\n     | eve("login"); // triggers f\n     | eve("login"); // no listeners\n     * Use @eve to trigger the listener.\n     **\n     > Arguments\n     **\n     - name (string) name of the event, dot (`.`) or slash (`/`) separated, with optional wildcards\n     - f (function) event handler function\n     **\n     = (function) same return function as @eve.on\n    \\*/\n    eve.once = function (name, f) {\n        var f2 = function () {\n            eve.off(name, f2);\n            return f.apply(this, arguments);\n        };\n        return eve.on(name, f2);\n    };\n    /*\\\n     * eve.version\n     [ property (string) ]\n     **\n     * Current version of the library.\n    \\*/\n    eve.version = version;\n    eve.toString = function () {\n        return "You are running Eve " + version;\n    };\n    ( true && module.exports) ? (module.exports = eve) : ( true ? (!(__WEBPACK_AMD_DEFINE_ARRAY__ = [], __WEBPACK_AMD_DEFINE_RESULT__ = (function() { return eve; }).apply(exports, __WEBPACK_AMD_DEFINE_ARRAY__),\n\t\t\t\t__WEBPACK_AMD_DEFINE_RESULT__ !== undefined && (module.exports = __WEBPACK_AMD_DEFINE_RESULT__))) : (undefined));\n})(this);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9ub2RlX21vZHVsZXMvZXZlLXJhcGhhZWwvZXZlLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vUmFwaGFlbC8uL25vZGVfbW9kdWxlcy9ldmUtcmFwaGFlbC9ldmUuanM/ZDJiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDb3B5cmlnaHQgKGMpIDIwMTMgQWRvYmUgU3lzdGVtcyBJbmNvcnBvcmF0ZWQuIEFsbCByaWdodHMgcmVzZXJ2ZWQuXG4vLyBcbi8vIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4vLyB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4vLyBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbi8vIFxuLy8gaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4vLyBcbi8vIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbi8vIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbi8vIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuLy8gU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuLy8gbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4vLyDilIzilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilJAgXFxcXFxuLy8g4pSCIEV2ZSAwLjUuMCAtIEphdmFTY3JpcHQgRXZlbnRzIExpYnJhcnkgICAgICAgICAgICAgICAgICAgICAg4pSCIFxcXFxcbi8vIOKUnOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUpCBcXFxcXG4vLyDilIIgQXV0aG9yIERtaXRyeSBCYXJhbm92c2tpeSAoaHR0cDovL2RtaXRyeS5iYXJhbm92c2tpeS5jb20vKSDilIIgXFxcXFxuLy8g4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSYIFxcXFxcblxuKGZ1bmN0aW9uIChnbG9iKSB7XG4gICAgdmFyIHZlcnNpb24gPSBcIjAuNS4wXCIsXG4gICAgICAgIGhhcyA9IFwiaGFzT3duUHJvcGVydHlcIixcbiAgICAgICAgc2VwYXJhdG9yID0gL1tcXC5cXC9dLyxcbiAgICAgICAgY29tYXNlcGFyYXRvciA9IC9cXHMqLFxccyovLFxuICAgICAgICB3aWxkY2FyZCA9IFwiKlwiLFxuICAgICAgICBmdW4gPSBmdW5jdGlvbiAoKSB7fSxcbiAgICAgICAgbnVtc29ydCA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgICAgICByZXR1cm4gYSAtIGI7XG4gICAgICAgIH0sXG4gICAgICAgIGN1cnJlbnRfZXZlbnQsXG4gICAgICAgIHN0b3AsXG4gICAgICAgIGV2ZW50cyA9IHtuOiB7fX0sXG4gICAgICAgIGZpcnN0RGVmaW5lZCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IHRoaXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tpXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgbGFzdERlZmluZWQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgaSA9IHRoaXMubGVuZ3RoO1xuICAgICAgICAgICAgd2hpbGUgKC0taSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1tpXSAhPSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgb2JqdG9zID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxcbiAgICAgICAgU3RyID0gU3RyaW5nLFxuICAgICAgICBpc0FycmF5ID0gQXJyYXkuaXNBcnJheSB8fCBmdW5jdGlvbiAoYXIpIHtcbiAgICAgICAgICAgIHJldHVybiBhciBpbnN0YW5jZW9mIEFycmF5IHx8IG9ianRvcy5jYWxsKGFyKSA9PSBcIltvYmplY3QgQXJyYXldXCI7XG4gICAgICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZVxuICAgICBbIG1ldGhvZCBdXG5cbiAgICAgKiBGaXJlcyBldmVudCB3aXRoIGdpdmVuIGBuYW1lYCwgZ2l2ZW4gc2NvcGUgYW5kIG90aGVyIHBhcmFtZXRlcnMuXG5cbiAgICAgPiBBcmd1bWVudHNcblxuICAgICAtIG5hbWUgKHN0cmluZykgbmFtZSBvZiB0aGUgKmV2ZW50KiwgZG90IChgLmApIG9yIHNsYXNoIChgL2ApIHNlcGFyYXRlZFxuICAgICAtIHNjb3BlIChvYmplY3QpIGNvbnRleHQgZm9yIHRoZSBldmVudCBoYW5kbGVyc1xuICAgICAtIHZhcmFyZ3MgKC4uLikgdGhlIHJlc3Qgb2YgYXJndW1lbnRzIHdpbGwgYmUgc2VudCB0byBldmVudCBoYW5kbGVyc1xuXG4gICAgID0gKG9iamVjdCkgYXJyYXkgb2YgcmV0dXJuZWQgdmFsdWVzIGZyb20gdGhlIGxpc3RlbmVycy4gQXJyYXkgaGFzIHR3byBtZXRob2RzIGAuZmlyc3REZWZpbmVkKClgIGFuZCBgLmxhc3REZWZpbmVkKClgIHRvIGdldCBmaXJzdCBvciBsYXN0IG5vdCBgdW5kZWZpbmVkYCB2YWx1ZS5cbiAgICBcXCovXG4gICAgICAgIHZhciBldmUgPSBmdW5jdGlvbiAobmFtZSwgc2NvcGUpIHtcbiAgICAgICAgICAgIHZhciBlID0gZXZlbnRzLFxuICAgICAgICAgICAgICAgIG9sZHN0b3AgPSBzdG9wLFxuICAgICAgICAgICAgICAgIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDIpLFxuICAgICAgICAgICAgICAgIGxpc3RlbmVycyA9IGV2ZS5saXN0ZW5lcnMobmFtZSksXG4gICAgICAgICAgICAgICAgeiA9IDAsXG4gICAgICAgICAgICAgICAgZiA9IGZhbHNlLFxuICAgICAgICAgICAgICAgIGwsXG4gICAgICAgICAgICAgICAgaW5kZXhlZCA9IFtdLFxuICAgICAgICAgICAgICAgIHF1ZXVlID0ge30sXG4gICAgICAgICAgICAgICAgb3V0ID0gW10sXG4gICAgICAgICAgICAgICAgY2UgPSBjdXJyZW50X2V2ZW50LFxuICAgICAgICAgICAgICAgIGVycm9ycyA9IFtdO1xuICAgICAgICAgICAgb3V0LmZpcnN0RGVmaW5lZCA9IGZpcnN0RGVmaW5lZDtcbiAgICAgICAgICAgIG91dC5sYXN0RGVmaW5lZCA9IGxhc3REZWZpbmVkO1xuICAgICAgICAgICAgY3VycmVudF9ldmVudCA9IG5hbWU7XG4gICAgICAgICAgICBzdG9wID0gMDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IGxpc3RlbmVycy5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAoXCJ6SW5kZXhcIiBpbiBsaXN0ZW5lcnNbaV0pIHtcbiAgICAgICAgICAgICAgICBpbmRleGVkLnB1c2gobGlzdGVuZXJzW2ldLnpJbmRleCk7XG4gICAgICAgICAgICAgICAgaWYgKGxpc3RlbmVyc1tpXS56SW5kZXggPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHF1ZXVlW2xpc3RlbmVyc1tpXS56SW5kZXhdID0gbGlzdGVuZXJzW2ldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGluZGV4ZWQuc29ydChudW1zb3J0KTtcbiAgICAgICAgICAgIHdoaWxlIChpbmRleGVkW3pdIDwgMCkge1xuICAgICAgICAgICAgICAgIGwgPSBxdWV1ZVtpbmRleGVkW3orK11dO1xuICAgICAgICAgICAgICAgIG91dC5wdXNoKGwuYXBwbHkoc2NvcGUsIGFyZ3MpKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICBzdG9wID0gb2xkc3RvcDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG91dDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgIGwgPSBsaXN0ZW5lcnNbaV07XG4gICAgICAgICAgICAgICAgaWYgKFwiekluZGV4XCIgaW4gbCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobC56SW5kZXggPT0gaW5kZXhlZFt6XSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6Kys7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbCA9IHF1ZXVlW2luZGV4ZWRbel1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGwgJiYgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0gd2hpbGUgKGwpXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBxdWV1ZVtsLnpJbmRleF0gPSBsO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0LnB1c2gobC5hcHBseShzY29wZSwgYXJncykpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RvcCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzdG9wID0gb2xkc3RvcDtcbiAgICAgICAgICAgIGN1cnJlbnRfZXZlbnQgPSBjZTtcbiAgICAgICAgICAgIHJldHVybiBvdXQ7XG4gICAgICAgIH07XG4gICAgICAgIC8vIFVuZG9jdW1lbnRlZC4gRGVidWcgb25seS5cbiAgICAgICAgZXZlLl9ldmVudHMgPSBldmVudHM7XG4gICAgLypcXFxuICAgICAqIGV2ZS5saXN0ZW5lcnNcbiAgICAgWyBtZXRob2QgXVxuXG4gICAgICogSW50ZXJuYWwgbWV0aG9kIHdoaWNoIGdpdmVzIHlvdSBhcnJheSBvZiBhbGwgZXZlbnQgaGFuZGxlcnMgdGhhdCB3aWxsIGJlIHRyaWdnZXJlZCBieSB0aGUgZ2l2ZW4gYG5hbWVgLlxuXG4gICAgID4gQXJndW1lbnRzXG5cbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkXG5cbiAgICAgPSAoYXJyYXkpIGFycmF5IG9mIGV2ZW50IGhhbmRsZXJzXG4gICAgXFwqL1xuICAgIGV2ZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gbmFtZSA6IG5hbWUuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgIGUgPSBldmVudHMsXG4gICAgICAgICAgICBpdGVtLFxuICAgICAgICAgICAgaXRlbXMsXG4gICAgICAgICAgICBrLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGlpLFxuICAgICAgICAgICAgaixcbiAgICAgICAgICAgIGpqLFxuICAgICAgICAgICAgbmVzLFxuICAgICAgICAgICAgZXMgPSBbZV0sXG4gICAgICAgICAgICBvdXQgPSBbXTtcbiAgICAgICAgZm9yIChpID0gMCwgaWkgPSBuYW1lcy5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBuZXMgPSBbXTtcbiAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZXMubGVuZ3RoOyBqIDwgamo7IGorKykge1xuICAgICAgICAgICAgICAgIGUgPSBlc1tqXS5uO1xuICAgICAgICAgICAgICAgIGl0ZW1zID0gW2VbbmFtZXNbaV1dLCBlW3dpbGRjYXJkXV07XG4gICAgICAgICAgICAgICAgayA9IDI7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGstLSkge1xuICAgICAgICAgICAgICAgICAgICBpdGVtID0gaXRlbXNba107XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXMucHVzaChpdGVtKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dCA9IG91dC5jb25jYXQoaXRlbS5mIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVzID0gbmVzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvdXQ7XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogZXZlLnNlcGFyYXRvclxuICAgICBbIG1ldGhvZCBdXG5cbiAgICAgKiBJZiBmb3Igc29tZSByZWFzb25zIHlvdSBkb27igJl0IGxpa2UgZGVmYXVsdCBzZXBhcmF0b3JzIChgLmAgb3IgYC9gKSB5b3UgY2FuIHNwZWNpZnkgeW91cnNcbiAgICAgKiBoZXJlLiBCZSBhd2FyZSB0aGF0IGlmIHlvdSBwYXNzIGEgc3RyaW5nIGxvbmdlciB0aGFuIG9uZSBjaGFyYWN0ZXIgaXQgd2lsbCBiZSB0cmVhdGVkIGFzXG4gICAgICogYSBsaXN0IG9mIGNoYXJhY3RlcnMuXG5cbiAgICAgLSBzZXBhcmF0b3IgKHN0cmluZykgbmV3IHNlcGFyYXRvci4gRW1wdHkgc3RyaW5nIHJlc2V0cyB0byBkZWZhdWx0OiBgLmAgb3IgYC9gLlxuICAgIFxcKi9cbiAgICBldmUuc2VwYXJhdG9yID0gZnVuY3Rpb24gKHNlcCkge1xuICAgICAgICBpZiAoc2VwKSB7XG4gICAgICAgICAgICBzZXAgPSBTdHIoc2VwKS5yZXBsYWNlKC8oPz1bXFwuXFxeXFxdXFxbXFwtXSkvZywgXCJcXFxcXCIpO1xuICAgICAgICAgICAgc2VwID0gXCJbXCIgKyBzZXAgKyBcIl1cIjtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IG5ldyBSZWdFeHAoc2VwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNlcGFyYXRvciA9IC9bXFwuXFwvXS87XG4gICAgICAgIH1cbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBldmUub25cbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEJpbmRzIGdpdmVuIGV2ZW50IGhhbmRsZXIgd2l0aCBhIGdpdmVuIG5hbWUuIFlvdSBjYW4gdXNlIHdpbGRjYXJkcyDigJxgKmDigJ0gZm9yIHRoZSBuYW1lczpcbiAgICAgfCBldmUub24oXCIqLnVuZGVyLipcIiwgZik7XG4gICAgIHwgZXZlKFwibW91c2UudW5kZXIuZmxvb3JcIik7IC8vIHRyaWdnZXJzIGZcbiAgICAgKiBVc2UgQGV2ZSB0byB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICoqXG4gICAgIC0gbmFtZSAoYXJyYXkpIGlmIHlvdSBkb27igJl0IHdhbnQgdG8gdXNlIHNlcGFyYXRvcnMsIHlvdSBjYW4gdXNlIGFycmF5IG9mIHN0cmluZ3NcbiAgICAgLSBmIChmdW5jdGlvbikgZXZlbnQgaGFuZGxlciBmdW5jdGlvblxuICAgICAqKlxuICAgICA9IChmdW5jdGlvbikgcmV0dXJuZWQgZnVuY3Rpb24gYWNjZXB0cyBhIHNpbmdsZSBudW1lcmljIHBhcmFtZXRlciB0aGF0IHJlcHJlc2VudHMgei1pbmRleCBvZiB0aGUgaGFuZGxlci4gSXQgaXMgYW4gb3B0aW9uYWwgZmVhdHVyZSBhbmQgb25seSB1c2VkIHdoZW4geW91IG5lZWQgdG8gZW5zdXJlIHRoYXQgc29tZSBzdWJzZXQgb2YgaGFuZGxlcnMgd2lsbCBiZSBpbnZva2VkIGluIGEgZ2l2ZW4gb3JkZXIsIGRlc3BpdGUgb2YgdGhlIG9yZGVyIG9mIGFzc2lnbm1lbnQuIFxuICAgICA+IEV4YW1wbGU6XG4gICAgIHwgZXZlLm9uKFwibW91c2VcIiwgZWF0SXQpKDIpO1xuICAgICB8IGV2ZS5vbihcIm1vdXNlXCIsIHNjcmVhbSk7XG4gICAgIHwgZXZlLm9uKFwibW91c2VcIiwgY2F0Y2hJdCkoMSk7XG4gICAgICogVGhpcyB3aWxsIGVuc3VyZSB0aGF0IGBjYXRjaEl0YCBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBiZWZvcmUgYGVhdEl0YC5cbiAgICAgKlxuICAgICAqIElmIHlvdSB3YW50IHRvIHB1dCB5b3VyIGhhbmRsZXIgYmVmb3JlIG5vbi1pbmRleGVkIGhhbmRsZXJzLCBzcGVjaWZ5IGEgbmVnYXRpdmUgdmFsdWUuXG4gICAgICogTm90ZTogSSBhc3N1bWUgbW9zdCBvZiB0aGUgdGltZSB5b3UgZG9u4oCZdCBuZWVkIHRvIHdvcnJ5IGFib3V0IHotaW5kZXgsIGJ1dCBpdOKAmXMgbmljZSB0byBoYXZlIHRoaXMgZmVhdHVyZSDigJxqdXN0IGluIGNhc2XigJ0uXG4gICAgXFwqL1xuICAgIGV2ZS5vbiA9IGZ1bmN0aW9uIChuYW1lLCBmKSB7XG4gICAgICAgIGlmICh0eXBlb2YgZiAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7fTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gKGlzQXJyYXkobmFtZVswXSkgPyBuYW1lIDogW25hbWVdKSA6IFN0cihuYW1lKS5zcGxpdChjb21hc2VwYXJhdG9yKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgICAgICAgICAgdmFyIG5hbWVzID0gaXNBcnJheShuYW1lKSA/IG5hbWUgOiBTdHIobmFtZSkuc3BsaXQoc2VwYXJhdG9yKSxcbiAgICAgICAgICAgICAgICAgICAgZSA9IGV2ZW50cyxcbiAgICAgICAgICAgICAgICAgICAgZXhpc3Q7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBlID0gZS5uO1xuICAgICAgICAgICAgICAgICAgICBlID0gZS5oYXNPd25Qcm9wZXJ0eShuYW1lc1tpXSkgJiYgZVtuYW1lc1tpXV0gfHwgKGVbbmFtZXNbaV1dID0ge246IHt9fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGUuZiA9IGUuZiB8fCBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGUuZi5sZW5ndGg7IGkgPCBpaTsgaSsrKSBpZiAoZS5mW2ldID09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgZXhpc3QgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgIWV4aXN0ICYmIGUuZi5wdXNoKGYpO1xuICAgICAgICAgICAgfShuYW1lc1tpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoekluZGV4KSB7XG4gICAgICAgICAgICBpZiAoK3pJbmRleCA9PSArekluZGV4KSB7XG4gICAgICAgICAgICAgICAgZi56SW5kZXggPSArekluZGV4O1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5mXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBSZXR1cm5zIGZ1bmN0aW9uIHRoYXQgd2lsbCBmaXJlIGdpdmVuIGV2ZW50IHdpdGggb3B0aW9uYWwgYXJndW1lbnRzLlxuICAgICAqIEFyZ3VtZW50cyB0aGF0IHdpbGwgYmUgcGFzc2VkIHRvIHRoZSByZXN1bHQgZnVuY3Rpb24gd2lsbCBiZSBhbHNvXG4gICAgICogY29uY2F0ZWQgdG8gdGhlIGxpc3Qgb2YgZmluYWwgYXJndW1lbnRzLlxuICAgICB8IGVsLm9uY2xpY2sgPSBldmUuZihcImNsaWNrXCIsIDEsIDIpO1xuICAgICB8IGV2ZS5vbihcImNsaWNrXCIsIGZ1bmN0aW9uIChhLCBiLCBjKSB7XG4gICAgIHwgICAgIGNvbnNvbGUubG9nKGEsIGIsIGMpOyAvLyAxLCAyLCBbZXZlbnQgb2JqZWN0XVxuICAgICB8IH0pO1xuICAgICA+IEFyZ3VtZW50c1xuICAgICAtIGV2ZW50IChzdHJpbmcpIGV2ZW50IG5hbWVcbiAgICAgLSB2YXJhcmdzICjigKYpIGFuZCBhbnkgb3RoZXIgYXJndW1lbnRzXG4gICAgID0gKGZ1bmN0aW9uKSBwb3NzaWJsZSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgXFwqL1xuICAgIGV2ZS5mID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBhdHRycyA9IFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGV2ZS5hcHBseShudWxsLCBbZXZlbnQsIG51bGxdLmNvbmNhdChhdHRycykuY29uY2F0KFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAwKSkpO1xuICAgICAgICB9O1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5zdG9wXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBJcyB1c2VkIGluc2lkZSBhbiBldmVudCBoYW5kbGVyIHRvIHN0b3AgdGhlIGV2ZW50LCBwcmV2ZW50aW5nIGFueSBzdWJzZXF1ZW50IGxpc3RlbmVycyBmcm9tIGZpcmluZy5cbiAgICBcXCovXG4gICAgZXZlLnN0b3AgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHN0b3AgPSAxO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5udFxuICAgICBbIG1ldGhvZCBdXG4gICAgICoqXG4gICAgICogQ291bGQgYmUgdXNlZCBpbnNpZGUgZXZlbnQgaGFuZGxlciB0byBmaWd1cmUgb3V0IGFjdHVhbCBuYW1lIG9mIHRoZSBldmVudC5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBzdWJuYW1lIChzdHJpbmcpICNvcHRpb25hbCBzdWJuYW1lIG9mIHRoZSBldmVudFxuICAgICAqKlxuICAgICA9IChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBpZiBgc3VibmFtZWAgaXMgbm90IHNwZWNpZmllZFxuICAgICAqIG9yXG4gICAgID0gKGJvb2xlYW4pIGB0cnVlYCwgaWYgY3VycmVudCBldmVudOKAmXMgbmFtZSBjb250YWlucyBgc3VibmFtZWBcbiAgICBcXCovXG4gICAgZXZlLm50ID0gZnVuY3Rpb24gKHN1Ym5hbWUpIHtcbiAgICAgICAgdmFyIGN1ciA9IGlzQXJyYXkoY3VycmVudF9ldmVudCkgPyBjdXJyZW50X2V2ZW50LmpvaW4oXCIuXCIpIDogY3VycmVudF9ldmVudDtcbiAgICAgICAgaWYgKHN1Ym5hbWUpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmVnRXhwKFwiKD86XFxcXC58XFxcXC98XilcIiArIHN1Ym5hbWUgKyBcIig/OlxcXFwufFxcXFwvfCQpXCIpLnRlc3QoY3VyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY3VyO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5udHNcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIENvdWxkIGJlIHVzZWQgaW5zaWRlIGV2ZW50IGhhbmRsZXIgdG8gZmlndXJlIG91dCBhY3R1YWwgbmFtZSBvZiB0aGUgZXZlbnQuXG4gICAgICoqXG4gICAgICoqXG4gICAgID0gKGFycmF5KSBuYW1lcyBvZiB0aGUgZXZlbnRcbiAgICBcXCovXG4gICAgZXZlLm50cyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGlzQXJyYXkoY3VycmVudF9ldmVudCkgPyBjdXJyZW50X2V2ZW50IDogY3VycmVudF9ldmVudC5zcGxpdChzZXBhcmF0b3IpO1xuICAgIH07XG4gICAgLypcXFxuICAgICAqIGV2ZS5vZmZcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIFJlbW92ZXMgZ2l2ZW4gZnVuY3Rpb24gZnJvbSB0aGUgbGlzdCBvZiBldmVudCBsaXN0ZW5lcnMgYXNzaWduZWQgdG8gZ2l2ZW4gbmFtZS5cbiAgICAgKiBJZiBubyBhcmd1bWVudHMgc3BlY2lmaWVkIGFsbCB0aGUgZXZlbnRzIHdpbGwgYmUgY2xlYXJlZC5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgXFwqL1xuICAgIC8qXFxcbiAgICAgKiBldmUudW5iaW5kXG4gICAgIFsgbWV0aG9kIF1cbiAgICAgKipcbiAgICAgKiBTZWUgQGV2ZS5vZmZcbiAgICBcXCovXG4gICAgZXZlLm9mZiA9IGV2ZS51bmJpbmQgPSBmdW5jdGlvbiAobmFtZSwgZikge1xuICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgIGV2ZS5fZXZlbnRzID0gZXZlbnRzID0ge246IHt9fTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbmFtZXMgPSBpc0FycmF5KG5hbWUpID8gKGlzQXJyYXkobmFtZVswXSkgPyBuYW1lIDogW25hbWVdKSA6IFN0cihuYW1lKS5zcGxpdChjb21hc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKG5hbWVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBpaSA9IG5hbWVzLmxlbmd0aDsgaSA8IGlpOyBpKyspIHtcbiAgICAgICAgICAgICAgICBldmUub2ZmKG5hbWVzW2ldLCBmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuYW1lcyA9IGlzQXJyYXkobmFtZSkgPyBuYW1lIDogU3RyKG5hbWUpLnNwbGl0KHNlcGFyYXRvcik7XG4gICAgICAgIHZhciBlLFxuICAgICAgICAgICAga2V5LFxuICAgICAgICAgICAgc3BsaWNlLFxuICAgICAgICAgICAgaSwgaWksIGosIGpqLFxuICAgICAgICAgICAgY3VyID0gW2V2ZW50c107XG4gICAgICAgIGZvciAoaSA9IDAsIGlpID0gbmFtZXMubGVuZ3RoOyBpIDwgaWk7IGkrKykge1xuICAgICAgICAgICAgZm9yIChqID0gMDsgaiA8IGN1ci5sZW5ndGg7IGogKz0gc3BsaWNlLmxlbmd0aCAtIDIpIHtcbiAgICAgICAgICAgICAgICBzcGxpY2UgPSBbaiwgMV07XG4gICAgICAgICAgICAgICAgZSA9IGN1cltqXS5uO1xuICAgICAgICAgICAgICAgIGlmIChuYW1lc1tpXSAhPSB3aWxkY2FyZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZVtuYW1lc1tpXV0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwbGljZS5wdXNoKGVbbmFtZXNbaV1dKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGUpIGlmIChlW2hhc10oa2V5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3BsaWNlLnB1c2goZVtrZXldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdXIuc3BsaWNlLmFwcGx5KGN1ciwgc3BsaWNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmb3IgKGkgPSAwLCBpaSA9IGN1ci5sZW5ndGg7IGkgPCBpaTsgaSsrKSB7XG4gICAgICAgICAgICBlID0gY3VyW2ldO1xuICAgICAgICAgICAgd2hpbGUgKGUubikge1xuICAgICAgICAgICAgICAgIGlmIChmKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZS5mLmxlbmd0aDsgaiA8IGpqOyBqKyspIGlmIChlLmZbal0gPT0gZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUuZi5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhZS5mLmxlbmd0aCAmJiBkZWxldGUgZS5mO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGUubikgaWYgKGUubltoYXNdKGtleSkgJiYgZS5uW2tleV0uZikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZ1bmNzID0gZS5uW2tleV0uZjtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaiA9IDAsIGpqID0gZnVuY3MubGVuZ3RoOyBqIDwgamo7IGorKykgaWYgKGZ1bmNzW2pdID09IGYpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jcy5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAhZnVuY3MubGVuZ3RoICYmIGRlbGV0ZSBlLm5ba2V5XS5mO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGUuZjtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gZS5uKSBpZiAoZS5uW2hhc10oa2V5KSAmJiBlLm5ba2V5XS5mKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgZS5uW2tleV0uZjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlID0gZS5uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICAvKlxcXG4gICAgICogZXZlLm9uY2VcbiAgICAgWyBtZXRob2QgXVxuICAgICAqKlxuICAgICAqIEJpbmRzIGdpdmVuIGV2ZW50IGhhbmRsZXIgd2l0aCBhIGdpdmVuIG5hbWUgdG8gb25seSBydW4gb25jZSB0aGVuIHVuYmluZCBpdHNlbGYuXG4gICAgIHwgZXZlLm9uY2UoXCJsb2dpblwiLCBmKTtcbiAgICAgfCBldmUoXCJsb2dpblwiKTsgLy8gdHJpZ2dlcnMgZlxuICAgICB8IGV2ZShcImxvZ2luXCIpOyAvLyBubyBsaXN0ZW5lcnNcbiAgICAgKiBVc2UgQGV2ZSB0byB0cmlnZ2VyIHRoZSBsaXN0ZW5lci5cbiAgICAgKipcbiAgICAgPiBBcmd1bWVudHNcbiAgICAgKipcbiAgICAgLSBuYW1lIChzdHJpbmcpIG5hbWUgb2YgdGhlIGV2ZW50LCBkb3QgKGAuYCkgb3Igc2xhc2ggKGAvYCkgc2VwYXJhdGVkLCB3aXRoIG9wdGlvbmFsIHdpbGRjYXJkc1xuICAgICAtIGYgKGZ1bmN0aW9uKSBldmVudCBoYW5kbGVyIGZ1bmN0aW9uXG4gICAgICoqXG4gICAgID0gKGZ1bmN0aW9uKSBzYW1lIHJldHVybiBmdW5jdGlvbiBhcyBAZXZlLm9uXG4gICAgXFwqL1xuICAgIGV2ZS5vbmNlID0gZnVuY3Rpb24gKG5hbWUsIGYpIHtcbiAgICAgICAgdmFyIGYyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZXZlLm9mZihuYW1lLCBmMik7XG4gICAgICAgICAgICByZXR1cm4gZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gZXZlLm9uKG5hbWUsIGYyKTtcbiAgICB9O1xuICAgIC8qXFxcbiAgICAgKiBldmUudmVyc2lvblxuICAgICBbIHByb3BlcnR5IChzdHJpbmcpIF1cbiAgICAgKipcbiAgICAgKiBDdXJyZW50IHZlcnNpb24gb2YgdGhlIGxpYnJhcnkuXG4gICAgXFwqL1xuICAgIGV2ZS52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICBldmUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBcIllvdSBhcmUgcnVubmluZyBFdmUgXCIgKyB2ZXJzaW9uO1xuICAgIH07XG4gICAgKHR5cGVvZiBtb2R1bGUgIT0gXCJ1bmRlZmluZWRcIiAmJiBtb2R1bGUuZXhwb3J0cykgPyAobW9kdWxlLmV4cG9ydHMgPSBldmUpIDogKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kID8gKGRlZmluZShcImV2ZVwiLCBbXSwgZnVuY3Rpb24oKSB7IHJldHVybiBldmU7IH0pKSA6IChnbG9iLmV2ZSA9IGV2ZSkpO1xufSkodGhpcyk7XG4iXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBOyIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./node_modules/eve-raphael/eve.js\n') } }, ZTd = {}, $Td.m = YTd, $Td.c = ZTd, $Td.d = function (t, e, n) { $Td.o(t, e) || Object.defineProperty(t, e, { enumerable: !0, get: n }) }, $Td.r = function (t) { "undefined" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(t, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(t, "__esModule", { value: !0 }) }, $Td.t = function (t, e) { if (1 & e && (t = $Td(t)), 8 & e) return t; if (4 & e && "object" == typeof t && t && t.__esModule) return t; var n = Object.create(null); if ($Td.r(n), Object.defineProperty(n, "default", { enumerable: !0, value: t }), 2 & e && "string" != typeof t) for (var i in t) $Td.d(n, i, function (e) { return t[e] }.bind(null, i)); return n }, $Td.n = function (t) { var e = t && t.__esModule ? function () { return t.default } : function () { return t }; return $Td.d(e, "a", e), e }, $Td.o = function (t, e) { return Object.prototype.hasOwnProperty.call(t, e) }, $Td.p = "", $Td($Td.s = "./dev/raphael.amd.js"); function $Td(t) { if (ZTd[t]) return ZTd[t].exports; var e = ZTd[t] = { i: t, l: !1, exports: {} }; return YTd[t].call(e.exports, e, e.exports, $Td), e.l = !0, e.exports } var YTd, ZTd }), function () { function t(t, e) { return function () { return t.apply(e, arguments) } } function e(t, e) { for (var n in e) g.call(e, n) && (t[n] = e[n]); function i() { this.constructor = t } return i.prototype = e.prototype, t.prototype = new i, t.__super__ = e.prototype, t } var n, i, o, a, r, s = [].slice, g = {}.hasOwnProperty, l = [].indexOf || function (t) { for (var e = 0, n = this.length; e < n; e++)if (e in this && this[e] === t) return e; return -1 }; function c() { } function I(e) { this.resizeHandler = t(this.resizeHandler, this); var i = this; if ("string" == typeof e.element ? this.el = n(document.getElementById(e.element)) : this.el = n(e.element), null == this.el || 0 === this.el.length) throw new Error("Graph container element not found"); "static" === this.el.css("position") && this.el.css("position", "relative"), this.options = n.extend({}, this.gridDefaults, this.defaults || {}, e), "string" == typeof this.options.units && (this.options.postUnits = e.units), this.raphael = new Raphael(this.el[0]), this.elementWidth = null, this.elementHeight = null, this.dirty = !1, this.selectFrom = null, this.init && this.init(), this.setData(this.options.data), this.el.bind("mousemove", function (t) { var e, n, o, a; return n = i.el.offset(), a = t.pageX - n.left, i.selectFrom ? (e = i.data[i.hitTest(Math.min(a, i.selectFrom))]._x, o = i.data[i.hitTest(Math.max(a, i.selectFrom))]._x - e, i.selectionRect.attr({ x: e, width: o })) : i.fire("hovermove", a, t.pageY - n.top) }), this.el.bind("mouseleave", function (t) { return i.selectFrom && (i.selectionRect.hide(), i.selectFrom = null), i.fire("hoverout") }), this.el.bind("touchstart touchmove touchend", function (t) { var e, n; return n = t.originalEvent.touches[0] || t.originalEvent.changedTouches[0], e = i.el.offset(), i.fire("hovermove", n.pageX - e.left, n.pageY - e.top) }), this.el.bind("click", function (t) { var e; return e = i.el.offset(), i.fire("gridclick", t.pageX - e.left, t.pageY - e.top) }), this.options.rangeSelect && (this.selectionRect = this.raphael.rect(0, 0, 0, this.el.innerHeight()).attr({ fill: this.options.rangeSelectColor, stroke: !1 }).toBack().hide(), this.el.bind("mousedown", function (t) { var e; return e = i.el.offset(), i.startRange(t.pageX - e.left) }), this.el.bind("mouseup", function (t) { var e; return e = i.el.offset(), i.endRange(t.pageX - e.left), i.fire("hovermove", t.pageX - e.left, t.pageY - e.top) })), this.options.resize && n(window).bind("resize", function (t) { return null != i.timeoutId && window.clearTimeout(i.timeoutId), i.timeoutId = window.setTimeout(i.resizeHandler, 100) }), this.el.css("-webkit-tap-highlight-color", "rgba(0,0,0,0)"), this.postInit && this.postInit() } function u(t) { null == t && (t = {}), this.options = n.extend({}, i.Hover.defaults, t), this.el = n("<div class='" + this.options.class + "'></div>"), this.el.hide(), this.options.parent.append(this.el) } function h(e) { if (this.hilight = t(this.hilight, this), this.onHoverOut = t(this.onHoverOut, this), this.onHoverMove = t(this.onHoverMove, this), this.onGridClick = t(this.onGridClick, this), !(this instanceof i.Line)) return new i.Line(e); h.__super__.constructor.call(this, e) } function d(t) { var e; if (!(this instanceof i.Area)) return new i.Area(t); e = n.extend({}, r, t), this.cumulative = !e.behaveLikeLine, "auto" === e.fillOpacity && (e.fillOpacity = e.behaveLikeLine ? .8 : 1), d.__super__.constructor.call(this, e) } function C(e) { if (this.onHoverOut = t(this.onHoverOut, this), this.onHoverMove = t(this.onHoverMove, this), this.onGridClick = t(this.onGridClick, this), !(this instanceof i.Bar)) return new i.Bar(e); C.__super__.constructor.call(this, n.extend({}, e, { parseTime: !1 })) } function A(e) { this.resizeHandler = t(this.resizeHandler, this), this.select = t(this.select, this), this.click = t(this.click, this); var o = this; if (!(this instanceof i.Donut)) return new i.Donut(e); if (this.options = n.extend({}, this.defaults, e), "string" == typeof e.element ? this.el = n(document.getElementById(e.element)) : this.el = n(e.element), null === this.el || 0 === this.el.length) throw new Error("Graph placeholder not found."); void 0 !== e.data && 0 !== e.data.length && (this.raphael = new Raphael(this.el[0]), this.options.resize && n(window).bind("resize", function (t) { return null != o.timeoutId && window.clearTimeout(o.timeoutId), o.timeoutId = window.setTimeout(o.resizeHandler, 100) }), this.setData(e.data)) } function p(e, n, i, o, a, r, s, g, l, c) { this.cx = e, this.cy = n, this.inner = i, this.outer = o, this.color = s, this.backgroundColor = g, this.index = l, this.raphael = c, this.deselect = t(this.deselect, this), this.select = t(this.select, this), this.sin_p0 = Math.sin(a), this.cos_p0 = Math.cos(a), this.sin_p1 = Math.sin(r), this.cos_p1 = Math.cos(r), this.is_long = r - a > Math.PI ? 1 : 0, this.path = this.calcSegment(this.inner + 3, this.inner + this.outer - 5), this.selectedPath = this.calcSegment(this.inner + 3, this.inner + this.outer), this.hilight = this.calcArc(this.inner) } i = window.Morris = {}, n = jQuery, i.EventEmitter = (c.prototype.on = function (t, e) { return null == this.handlers && (this.handlers = {}), null == this.handlers[t] && (this.handlers[t] = []), this.handlers[t].push(e), this }, c.prototype.fire = function () { var t, e, n, i, o, a, r; if (n = arguments[0], t = 2 <= arguments.length ? s.call(arguments, 1) : [], null != this.handlers && null != this.handlers[n]) { for (r = [], i = 0, o = (a = this.handlers[n]).length; i < o; i++)e = a[i], r.push(e.apply(null, t)); return r } }, c), i.commas = function (t) { var e, n, i, o; return null != t ? (i = t < 0 ? "-" : "", e = Math.abs(t), i += (n = Math.floor(e).toFixed(0)).replace(/(?=(?:\d{3})+$)(?!^)/g, ","), (o = e.toString()).length > n.length && (i += o.slice(n.length)), i) : "-" }, i.pad2 = function (t) { return (t < 10 ? "0" : "") + t }, i.Grid = (e(I, i.EventEmitter), I.prototype.gridDefaults = { dateFormat: null, axes: !0, grid: !0, gridLineColor: "#aaa", gridStrokeWidth: .5, gridTextColor: "#888", gridTextSize: 12, gridTextFamily: "sans-serif", gridTextWeight: "normal", hideHover: !1, yLabelFormat: null, xLabelAngle: 0, numLines: 5, padding: 25, parseTime: !0, postUnits: "", preUnits: "", ymax: "auto", ymin: "auto 0", goals: [], goalStrokeWidth: 1, goalLineColors: ["#666633", "#999966", "#cc6666", "#663333"], events: [], eventStrokeWidth: 1, eventLineColors: ["#005a04", "#ccffbb", "#3a5f0b", "#005502"], rangeSelect: null, rangeSelectColor: "#eef", resize: !1 }, I.prototype.setData = function (t, e) { var n, o, a, r, s, g, l, c, I, u, h, d, C, A, p; return null == e && (e = !0), null == (this.options.data = t) || 0 === t.length ? (this.data = [], this.raphael.clear(), void (null != this.hover && this.hover.hide())) : (d = this.cumulative ? 0 : null, C = this.cumulative ? 0 : null, 0 < this.options.goals.length && (s = Math.min.apply(Math, this.options.goals), r = Math.max.apply(Math, this.options.goals), C = null != C ? Math.min(C, s) : s, d = null != d ? Math.max(d, r) : r), this.data = function () { var e, n, r; for (r = [], a = e = 0, n = t.length; e < n; a = ++e)l = t[a], (g = { src: l }).label = l[this.options.xkey], this.options.parseTime ? (g.x = i.parseDate(g.label), this.options.dateFormat ? g.label = this.options.dateFormat(g.x) : "number" == typeof g.label && (g.label = new Date(g.label).toString())) : (g.x = a, this.options.xLabelFormat && (g.label = this.options.xLabelFormat(g))), I = 0, g.y = function () { var t, e, n, i; for (n = this.options.ykeys, i = [], o = t = 0, e = n.length; t < e; o = ++t)h = n[o], "string" == typeof (A = l[h]) && (A = parseFloat(A)), null != A && "number" != typeof A && (A = null), null != A && (this.cumulative ? I += A : null != d ? (d = Math.max(A, d), C = Math.min(A, C)) : d = C = A), this.cumulative && null != I && (d = Math.max(I, d), C = Math.min(I, C)), i.push(A); return i }.call(this), r.push(g); return r }.call(this), this.options.parseTime && (this.data = this.data.sort(function (t, e) { return (t.x > e.x) - (e.x > t.x) })), this.xmin = this.data[0].x, this.xmax = this.data[this.data.length - 1].x, this.events = [], 0 < this.options.events.length && (this.options.parseTime ? this.events = function () { var t, e, o, a; for (a = [], t = 0, e = (o = this.options.events).length; t < e; t++)n = o[t], a.push(i.parseDate(n)); return a }.call(this) : this.events = this.options.events, this.xmax = Math.max(this.xmax, Math.max.apply(Math, this.events)), this.xmin = Math.min(this.xmin, Math.min.apply(Math, this.events))), this.xmin === this.xmax && (this.xmin -= 1, this.xmax += 1), this.ymin = this.yboundary("min", C), this.ymax = this.yboundary("max", d), this.ymin === this.ymax && (C && (this.ymin -= 1), this.ymax += 1), !0 !== (p = this.options.axes) && "both" !== p && "y" !== p && !0 !== this.options.grid || (this.options.ymax === this.gridDefaults.ymax && this.options.ymin === this.gridDefaults.ymin ? (this.grid = this.autoGridLines(this.ymin, this.ymax, this.options.numLines), this.ymin = Math.min(this.ymin, this.grid[0]), this.ymax = Math.max(this.ymax, this.grid[this.grid.length - 1])) : (c = (this.ymax - this.ymin) / (this.options.numLines - 1), this.grid = function () { var t, e, n; for (n = [], u = t = this.ymin, e = this.ymax; 0 < c ? t <= e : e <= t; u = t += c)n.push(u); return n }.call(this))), this.dirty = !0, e ? this.redraw() : void 0) }, I.prototype.yboundary = function (t, e) { var n, i; return "string" == typeof (n = this.options["y" + t]) ? "auto" === n.slice(0, 4) ? 5 < n.length ? (i = parseInt(n.slice(5), 10), null == e ? i : Math[t](e, i)) : null != e ? e : 0 : parseInt(n, 10) : n }, I.prototype.autoGridLines = function (t, e, n) { var i, o, a, r, s, g, l, c; return r = e - t, c = Math.floor(Math.log(r) / Math.log(10)), g = Math.pow(10, c), o = Math.floor(t / g) * g, i = Math.ceil(e / g) * g, s = (i - o) / (n - 1), 1 === g && 1 < s && Math.ceil(s) !== s && (s = Math.ceil(s), i = o + s * (n - 1)), o < 0 && 0 < i && (o = Math.floor(t / s) * s, i = Math.ceil(e / s) * s), s < 1 ? (a = Math.floor(Math.log(s) / Math.log(10)), function () { var t, e; for (e = [], l = t = o; 0 < s ? t <= i : i <= t; l = t += s)e.push(parseFloat(l.toFixed(1 - a))); return e }()) : function () { var t, e; for (e = [], l = t = o; 0 < s ? t <= i : i <= t; l = t += s)e.push(l); return e }() }, I.prototype._calc = function () { var t, e, n, i, o, a, r, s; if (o = this.el.width(), n = this.el.height(), (this.elementWidth !== o || this.elementHeight !== n || this.dirty) && (this.elementWidth = o, this.elementHeight = n, this.dirty = !1, this.left = this.options.padding, this.right = this.elementWidth - this.options.padding, this.top = this.options.padding, this.bottom = this.elementHeight - this.options.padding, !0 !== (r = this.options.axes) && "both" !== r && "y" !== r || (a = function () { var t, n, i, o; for (o = [], t = 0, n = (i = this.grid).length; t < n; t++)e = i[t], o.push(this.measureText(this.yAxisFormat(e)).width); return o }.call(this), this.left += Math.max.apply(Math, a)), !0 !== (s = this.options.axes) && "both" !== s && "x" !== s || (t = function () { var t, e, n; for (n = [], i = t = 0, e = this.data.length; 0 <= e ? t < e : e < t; i = 0 <= e ? ++t : --t)n.push(this.measureText(this.data[i].text, -this.options.xLabelAngle).height); return n }.call(this), this.bottom -= Math.max.apply(Math, t)), this.width = Math.max(1, this.right - this.left), this.height = Math.max(1, this.bottom - this.top), this.dx = this.width / (this.xmax - this.xmin), this.dy = this.height / (this.ymax - this.ymin), this.calc)) return this.calc() }, I.prototype.transY = function (t) { return this.bottom - (t - this.ymin) * this.dy }, I.prototype.transX = function (t) { return 1 === this.data.length ? (this.left + this.right) / 2 : this.left + (t - this.xmin) * this.dx }, I.prototype.redraw = function () { if (this.raphael.clear(), this._calc(), this.drawGrid(), this.drawGoals(), this.drawEvents(), this.draw) return this.draw() }, I.prototype.measureText = function (t, e) { var n, i; return null == e && (e = 0), n = (i = this.raphael.text(100, 100, t).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).rotate(e)).getBBox(), i.remove(), n }, I.prototype.yAxisFormat = function (t) { return this.yLabelFormat(t) }, I.prototype.yLabelFormat = function (t) { return "function" == typeof this.options.yLabelFormat ? this.options.yLabelFormat(t) : "" + this.options.preUnits + i.commas(t) + this.options.postUnits }, I.prototype.drawGrid = function () { var t, e, n, i, o, a, r, s; if (!1 !== this.options.grid || !0 === (o = this.options.axes) || "both" === o || "y" === o) { for (s = [], n = 0, i = (a = this.grid).length; n < i; n++)t = a[n], e = this.transY(t), !0 !== (r = this.options.axes) && "both" !== r && "y" !== r || this.drawYAxisLabel(this.left - this.options.padding / 2, e, this.yAxisFormat(t)), this.options.grid ? s.push(this.drawGridLine("M" + this.left + "," + e + "H" + (this.left + this.width))) : s.push(void 0); return s } }, I.prototype.drawGoals = function () { var t, e, n, i, o, a, r; for (r = [], n = i = 0, o = (a = this.options.goals).length; i < o; n = ++i)e = a[n], t = this.options.goalLineColors[n % this.options.goalLineColors.length], r.push(this.drawGoal(e, t)); return r }, I.prototype.drawEvents = function () { var t, e, n, i, o, a, r; for (r = [], n = i = 0, o = (a = this.events).length; i < o; n = ++i)e = a[n], t = this.options.eventLineColors[n % this.options.eventLineColors.length], r.push(this.drawEvent(e, t)); return r }, I.prototype.drawGoal = function (t, e) { return this.raphael.path("M" + this.left + "," + this.transY(t) + "H" + this.right).attr("stroke", e).attr("stroke-width", this.options.goalStrokeWidth) }, I.prototype.drawEvent = function (t, e) { return this.raphael.path("M" + this.transX(t) + "," + this.bottom + "V" + this.top).attr("stroke", e).attr("stroke-width", this.options.eventStrokeWidth) }, I.prototype.drawYAxisLabel = function (t, e, n) { return this.raphael.text(t, e, n).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor).attr("text-anchor", "end") }, I.prototype.drawGridLine = function (t) { return this.raphael.path(t).attr("stroke", this.options.gridLineColor).attr("stroke-width", this.options.gridStrokeWidth) }, I.prototype.startRange = function (t) { return this.hover.hide(), this.selectFrom = t, this.selectionRect.attr({ x: t, width: 0 }).show() }, I.prototype.endRange = function (t) { var e, n; if (this.selectFrom) return n = Math.min(this.selectFrom, t), e = Math.max(this.selectFrom, t), this.options.rangeSelect.call(this.el, { start: this.data[this.hitTest(n)].x, end: this.data[this.hitTest(e)].x }), this.selectFrom = null }, I.prototype.resizeHandler = function () { return this.timeoutId = null, this.raphael.setSize(this.el.width(), this.el.height()), this.redraw() }, I), i.parseDate = function (t) { var e, n, i, o, a, r, s, g, l, c, I; return "number" == typeof t ? t : (n = t.match(/^(\d+) Q(\d)$/), o = t.match(/^(\d+)-(\d+)$/), a = t.match(/^(\d+)-(\d+)-(\d+)$/), s = t.match(/^(\d+) W(\d+)$/), g = t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/), l = t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/), n ? new Date(parseInt(n[1], 10), 3 * parseInt(n[2], 10) - 1, 1).getTime() : o ? new Date(parseInt(o[1], 10), parseInt(o[2], 10) - 1, 1).getTime() : a ? new Date(parseInt(a[1], 10), parseInt(a[2], 10) - 1, parseInt(a[3], 10)).getTime() : s ? (4 !== (c = new Date(parseInt(s[1], 10), 0, 1)).getDay() && c.setMonth(0, 1 + (4 - c.getDay() + 7) % 7), c.getTime() + 6048e5 * parseInt(s[2], 10)) : g ? g[6] ? (r = 0, "Z" !== g[6] && (r = 60 * parseInt(g[8], 10) + parseInt(g[9], 10), "+" === g[7] && (r = 0 - r)), Date.UTC(parseInt(g[1], 10), parseInt(g[2], 10) - 1, parseInt(g[3], 10), parseInt(g[4], 10), parseInt(g[5], 10) + r)) : new Date(parseInt(g[1], 10), parseInt(g[2], 10) - 1, parseInt(g[3], 10), parseInt(g[4], 10), parseInt(g[5], 10)).getTime() : l ? (I = parseFloat(l[6]), e = Math.floor(I), i = Math.round(1e3 * (I - e)), l[8] ? (r = 0, "Z" !== l[8] && (r = 60 * parseInt(l[10], 10) + parseInt(l[11], 10), "+" === l[9] && (r = 0 - r)), Date.UTC(parseInt(l[1], 10), parseInt(l[2], 10) - 1, parseInt(l[3], 10), parseInt(l[4], 10), parseInt(l[5], 10) + r, e, i)) : new Date(parseInt(l[1], 10), parseInt(l[2], 10) - 1, parseInt(l[3], 10), parseInt(l[4], 10), parseInt(l[5], 10), e, i).getTime()) : new Date(parseInt(t, 10), 0, 1).getTime()) }, i.Hover = (u.defaults = { class: "morris-hover morris-default-style" }, u.prototype.update = function (t, e, n) { return t ? (this.html(t), this.show(), this.moveTo(e, n)) : this.hide() }, u.prototype.html = function (t) { return this.el.html(t) }, u.prototype.moveTo = function (t, e) { var n, i, o, a, r, s; return r = this.options.parent.innerWidth(), a = this.options.parent.innerHeight(), i = this.el.outerWidth(), n = this.el.outerHeight(), o = Math.min(Math.max(0, t - i / 2), r - i), null != e ? (s = e - n - 10) < 0 && a < (s = e + 10) + n && (s = a / 2 - n / 2) : s = a / 2 - n / 2, this.el.css({ left: o + "px", top: parseInt(s) + "px" }) }, u.prototype.show = function () { return this.el.show() }, u.prototype.hide = function () { return this.el.hide() }, u), i.Line = (e(h, i.Grid), h.prototype.init = function () { if ("always" !== this.options.hideHover) return this.hover = new i.Hover({ parent: this.el }), this.on("hovermove", this.onHoverMove), this.on("hoverout", this.onHoverOut), this.on("gridclick", this.onGridClick) }, h.prototype.defaults = { lineWidth: 3, pointSize: 4, lineColors: ["#0b62a4", "#7A92A3", "#4da74d", "#afd8f8", "#edc240", "#cb4b4b", "#9440ed"], pointStrokeWidths: [1], pointStrokeColors: ["#ffffff"], pointFillColors: [], smooth: !0, xLabels: "auto", xLabelFormat: null, xLabelMargin: 24, hideHover: !1 }, h.prototype.calc = function () { return this.calcPoints(), this.generatePaths() }, h.prototype.calcPoints = function () { var t, e, n, i, o, a; for (a = [], n = 0, i = (o = this.data).length; n < i; n++)(t = o[n])._x = this.transX(t.x), t._y = function () { var n, i, o, a; for (a = [], n = 0, i = (o = t.y).length; n < i; n++)null != (e = o[n]) ? a.push(this.transY(e)) : a.push(e); return a }.call(this), a.push(t._ymax = Math.min.apply(Math, [this.bottom].concat(function () { var n, i, o, a; for (a = [], n = 0, i = (o = t._y).length; n < i; n++)null != (e = o[n]) && a.push(e); return a }()))); return a }, h.prototype.hitTest = function (t) { var e, n, i, o; if (0 === this.data.length) return null; for (e = n = 0, i = (o = this.data.slice(1)).length; n < i && !(t < (o[e]._x + this.data[e]._x) / 2); e = ++n); return e }, h.prototype.onGridClick = function (t, e) { var n; return n = this.hitTest(t), this.fire("click", n, this.data[n].src, t, e) }, h.prototype.onHoverMove = function (t, e) { var n; return n = this.hitTest(t), this.displayHoverForRow(n) }, h.prototype.onHoverOut = function () { if (!1 !== this.options.hideHover) return this.displayHoverForRow(null) }, h.prototype.displayHoverForRow = function (t) { var e; return null != t ? ((e = this.hover).update.apply(e, this.hoverContentForRow(t)), this.hilight(t)) : (this.hover.hide(), this.hilight()) }, h.prototype.hoverContentForRow = function (t) { var e, n, i, o, a, r, s; for (e = "<div class='morris-hover-row-label'>" + (i = this.data[t]).label + "</div>", n = a = 0, r = (s = i.y).length; a < r; n = ++a)o = s[n], e += "<div class='morris-hover-point' style='color: " + this.colorFor(i, n, "label") + "'>\n  " + this.options.labels[n] + ":\n  " + this.yLabelFormat(o) + "\n</div>"; return "function" == typeof this.options.hoverCallback && (e = this.options.hoverCallback(t, this.options, e, i.src)), [e, i._x, i._ymax] }, h.prototype.generatePaths = function () { var t, e, n, o; return this.paths = function () { var a, r, s, g; for (g = [], e = a = 0, r = this.options.ykeys.length; 0 <= r ? a < r : r < a; e = 0 <= r ? ++a : --a)o = "boolean" == typeof this.options.smooth ? this.options.smooth : (s = this.options.ykeys[e], 0 <= l.call(this.options.smooth, s)), 1 < (t = function () { var t, i, o, a; for (a = [], t = 0, i = (o = this.data).length; t < i; t++)void 0 !== (n = o[t])._y[e] && a.push({ x: n._x, y: n._y[e] }); return a }.call(this)).length ? g.push(i.Line.createPath(t, o, this.bottom)) : g.push(null); return g }.call(this) }, h.prototype.draw = function () { var t; if (!0 !== (t = this.options.axes) && "both" !== t && "x" !== t || this.drawXAxis(), this.drawSeries(), !1 === this.options.hideHover) return this.displayHoverForRow(this.data.length - 1) }, h.prototype.drawXAxis = function () { var t, e, n, o, a, r, s, g, l, c, I = this; for (s = this.bottom + this.options.padding / 2, o = a = null, t = function (t, e) { var n, i, r, g, l; return l = (n = I.drawXAxisLabel(I.transX(e), s, t)).getBBox(), n.transform("r" + -I.options.xLabelAngle), i = n.getBBox(), n.transform("t0," + i.height / 2 + "..."), 0 !== I.options.xLabelAngle && (g = -.5 * l.width * Math.cos(I.options.xLabelAngle * Math.PI / 180), n.transform("t" + g + ",0...")), i = n.getBBox(), (null == a || a >= i.x + i.width || null != o && o >= i.x) && 0 <= i.x && i.x + i.width < I.el.width() ? (0 !== I.options.xLabelAngle && (r = 1.25 * I.options.gridTextSize / Math.sin(I.options.xLabelAngle * Math.PI / 180), o = i.x - r), a = i.x - I.options.xLabelMargin) : n.remove() }, (n = this.options.parseTime ? 1 === this.data.length && "auto" === this.options.xLabels ? [[this.data[0].label, this.data[0].x]] : i.labelSeries(this.xmin, this.xmax, this.width, this.options.xLabels, this.options.xLabelFormat) : function () { var t, e, n, i; for (i = [], t = 0, e = (n = this.data).length; t < e; t++)r = n[t], i.push([r.label, r.x]); return i }.call(this)).reverse(), c = [], g = 0, l = n.length; g < l; g++)e = n[g], c.push(t(e[0], e[1])); return c }, h.prototype.drawSeries = function () { var t, e, n, i, o, a; for (this.seriesPoints = [], t = e = i = this.options.ykeys.length - 1; i <= 0 ? e <= 0 : 0 <= e; t = i <= 0 ? ++e : --e)this._drawLineFor(t); for (a = [], t = n = o = this.options.ykeys.length - 1; o <= 0 ? n <= 0 : 0 <= n; t = o <= 0 ? ++n : --n)a.push(this._drawPointFor(t)); return a }, h.prototype._drawPointFor = function (t) { var e, n, i, o, a, r; for (this.seriesPoints[t] = [], r = [], i = 0, o = (a = this.data).length; i < o; i++)(e = null) != (n = a[i])._y[t] && (e = this.drawLinePoint(n._x, n._y[t], this.colorFor(n, t, "point"), t)), r.push(this.seriesPoints[t].push(e)); return r }, h.prototype._drawLineFor = function (t) { var e; if (null !== (e = this.paths[t])) return this.drawLinePath(e, this.colorFor(null, t, "line"), t) }, h.createPath = function (t, e, n) { var o, a, r, s, g, l, c, I, u, h; for (c = "", e && (r = i.Line.gradients(t)), I = { y: null }, s = u = 0, h = t.length; u < h; s = ++u)null != (o = t[s]).y && (null != I.y ? e ? (a = r[s], l = r[s - 1], g = (o.x - I.x) / 4, c += "C" + (I.x + g) + "," + Math.min(n, I.y + g * l) + "," + (o.x - g) + "," + Math.min(n, o.y - g * a) + "," + o.x + "," + o.y) : c += "L" + o.x + "," + o.y : e && null == r[s] || (c += "M" + o.x + "," + o.y)), I = o; return c }, h.gradients = function (t) { var e, n, i, o, a, r, s, g; for (n = function (t, e) { return (t.y - e.y) / (t.x - e.x) }, g = [], i = r = 0, s = t.length; r < s; i = ++r)null != (e = t[i]).y ? (o = t[i + 1] || { y: null }, null != (a = t[i - 1] || { y: null }).y && null != o.y ? g.push(n(a, o)) : null != a.y ? g.push(n(a, e)) : null != o.y ? g.push(n(e, o)) : g.push(null)) : g.push(null); return g }, h.prototype.hilight = function (t) { var e, n, i, o, a; if (null !== this.prevHilight && this.prevHilight !== t) for (e = n = 0, o = this.seriesPoints.length - 1; 0 <= o ? n <= o : o <= n; e = 0 <= o ? ++n : --n)this.seriesPoints[e][this.prevHilight] && this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e)); if (null !== t && this.prevHilight !== t) for (e = i = 0, a = this.seriesPoints.length - 1; 0 <= a ? i <= a : a <= i; e = 0 <= a ? ++i : --i)this.seriesPoints[e][t] && this.seriesPoints[e][t].animate(this.pointGrowSeries(e)); return this.prevHilight = t }, h.prototype.colorFor = function (t, e, n) { return "function" == typeof this.options.lineColors ? this.options.lineColors.call(this, t, e, n) : "point" === n && this.options.pointFillColors[e % this.options.pointFillColors.length] || this.options.lineColors[e % this.options.lineColors.length] }, h.prototype.drawXAxisLabel = function (t, e, n) { return this.raphael.text(t, e, n).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor) }, h.prototype.drawLinePath = function (t, e, n) { return this.raphael.path(t).attr("stroke", e).attr("stroke-width", this.lineWidthForSeries(n)) }, h.prototype.drawLinePoint = function (t, e, n, i) { return this.raphael.circle(t, e, this.pointSizeForSeries(i)).attr("fill", n).attr("stroke-width", this.pointStrokeWidthForSeries(i)).attr("stroke", this.pointStrokeColorForSeries(i)) }, h.prototype.pointStrokeWidthForSeries = function (t) { return this.options.pointStrokeWidths[t % this.options.pointStrokeWidths.length] }, h.prototype.pointStrokeColorForSeries = function (t) { return this.options.pointStrokeColors[t % this.options.pointStrokeColors.length] }, h.prototype.lineWidthForSeries = function (t) { return this.options.lineWidth instanceof Array ? this.options.lineWidth[t % this.options.lineWidth.length] : this.options.lineWidth }, h.prototype.pointSizeForSeries = function (t) { return this.options.pointSize instanceof Array ? this.options.pointSize[t % this.options.pointSize.length] : this.options.pointSize }, h.prototype.pointGrowSeries = function (t) { return Raphael.animation({ r: this.pointSizeForSeries(t) + 3 }, 25, "linear") }, h.prototype.pointShrinkSeries = function (t) { return Raphael.animation({ r: this.pointSizeForSeries(t) }, 25, "linear") }, h), i.labelSeries = function (t, e, o, a, r) { var s, g, l, c, I, u, h, d, C, A, p; if (l = 200 * (e - t) / o, g = new Date(t), void 0 === (h = i.LABEL_SPECS[a])) for (C = 0, A = (p = i.AUTO_LABEL_ORDER).length; C < A; C++)if (c = p[C], l >= (u = i.LABEL_SPECS[c]).span) { h = u; break } for (void 0 === h && (h = i.LABEL_SPECS.second), r && (h = n.extend({}, h, { fmt: r })), s = h.start(g), I = []; (d = s.getTime()) <= e;)t <= d && I.push([h.fmt(s), d]), h.incr(s); return I }, o = function (t) { return { span: 60 * t * 1e3, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours()) }, fmt: function (t) { return i.pad2(t.getHours()) + ":" + i.pad2(t.getMinutes()) }, incr: function (e) { return e.setUTCMinutes(e.getUTCMinutes() + t) } } }, a = function (t) { return { span: 1e3 * t, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), t.getDate(), t.getHours(), t.getMinutes()) }, fmt: function (t) { return i.pad2(t.getHours()) + ":" + i.pad2(t.getMinutes()) + ":" + i.pad2(t.getSeconds()) }, incr: function (e) { return e.setUTCSeconds(e.getUTCSeconds() + t) } } }, i.LABEL_SPECS = { decade: { span: 1728e8, start: function (t) { return new Date(t.getFullYear() - t.getFullYear() % 10, 0, 1) }, fmt: function (t) { return "" + t.getFullYear() }, incr: function (t) { return t.setFullYear(t.getFullYear() + 10) } }, year: { span: 1728e7, start: function (t) { return new Date(t.getFullYear(), 0, 1) }, fmt: function (t) { return "" + t.getFullYear() }, incr: function (t) { return t.setFullYear(t.getFullYear() + 1) } }, month: { span: 24192e5, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), 1) }, fmt: function (t) { return t.getFullYear() + "-" + i.pad2(t.getMonth() + 1) }, incr: function (t) { return t.setMonth(t.getMonth() + 1) } }, week: { span: 6048e5, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), t.getDate()) }, fmt: function (t) { return t.getFullYear() + "-" + i.pad2(t.getMonth() + 1) + "-" + i.pad2(t.getDate()) }, incr: function (t) { return t.setDate(t.getDate() + 7) } }, day: { span: 864e5, start: function (t) { return new Date(t.getFullYear(), t.getMonth(), t.getDate()) }, fmt: function (t) { return t.getFullYear() + "-" + i.pad2(t.getMonth() + 1) + "-" + i.pad2(t.getDate()) }, incr: function (t) { return t.setDate(t.getDate() + 1) } }, hour: o(60), "30min": o(30), "15min": o(15), "10min": o(10), "5min": o(5), minute: o(1), "30sec": a(30), "15sec": a(15), "10sec": a(10), "5sec": a(5), second: a(1) }, i.AUTO_LABEL_ORDER = ["decade", "year", "month", "week", "day", "hour", "30min", "15min", "10min", "5min", "minute", "30sec", "15sec", "10sec", "5sec", "second"], i.Area = (e(d, i.Line), r = { fillOpacity: "auto", behaveLikeLine: !1 }, d.prototype.calcPoints = function () { var t, e, n, i, o, a, r; for (r = [], i = 0, o = (a = this.data).length; i < o; i++)(t = a[i])._x = this.transX(t.x), e = 0, t._y = function () { var i, o, a, r; for (r = [], i = 0, o = (a = t.y).length; i < o; i++)n = a[i], this.options.behaveLikeLine ? r.push(this.transY(n)) : (e += n || 0, r.push(this.transY(e))); return r }.call(this), r.push(t._ymax = Math.max.apply(Math, t._y)); return r }, d.prototype.drawSeries = function () { var t, e, n, i, o, a, r, s; for (this.seriesPoints = [], s = [], n = 0, i = (e = this.options.behaveLikeLine ? function () { a = []; for (var t = 0, e = this.options.ykeys.length - 1; 0 <= e ? t <= e : e <= t; 0 <= e ? t++ : t--)a.push(t); return a }.apply(this) : function () { r = []; for (var t = o = this.options.ykeys.length - 1; o <= 0 ? t <= 0 : 0 <= t; o <= 0 ? t++ : t--)r.push(t); return r }.apply(this)).length; n < i; n++)t = e[n], this._drawFillFor(t), this._drawLineFor(t), s.push(this._drawPointFor(t)); return s }, d.prototype._drawFillFor = function (t) { var e; if (null !== (e = this.paths[t])) return e = e + "L" + this.transX(this.xmax) + "," + this.bottom + "L" + this.transX(this.xmin) + "," + this.bottom + "Z", this.drawFilledPath(e, this.fillForSeries(t)) }, d.prototype.fillForSeries = function (t) { var e; return e = Raphael.rgb2hsl(this.colorFor(this.data[t], t, "line")), Raphael.hsl(e.h, this.options.behaveLikeLine ? .9 * e.s : .75 * e.s, Math.min(.98, this.options.behaveLikeLine ? 1.2 * e.l : 1.25 * e.l)) }, d.prototype.drawFilledPath = function (t, e) { return this.raphael.path(t).attr("fill", e).attr("fill-opacity", this.options.fillOpacity).attr("stroke", "none") }, d), i.Bar = (e(C, i.Grid), C.prototype.init = function () { if (this.cumulative = this.options.stacked, "always" !== this.options.hideHover) return this.hover = new i.Hover({ parent: this.el }), this.on("hovermove", this.onHoverMove), this.on("hoverout", this.onHoverOut), this.on("gridclick", this.onGridClick) }, C.prototype.defaults = { barSizeRatio: .75, barGap: 3, barColors: ["#0b62a4", "#7a92a3", "#4da74d", "#afd8f8", "#edc240", "#cb4b4b", "#9440ed"], barOpacity: 1, barRadius: [0, 0, 0, 0], xLabelMargin: 50 }, C.prototype.calc = function () { var t; if (this.calcBars(), !1 === this.options.hideHover) return (t = this.hover).update.apply(t, this.hoverContentForRow(this.data.length - 1)) }, C.prototype.calcBars = function () { var t, e, n, i, o, a, r; for (r = [], t = i = 0, o = (a = this.data).length; i < o; t = ++i)(e = a[t])._x = this.left + this.width * (t + .5) / this.data.length, r.push(e._y = function () { var t, i, o, a; for (a = [], t = 0, i = (o = e.y).length; t < i; t++)null != (n = o[t]) ? a.push(this.transY(n)) : a.push(null); return a }.call(this)); return r }, C.prototype.draw = function () { var t; return !0 !== (t = this.options.axes) && "both" !== t && "x" !== t || this.drawXAxis(), this.drawSeries() }, C.prototype.drawXAxis = function () { var t, e, n, i, o, a, r, s, g, l, c, I, u; for (l = this.bottom + (this.options.xAxisLabelTopPadding || this.options.padding / 2), a = r = null, u = [], t = c = 0, I = this.data.length; 0 <= I ? c < I : I < c; t = 0 <= I ? ++c : --c)s = this.data[this.data.length - 1 - t], g = (e = this.drawXAxisLabel(s._x, l, s.label)).getBBox(), e.transform("r" + -this.options.xLabelAngle), n = e.getBBox(), e.transform("t0," + n.height / 2 + "..."), 0 !== this.options.xLabelAngle && (o = -.5 * g.width * Math.cos(this.options.xLabelAngle * Math.PI / 180), e.transform("t" + o + ",0...")), (null == r || r >= n.x + n.width || null != a && a >= n.x) && 0 <= n.x && n.x + n.width < this.el.width() ? (0 !== this.options.xLabelAngle && (i = 1.25 * this.options.gridTextSize / Math.sin(this.options.xLabelAngle * Math.PI / 180), a = n.x - i), u.push(r = n.x - this.options.xLabelMargin)) : u.push(e.remove()); return u }, C.prototype.drawSeries = function () { var t, e, n, i, o, a, r, s, g, l, c, I, u, h, d; return n = this.width / this.options.data.length, s = this.options.stacked ? 1 : this.options.ykeys.length, t = (n * this.options.barSizeRatio - this.options.barGap * (s - 1)) / s, this.options.barSize && (t = Math.min(t, this.options.barSize)), I = n - t * s - this.options.barGap * (s - 1), r = I / 2, d = this.ymin <= 0 && 0 <= this.ymax ? this.transY(0) : null, this.bars = function () { var s, I, C, A; for (C = this.data, A = [], i = s = 0, I = C.length; s < I; i = ++s)g = C[i], o = 0, A.push(function () { var s, I, C, A; for (C = g._y, A = [], l = s = 0, I = C.length; s < I; l = ++s)null !== (h = C[l]) ? (e = d ? (u = Math.min(h, d), Math.max(h, d)) : (u = h, this.bottom), a = this.left + i * n + r, this.options.stacked || (a += l * (t + this.options.barGap)), c = e - u, this.options.verticalGridCondition && this.options.verticalGridCondition(g.x) && this.drawBar(this.left + i * n, this.top, n, Math.abs(this.top - this.bottom), this.options.verticalGridColor, this.options.verticalGridOpacity, this.options.barRadius), this.options.stacked && (u -= o), this.drawBar(a, u, t, c, this.colorFor(g, l, "bar"), this.options.barOpacity, this.options.barRadius), A.push(o += c)) : A.push(null); return A }.call(this)); return A }.call(this) }, C.prototype.colorFor = function (t, e, n) { var i, o; return "function" == typeof this.options.barColors ? (i = { x: t.x, y: t.y[e], label: t.label }, o = { index: e, key: this.options.ykeys[e], label: this.options.labels[e] }, this.options.barColors.call(this, i, o, n)) : this.options.barColors[e % this.options.barColors.length] }, C.prototype.hitTest = function (t) { return 0 === this.data.length ? null : (t = Math.max(Math.min(t, this.right), this.left), Math.min(this.data.length - 1, Math.floor((t - this.left) / (this.width / this.data.length)))) }, C.prototype.onGridClick = function (t, e) { var n; return n = this.hitTest(t), this.fire("click", n, this.data[n].src, t, e) }, C.prototype.onHoverMove = function (t, e) { var n, i; return n = this.hitTest(t), (i = this.hover).update.apply(i, this.hoverContentForRow(n)) }, C.prototype.onHoverOut = function () { if (!1 !== this.options.hideHover) return this.hover.hide() }, C.prototype.hoverContentForRow = function (t) { var e, n, i, o, a, r, s; for (e = "<div class='morris-hover-row-label'>" + (i = this.data[t]).label + "</div>", n = a = 0, r = (s = i.y).length; a < r; n = ++a)o = s[n], e += "<div class='morris-hover-point' style='color: " + this.colorFor(i, n, "label") + "'>\n  " + this.options.labels[n] + ":\n  " + this.yLabelFormat(o) + "\n</div>"; return "function" == typeof this.options.hoverCallback && (e = this.options.hoverCallback(t, this.options, e, i.src)), [e, this.left + (t + .5) * this.width / this.data.length] }, C.prototype.drawXAxisLabel = function (t, e, n) { return this.raphael.text(t, e, n).attr("font-size", this.options.gridTextSize).attr("font-family", this.options.gridTextFamily).attr("font-weight", this.options.gridTextWeight).attr("fill", this.options.gridTextColor) }, C.prototype.drawBar = function (t, e, n, i, o, a, r) { var s; return (0 === (s = Math.max.apply(Math, r)) || i < s ? this.raphael.rect(t, e, n, i) : this.raphael.path(this.roundedRect(t, e, n, i, r))).attr("fill", o).attr("fill-opacity", a).attr("stroke", "none") }, C.prototype.roundedRect = function (t, e, n, i, o) { return null == o && (o = [0, 0, 0, 0]), ["M", t, o[0] + e, "Q", t, e, t + o[0], e, "L", t + n - o[1], e, "Q", t + n, e, t + n, e + o[1], "L", t + n, e + i - o[2], "Q", t + n, e + i, t + n - o[2], e + i, "L", t + o[3], e + i, "Q", t, e + i, t, e + i - o[3], "Z"] }, C), i.Donut = (e(A, i.EventEmitter), A.prototype.defaults = { colors: ["#0B62A4", "#3980B5", "#679DC6", "#95BBD7", "#B0CCE1", "#095791", "#095085", "#083E67", "#052C48", "#042135"], backgroundColor: "#FFFFFF", labelColor: "#000000", formatter: i.commas, resize: !1 }, A.prototype.redraw = function () { var t, e, n, o, a, r, s, g, l, c, I, u, h, d, C, A, p, m, f, b, B, y; for (this.raphael.clear(), e = this.el.width() / 2, n = this.el.height() / 2, u = (Math.min(e, n) - 10) / 3, h = I = 0, A = (f = this.values).length; h < A; h++)I += f[h]; for (g = 5 / (2 * u), t = 1.9999 * Math.PI - g * this.data.length, a = r = 0, this.segments = [], o = d = 0, p = (b = this.values).length; d < p; o = ++d)l = r + g + b[o] / I * t, (c = new i.DonutSegment(e, n, 2 * u, u, r, l, this.data[o].color || this.options.colors[a % this.options.colors.length], this.options.backgroundColor, a, this.raphael)).render(), this.segments.push(c), c.on("hover", this.select), c.on("click", this.click), r = l, a += 1; for (this.text1 = this.drawEmptyDonutLabel(e, n - 10, this.options.labelColor, 15, 800), this.text2 = this.drawEmptyDonutLabel(e, 10 + n, this.options.labelColor, 14), s = Math.max.apply(Math, this.values), y = [], C = a = 0, m = (B = this.values).length; C < m; C++) { if (B[C] === s) { this.select(a); break } y.push(a += 1) } return y }, A.prototype.setData = function (t) { var e; return this.data = t, this.values = function () { var t, n, i, o; for (o = [], t = 0, n = (i = this.data).length; t < n; t++)e = i[t], o.push(parseFloat(e.value)); return o }.call(this), this.redraw() }, A.prototype.click = function (t) { return this.fire("click", t, this.data[t]) }, A.prototype.select = function (t) { var e, n, i, o; for (n = 0, i = (o = this.segments).length; n < i; n++)o[n].deselect(); return this.segments[t].select(), e = this.data[t], this.setLabels(e.label, this.options.formatter(e.value, e)) }, A.prototype.setLabels = function (t, e) { var n, i, o, a, r, s, g, l; return a = 1.8 * (n = 2 * (Math.min(this.el.width() / 2, this.el.height() / 2) - 10) / 3), o = n / 2, i = n / 3, this.text1.attr({ text: t, transform: "" }), r = this.text1.getBBox(), s = Math.min(a / r.width, o / r.height), this.text1.attr({ transform: "S" + s + "," + s + "," + (r.x + r.width / 2) + "," + (r.y + r.height) }), this.text2.attr({ text: e, transform: "" }), g = this.text2.getBBox(), l = Math.min(a / g.width, i / g.height), this.text2.attr({ transform: "S" + l + "," + l + "," + (g.x + g.width / 2) + "," + g.y }) }, A.prototype.drawEmptyDonutLabel = function (t, e, n, i, o) { var a; return a = this.raphael.text(t, e, "").attr("font-size", i).attr("fill", n), null != o && a.attr("font-weight", o), a }, A.prototype.resizeHandler = function () { return this.timeoutId = null, this.raphael.setSize(this.el.width(), this.el.height()), this.redraw() }, A), i.DonutSegment = (e(p, i.EventEmitter), p.prototype.calcArcPoints = function (t) { return [this.cx + t * this.sin_p0, this.cy + t * this.cos_p0, this.cx + t * this.sin_p1, this.cy + t * this.cos_p1] }, p.prototype.calcSegment = function (t, e) { var n, i, o, a, r, s, g, l, c, I; return n = (c = this.calcArcPoints(t))[0], o = c[1], i = c[2], a = c[3], r = (I = this.calcArcPoints(e))[0], g = I[1], s = I[2], l = I[3], "M" + n + "," + o + "A" + t + "," + t + ",0," + this.is_long + ",0," + i + "," + a + "L" + s + "," + l + "A" + e + "," + e + ",0," + this.is_long + ",1," + r + "," + g + "Z" }, p.prototype.calcArc = function (t) { var e, n, i, o, a; return e = (a = this.calcArcPoints(t))[0], i = a[1], n = a[2], o = a[3], "M" + e + "," + i + "A" + t + "," + t + ",0," + this.is_long + ",0," + n + "," + o }, p.prototype.render = function () { var t = this; return this.arc = this.drawDonutArc(this.hilight, this.color), this.seg = this.drawDonutSegment(this.path, this.color, this.backgroundColor, function () { return t.fire("hover", t.index) }, function () { return t.fire("click", t.index) }) }, p.prototype.drawDonutArc = function (t, e) { return this.raphael.path(t).attr({ stroke: e, "stroke-width": 2, opacity: 0 }) }, p.prototype.drawDonutSegment = function (t, e, n, i, o) { return this.raphael.path(t).attr({ fill: e, stroke: n, "stroke-width": 3 }).hover(i).click(o) }, p.prototype.select = function () { if (!this.selected) return this.seg.animate({ path: this.selectedPath }, 150, "<>"), this.arc.animate({ opacity: 1 }, 150, "<>"), this.selected = !0 }, p.prototype.deselect = function () { if (this.selected) return this.seg.animate({ path: this.path }, 150, "<>"), this.arc.animate({ opacity: 0 }, 150, "<>"), this.selected = !1 }, p) }.call(this), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Chart = e() }(this, function () { "use strict"; var t = { rgb2hsl: e, rgb2hsv: n, rgb2hwb: i, rgb2cmyk: o, rgb2keyword: a, rgb2xyz: s, rgb2lab: l, rgb2lch: function (t) { return p(l(t)) }, hsl2rgb: c, hsl2hsv: function (t) { var e = t[0], n = t[1] / 100, i = t[2] / 100; return 0 !== i ? [e, 2 * (n *= (i *= 2) <= 1 ? i : 2 - i) / (i + n) * 100, (i + n) / 2 * 100] : [0, 0, 0] }, hsl2hwb: function (t) { return i(c(t)) }, hsl2cmyk: function (t) { return o(c(t)) }, hsl2keyword: function (t) { return a(c(t)) }, hsv2rgb: I, hsv2hsl: function (t) { var e, n, i = t[0], o = t[1] / 100, a = t[2] / 100; return e = o * a, [i, 100 * (e = (e /= (n = (2 - o) * a) <= 1 ? n : 2 - n) || 0), 100 * (n /= 2)] }, hsv2hwb: function (t) { return i(I(t)) }, hsv2cmyk: function (t) { return o(I(t)) }, hsv2keyword: function (t) { return a(I(t)) }, hwb2rgb: u, hwb2hsl: function (t) { return e(u(t)) }, hwb2hsv: function (t) { return n(u(t)) }, hwb2cmyk: function (t) { return o(u(t)) }, hwb2keyword: function (t) { return a(u(t)) }, cmyk2rgb: h, cmyk2hsl: function (t) { return e(h(t)) }, cmyk2hsv: function (t) { return n(h(t)) }, cmyk2hwb: function (t) { return i(h(t)) }, cmyk2keyword: function (t) { return a(h(t)) }, keyword2rgb: B, keyword2hsl: function (t) { return e(B(t)) }, keyword2hsv: function (t) { return n(B(t)) }, keyword2hwb: function (t) { return i(B(t)) }, keyword2cmyk: function (t) { return o(B(t)) }, keyword2lab: function (t) { return l(B(t)) }, keyword2xyz: function (t) { return s(B(t)) }, xyz2rgb: d, xyz2lab: C, xyz2lch: function (t) { return p(C(t)) }, lab2xyz: A, lab2rgb: m, lab2lch: p, lch2lab: f, lch2xyz: function (t) { return A(f(t)) }, lch2rgb: function (t) { return m(f(t)) } }; function e(t) { var e, n, i = t[0] / 255, o = t[1] / 255, a = t[2] / 255, r = Math.min(i, o, a), s = Math.max(i, o, a), g = s - r; return s == r ? e = 0 : i == s ? e = (o - a) / g : o == s ? e = 2 + (a - i) / g : a == s && (e = 4 + (i - o) / g), (e = Math.min(60 * e, 360)) < 0 && (e += 360), n = (r + s) / 2, [e, 100 * (s == r ? 0 : n <= .5 ? g / (s + r) : g / (2 - s - r)), 100 * n] } function n(t) { var e, n, i = t[0], o = t[1], a = t[2], r = Math.min(i, o, a), s = Math.max(i, o, a), g = s - r; return n = 0 == s ? 0 : g / s * 1e3 / 10, s == r ? e = 0 : i == s ? e = (o - a) / g : o == s ? e = 2 + (a - i) / g : a == s && (e = 4 + (i - o) / g), (e = Math.min(60 * e, 360)) < 0 && (e += 360), [e, n, s / 255 * 1e3 / 10] } function i(t) { var n = t[0], i = t[1], o = t[2]; return [e(t)[0], 1 / 255 * Math.min(n, Math.min(i, o)) * 100, 100 * (o = 1 - 1 / 255 * Math.max(n, Math.max(i, o)))] } function o(t) { var e, n = t[0] / 255, i = t[1] / 255, o = t[2] / 255; return [100 * ((1 - n - (e = Math.min(1 - n, 1 - i, 1 - o))) / (1 - e) || 0), 100 * ((1 - i - e) / (1 - e) || 0), 100 * ((1 - o - e) / (1 - e) || 0), 100 * e] } function a(t) { return v[JSON.stringify(t)] } function s(t) { var e = t[0] / 255, n = t[1] / 255, i = t[2] / 255; return [100 * (.4124 * (e = .04045 < e ? Math.pow((e + .055) / 1.055, 2.4) : e / 12.92) + .3576 * (n = .04045 < n ? Math.pow((n + .055) / 1.055, 2.4) : n / 12.92) + .1805 * (i = .04045 < i ? Math.pow((i + .055) / 1.055, 2.4) : i / 12.92)), 100 * (.2126 * e + .7152 * n + .0722 * i), 100 * (.0193 * e + .1192 * n + .9505 * i)] } function l(t) { var e = s(t), n = e[0], i = e[1], o = e[2]; return i /= 100, o /= 108.883, n = .008856 < (n /= 95.047) ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116, [116 * (i = .008856 < i ? Math.pow(i, 1 / 3) : 7.787 * i + 16 / 116) - 16, 500 * (n - i), 200 * (i - (o = .008856 < o ? Math.pow(o, 1 / 3) : 7.787 * o + 16 / 116))] } function c(t) { var e, n, i, o, a, r = t[0] / 360, s = t[1] / 100, g = t[2] / 100; if (0 == s) return [a = 255 * g, a, a]; e = 2 * g - (n = g < .5 ? g * (1 + s) : g + s - g * s), o = [0, 0, 0]; for (var l = 0; l < 3; l++)(i = r + 1 / 3 * -(l - 1)) < 0 && i++, 1 < i && i--, a = 6 * i < 1 ? e + 6 * (n - e) * i : 2 * i < 1 ? n : 3 * i < 2 ? e + (n - e) * (2 / 3 - i) * 6 : e, o[l] = 255 * a; return o } function I(t) { var e = t[0] / 60, n = t[1] / 100, i = t[2] / 100, o = Math.floor(e) % 6, a = e - Math.floor(e), r = 255 * i * (1 - n), s = 255 * i * (1 - n * a), g = 255 * i * (1 - n * (1 - a)); switch (i *= 255, o) { case 0: return [i, g, r]; case 1: return [s, i, r]; case 2: return [r, i, g]; case 3: return [r, s, i]; case 4: return [g, r, i]; case 5: return [i, r, s] } } function u(t) { var e, n, i, o, a = t[0] / 360, s = t[1] / 100, l = t[2] / 100, c = s + l; switch (1 < c && (s /= c, l /= c), i = 6 * a - (e = Math.floor(6 * a)), 0 != (1 & e) && (i = 1 - i), o = s + i * ((n = 1 - l) - s), e) { default: case 6: case 0: r = n, g = o, b = s; break; case 1: r = o, g = n, b = s; break; case 2: r = s, g = n, b = o; break; case 3: r = s, g = o, b = n; break; case 4: r = o, g = s, b = n; break; case 5: r = n, g = s, b = o }return [255 * r, 255 * g, 255 * b] } function h(t) { var e = t[0] / 100, n = t[1] / 100, i = t[2] / 100, o = t[3] / 100; return [255 * (1 - Math.min(1, e * (1 - o) + o)), 255 * (1 - Math.min(1, n * (1 - o) + o)), 255 * (1 - Math.min(1, i * (1 - o) + o))] } function d(t) { var e, n, i, o = t[0] / 100, a = t[1] / 100, r = t[2] / 100; return n = -.9689 * o + 1.8758 * a + .0415 * r, i = .0557 * o + -.204 * a + 1.057 * r, e = .0031308 < (e = 3.2406 * o + -1.5372 * a + -.4986 * r) ? 1.055 * Math.pow(e, 1 / 2.4) - .055 : e *= 12.92, n = .0031308 < n ? 1.055 * Math.pow(n, 1 / 2.4) - .055 : n *= 12.92, i = .0031308 < i ? 1.055 * Math.pow(i, 1 / 2.4) - .055 : i *= 12.92, [255 * (e = Math.min(Math.max(0, e), 1)), 255 * (n = Math.min(Math.max(0, n), 1)), 255 * (i = Math.min(Math.max(0, i), 1))] } function C(t) { var e = t[0], n = t[1], i = t[2]; return n /= 100, i /= 108.883, e = .008856 < (e /= 95.047) ? Math.pow(e, 1 / 3) : 7.787 * e + 16 / 116, [116 * (n = .008856 < n ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116) - 16, 500 * (e - n), 200 * (n - (i = .008856 < i ? Math.pow(i, 1 / 3) : 7.787 * i + 16 / 116))] } function A(t) { var e, n, i, o, a = t[0], r = t[1], s = t[2]; return o = a <= 8 ? (n = 100 * a / 903.3) / 100 * 7.787 + 16 / 116 : (n = 100 * Math.pow((a + 16) / 116, 3), Math.pow(n / 100, 1 / 3)), [e = e / 95.047 <= .008856 ? e = 95.047 * (r / 500 + o - 16 / 116) / 7.787 : 95.047 * Math.pow(r / 500 + o, 3), n, i = i / 108.883 <= .008859 ? i = 108.883 * (o - s / 200 - 16 / 116) / 7.787 : 108.883 * Math.pow(o - s / 200, 3)] } function p(t) { var e, n = t[0], i = t[1], o = t[2]; return (e = 360 * Math.atan2(o, i) / 2 / Math.PI) < 0 && (e += 360), [n, Math.sqrt(i * i + o * o), e] } function m(t) { return d(A(t)) } function f(t) { var e, n = t[0], i = t[1]; return e = t[2] / 360 * 2 * Math.PI, [n, i * Math.cos(e), i * Math.sin(e)] } function B(t) { return y[t] } var y = { aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], grey: [128, 128, 128], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], rebeccapurple: [102, 51, 153], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }, v = {}; for (var x in y) v[JSON.stringify(y[x])] = x; function F() { return new S } for (var Q in t) { F[Q + "Raw"] = function (e) { return function (n) { return "number" == typeof n && (n = Array.prototype.slice.call(arguments)), t[e](n) } }(Q); var G = /(\w+)2(\w+)/.exec(Q), w = G[1], X = G[2]; (F[w] = F[w] || {})[X] = F[Q] = function (e) { return function (n) { "number" == typeof n && (n = Array.prototype.slice.call(arguments)); var i = t[e](n); if ("string" == typeof i || void 0 === i) return i; for (var o = 0; o < i.length; o++)i[o] = Math.round(i[o]); return i } }(Q) } var S = function () { this.convs = {} }; S.prototype.routeSpace = function (t, e) { var n = e[0]; return void 0 === n ? this.getValues(t) : ("number" == typeof n && (n = Array.prototype.slice.call(e)), this.setValues(t, n)) }, S.prototype.setValues = function (t, e) { return this.space = t, this.convs = {}, this.convs[t] = e, this }, S.prototype.getValues = function (t) { var e = this.convs[t]; if (!e) { var n = this.space, i = this.convs[n]; e = F[n][t](i), this.convs[t] = e } return e }, ["rgb", "hsl", "hsv", "cmyk", "keyword"].forEach(function (t) { S.prototype[t] = function (e) { return this.routeSpace(t, arguments) } }); var k = F, D = { aliceblue: [240, 248, 255], antiquewhite: [250, 235, 215], aqua: [0, 255, 255], aquamarine: [127, 255, 212], azure: [240, 255, 255], beige: [245, 245, 220], bisque: [255, 228, 196], black: [0, 0, 0], blanchedalmond: [255, 235, 205], blue: [0, 0, 255], blueviolet: [138, 43, 226], brown: [165, 42, 42], burlywood: [222, 184, 135], cadetblue: [95, 158, 160], chartreuse: [127, 255, 0], chocolate: [210, 105, 30], coral: [255, 127, 80], cornflowerblue: [100, 149, 237], cornsilk: [255, 248, 220], crimson: [220, 20, 60], cyan: [0, 255, 255], darkblue: [0, 0, 139], darkcyan: [0, 139, 139], darkgoldenrod: [184, 134, 11], darkgray: [169, 169, 169], darkgreen: [0, 100, 0], darkgrey: [169, 169, 169], darkkhaki: [189, 183, 107], darkmagenta: [139, 0, 139], darkolivegreen: [85, 107, 47], darkorange: [255, 140, 0], darkorchid: [153, 50, 204], darkred: [139, 0, 0], darksalmon: [233, 150, 122], darkseagreen: [143, 188, 143], darkslateblue: [72, 61, 139], darkslategray: [47, 79, 79], darkslategrey: [47, 79, 79], darkturquoise: [0, 206, 209], darkviolet: [148, 0, 211], deeppink: [255, 20, 147], deepskyblue: [0, 191, 255], dimgray: [105, 105, 105], dimgrey: [105, 105, 105], dodgerblue: [30, 144, 255], firebrick: [178, 34, 34], floralwhite: [255, 250, 240], forestgreen: [34, 139, 34], fuchsia: [255, 0, 255], gainsboro: [220, 220, 220], ghostwhite: [248, 248, 255], gold: [255, 215, 0], goldenrod: [218, 165, 32], gray: [128, 128, 128], green: [0, 128, 0], greenyellow: [173, 255, 47], grey: [128, 128, 128], honeydew: [240, 255, 240], hotpink: [255, 105, 180], indianred: [205, 92, 92], indigo: [75, 0, 130], ivory: [255, 255, 240], khaki: [240, 230, 140], lavender: [230, 230, 250], lavenderblush: [255, 240, 245], lawngreen: [124, 252, 0], lemonchiffon: [255, 250, 205], lightblue: [173, 216, 230], lightcoral: [240, 128, 128], lightcyan: [224, 255, 255], lightgoldenrodyellow: [250, 250, 210], lightgray: [211, 211, 211], lightgreen: [144, 238, 144], lightgrey: [211, 211, 211], lightpink: [255, 182, 193], lightsalmon: [255, 160, 122], lightseagreen: [32, 178, 170], lightskyblue: [135, 206, 250], lightslategray: [119, 136, 153], lightslategrey: [119, 136, 153], lightsteelblue: [176, 196, 222], lightyellow: [255, 255, 224], lime: [0, 255, 0], limegreen: [50, 205, 50], linen: [250, 240, 230], magenta: [255, 0, 255], maroon: [128, 0, 0], mediumaquamarine: [102, 205, 170], mediumblue: [0, 0, 205], mediumorchid: [186, 85, 211], mediumpurple: [147, 112, 219], mediumseagreen: [60, 179, 113], mediumslateblue: [123, 104, 238], mediumspringgreen: [0, 250, 154], mediumturquoise: [72, 209, 204], mediumvioletred: [199, 21, 133], midnightblue: [25, 25, 112], mintcream: [245, 255, 250], mistyrose: [255, 228, 225], moccasin: [255, 228, 181], navajowhite: [255, 222, 173], navy: [0, 0, 128], oldlace: [253, 245, 230], olive: [128, 128, 0], olivedrab: [107, 142, 35], orange: [255, 165, 0], orangered: [255, 69, 0], orchid: [218, 112, 214], palegoldenrod: [238, 232, 170], palegreen: [152, 251, 152], paleturquoise: [175, 238, 238], palevioletred: [219, 112, 147], papayawhip: [255, 239, 213], peachpuff: [255, 218, 185], peru: [205, 133, 63], pink: [255, 192, 203], plum: [221, 160, 221], powderblue: [176, 224, 230], purple: [128, 0, 128], rebeccapurple: [102, 51, 153], red: [255, 0, 0], rosybrown: [188, 143, 143], royalblue: [65, 105, 225], saddlebrown: [139, 69, 19], salmon: [250, 128, 114], sandybrown: [244, 164, 96], seagreen: [46, 139, 87], seashell: [255, 245, 238], sienna: [160, 82, 45], silver: [192, 192, 192], skyblue: [135, 206, 235], slateblue: [106, 90, 205], slategray: [112, 128, 144], slategrey: [112, 128, 144], snow: [255, 250, 250], springgreen: [0, 255, 127], steelblue: [70, 130, 180], tan: [210, 180, 140], teal: [0, 128, 128], thistle: [216, 191, 216], tomato: [255, 99, 71], turquoise: [64, 224, 208], violet: [238, 130, 238], wheat: [245, 222, 179], white: [255, 255, 255], whitesmoke: [245, 245, 245], yellow: [255, 255, 0], yellowgreen: [154, 205, 50] }, Z = { getRgba: U, getHsla: W, getRgb: function (t) { var e = U(t); return e && e.slice(0, 3) }, getHsl: function (t) { var e = W(t); return e && e.slice(0, 3) }, getHwb: T, getAlpha: function (t) { var e = U(t); return e ? e[3] : (e = W(t)) ? e[3] : (e = T(t)) ? e[3] : void 0 }, hexString: function (t, e) { return e = void 0 !== e && 3 === t.length ? e : t[3], "#" + Y(t[0]) + Y(t[1]) + Y(t[2]) + (0 <= e && e < 1 ? Y(Math.round(255 * e)) : "") }, rgbString: function (t, e) { return e < 1 || t[3] && t[3] < 1 ? N(t, e) : "rgb(" + t[0] + ", " + t[1] + ", " + t[2] + ")" }, rgbaString: N, percentString: function (t, e) { return e < 1 || t[3] && t[3] < 1 ? H(t, e) : "rgb(" + Math.round(t[0] / 255 * 100) + "%, " + Math.round(t[1] / 255 * 100) + "%, " + Math.round(t[2] / 255 * 100) + "%)" }, percentaString: H, hslString: function (t, e) { return e < 1 || t[3] && t[3] < 1 ? E(t, e) : "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)" }, hslaString: E, hwbString: function (t, e) { return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + (void 0 !== e && 1 !== e ? ", " + e : "") + ")" }, keyword: function (t) { return O[t.slice(0, 3)] } }; function U(t) { if (t) { var e = [0, 0, 0], n = 1, i = t.match(/^#([a-fA-F0-9]{3,4})$/i), o = ""; if (i) { o = (i = i[1])[3]; for (var a = 0; a < e.length; a++)e[a] = parseInt(i[a] + i[a], 16); o && (n = Math.round(parseInt(o + o, 16) / 255 * 100) / 100) } else if (i = t.match(/^#([a-fA-F0-9]{6}([a-fA-F0-9]{2})?)$/i)) { for (o = i[2], i = i[1], a = 0; a < e.length; a++)e[a] = parseInt(i.slice(2 * a, 2 * a + 2), 16); o && (n = Math.round(parseInt(o, 16) / 255 * 100) / 100) } else if (i = t.match(/^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)) { for (a = 0; a < e.length; a++)e[a] = parseInt(i[a + 1]); n = parseFloat(i[4]) } else if (i = t.match(/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/i)) { for (a = 0; a < e.length; a++)e[a] = Math.round(2.55 * parseFloat(i[a + 1])); n = parseFloat(i[4]) } else if (i = t.match(/(\w+)/)) { if ("transparent" == i[1]) return [0, 0, 0, 0]; if (!(e = D[i[1]])) return } for (a = 0; a < e.length; a++)e[a] = R(e[a], 0, 255); return n = n || 0 == n ? R(n, 0, 1) : 1, e[3] = n, e } } function W(t) { if (t) { var e = t.match(/^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/); if (e) { var n = parseFloat(e[4]); return [R(parseInt(e[1]), 0, 360), R(parseFloat(e[2]), 0, 100), R(parseFloat(e[3]), 0, 100), R(isNaN(n) ? 1 : n, 0, 1)] } } } function T(t) { if (t) { var e = t.match(/^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/); if (e) { var n = parseFloat(e[4]); return [R(parseInt(e[1]), 0, 360), R(parseFloat(e[2]), 0, 100), R(parseFloat(e[3]), 0, 100), R(isNaN(n) ? 1 : n, 0, 1)] } } } function N(t, e) { return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "rgba(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + e + ")" } function H(t, e) { return "rgba(" + Math.round(t[0] / 255 * 100) + "%, " + Math.round(t[1] / 255 * 100) + "%, " + Math.round(t[2] / 255 * 100) + "%, " + (e || t[3] || 1) + ")" } function E(t, e) { return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + e + ")" } function R(t, e, n) { return Math.min(Math.max(e, t), n) } function Y(t) { var e = t.toString(16).toUpperCase(); return e.length < 2 ? "0" + e : e } var O = {}; for (var _ in D) O[D[_]] = _; var V = function (t) { return t instanceof V ? t : this instanceof V ? (this.valid = !1, this.values = { rgb: [0, 0, 0], hsl: [0, 0, 0], hsv: [0, 0, 0], hwb: [0, 0, 0], cmyk: [0, 0, 0, 0], alpha: 1 }, void ("string" == typeof t ? (e = Z.getRgba(t)) ? this.setValues("rgb", e) : (e = Z.getHsla(t)) ? this.setValues("hsl", e) : (e = Z.getHwb(t)) && this.setValues("hwb", e) : "object" == typeof t && (void 0 !== (e = t).r || void 0 !== e.red ? this.setValues("rgb", e) : void 0 !== e.l || void 0 !== e.lightness ? this.setValues("hsl", e) : void 0 !== e.v || void 0 !== e.value ? this.setValues("hsv", e) : void 0 !== e.w || void 0 !== e.whiteness ? this.setValues("hwb", e) : void 0 === e.c && void 0 === e.cyan || this.setValues("cmyk", e)))) : new V(t); var e }; V.prototype = { isValid: function () { return this.valid }, rgb: function () { return this.setSpace("rgb", arguments) }, hsl: function () { return this.setSpace("hsl", arguments) }, hsv: function () { return this.setSpace("hsv", arguments) }, hwb: function () { return this.setSpace("hwb", arguments) }, cmyk: function () { return this.setSpace("cmyk", arguments) }, rgbArray: function () { return this.values.rgb }, hslArray: function () { return this.values.hsl }, hsvArray: function () { return this.values.hsv }, hwbArray: function () { var t = this.values; return 1 !== t.alpha ? t.hwb.concat([t.alpha]) : t.hwb }, cmykArray: function () { return this.values.cmyk }, rgbaArray: function () { var t = this.values; return t.rgb.concat([t.alpha]) }, hslaArray: function () { var t = this.values; return t.hsl.concat([t.alpha]) }, alpha: function (t) { return void 0 === t ? this.values.alpha : (this.setValues("alpha", t), this) }, red: function (t) { return this.setChannel("rgb", 0, t) }, green: function (t) { return this.setChannel("rgb", 1, t) }, blue: function (t) { return this.setChannel("rgb", 2, t) }, hue: function (t) { return t && (t = (t %= 360) < 0 ? 360 + t : t), this.setChannel("hsl", 0, t) }, saturation: function (t) { return this.setChannel("hsl", 1, t) }, lightness: function (t) { return this.setChannel("hsl", 2, t) }, saturationv: function (t) { return this.setChannel("hsv", 1, t) }, whiteness: function (t) { return this.setChannel("hwb", 1, t) }, blackness: function (t) { return this.setChannel("hwb", 2, t) }, value: function (t) { return this.setChannel("hsv", 2, t) }, cyan: function (t) { return this.setChannel("cmyk", 0, t) }, magenta: function (t) { return this.setChannel("cmyk", 1, t) }, yellow: function (t) { return this.setChannel("cmyk", 2, t) }, black: function (t) { return this.setChannel("cmyk", 3, t) }, hexString: function () { return Z.hexString(this.values.rgb) }, rgbString: function () { return Z.rgbString(this.values.rgb, this.values.alpha) }, rgbaString: function () { return Z.rgbaString(this.values.rgb, this.values.alpha) }, percentString: function () { return Z.percentString(this.values.rgb, this.values.alpha) }, hslString: function () { return Z.hslString(this.values.hsl, this.values.alpha) }, hslaString: function () { return Z.hslaString(this.values.hsl, this.values.alpha) }, hwbString: function () { return Z.hwbString(this.values.hwb, this.values.alpha) }, keyword: function () { return Z.keyword(this.values.rgb, this.values.alpha) }, rgbNumber: function () { var t = this.values.rgb; return t[0] << 16 | t[1] << 8 | t[2] }, luminosity: function () { for (var t = this.values.rgb, e = [], n = 0; n < t.length; n++) { var i = t[n] / 255; e[n] = i <= .03928 ? i / 12.92 : Math.pow((.055 + i) / 1.055, 2.4) } return .2126 * e[0] + .7152 * e[1] + .0722 * e[2] }, contrast: function (t) { var e = this.luminosity(), n = t.luminosity(); return n < e ? (e + .05) / (n + .05) : (n + .05) / (e + .05) }, level: function (t) { var e = this.contrast(t); return 7.1 <= e ? "AAA" : 4.5 <= e ? "AA" : "" }, dark: function () { var t = this.values.rgb; return (299 * t[0] + 587 * t[1] + 114 * t[2]) / 1e3 < 128 }, light: function () { return !this.dark() }, negate: function () { for (var t = [], e = 0; e < 3; e++)t[e] = 255 - this.values.rgb[e]; return this.setValues("rgb", t), this }, lighten: function (t) { var e = this.values.hsl; return e[2] += e[2] * t, this.setValues("hsl", e), this }, darken: function (t) { var e = this.values.hsl; return e[2] -= e[2] * t, this.setValues("hsl", e), this }, saturate: function (t) { var e = this.values.hsl; return e[1] += e[1] * t, this.setValues("hsl", e), this }, desaturate: function (t) { var e = this.values.hsl; return e[1] -= e[1] * t, this.setValues("hsl", e), this }, whiten: function (t) { var e = this.values.hwb; return e[1] += e[1] * t, this.setValues("hwb", e), this }, blacken: function (t) { var e = this.values.hwb; return e[2] += e[2] * t, this.setValues("hwb", e), this }, greyscale: function () { var t = this.values.rgb, e = .3 * t[0] + .59 * t[1] + .11 * t[2]; return this.setValues("rgb", [e, e, e]), this }, clearer: function (t) { var e = this.values.alpha; return this.setValues("alpha", e - e * t), this }, opaquer: function (t) { var e = this.values.alpha; return this.setValues("alpha", e + e * t), this }, rotate: function (t) { var e = this.values.hsl, n = (e[0] + t) % 360; return e[0] = n < 0 ? 360 + n : n, this.setValues("hsl", e), this }, mix: function (t, e) { var n = t, i = void 0 === e ? .5 : e, o = 2 * i - 1, a = this.alpha() - n.alpha(), r = (1 + (o * a == -1 ? o : (o + a) / (1 + o * a))) / 2, s = 1 - r; return this.rgb(r * this.red() + s * n.red(), r * this.green() + s * n.green(), r * this.blue() + s * n.blue()).alpha(this.alpha() * i + n.alpha() * (1 - i)) }, toJSON: function () { return this.rgb() }, clone: function () { var t, e, n = new V, i = this.values, o = n.values; for (var a in i) i.hasOwnProperty(a) && (t = i[a], "[object Array]" === (e = {}.toString.call(t)) ? o[a] = t.slice(0) : "[object Number]" === e ? o[a] = t : console.error("unexpected color value:", t)); return n } }, V.prototype.spaces = { rgb: ["red", "green", "blue"], hsl: ["hue", "saturation", "lightness"], hsv: ["hue", "saturation", "value"], hwb: ["hue", "whiteness", "blackness"], cmyk: ["cyan", "magenta", "yellow", "black"] }, V.prototype.maxes = { rgb: [255, 255, 255], hsl: [360, 100, 100], hsv: [360, 100, 100], hwb: [360, 100, 100], cmyk: [100, 100, 100, 100] }, V.prototype.getValues = function (t) { for (var e = this.values, n = {}, i = 0; i < t.length; i++)n[t.charAt(i)] = e[t][i]; return 1 !== e.alpha && (n.a = e.alpha), n }, V.prototype.setValues = function (t, e) { var n, i, o = this.values, a = this.spaces, r = this.maxes, s = 1; if (this.valid = !0, "alpha" === t) s = e; else if (e.length) o[t] = e.slice(0, t.length), s = e[t.length]; else if (void 0 !== e[t.charAt(0)]) { for (n = 0; n < t.length; n++)o[t][n] = e[t.charAt(n)]; s = e.a } else if (void 0 !== e[a[t][0]]) { var g = a[t]; for (n = 0; n < t.length; n++)o[t][n] = e[g[n]]; s = e.alpha } if (o.alpha = Math.max(0, Math.min(1, void 0 === s ? o.alpha : s)), "alpha" === t) return !1; for (n = 0; n < t.length; n++)i = Math.max(0, Math.min(r[t][n], o[t][n])), o[t][n] = Math.round(i); for (var l in a) l !== t && (o[l] = k[t][l](o[t])); return !0 }, V.prototype.setSpace = function (t, e) { var n = e[0]; return void 0 === n ? this.getValues(t) : ("number" == typeof n && (n = Array.prototype.slice.call(e)), this.setValues(t, n), this) }, V.prototype.setChannel = function (t, e, n) { var i = this.values[t]; return void 0 === n ? i[e] : (n === i[e] || (i[e] = n, this.setValues(t, i)), this) }, "undefined" != typeof window && (window.Color = V); var L, M = V, z = { noop: function () { }, uid: (L = 0, function () { return L++ }), isNullOrUndef: function (t) { return null == t }, isArray: function (t) { if (Array.isArray && Array.isArray(t)) return !0; var e = Object.prototype.toString.call(t); return "[object" === e.substr(0, 7) && "Array]" === e.substr(-6) }, isObject: function (t) { return null !== t && "[object Object]" === Object.prototype.toString.call(t) }, isFinite: function (t) { return ("number" == typeof t || t instanceof Number) && isFinite(t) }, valueOrDefault: function (t, e) { return void 0 === t ? e : t }, valueAtIndexOrDefault: function (t, e, n) { return z.valueOrDefault(z.isArray(t) ? t[e] : t, n) }, callback: function (t, e, n) { if (t && "function" == typeof t.call) return t.apply(n, e) }, each: function (t, e, n, i) { var o, a, r; if (z.isArray(t)) if (a = t.length, i) for (o = a - 1; 0 <= o; o--)e.call(n, t[o], o); else for (o = 0; o < a; o++)e.call(n, t[o], o); else if (z.isObject(t)) for (a = (r = Object.keys(t)).length, o = 0; o < a; o++)e.call(n, t[r[o]], r[o]) }, arrayEquals: function (t, e) { var n, i, o, a; if (!t || !e || t.length !== e.length) return !1; for (n = 0, i = t.length; n < i; ++n)if (o = t[n], a = e[n], o instanceof Array && a instanceof Array) { if (!z.arrayEquals(o, a)) return !1 } else if (o !== a) return !1; return !0 }, clone: function (t) { if (z.isArray(t)) return t.map(z.clone); if (z.isObject(t)) { for (var e = {}, n = Object.keys(t), i = n.length, o = 0; o < i; ++o)e[n[o]] = z.clone(t[n[o]]); return e } return t }, _merger: function (t, e, n, i) { var o = e[t], a = n[t]; z.isObject(o) && z.isObject(a) ? z.merge(o, a, i) : e[t] = z.clone(a) }, _mergerIf: function (t, e, n) { var i = e[t], o = n[t]; z.isObject(i) && z.isObject(o) ? z.mergeIf(i, o) : e.hasOwnProperty(t) || (e[t] = z.clone(o)) }, merge: function (t, e, n) { var i, o, a, r, s, g = z.isArray(e) ? e : [e], l = g.length; if (!z.isObject(t)) return t; for (i = (n = n || {}).merger || z._merger, o = 0; o < l; ++o)if (e = g[o], z.isObject(e)) for (s = 0, r = (a = Object.keys(e)).length; s < r; ++s)i(a[s], t, e, n); return t }, mergeIf: function (t, e) { return z.merge(t, e, { merger: z._mergerIf }) }, extend: function (t) { for (var e = function (e, n) { t[n] = e }, n = 1, i = arguments.length; n < i; ++n)z.each(arguments[n], e); return t }, inherits: function (t) { function e() { this.constructor = i } var n = this, i = t && t.hasOwnProperty("constructor") ? t.constructor : function () { return n.apply(this, arguments) }; return e.prototype = n.prototype, i.prototype = new e, i.extend = z.inherits, t && z.extend(i.prototype, t), i.__super__ = n.prototype, i } }, P = z; z.callCallback = z.callback, z.indexOf = function (t, e, n) { return Array.prototype.indexOf.call(t, e, n) }, z.getValueOrDefault = z.valueOrDefault, z.getValueAtIndexOrDefault = z.valueAtIndexOrDefault; var K = { linear: function (t) { return t }, easeInQuad: function (t) { return t * t }, easeOutQuad: function (t) { return -t * (t - 2) }, easeInOutQuad: function (t) { return (t /= .5) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1) }, easeInCubic: function (t) { return t * t * t }, easeOutCubic: function (t) { return (t -= 1) * t * t + 1 }, easeInOutCubic: function (t) { return (t /= .5) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2) }, easeInQuart: function (t) { return t * t * t * t }, easeOutQuart: function (t) { return -((t -= 1) * t * t * t - 1) }, easeInOutQuart: function (t) { return (t /= .5) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2) }, easeInQuint: function (t) { return t * t * t * t * t }, easeOutQuint: function (t) { return (t -= 1) * t * t * t * t + 1 }, easeInOutQuint: function (t) { return (t /= .5) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2) }, easeInSine: function (t) { return 1 - Math.cos(t * (Math.PI / 2)) }, easeOutSine: function (t) { return Math.sin(t * (Math.PI / 2)) }, easeInOutSine: function (t) { return -.5 * (Math.cos(Math.PI * t) - 1) }, easeInExpo: function (t) { return 0 === t ? 0 : Math.pow(2, 10 * (t - 1)) }, easeOutExpo: function (t) { return 1 === t ? 1 : 1 - Math.pow(2, -10 * t) }, easeInOutExpo: function (t) { return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t)) }, easeInCirc: function (t) { return 1 <= t ? t : -(Math.sqrt(1 - t * t) - 1) }, easeOutCirc: function (t) { return Math.sqrt(1 - (t -= 1) * t) }, easeInOutCirc: function (t) { return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1) }, easeInElastic: function (t) { var e = 1.70158, n = 0, i = 1; return 0 === t ? 0 : 1 === t ? 1 : (n || (n = .3), e = i < 1 ? (i = 1, n / 4) : n / (2 * Math.PI) * Math.asin(1 / i), -i * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n)) }, easeOutElastic: function (t) { var e = 1.70158, n = 0, i = 1; return 0 === t ? 0 : 1 === t ? 1 : (n || (n = .3), e = i < 1 ? (i = 1, n / 4) : n / (2 * Math.PI) * Math.asin(1 / i), i * Math.pow(2, -10 * t) * Math.sin((t - e) * (2 * Math.PI) / n) + 1) }, easeInOutElastic: function (t) { var e = 1.70158, n = 0, i = 1; return 0 === t ? 0 : 2 == (t /= .5) ? 1 : (n || (n = .45), e = i < 1 ? (i = 1, n / 4) : n / (2 * Math.PI) * Math.asin(1 / i), t < 1 ? i * Math.pow(2, 10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n) * -.5 : i * Math.pow(2, -10 * (t -= 1)) * Math.sin((t - e) * (2 * Math.PI) / n) * .5 + 1) }, easeInBack: function (t) { return t * t * (2.70158 * t - 1.70158) }, easeOutBack: function (t) { return (t -= 1) * t * (2.70158 * t + 1.70158) + 1 }, easeInOutBack: function (t) { var e = 1.70158; return (t /= .5) < 1 ? t * t * ((1 + (e *= 1.525)) * t - e) * .5 : .5 * ((t -= 2) * t * ((1 + (e *= 1.525)) * t + e) + 2) }, easeInBounce: function (t) { return 1 - K.easeOutBounce(1 - t) }, easeOutBounce: function (t) { return t < 1 / 2.75 ? 7.5625 * t * t : t < 2 / 2.75 ? 7.5625 * (t -= 1.5 / 2.75) * t + .75 : t < 2.5 / 2.75 ? 7.5625 * (t -= 2.25 / 2.75) * t + .9375 : 7.5625 * (t -= 2.625 / 2.75) * t + .984375 }, easeInOutBounce: function (t) { return t < .5 ? .5 * K.easeInBounce(2 * t) : .5 * K.easeOutBounce(2 * t - 1) + .5 } }, J = { effects: K }; P.easingEffects = K; var j = Math.PI, $ = j / 180, q = 2 * j, tt = j / 2, et = j / 4, nt = 2 * j / 3, it = { clear: function (t) { t.ctx.clearRect(0, 0, t.width, t.height) }, roundedRect: function (t, e, n, i, o, a) { if (a) { var r = Math.min(a, o / 2, i / 2), s = e + r, g = n + r, l = e + i - r, c = n + o - r; t.moveTo(e, g), s < l && g < c ? (t.arc(s, g, r, -j, -tt), t.arc(l, g, r, -tt, 0), t.arc(l, c, r, 0, tt), t.arc(s, c, r, tt, j)) : s < l ? (t.moveTo(s, n), t.arc(l, g, r, -tt, tt), t.arc(s, g, r, tt, j + tt)) : g < c ? (t.arc(s, g, r, -j, 0), t.arc(s, c, r, 0, j)) : t.arc(s, g, r, -j, j), t.closePath(), t.moveTo(e, n) } else t.rect(e, n, i, o) }, drawPoint: function (t, e, n, i, o, a) { var r, s, g, l, c, I = (a || 0) * $; if (!e || "object" != typeof e || "[object HTMLImageElement]" !== (r = e.toString()) && "[object HTMLCanvasElement]" !== r) { if (!(isNaN(n) || n <= 0)) { switch (t.beginPath(), e) { default: t.arc(i, o, n, 0, q), t.closePath(); break; case "triangle": t.moveTo(i + Math.sin(I) * n, o - Math.cos(I) * n), I += nt, t.lineTo(i + Math.sin(I) * n, o - Math.cos(I) * n), I += nt, t.lineTo(i + Math.sin(I) * n, o - Math.cos(I) * n), t.closePath(); break; case "rectRounded": l = n - (c = .516 * n), s = Math.cos(I + et) * l, g = Math.sin(I + et) * l, t.arc(i - s, o - g, c, I - j, I - tt), t.arc(i + g, o - s, c, I - tt, I), t.arc(i + s, o + g, c, I, I + tt), t.arc(i - g, o + s, c, I + tt, I + j), t.closePath(); break; case "rect": if (!a) { l = Math.SQRT1_2 * n, t.rect(i - l, o - l, 2 * l, 2 * l); break } I += et; case "rectRot": s = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - s, o - g), t.lineTo(i + g, o - s), t.lineTo(i + s, o + g), t.lineTo(i - g, o + s), t.closePath(); break; case "crossRot": I += et; case "cross": s = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - s, o - g), t.lineTo(i + s, o + g), t.moveTo(i + g, o - s), t.lineTo(i - g, o + s); break; case "star": s = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - s, o - g), t.lineTo(i + s, o + g), t.moveTo(i + g, o - s), t.lineTo(i - g, o + s), I += et, s = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - s, o - g), t.lineTo(i + s, o + g), t.moveTo(i + g, o - s), t.lineTo(i - g, o + s); break; case "line": s = Math.cos(I) * n, g = Math.sin(I) * n, t.moveTo(i - s, o - g), t.lineTo(i + s, o + g); break; case "dash": t.moveTo(i, o), t.lineTo(i + Math.cos(I) * n, o + Math.sin(I) * n) }t.fill(), t.stroke() } } else t.drawImage(e, i - e.width / 2, o - e.height / 2, e.width, e.height) }, _isPointInArea: function (t, e) { return t.x > e.left - 1e-6 && t.x < e.right + 1e-6 && t.y > e.top - 1e-6 && t.y < e.bottom + 1e-6 }, clipArea: function (t, e) { t.save(), t.beginPath(), t.rect(e.left, e.top, e.right - e.left, e.bottom - e.top), t.clip() }, unclipArea: function (t) { t.restore() }, lineTo: function (t, e, n, i) { var o = n.steppedLine; if (o) { if ("middle" === o) { var a = (e.x + n.x) / 2; t.lineTo(a, i ? n.y : e.y), t.lineTo(a, i ? e.y : n.y) } else "after" === o && !i || "after" !== o && i ? t.lineTo(e.x, n.y) : t.lineTo(n.x, e.y); t.lineTo(n.x, n.y) } else n.tension ? t.bezierCurveTo(i ? e.controlPointPreviousX : e.controlPointNextX, i ? e.controlPointPreviousY : e.controlPointNextY, i ? n.controlPointNextX : n.controlPointPreviousX, i ? n.controlPointNextY : n.controlPointPreviousY, n.x, n.y) : t.lineTo(n.x, n.y) } }, ot = it; P.clear = it.clear, P.drawRoundedRectangle = function (t) { t.beginPath(), it.roundedRect.apply(it, arguments) }; var at = { _set: function (t, e) { return P.merge(this[t] || (this[t] = {}), e) } }; at._set("global", { defaultColor: "rgba(0,0,0,0.1)", defaultFontColor: "#666", defaultFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif", defaultFontSize: 12, defaultFontStyle: "normal", defaultLineHeight: 1.2, showLines: !0 }); var rt = at, st = P.valueOrDefault, gt = { toLineHeight: function (t, e) { var n = ("" + t).match(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/); if (!n || "normal" === n[1]) return 1.2 * e; switch (t = +n[2], n[3]) { case "px": return t; case "%": t /= 100 }return e * t }, toPadding: function (t) { var e, n, i, o; return P.isObject(t) ? (e = +t.top || 0, n = +t.right || 0, i = +t.bottom || 0, o = +t.left || 0) : e = n = i = o = +t || 0, { top: e, right: n, bottom: i, left: o, height: e + i, width: o + n } }, _parseFont: function (t) { var e = rt.global, n = st(t.fontSize, e.defaultFontSize), i = { family: st(t.fontFamily, e.defaultFontFamily), lineHeight: P.options.toLineHeight(st(t.lineHeight, e.defaultLineHeight), n), size: n, style: st(t.fontStyle, e.defaultFontStyle), weight: null, string: "" }; return i.string = function (t) { return !t || P.isNullOrUndef(t.size) || P.isNullOrUndef(t.family) ? null : (t.style ? t.style + " " : "") + (t.weight ? t.weight + " " : "") + t.size + "px " + t.family }(i), i }, resolve: function (t, e, n) { var i, o, a; for (i = 0, o = t.length; i < o; ++i)if (void 0 !== (a = t[i]) && (void 0 !== e && "function" == typeof a && (a = a(e)), void 0 !== n && P.isArray(a) && (a = a[n]), void 0 !== a)) return a } }, lt = P, ct = J, It = ot, ut = gt; function ht(t) { lt.extend(this, t), this.initialize.apply(this, arguments) } lt.easing = ct, lt.canvas = It, lt.options = ut, lt.extend(ht.prototype, { initialize: function () { this.hidden = !1 }, pivot: function () { return this._view || (this._view = lt.clone(this._model)), this._start = {}, this }, transition: function (t) { var e = this._model, n = this._start, i = this._view; return e && 1 !== t ? (i || (i = this._view = {}), n || (n = this._start = {}), function (t, e, n, i) { var o, a, r, s, g, l, c, I, u, h = Object.keys(n); for (o = 0, a = h.length; o < a; ++o)if (l = n[r = h[o]], e.hasOwnProperty(r) || (e[r] = l), (s = e[r]) !== l && "_" !== r[0]) { if (t.hasOwnProperty(r) || (t[r] = s), (c = typeof l) == typeof (g = t[r])) if ("string" == c) { if ((I = M(g)).valid && (u = M(l)).valid) { e[r] = u.mix(I, i).rgbString(); continue } } else if (lt.isFinite(g) && lt.isFinite(l)) { e[r] = g + (l - g) * i; continue } e[r] = l } }(n, i, e, t)) : (this._view = e, this._start = null), this }, tooltipPosition: function () { return { x: this._model.x, y: this._model.y } }, hasValue: function () { return lt.isNumber(this._model.x) && lt.isNumber(this._model.y) } }), ht.extend = lt.inherits; var dt = ht, Ct = dt.extend({ chart: null, currentStep: 0, numSteps: 60, easing: "", render: null, onAnimationProgress: null, onAnimationComplete: null }), At = Ct; Object.defineProperty(Ct.prototype, "animationObject", { get: function () { return this } }), Object.defineProperty(Ct.prototype, "chartInstance", { get: function () { return this.chart }, set: function (t) { this.chart = t } }), rt._set("global", { animation: { duration: 1e3, easing: "easeOutQuart", onProgress: lt.noop, onComplete: lt.noop } }); var pt = { animations: [], request: null, addAnimation: function (t, e, n, i) { var o, a, r = this.animations; for (e.chart = t, e.startTime = Date.now(), e.duration = n, i || (t.animating = !0), o = 0, a = r.length; o < a; ++o)if (r[o].chart === t) return void (r[o] = e); r.push(e), 1 === r.length && this.requestAnimationFrame() }, cancelAnimation: function (t) { var e = lt.findIndex(this.animations, function (e) { return e.chart === t }); -1 !== e && (this.animations.splice(e, 1), t.animating = !1) }, requestAnimationFrame: function () { var t = this; null === t.request && (t.request = lt.requestAnimFrame.call(window, function () { t.request = null, t.startDigest() })) }, startDigest: function () { this.advance(), 0 < this.animations.length && this.requestAnimationFrame() }, advance: function () { for (var t, e, n, i, o = this.animations, a = 0; a < o.length;)e = (t = o[a]).chart, n = t.numSteps, i = Math.floor((Date.now() - t.startTime) / t.duration * n) + 1, t.currentStep = Math.min(i, n), lt.callback(t.render, [e, t], e), lt.callback(t.onAnimationProgress, [t], e), t.currentStep >= n ? (lt.callback(t.onAnimationComplete, [t], e), e.animating = !1, o.splice(a, 1)) : ++a } }, mt = lt.options.resolve, ft = ["push", "pop", "shift", "splice", "unshift"]; function bt(t, e) { var n = t._chartjs; if (n) { var i = n.listeners, o = i.indexOf(e); -1 !== o && i.splice(o, 1), 0 < i.length || (ft.forEach(function (e) { delete t[e] }), delete t._chartjs) } } function Bt(t, e) { this.initialize(t, e) } lt.extend(Bt.prototype, { datasetElementType: null, dataElementType: null, initialize: function (t, e) { this.chart = t, this.index = e, this.linkScales(), this.addElements() }, updateIndex: function (t) { this.index = t }, linkScales: function () { var t = this.getMeta(), e = this.getDataset(); null !== t.xAxisID && t.xAxisID in this.chart.scales || (t.xAxisID = e.xAxisID || this.chart.options.scales.xAxes[0].id), null !== t.yAxisID && t.yAxisID in this.chart.scales || (t.yAxisID = e.yAxisID || this.chart.options.scales.yAxes[0].id) }, getDataset: function () { return this.chart.data.datasets[this.index] }, getMeta: function () { return this.chart.getDatasetMeta(this.index) }, getScaleForId: function (t) { return this.chart.scales[t] }, _getValueScaleId: function () { return this.getMeta().yAxisID }, _getIndexScaleId: function () { return this.getMeta().xAxisID }, _getValueScale: function () { return this.getScaleForId(this._getValueScaleId()) }, _getIndexScale: function () { return this.getScaleForId(this._getIndexScaleId()) }, reset: function () { this.update(!0) }, destroy: function () { this._data && bt(this._data, this) }, createMetaDataset: function () { var t = this.datasetElementType; return t && new t({ _chart: this.chart, _datasetIndex: this.index }) }, createMetaData: function (t) { var e = this.dataElementType; return e && new e({ _chart: this.chart, _datasetIndex: this.index, _index: t }) }, addElements: function () { var t, e, n = this.getMeta(), i = this.getDataset().data || [], o = n.data; for (t = 0, e = i.length; t < e; ++t)o[t] = o[t] || this.createMetaData(t); n.dataset = n.dataset || this.createMetaDataset() }, addElementAndReset: function (t) { var e = this.createMetaData(t); this.getMeta().data.splice(t, 0, e), this.updateElement(e, t, !0) }, buildOrUpdateElements: function () { var t = this.getDataset(), e = t.data || (t.data = []); this._data !== e && (this._data && bt(this._data, this), e && Object.isExtensible(e) && function (t, e) { t._chartjs ? t._chartjs.listeners.push(e) : (Object.defineProperty(t, "_chartjs", { configurable: !0, enumerable: !1, value: { listeners: [e] } }), ft.forEach(function (e) { var n = "onData" + e.charAt(0).toUpperCase() + e.slice(1), i = t[e]; Object.defineProperty(t, e, { configurable: !0, enumerable: !1, value: function () { var e = Array.prototype.slice.call(arguments), o = i.apply(this, e); return lt.each(t._chartjs.listeners, function (t) { "function" == typeof t[n] && t[n].apply(t, e) }), o } }) })) }(e, this), this._data = e), this.resyncElements() }, update: lt.noop, transition: function (t) { for (var e = this.getMeta(), n = e.data || [], i = n.length, o = 0; o < i; ++o)n[o].transition(t); e.dataset && e.dataset.transition(t) }, draw: function () { var t = this.getMeta(), e = t.data || [], n = e.length, i = 0; for (t.dataset && t.dataset.draw(); i < n; ++i)e[i].draw() }, removeHoverStyle: function (t) { lt.merge(t._model, t.$previousStyle || {}), delete t.$previousStyle }, setHoverStyle: function (t) { var e = this.chart.data.datasets[t._datasetIndex], n = t._index, i = t.custom || {}, o = t._model, a = lt.getHoverColor; t.$previousStyle = { backgroundColor: o.backgroundColor, borderColor: o.borderColor, borderWidth: o.borderWidth }, o.backgroundColor = mt([i.hoverBackgroundColor, e.hoverBackgroundColor, a(o.backgroundColor)], void 0, n), o.borderColor = mt([i.hoverBorderColor, e.hoverBorderColor, a(o.borderColor)], void 0, n), o.borderWidth = mt([i.hoverBorderWidth, e.hoverBorderWidth, o.borderWidth], void 0, n) }, resyncElements: function () { var t = this.getMeta(), e = this.getDataset().data, n = t.data.length, i = e.length; i < n ? t.data.splice(i, n - i) : n < i && this.insertElements(n, i - n) }, insertElements: function (t, e) { for (var n = 0; n < e; ++n)this.addElementAndReset(t + n) }, onDataPush: function () { var t = arguments.length; this.insertElements(this.getDataset().data.length - t, t) }, onDataPop: function () { this.getMeta().data.pop() }, onDataShift: function () { this.getMeta().data.shift() }, onDataSplice: function (t, e) { this.getMeta().data.splice(t, e), this.insertElements(t, arguments.length - 2) }, onDataUnshift: function () { this.insertElements(0, arguments.length) } }), Bt.extend = lt.inherits; var yt = Bt; rt._set("global", { elements: { arc: { backgroundColor: rt.global.defaultColor, borderColor: "#fff", borderWidth: 2, borderAlign: "center" } } }); var vt = dt.extend({ inLabelRange: function (t) { var e = this._view; return !!e && Math.pow(t - e.x, 2) < Math.pow(e.radius + e.hoverRadius, 2) }, inRange: function (t, e) { var n = this._view; if (n) { for (var i = lt.getAngleFromPoint(n, { x: t, y: e }), o = i.angle, a = i.distance, r = n.startAngle, s = n.endAngle; s < r;)s += 2 * Math.PI; for (; s < o;)o -= 2 * Math.PI; for (; o < r;)o += 2 * Math.PI; var g = r <= o && o <= s, l = a >= n.innerRadius && a <= n.outerRadius; return g && l } return !1 }, getCenterPoint: function () { var t = this._view, e = (t.startAngle + t.endAngle) / 2, n = (t.innerRadius + t.outerRadius) / 2; return { x: t.x + Math.cos(e) * n, y: t.y + Math.sin(e) * n } }, getArea: function () { var t = this._view; return Math.PI * ((t.endAngle - t.startAngle) / (2 * Math.PI)) * (Math.pow(t.outerRadius, 2) - Math.pow(t.innerRadius, 2)) }, tooltipPosition: function () { var t = this._view, e = t.startAngle + (t.endAngle - t.startAngle) / 2, n = (t.outerRadius - t.innerRadius) / 2 + t.innerRadius; return { x: t.x + Math.cos(e) * n, y: t.y + Math.sin(e) * n } }, draw: function () { var t, e = this._chart.ctx, n = this._view, i = n.startAngle, o = n.endAngle, a = "inner" === n.borderAlign ? .33 : 0; e.save(), e.beginPath(), e.arc(n.x, n.y, Math.max(n.outerRadius - a, 0), i, o), e.arc(n.x, n.y, n.innerRadius, o, i, !0), e.closePath(), e.fillStyle = n.backgroundColor, e.fill(), n.borderWidth && ("inner" === n.borderAlign ? (e.beginPath(), t = a / n.outerRadius, e.arc(n.x, n.y, n.outerRadius, i - t, o + t), n.innerRadius > a ? (t = a / n.innerRadius, e.arc(n.x, n.y, n.innerRadius - a, o + t, i - t, !0)) : e.arc(n.x, n.y, a, o + Math.PI / 2, i - Math.PI / 2), e.closePath(), e.clip(), e.beginPath(), e.arc(n.x, n.y, n.outerRadius, i, o), e.arc(n.x, n.y, n.innerRadius, o, i, !0), e.closePath(), e.lineWidth = 2 * n.borderWidth, e.lineJoin = "round") : (e.lineWidth = n.borderWidth, e.lineJoin = "bevel"), e.strokeStyle = n.borderColor, e.stroke()), e.restore() } }), xt = lt.valueOrDefault, Ft = rt.global.defaultColor; rt._set("global", { elements: { line: { tension: .4, backgroundColor: Ft, borderWidth: 3, borderColor: Ft, borderCapStyle: "butt", borderDash: [], borderDashOffset: 0, borderJoinStyle: "miter", capBezierPoints: !0, fill: !0 } } }); var Qt = dt.extend({ draw: function () { var t, e, n, i, o = this._view, a = this._chart.ctx, r = o.spanGaps, s = this._children.slice(), g = rt.global, l = g.elements.line, c = -1; for (this._loop && s.length && s.push(s[0]), a.save(), a.lineCap = o.borderCapStyle || l.borderCapStyle, a.setLineDash && a.setLineDash(o.borderDash || l.borderDash), a.lineDashOffset = xt(o.borderDashOffset, l.borderDashOffset), a.lineJoin = o.borderJoinStyle || l.borderJoinStyle, a.lineWidth = xt(o.borderWidth, l.borderWidth), a.strokeStyle = o.borderColor || g.defaultColor, a.beginPath(), c = -1, t = 0; t < s.length; ++t)e = s[t], n = lt.previousItem(s, t), i = e._view, 0 === t ? i.skip || (a.moveTo(i.x, i.y), c = t) : (n = -1 === c ? n : s[c], i.skip || (c !== t - 1 && !r || -1 === c ? a.moveTo(i.x, i.y) : lt.canvas.lineTo(a, n._view, e._view), c = t)); a.stroke(), a.restore() } }), Gt = lt.valueOrDefault, wt = rt.global.defaultColor; function Xt(t) { var e = this._view; return !!e && Math.abs(t - e.x) < e.radius + e.hitRadius } rt._set("global", { elements: { point: { radius: 3, pointStyle: "circle", backgroundColor: wt, borderColor: wt, borderWidth: 1, hitRadius: 1, hoverRadius: 4, hoverBorderWidth: 1 } } }); var St = dt.extend({ inRange: function (t, e) { var n = this._view; return !!n && Math.pow(t - n.x, 2) + Math.pow(e - n.y, 2) < Math.pow(n.hitRadius + n.radius, 2) }, inLabelRange: Xt, inXRange: Xt, inYRange: function (t) { var e = this._view; return !!e && Math.abs(t - e.y) < e.radius + e.hitRadius }, getCenterPoint: function () { var t = this._view; return { x: t.x, y: t.y } }, getArea: function () { return Math.PI * Math.pow(this._view.radius, 2) }, tooltipPosition: function () { var t = this._view; return { x: t.x, y: t.y, padding: t.radius + t.borderWidth } }, draw: function (t) { var e = this._view, n = this._chart.ctx, i = e.pointStyle, o = e.rotation, a = e.radius, r = e.x, s = e.y, g = rt.global, l = g.defaultColor; e.skip || void 0 !== t && !lt.canvas._isPointInArea(e, t) || (n.strokeStyle = e.borderColor || l, n.lineWidth = Gt(e.borderWidth, g.elements.point.borderWidth), n.fillStyle = e.backgroundColor || l, lt.canvas.drawPoint(n, i, a, r, s, o)) } }), kt = rt.global.defaultColor; function Dt(t) { return t && void 0 !== t.width } function Zt(t) { var e, n, i, o, a; return o = Dt(t) ? (a = t.width / 2, e = t.x - a, n = t.x + a, i = Math.min(t.y, t.base), Math.max(t.y, t.base)) : (a = t.height / 2, e = Math.min(t.x, t.base), n = Math.max(t.x, t.base), i = t.y - a, t.y + a), { left: e, top: i, right: n, bottom: o } } function Ut(t, e, n) { return t === e ? n : t === n ? e : t } function Wt(t, e, n) { var i = null === e, o = null === n, a = !(!t || i && o) && Zt(t); return a && (i || e >= a.left && e <= a.right) && (o || n >= a.top && n <= a.bottom) } rt._set("global", { elements: { rectangle: { backgroundColor: kt, borderColor: kt, borderSkipped: "bottom", borderWidth: 0 } } }); var Tt = dt.extend({ draw: function () { var t = this._chart.ctx, e = this._view, n = function (t) { var e = Zt(t), n = e.right - e.left, i = e.bottom - e.top, o = function (t, e, n) { var i, o, a, r, s = t.borderWidth, g = function (t) { var e = t.borderSkipped, n = {}; return e && (t.horizontal ? t.base > t.x && (e = Ut(e, "left", "right")) : t.base < t.y && (e = Ut(e, "bottom", "top")), n[e] = !0), n }(t); return lt.isObject(s) ? (i = +s.top || 0, o = +s.right || 0, a = +s.bottom || 0, r = +s.left || 0) : i = o = a = r = +s || 0, { t: g.top || i < 0 ? 0 : n < i ? n : i, r: g.right || o < 0 ? 0 : e < o ? e : o, b: g.bottom || a < 0 ? 0 : n < a ? n : a, l: g.left || r < 0 ? 0 : e < r ? e : r } }(t, n / 2, i / 2); return { outer: { x: e.left, y: e.top, w: n, h: i }, inner: { x: e.left + o.l, y: e.top + o.t, w: n - o.l - o.r, h: i - o.t - o.b } } }(e), i = n.outer, o = n.inner; t.fillStyle = e.backgroundColor, t.fillRect(i.x, i.y, i.w, i.h), i.w === o.w && i.h === o.h || (t.save(), t.beginPath(), t.rect(i.x, i.y, i.w, i.h), t.clip(), t.fillStyle = e.borderColor, t.rect(o.x, o.y, o.w, o.h), t.fill("evenodd"), t.restore()) }, height: function () { var t = this._view; return t.base - t.y }, inRange: function (t, e) { return Wt(this._view, t, e) }, inLabelRange: function (t, e) { var n = this._view; return Dt(n) ? Wt(n, t, null) : Wt(n, null, e) }, inXRange: function (t) { return Wt(this._view, t, null) }, inYRange: function (t) { return Wt(this._view, null, t) }, getCenterPoint: function () { var t, e, n = this._view; return e = Dt(n) ? (t = n.x, (n.y + n.base) / 2) : (t = (n.x + n.base) / 2, n.y), { x: t, y: e } }, getArea: function () { var t = this._view; return Dt(t) ? t.width * Math.abs(t.y - t.base) : t.height * Math.abs(t.x - t.base) }, tooltipPosition: function () { var t = this._view; return { x: t.x, y: t.y } } }), Nt = {}, Ht = vt, Et = Qt, Rt = St, Yt = Tt; Nt.Arc = Ht, Nt.Line = Et, Nt.Point = Rt, Nt.Rectangle = Yt; var Ot = lt.options.resolve; rt._set("bar", { hover: { mode: "label" }, scales: { xAxes: [{ type: "category", categoryPercentage: .8, barPercentage: .9, offset: !0, gridLines: { offsetGridLines: !0 } }], yAxes: [{ type: "linear" }] } }); var _t = yt.extend({ dataElementType: Nt.Rectangle, initialize: function () { var t; yt.prototype.initialize.apply(this, arguments), (t = this.getMeta()).stack = this.getDataset().stack, t.bar = !0 }, update: function (t) { var e, n, i = this.getMeta().data; for (this._ruler = this.getRuler(), e = 0, n = i.length; e < n; ++e)this.updateElement(i[e], e, t) }, updateElement: function (t, e, n) { var i = this.getMeta(), o = this.getDataset(), a = this._resolveElementOptions(t, e); t._xScale = this.getScaleForId(i.xAxisID), t._yScale = this.getScaleForId(i.yAxisID), t._datasetIndex = this.index, t._index = e, t._model = { backgroundColor: a.backgroundColor, borderColor: a.borderColor, borderSkipped: a.borderSkipped, borderWidth: a.borderWidth, datasetLabel: o.label, label: this.chart.data.labels[e] }, this._updateElementGeometry(t, e, n), t.pivot() }, _updateElementGeometry: function (t, e, n) { var i = t._model, o = this._getValueScale(), a = o.getBasePixel(), r = o.isHorizontal(), s = this._ruler || this.getRuler(), g = this.calculateBarValuePixels(this.index, e), l = this.calculateBarIndexPixels(this.index, e, s); i.horizontal = r, i.base = n ? a : g.base, i.x = r ? n ? a : g.head : l.center, i.y = r ? l.center : n ? a : g.head, i.height = r ? l.size : void 0, i.width = r ? void 0 : l.size }, _getStacks: function (t) { var e, n, i = this.chart, o = this._getIndexScale().options.stacked, a = void 0 === t ? i.data.datasets.length : t + 1, r = []; for (e = 0; e < a; ++e)(n = i.getDatasetMeta(e)).bar && i.isDatasetVisible(e) && (!1 === o || !0 === o && -1 === r.indexOf(n.stack) || void 0 === o && (void 0 === n.stack || -1 === r.indexOf(n.stack))) && r.push(n.stack); return r }, getStackCount: function () { return this._getStacks().length }, getStackIndex: function (t, e) { var n = this._getStacks(t), i = void 0 !== e ? n.indexOf(e) : -1; return -1 === i ? n.length - 1 : i }, getRuler: function () { var t, e, n = this._getIndexScale(), i = this.getStackCount(), o = this.index, a = n.isHorizontal(), r = a ? n.left : n.top, s = r + (a ? n.width : n.height), g = []; for (t = 0, e = this.getMeta().data.length; t < e; ++t)g.push(n.getPixelForValue(null, t, o)); return { min: lt.isNullOrUndef(n.options.barThickness) ? function (t, e) { var n, i, o, a, r = t.isHorizontal() ? t.width : t.height, s = t.getTicks(); for (o = 1, a = e.length; o < a; ++o)r = Math.min(r, Math.abs(e[o] - e[o - 1])); for (o = 0, a = s.length; o < a; ++o)i = t.getPixelForTick(o), r = 0 < o ? Math.min(r, i - n) : r, n = i; return r }(n, g) : -1, pixels: g, start: r, end: s, stackCount: i, scale: n } }, calculateBarValuePixels: function (t, e) { var n, i, o, a, r, s, g = this.chart, l = this.getMeta(), c = this._getValueScale(), I = c.isHorizontal(), u = g.data.datasets, h = +c.getRightValue(u[t].data[e]), d = c.options.minBarLength, C = c.options.stacked, A = l.stack, p = 0; if (C || void 0 === C && void 0 !== A) for (n = 0; n < t; ++n)(i = g.getDatasetMeta(n)).bar && i.stack === A && i.controller._getValueScaleId() === c.id && g.isDatasetVisible(n) && (o = +c.getRightValue(u[n].data[e]), (h < 0 && o < 0 || 0 <= h && 0 < o) && (p += o)); return a = c.getPixelForValue(p), s = (r = c.getPixelForValue(p + h)) - a, void 0 !== d && Math.abs(s) < d && (s = d, r = 0 <= h && !I || h < 0 && I ? a - d : a + d), { size: s, base: a, head: r, center: r + s / 2 } }, calculateBarIndexPixels: function (t, e, n) { var i = n.scale.options, o = "flex" === i.barThickness ? function (t, e, n) { var i, o = e.pixels, a = o[t], r = 0 < t ? o[t - 1] : null, s = t < o.length - 1 ? o[t + 1] : null, g = n.categoryPercentage; return null === r && (r = a - (null === s ? e.end - e.start : s - a)), null === s && (s = a + a - r), i = a - (a - Math.min(r, s)) / 2 * g, { chunk: Math.abs(s - r) / 2 * g / e.stackCount, ratio: n.barPercentage, start: i } }(e, n, i) : function (t, e, n) { var i, o, a = n.barThickness, r = e.stackCount, s = e.pixels[t]; return o = lt.isNullOrUndef(a) ? (i = e.min * n.categoryPercentage, n.barPercentage) : (i = a * r, 1), { chunk: i / r, ratio: o, start: s - i / 2 } }(e, n, i), a = this.getStackIndex(t, this.getMeta().stack), r = o.start + o.chunk * a + o.chunk / 2, s = Math.min(lt.valueOrDefault(i.maxBarThickness, 1 / 0), o.chunk * o.ratio); return { base: r - s / 2, head: r + s / 2, center: r, size: s } }, draw: function () { var t = this.chart, e = this._getValueScale(), n = this.getMeta().data, i = this.getDataset(), o = n.length, a = 0; for (lt.canvas.clipArea(t.ctx, t.chartArea); a < o; ++a)isNaN(e.getRightValue(i.data[a])) || n[a].draw(); lt.canvas.unclipArea(t.ctx) }, _resolveElementOptions: function (t, e) { var n, i, o, a = this.chart, r = a.data.datasets[this.index], s = t.custom || {}, g = a.options.elements.rectangle, l = {}, c = { chart: a, dataIndex: e, dataset: r, datasetIndex: this.index }, I = ["backgroundColor", "borderColor", "borderSkipped", "borderWidth"]; for (n = 0, i = I.length; n < i; ++n)l[o = I[n]] = Ot([s[o], r[o], g[o]], c, e); return l } }), Vt = lt.valueOrDefault, Lt = lt.options.resolve; rt._set("bubble", { hover: { mode: "single" }, scales: { xAxes: [{ type: "linear", position: "bottom", id: "x-axis-0" }], yAxes: [{ type: "linear", position: "left", id: "y-axis-0" }] }, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { var n = e.datasets[t.datasetIndex].label || "", i = e.datasets[t.datasetIndex].data[t.index]; return n + ": (" + t.xLabel + ", " + t.yLabel + ", " + i.r + ")" } } } }); var Mt = yt.extend({ dataElementType: Nt.Point, update: function (t) { var e = this, n = e.getMeta().data; lt.each(n, function (n, i) { e.updateElement(n, i, t) }) }, updateElement: function (t, e, n) { var i = this.getMeta(), o = t.custom || {}, a = this.getScaleForId(i.xAxisID), r = this.getScaleForId(i.yAxisID), s = this._resolveElementOptions(t, e), g = this.getDataset().data[e], l = this.index, c = n ? a.getPixelForDecimal(.5) : a.getPixelForValue("object" == typeof g ? g : NaN, e, l), I = n ? r.getBasePixel() : r.getPixelForValue(g, e, l); t._xScale = a, t._yScale = r, t._options = s, t._datasetIndex = l, t._index = e, t._model = { backgroundColor: s.backgroundColor, borderColor: s.borderColor, borderWidth: s.borderWidth, hitRadius: s.hitRadius, pointStyle: s.pointStyle, rotation: s.rotation, radius: n ? 0 : s.radius, skip: o.skip || isNaN(c) || isNaN(I), x: c, y: I }, t.pivot() }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = Vt(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = Vt(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = Vt(n.hoverBorderWidth, n.borderWidth), e.radius = n.radius + n.hoverRadius }, _resolveElementOptions: function (t, e) { var n, i, o, a = this.chart, r = a.data.datasets[this.index], s = t.custom || {}, g = a.options.elements.point, l = r.data[e], c = {}, I = { chart: a, dataIndex: e, dataset: r, datasetIndex: this.index }, u = ["backgroundColor", "borderColor", "borderWidth", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth", "hoverRadius", "hitRadius", "pointStyle", "rotation"]; for (n = 0, i = u.length; n < i; ++n)c[o = u[n]] = Lt([s[o], r[o], g[o]], I, e); return c.radius = Lt([s.radius, l ? l.r : void 0, r.radius, g.radius], I, e), c } }), zt = lt.options.resolve, Pt = lt.valueOrDefault; rt._set("doughnut", { animation: { animateRotate: !0, animateScale: !1 }, hover: { mode: "single" }, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); var n = t.data, i = n.datasets, o = n.labels; if (i.length) for (var a = 0; a < i[0].data.length; ++a)e.push('<li><span style="background-color:' + i[0].backgroundColor[a] + '"></span>'), o[a] && e.push(o[a]), e.push("</li>"); return e.push("</ul>"), e.join("") }, legend: { labels: { generateLabels: function (t) { var e = t.data; return e.labels.length && e.datasets.length ? e.labels.map(function (n, i) { var o = t.getDatasetMeta(0), a = e.datasets[0], r = o.data[i], s = r && r.custom || {}, g = t.options.elements.arc; return { text: n, fillStyle: zt([s.backgroundColor, a.backgroundColor, g.backgroundColor], void 0, i), strokeStyle: zt([s.borderColor, a.borderColor, g.borderColor], void 0, i), lineWidth: zt([s.borderWidth, a.borderWidth, g.borderWidth], void 0, i), hidden: isNaN(a.data[i]) || o.data[i].hidden, index: i } }) : [] } }, onClick: function (t, e) { var n, i, o, a = e.index, r = this.chart; for (n = 0, i = (r.data.datasets || []).length; n < i; ++n)(o = r.getDatasetMeta(n)).data[a] && (o.data[a].hidden = !o.data[a].hidden); r.update() } }, cutoutPercentage: 50, rotation: -.5 * Math.PI, circumference: 2 * Math.PI, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { var n = e.labels[t.index], i = ": " + e.datasets[t.datasetIndex].data[t.index]; return lt.isArray(n) ? (n = n.slice())[0] += i : n += i, n } } } }); var Kt = yt.extend({ dataElementType: Nt.Arc, linkScales: lt.noop, getRingIndex: function (t) { for (var e = 0, n = 0; n < t; ++n)this.chart.isDatasetVisible(n) && ++e; return e }, update: function (t) { var e, n, i = this, o = i.chart, a = o.chartArea, r = o.options, s = a.right - a.left, g = a.bottom - a.top, l = Math.min(s, g), c = { x: 0, y: 0 }, I = i.getMeta(), u = I.data, h = r.cutoutPercentage, d = r.circumference, C = i._getRingWeight(i.index); if (d < 2 * Math.PI) { var A = r.rotation % (2 * Math.PI), p = (A += 2 * Math.PI * (A >= Math.PI ? -1 : A < -Math.PI ? 1 : 0)) + d, m = Math.cos(A), f = Math.sin(A), b = Math.cos(p), B = Math.sin(p), y = A <= 0 && 0 <= p || A <= 2 * Math.PI && 2 * Math.PI <= p, v = A <= .5 * Math.PI && .5 * Math.PI <= p || A <= 2.5 * Math.PI && 2.5 * Math.PI <= p, x = A <= -Math.PI && -Math.PI <= p || A <= Math.PI && Math.PI <= p, F = A <= .5 * -Math.PI && .5 * -Math.PI <= p || A <= 1.5 * Math.PI && 1.5 * Math.PI <= p, Q = h / 100, G = x ? -1 : Math.min(m * (m < 0 ? 1 : Q), b * (b < 0 ? 1 : Q)), w = F ? -1 : Math.min(f * (f < 0 ? 1 : Q), B * (B < 0 ? 1 : Q)), X = y ? 1 : Math.max(m * (0 < m ? 1 : Q), b * (0 < b ? 1 : Q)), S = v ? 1 : Math.max(f * (0 < f ? 1 : Q), B * (0 < B ? 1 : Q)), k = .5 * (X - G), D = .5 * (S - w); l = Math.min(s / k, g / D), c = { x: -.5 * (X + G), y: -.5 * (S + w) } } for (e = 0, n = u.length; e < n; ++e)u[e]._options = i._resolveElementOptions(u[e], e); for (o.borderWidth = i.getMaxBorderWidth(), o.outerRadius = Math.max((l - o.borderWidth) / 2, 0), o.innerRadius = Math.max(h ? o.outerRadius / 100 * h : 0, 0), o.radiusLength = (o.outerRadius - o.innerRadius) / (i._getVisibleDatasetWeightTotal() || 1), o.offsetX = c.x * o.outerRadius, o.offsetY = c.y * o.outerRadius, I.total = i.calculateTotal(), i.outerRadius = o.outerRadius - o.radiusLength * i._getRingWeightOffset(i.index), i.innerRadius = Math.max(i.outerRadius - o.radiusLength * C, 0), e = 0, n = u.length; e < n; ++e)i.updateElement(u[e], e, t) }, updateElement: function (t, e, n) { var i = this.chart, o = i.chartArea, a = i.options, r = a.animation, s = (o.left + o.right) / 2, g = (o.top + o.bottom) / 2, l = a.rotation, c = a.rotation, I = this.getDataset(), u = n && r.animateRotate ? 0 : t.hidden ? 0 : this.calculateCircumference(I.data[e]) * (a.circumference / (2 * Math.PI)), h = n && r.animateScale ? 0 : this.innerRadius, d = n && r.animateScale ? 0 : this.outerRadius, C = t._options || {}; lt.extend(t, { _datasetIndex: this.index, _index: e, _model: { backgroundColor: C.backgroundColor, borderColor: C.borderColor, borderWidth: C.borderWidth, borderAlign: C.borderAlign, x: s + i.offsetX, y: g + i.offsetY, startAngle: l, endAngle: c, circumference: u, outerRadius: d, innerRadius: h, label: lt.valueAtIndexOrDefault(I.label, e, i.data.labels[e]) } }); var A = t._model; n && r.animateRotate || (A.startAngle = 0 === e ? a.rotation : this.getMeta().data[e - 1]._model.endAngle, A.endAngle = A.startAngle + A.circumference), t.pivot() }, calculateTotal: function () { var t, e = this.getDataset(), n = this.getMeta(), i = 0; return lt.each(n.data, function (n, o) { t = e.data[o], isNaN(t) || n.hidden || (i += Math.abs(t)) }), i }, calculateCircumference: function (t) { var e = this.getMeta().total; return 0 < e && !isNaN(t) ? 2 * Math.PI * (Math.abs(t) / e) : 0 }, getMaxBorderWidth: function (t) { var e, n, i, o, a, r, s, g, l = 0, c = this.chart; if (!t) for (e = 0, n = c.data.datasets.length; e < n; ++e)if (c.isDatasetVisible(e)) { t = (i = c.getDatasetMeta(e)).data, e !== this.index && (a = i.controller); break } if (!t) return 0; for (e = 0, n = t.length; e < n; ++e)o = t[e], "inner" !== (r = a ? a._resolveElementOptions(o, e) : o._options).borderAlign && (l = (l = l < (s = r.borderWidth) ? s : l) < (g = r.hoverBorderWidth) ? g : l); return l }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth }, e.backgroundColor = Pt(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = Pt(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = Pt(n.hoverBorderWidth, n.borderWidth) }, _resolveElementOptions: function (t, e) { var n, i, o, a = this.chart, r = this.getDataset(), s = t.custom || {}, g = a.options.elements.arc, l = {}, c = { chart: a, dataIndex: e, dataset: r, datasetIndex: this.index }, I = ["backgroundColor", "borderColor", "borderWidth", "borderAlign", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth"]; for (n = 0, i = I.length; n < i; ++n)l[o = I[n]] = zt([s[o], r[o], g[o]], c, e); return l }, _getRingWeightOffset: function (t) { for (var e = 0, n = 0; n < t; ++n)this.chart.isDatasetVisible(n) && (e += this._getRingWeight(n)); return e }, _getRingWeight: function (t) { return Math.max(Pt(this.chart.data.datasets[t].weight, 1), 0) }, _getVisibleDatasetWeightTotal: function () { return this._getRingWeightOffset(this.chart.data.datasets.length) } }); rt._set("horizontalBar", { hover: { mode: "index", axis: "y" }, scales: { xAxes: [{ type: "linear", position: "bottom" }], yAxes: [{ type: "category", position: "left", categoryPercentage: .8, barPercentage: .9, offset: !0, gridLines: { offsetGridLines: !0 } }] }, elements: { rectangle: { borderSkipped: "left" } }, tooltips: { mode: "index", axis: "y" } }); var Jt = _t.extend({ _getValueScaleId: function () { return this.getMeta().xAxisID }, _getIndexScaleId: function () { return this.getMeta().yAxisID } }), jt = lt.valueOrDefault, $t = lt.options.resolve, qt = lt.canvas._isPointInArea; function te(t, e) { return jt(t.showLine, e.showLines) } rt._set("line", { showLines: !0, spanGaps: !1, hover: { mode: "label" }, scales: { xAxes: [{ type: "category", id: "x-axis-0" }], yAxes: [{ type: "linear", id: "y-axis-0" }] } }); var ee = yt.extend({ datasetElementType: Nt.Line, dataElementType: Nt.Point, update: function (t) { var e, n, i = this.getMeta(), o = i.dataset, a = i.data || [], r = this.getScaleForId(i.yAxisID), s = this.getDataset(), g = te(s, this.chart.options); for (g && (void 0 !== s.tension && void 0 === s.lineTension && (s.lineTension = s.tension), o._scale = r, o._datasetIndex = this.index, o._children = a, o._model = this._resolveLineOptions(o), o.pivot()), e = 0, n = a.length; e < n; ++e)this.updateElement(a[e], e, t); for (g && 0 !== o._model.tension && this.updateBezierControlPoints(), e = 0, n = a.length; e < n; ++e)a[e].pivot() }, updateElement: function (t, e, n) { var i, o, a = this.getMeta(), r = t.custom || {}, s = this.getDataset(), g = this.index, l = s.data[e], c = this.getScaleForId(a.yAxisID), I = this.getScaleForId(a.xAxisID), u = a.dataset._model, h = this._resolvePointOptions(t, e); i = I.getPixelForValue("object" == typeof l ? l : NaN, e, g), o = n ? c.getBasePixel() : this.calculatePointY(l, e, g), t._xScale = I, t._yScale = c, t._options = h, t._datasetIndex = g, t._index = e, t._model = { x: i, y: o, skip: r.skip || isNaN(i) || isNaN(o), radius: h.radius, pointStyle: h.pointStyle, rotation: h.rotation, backgroundColor: h.backgroundColor, borderColor: h.borderColor, borderWidth: h.borderWidth, tension: jt(r.tension, u ? u.tension : 0), steppedLine: !!u && u.steppedLine, hitRadius: h.hitRadius } }, _resolvePointOptions: function (t, e) { var n, i, o, a = this.chart, r = a.data.datasets[this.index], s = t.custom || {}, g = a.options.elements.point, l = {}, c = { chart: a, dataIndex: e, dataset: r, datasetIndex: this.index }, I = { backgroundColor: "pointBackgroundColor", borderColor: "pointBorderColor", borderWidth: "pointBorderWidth", hitRadius: "pointHitRadius", hoverBackgroundColor: "pointHoverBackgroundColor", hoverBorderColor: "pointHoverBorderColor", hoverBorderWidth: "pointHoverBorderWidth", hoverRadius: "pointHoverRadius", pointStyle: "pointStyle", radius: "pointRadius", rotation: "pointRotation" }, u = Object.keys(I); for (n = 0, i = u.length; n < i; ++n)l[o = u[n]] = $t([s[o], r[I[o]], r[o], g[o]], c, e); return l }, _resolveLineOptions: function (t) { var e, n, i, o = this.chart, a = o.data.datasets[this.index], r = t.custom || {}, s = o.options, g = s.elements.line, l = {}, c = ["backgroundColor", "borderWidth", "borderColor", "borderCapStyle", "borderDash", "borderDashOffset", "borderJoinStyle", "fill", "cubicInterpolationMode"]; for (e = 0, n = c.length; e < n; ++e)l[i = c[e]] = $t([r[i], a[i], g[i]]); return l.spanGaps = jt(a.spanGaps, s.spanGaps), l.tension = jt(a.lineTension, g.tension), l.steppedLine = $t([r.steppedLine, a.steppedLine, g.stepped]), l }, calculatePointY: function (t, e, n) { var i, o, a, r = this.chart, s = this.getMeta(), g = this.getScaleForId(s.yAxisID), l = 0, c = 0; if (g.options.stacked) { for (i = 0; i < n; i++)if (o = r.data.datasets[i], "line" === (a = r.getDatasetMeta(i)).type && a.yAxisID === g.id && r.isDatasetVisible(i)) { var I = Number(g.getRightValue(o.data[e])); I < 0 ? c += I || 0 : l += I || 0 } var u = Number(g.getRightValue(t)); return u < 0 ? g.getPixelForValue(c + u) : g.getPixelForValue(l + u) } return g.getPixelForValue(t) }, updateBezierControlPoints: function () { var t, e, n, i, o = this.chart, a = this.getMeta(), r = a.dataset._model, s = o.chartArea, g = a.data || []; function l(t, e, n) { return Math.max(Math.min(t, n), e) } if (r.spanGaps && (g = g.filter(function (t) { return !t._model.skip })), "monotone" === r.cubicInterpolationMode) lt.splineCurveMonotone(g); else for (t = 0, e = g.length; t < e; ++t)n = g[t]._model, i = lt.splineCurve(lt.previousItem(g, t)._model, n, lt.nextItem(g, t)._model, r.tension), n.controlPointPreviousX = i.previous.x, n.controlPointPreviousY = i.previous.y, n.controlPointNextX = i.next.x, n.controlPointNextY = i.next.y; if (o.options.elements.line.capBezierPoints) for (t = 0, e = g.length; t < e; ++t)n = g[t]._model, qt(n, s) && (0 < t && qt(g[t - 1]._model, s) && (n.controlPointPreviousX = l(n.controlPointPreviousX, s.left, s.right), n.controlPointPreviousY = l(n.controlPointPreviousY, s.top, s.bottom)), t < g.length - 1 && qt(g[t + 1]._model, s) && (n.controlPointNextX = l(n.controlPointNextX, s.left, s.right), n.controlPointNextY = l(n.controlPointNextY, s.top, s.bottom))) }, draw: function () { var t, e = this.chart, n = this.getMeta(), i = n.data || [], o = e.chartArea, a = i.length, r = 0; for (te(this.getDataset(), e.options) && (t = (n.dataset._model.borderWidth || 0) / 2, lt.canvas.clipArea(e.ctx, { left: o.left, right: o.right, top: o.top - t, bottom: o.bottom + t }), n.dataset.draw(), lt.canvas.unclipArea(e.ctx)); r < a; ++r)i[r].draw(o) }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = jt(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = jt(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = jt(n.hoverBorderWidth, n.borderWidth), e.radius = jt(n.hoverRadius, n.radius) } }), ne = lt.options.resolve; rt._set("polarArea", { scale: { type: "radialLinear", angleLines: { display: !1 }, gridLines: { circular: !0 }, pointLabels: { display: !1 }, ticks: { beginAtZero: !0 } }, animation: { animateRotate: !0, animateScale: !0 }, startAngle: -.5 * Math.PI, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); var n = t.data, i = n.datasets, o = n.labels; if (i.length) for (var a = 0; a < i[0].data.length; ++a)e.push('<li><span style="background-color:' + i[0].backgroundColor[a] + '"></span>'), o[a] && e.push(o[a]), e.push("</li>"); return e.push("</ul>"), e.join("") }, legend: { labels: { generateLabels: function (t) { var e = t.data; return e.labels.length && e.datasets.length ? e.labels.map(function (n, i) { var o = t.getDatasetMeta(0), a = e.datasets[0], r = o.data[i].custom || {}, s = t.options.elements.arc; return { text: n, fillStyle: ne([r.backgroundColor, a.backgroundColor, s.backgroundColor], void 0, i), strokeStyle: ne([r.borderColor, a.borderColor, s.borderColor], void 0, i), lineWidth: ne([r.borderWidth, a.borderWidth, s.borderWidth], void 0, i), hidden: isNaN(a.data[i]) || o.data[i].hidden, index: i } }) : [] } }, onClick: function (t, e) { var n, i, o, a = e.index, r = this.chart; for (n = 0, i = (r.data.datasets || []).length; n < i; ++n)(o = r.getDatasetMeta(n)).data[a].hidden = !o.data[a].hidden; r.update() } }, tooltips: { callbacks: { title: function () { return "" }, label: function (t, e) { return e.labels[t.index] + ": " + t.yLabel } } } }); var ie = yt.extend({ dataElementType: Nt.Arc, linkScales: lt.noop, update: function (t) { var e, n, i, o = this, a = o.getDataset(), r = o.getMeta(), s = o.chart.options.startAngle || 0, g = o._starts = [], l = o._angles = [], c = r.data; for (o._updateRadius(), r.count = o.countVisibleElements(), e = 0, n = a.data.length; e < n; e++)g[e] = s, i = o._computeAngle(e), s += l[e] = i; for (e = 0, n = c.length; e < n; ++e)c[e]._options = o._resolveElementOptions(c[e], e), o.updateElement(c[e], e, t) }, _updateRadius: function () { var t = this.chart, e = t.chartArea, n = t.options, i = Math.min(e.right - e.left, e.bottom - e.top); t.outerRadius = Math.max(i / 2, 0), t.innerRadius = Math.max(n.cutoutPercentage ? t.outerRadius / 100 * n.cutoutPercentage : 1, 0), t.radiusLength = (t.outerRadius - t.innerRadius) / t.getVisibleDatasetCount(), this.outerRadius = t.outerRadius - t.radiusLength * this.index, this.innerRadius = this.outerRadius - t.radiusLength }, updateElement: function (t, e, n) { var i = this.chart, o = this.getDataset(), a = i.options, r = a.animation, s = i.scale, g = i.data.labels, l = s.xCenter, c = s.yCenter, I = a.startAngle, u = t.hidden ? 0 : s.getDistanceFromCenterForValue(o.data[e]), h = this._starts[e], d = h + (t.hidden ? 0 : this._angles[e]), C = r.animateScale ? 0 : s.getDistanceFromCenterForValue(o.data[e]), A = t._options || {}; lt.extend(t, { _datasetIndex: this.index, _index: e, _scale: s, _model: { backgroundColor: A.backgroundColor, borderColor: A.borderColor, borderWidth: A.borderWidth, borderAlign: A.borderAlign, x: l, y: c, innerRadius: 0, outerRadius: n ? C : u, startAngle: n && r.animateRotate ? I : h, endAngle: n && r.animateRotate ? I : d, label: lt.valueAtIndexOrDefault(g, e, g[e]) } }), t.pivot() }, countVisibleElements: function () { var t = this.getDataset(), e = this.getMeta(), n = 0; return lt.each(e.data, function (e, i) { isNaN(t.data[i]) || e.hidden || n++ }), n }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor, o = lt.valueOrDefault; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth }, e.backgroundColor = o(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = o(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = o(n.hoverBorderWidth, n.borderWidth) }, _resolveElementOptions: function (t, e) { var n, i, o, a = this.chart, r = this.getDataset(), s = t.custom || {}, g = a.options.elements.arc, l = {}, c = { chart: a, dataIndex: e, dataset: r, datasetIndex: this.index }, I = ["backgroundColor", "borderColor", "borderWidth", "borderAlign", "hoverBackgroundColor", "hoverBorderColor", "hoverBorderWidth"]; for (n = 0, i = I.length; n < i; ++n)l[o = I[n]] = ne([s[o], r[o], g[o]], c, e); return l }, _computeAngle: function (t) { var e = this.getMeta().count, n = this.getDataset(), i = this.getMeta(); if (isNaN(n.data[t]) || i.data[t].hidden) return 0; var o = { chart: this.chart, dataIndex: t, dataset: n, datasetIndex: this.index }; return ne([this.chart.options.elements.arc.angle, 2 * Math.PI / e], o, t) } }); rt._set("pie", lt.clone(rt.doughnut)), rt._set("pie", { cutoutPercentage: 0 }); var oe = Kt, ae = lt.valueOrDefault, re = lt.options.resolve; rt._set("radar", { scale: { type: "radialLinear" }, elements: { line: { tension: 0 } } }); var se = yt.extend({ datasetElementType: Nt.Line, dataElementType: Nt.Point, linkScales: lt.noop, update: function (t) { var e, n, i = this.getMeta(), o = i.dataset, a = i.data || [], r = this.chart.scale, s = this.getDataset(); for (void 0 !== s.tension && void 0 === s.lineTension && (s.lineTension = s.tension), o._scale = r, o._datasetIndex = this.index, o._children = a, o._loop = !0, o._model = this._resolveLineOptions(o), o.pivot(), e = 0, n = a.length; e < n; ++e)this.updateElement(a[e], e, t); for (this.updateBezierControlPoints(), e = 0, n = a.length; e < n; ++e)a[e].pivot() }, updateElement: function (t, e, n) { var i = t.custom || {}, o = this.getDataset(), a = this.chart.scale, r = a.getPointPositionForValue(e, o.data[e]), s = this._resolvePointOptions(t, e), g = this.getMeta().dataset._model, l = n ? a.xCenter : r.x, c = n ? a.yCenter : r.y; t._scale = a, t._options = s, t._datasetIndex = this.index, t._index = e, t._model = { x: l, y: c, skip: i.skip || isNaN(l) || isNaN(c), radius: s.radius, pointStyle: s.pointStyle, rotation: s.rotation, backgroundColor: s.backgroundColor, borderColor: s.borderColor, borderWidth: s.borderWidth, tension: ae(i.tension, g ? g.tension : 0), hitRadius: s.hitRadius } }, _resolvePointOptions: function (t, e) { var n, i, o, a = this.chart, r = a.data.datasets[this.index], s = t.custom || {}, g = a.options.elements.point, l = {}, c = { chart: a, dataIndex: e, dataset: r, datasetIndex: this.index }, I = { backgroundColor: "pointBackgroundColor", borderColor: "pointBorderColor", borderWidth: "pointBorderWidth", hitRadius: "pointHitRadius", hoverBackgroundColor: "pointHoverBackgroundColor", hoverBorderColor: "pointHoverBorderColor", hoverBorderWidth: "pointHoverBorderWidth", hoverRadius: "pointHoverRadius", pointStyle: "pointStyle", radius: "pointRadius", rotation: "pointRotation" }, u = Object.keys(I); for (n = 0, i = u.length; n < i; ++n)l[o = u[n]] = re([s[o], r[I[o]], r[o], g[o]], c, e); return l }, _resolveLineOptions: function (t) { var e, n, i, o = this.chart, a = o.data.datasets[this.index], r = t.custom || {}, s = o.options.elements.line, g = {}, l = ["backgroundColor", "borderWidth", "borderColor", "borderCapStyle", "borderDash", "borderDashOffset", "borderJoinStyle", "fill"]; for (e = 0, n = l.length; e < n; ++e)g[i = l[e]] = re([r[i], a[i], s[i]]); return g.tension = ae(a.lineTension, s.tension), g }, updateBezierControlPoints: function () { var t, e, n, i, o = this.getMeta(), a = this.chart.chartArea, r = o.data || []; function s(t, e, n) { return Math.max(Math.min(t, n), e) } for (t = 0, e = r.length; t < e; ++t)n = r[t]._model, i = lt.splineCurve(lt.previousItem(r, t, !0)._model, n, lt.nextItem(r, t, !0)._model, n.tension), n.controlPointPreviousX = s(i.previous.x, a.left, a.right), n.controlPointPreviousY = s(i.previous.y, a.top, a.bottom), n.controlPointNextX = s(i.next.x, a.left, a.right), n.controlPointNextY = s(i.next.y, a.top, a.bottom) }, setHoverStyle: function (t) { var e = t._model, n = t._options, i = lt.getHoverColor; t.$previousStyle = { backgroundColor: e.backgroundColor, borderColor: e.borderColor, borderWidth: e.borderWidth, radius: e.radius }, e.backgroundColor = ae(n.hoverBackgroundColor, i(n.backgroundColor)), e.borderColor = ae(n.hoverBorderColor, i(n.borderColor)), e.borderWidth = ae(n.hoverBorderWidth, n.borderWidth), e.radius = ae(n.hoverRadius, n.radius) } }); rt._set("scatter", { hover: { mode: "single" }, scales: { xAxes: [{ id: "x-axis-1", type: "linear", position: "bottom" }], yAxes: [{ id: "y-axis-1", type: "linear", position: "left" }] }, showLines: !1, tooltips: { callbacks: { title: function () { return "" }, label: function (t) { return "(" + t.xLabel + ", " + t.yLabel + ")" } } } }); var ge = { bar: _t, bubble: Mt, doughnut: Kt, horizontalBar: Jt, line: ee, polarArea: ie, pie: oe, radar: se, scatter: ee }; function le(t, e) { return t.native ? { x: t.x, y: t.y } : lt.getRelativePosition(t, e) } function ce(t, e) { var n, i, o, a, r; for (i = 0, a = t.data.datasets.length; i < a; ++i)if (t.isDatasetVisible(i)) for (o = 0, r = (n = t.getDatasetMeta(i)).data.length; o < r; ++o) { var s = n.data[o]; s._view.skip || e(s) } } function Ie(t, e) { var n = []; return ce(t, function (t) { t.inRange(e.x, e.y) && n.push(t) }), n } function ue(t, e, n, i) { var o = Number.POSITIVE_INFINITY, a = []; return ce(t, function (t) { if (!n || t.inRange(e.x, e.y)) { var r = t.getCenterPoint(), s = i(e, r); s < o ? (a = [t], o = s) : s === o && a.push(t) } }), a } function he(t) { var e = -1 !== t.indexOf("x"), n = -1 !== t.indexOf("y"); return function (t, i) { var o = e ? Math.abs(t.x - i.x) : 0, a = n ? Math.abs(t.y - i.y) : 0; return Math.sqrt(Math.pow(o, 2) + Math.pow(a, 2)) } } function de(t, e, n) { var i = le(e, t); n.axis = n.axis || "x"; var o = he(n.axis), a = n.intersect ? Ie(t, i) : ue(t, i, !1, o), r = []; return a.length ? (t.data.datasets.forEach(function (e, n) { if (t.isDatasetVisible(n)) { var i = t.getDatasetMeta(n).data[a[0]._index]; i && !i._view.skip && r.push(i) } }), r) : [] } var Ce = { modes: { single: function (t, e) { var n = le(e, t), i = []; return ce(t, function (t) { if (t.inRange(n.x, n.y)) return i.push(t), i }), i.slice(0, 1) }, label: de, index: de, dataset: function (t, e, n) { var i = le(e, t); n.axis = n.axis || "xy"; var o = he(n.axis), a = n.intersect ? Ie(t, i) : ue(t, i, !1, o); return 0 < a.length && (a = t.getDatasetMeta(a[0]._datasetIndex).data), a }, "x-axis": function (t, e) { return de(t, e, { intersect: !1 }) }, point: function (t, e) { return Ie(t, le(e, t)) }, nearest: function (t, e, n) { var i = le(e, t); n.axis = n.axis || "xy"; var o = he(n.axis); return ue(t, i, n.intersect, o) }, x: function (t, e, n) { var i = le(e, t), o = [], a = !1; return ce(t, function (t) { t.inXRange(i.x) && o.push(t), t.inRange(i.x, i.y) && (a = !0) }), n.intersect && !a && (o = []), o }, y: function (t, e, n) { var i = le(e, t), o = [], a = !1; return ce(t, function (t) { t.inYRange(i.y) && o.push(t), t.inRange(i.x, i.y) && (a = !0) }), n.intersect && !a && (o = []), o } } }; function Ae(t, e) { return lt.where(t, function (t) { return t.position === e }) } function pe(t, e) { t.forEach(function (t, e) { return t._tmpIndex_ = e, t }), t.sort(function (t, n) { var i = e ? n : t, o = e ? t : n; return i.weight === o.weight ? i._tmpIndex_ - o._tmpIndex_ : i.weight - o.weight }), t.forEach(function (t) { delete t._tmpIndex_ }) } function me(t, e) { lt.each(t, function (t) { e[t.position] += t.isHorizontal() ? t.height : t.width }) } rt._set("global", { layout: { padding: { top: 0, right: 0, bottom: 0, left: 0 } } }); var fe = { defaults: {}, addBox: function (t, e) { t.boxes || (t.boxes = []), e.fullWidth = e.fullWidth || !1, e.position = e.position || "top", e.weight = e.weight || 0, t.boxes.push(e) }, removeBox: function (t, e) { var n = t.boxes ? t.boxes.indexOf(e) : -1; -1 !== n && t.boxes.splice(n, 1) }, configure: function (t, e, n) { for (var i, o = ["fullWidth", "position", "weight"], a = o.length, r = 0; r < a; ++r)i = o[r], n.hasOwnProperty(i) && (e[i] = n[i]) }, update: function (t, e, n) { if (t) { var i = t.options.layout || {}, o = lt.options.toPadding(i.padding), a = o.left, r = o.right, s = o.top, g = o.bottom, l = Ae(t.boxes, "left"), c = Ae(t.boxes, "right"), I = Ae(t.boxes, "top"), u = Ae(t.boxes, "bottom"), h = Ae(t.boxes, "chartArea"); pe(l, !0), pe(c, !1), pe(I, !0), pe(u, !1); var d, C = l.concat(c), A = I.concat(u), p = C.concat(A), m = e - a - r, f = n - s - g, b = (e - m / 2) / C.length, B = m, y = f, v = { top: s, left: a, bottom: g, right: r }, x = []; lt.each(p, function (t) { var e, n = t.isHorizontal(); n ? (e = t.update(t.fullWidth ? m : B, f / 2), y -= e.height) : (e = t.update(b, y), B -= e.width), x.push({ horizontal: n, width: e.width, box: t }) }), d = function (t) { var e = 0, n = 0, i = 0, o = 0; return lt.each(t, function (t) { if (t.getPadding) { var a = t.getPadding(); e = Math.max(e, a.top), n = Math.max(n, a.left), i = Math.max(i, a.bottom), o = Math.max(o, a.right) } }), { top: e, left: n, bottom: i, right: o } }(p), lt.each(C, k), me(C, v), lt.each(A, k), me(A, v), lt.each(C, function (t) { var e = lt.findNextWhere(x, function (e) { return e.box === t }), n = { left: 0, right: 0, top: v.top, bottom: v.bottom }; e && t.update(e.width, y, n) }), me(p, v = { top: s, left: a, bottom: g, right: r }); var F = Math.max(d.left - v.left, 0); v.left += F, v.right += Math.max(d.right - v.right, 0); var Q = Math.max(d.top - v.top, 0); v.top += Q, v.bottom += Math.max(d.bottom - v.bottom, 0); var G = n - v.top - v.bottom, w = e - v.left - v.right; w === B && G === y || (lt.each(C, function (t) { t.height = G }), lt.each(A, function (t) { t.fullWidth || (t.width = w) }), y = G, B = w); var X = a + F, S = s + Q; lt.each(l.concat(I), D), X += B, S += y, lt.each(c, D), lt.each(u, D), t.chartArea = { left: v.left, top: v.top, right: v.left + B, bottom: v.top + y }, lt.each(h, function (e) { e.left = t.chartArea.left, e.top = t.chartArea.top, e.right = t.chartArea.right, e.bottom = t.chartArea.bottom, e.update(B, y) }) } function k(t) { var e = lt.findNextWhere(x, function (e) { return e.box === t }); if (e) if (e.horizontal) { var n = { left: Math.max(v.left, d.left), right: Math.max(v.right, d.right), top: 0, bottom: 0 }; t.update(t.fullWidth ? m : B, f / 2, n) } else t.update(e.width, y) } function D(t) { t.isHorizontal() ? (t.left = t.fullWidth ? a : v.left, t.right = t.fullWidth ? e - r : v.left + B, t.top = S, t.bottom = S + t.height, S = t.bottom) : (t.left = X, t.right = X + t.width, t.top = v.top, t.bottom = v.top + y, X = t.right) } } }; function be() { throw new Error("Dynamic requires are not currently supported by rollup-plugin-commonjs") } "undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self && self; var Be, ye = (Be = Object.freeze({ default: "/*\n * DOM element rendering detection\n * https://davidwalsh.name/detect-node-insertion\n */\n@keyframes chartjs-render-animation {\n\tfrom { opacity: 0.99; }\n\tto { opacity: 1; }\n}\n\n.chartjs-render-monitor {\n\tanimation: chartjs-render-animation 0.001s;\n}\n\n/*\n * DOM element resizing detection\n * https://github.com/marcj/css-element-queries\n */\n.chartjs-size-monitor,\n.chartjs-size-monitor-expand,\n.chartjs-size-monitor-shrink {\n\tposition: absolute;\n\tdirection: ltr;\n\tleft: 0;\n\ttop: 0;\n\tright: 0;\n\tbottom: 0;\n\toverflow: hidden;\n\tpointer-events: none;\n\tvisibility: hidden;\n\tz-index: -1;\n}\n\n.chartjs-size-monitor-expand > div {\n\tposition: absolute;\n\twidth: 1000000px;\n\theight: 1000000px;\n\tleft: 0;\n\ttop: 0;\n}\n\n.chartjs-size-monitor-shrink > div {\n\tposition: absolute;\n\twidth: 200%;\n\theight: 200%;\n\tleft: 0;\n\ttop: 0;\n}\n" })) && Be.default || Be, ve = "$chartjs", xe = "chartjs-", Fe = xe + "size-monitor", Qe = xe + "render-monitor", Ge = xe + "render-animation", we = ["animationstart", "webkitAnimationStart"], Xe = { touchstart: "mousedown", touchmove: "mousemove", touchend: "mouseup", pointerenter: "mouseenter", pointerdown: "mousedown", pointermove: "mousemove", pointerup: "mouseup", pointerleave: "mouseout", pointerout: "mouseout" }; function Se(t, e) { var n = lt.getStyle(t, e), i = n && n.match(/^(\d+)(\.\d+)?px$/); return i ? Number(i[1]) : void 0 } var ke = !!function () { var t = !1; try { var e = Object.defineProperty({}, "passive", { get: function () { t = !0 } }); window.addEventListener("e", null, e) } catch (t) { } return t }() && { passive: !0 }; function De(t, e, n) { t.addEventListener(e, n, ke) } function Ze(t, e, n) { t.removeEventListener(e, n, ke) } function Ue(t, e, n, i, o) { return { type: t, chart: e, native: o || null, x: void 0 !== n ? n : null, y: void 0 !== i ? i : null } } function We(t) { var e = document.createElement("div"); return e.className = t || "", e } var Te = { disableCSSInjection: !1, _enabled: "undefined" != typeof window && "undefined" != typeof document, _ensureLoaded: function () { var t, e, n; this._loaded || (this._loaded = !0, this.disableCSSInjection || (e = ye, n = (t = this)._style || document.createElement("style"), t._style || (e = "/* Chart.js */\n" + e, (t._style = n).setAttribute("type", "text/css"), document.getElementsByTagName("head")[0].appendChild(n)), n.appendChild(document.createTextNode(e)))) }, acquireContext: function (t, e) { "string" == typeof t ? t = document.getElementById(t) : t.length && (t = t[0]), t && t.canvas && (t = t.canvas); var n = t && t.getContext && t.getContext("2d"); return this._ensureLoaded(), n && n.canvas === t ? (function (t, e) { var n = t.style, i = t.getAttribute("height"), o = t.getAttribute("width"); if (t[ve] = { initial: { height: i, width: o, style: { display: n.display, height: n.height, width: n.width } } }, n.display = n.display || "block", null === o || "" === o) { var a = Se(t, "width"); void 0 !== a && (t.width = a) } if (null === i || "" === i) if ("" === t.style.height) t.height = t.width / (e.options.aspectRatio || 2); else { var r = Se(t, "height"); void 0 !== a && (t.height = r) } }(t, e), n) : null }, releaseContext: function (t) { var e = t.canvas; if (e[ve]) { var n = e[ve].initial;["height", "width"].forEach(function (t) { var i = n[t]; lt.isNullOrUndef(i) ? e.removeAttribute(t) : e.setAttribute(t, i) }), lt.each(n.style || {}, function (t, n) { e.style[n] = t }), e.width = e.width, delete e[ve] } }, addEventListener: function (t, e, n) { var i = t.canvas; if ("resize" !== e) { var o = n[ve] || (n[ve] = {}); De(i, e, (o.proxies || (o.proxies = {}))[t.id + "_" + e] = function (e) { n(function (t, e) { var n = Xe[t.type] || t.type, i = lt.getRelativePosition(t, e); return Ue(n, e, i.x, i.y, t) }(e, t)) }) } else !function (t, e, n) { var i = t[ve] || (t[ve] = {}), o = i.resizer = function (t) { var e = We(Fe), n = We(Fe + "-expand"), i = We(Fe + "-shrink"); function o() { e._reset(), t() } return n.appendChild(We()), i.appendChild(We()), e.appendChild(n), e.appendChild(i), e._reset = function () { n.scrollLeft = 1e6, n.scrollTop = 1e6, i.scrollLeft = 1e6, i.scrollTop = 1e6 }, De(n, "scroll", o.bind(n, "expand")), De(i, "scroll", o.bind(i, "shrink")), e }(function (t, e) { var n = !1, i = []; return function () { i = Array.prototype.slice.call(arguments), e = e || this, n || (n = !0, lt.requestAnimFrame.call(window, function () { n = !1, t.apply(e, i) })) } }(function () { if (i.resizer) { var o = n.options.maintainAspectRatio && t.parentNode, a = o ? o.clientWidth : 0; e(Ue("resize", n)), o && o.clientWidth < a && n.canvas && e(Ue("resize", n)) } })); !function (t, e) { var n = t[ve] || (t[ve] = {}), i = n.renderProxy = function (t) { t.animationName === Ge && e() }; lt.each(we, function (e) { De(t, e, i) }), n.reflow = !!t.offsetParent, t.classList.add(Qe) }(t, function () { if (i.resizer) { var e = t.parentNode; e && e !== o.parentNode && e.insertBefore(o, e.firstChild), o._reset() } }) }(i, n, t) }, removeEventListener: function (t, e, n) { var i = t.canvas; if ("resize" !== e) { var o = ((n[ve] || {}).proxies || {})[t.id + "_" + e]; o && Ze(i, e, o) } else !function (t) { var e = t[ve] || {}, n = e.resizer; delete e.resizer, function (t) { var e = t[ve] || {}, n = e.renderProxy; n && (lt.each(we, function (e) { Ze(t, e, n) }), delete e.renderProxy), t.classList.remove(Qe) }(t), n && n.parentNode && n.parentNode.removeChild(n) }(i) } }; lt.addEvent = De, lt.removeEvent = Ze; var Ne = Te._enabled ? Te : { acquireContext: function (t) { return t && t.canvas && (t = t.canvas), t && t.getContext("2d") || null } }, He = lt.extend({ initialize: function () { }, acquireContext: function () { }, releaseContext: function () { }, addEventListener: function () { }, removeEventListener: function () { } }, Ne); rt._set("global", { plugins: {} }); var Ee = { _plugins: [], _cacheId: 0, register: function (t) { var e = this._plugins;[].concat(t).forEach(function (t) { -1 === e.indexOf(t) && e.push(t) }), this._cacheId++ }, unregister: function (t) { var e = this._plugins;[].concat(t).forEach(function (t) { var n = e.indexOf(t); -1 !== n && e.splice(n, 1) }), this._cacheId++ }, clear: function () { this._plugins = [], this._cacheId++ }, count: function () { return this._plugins.length }, getAll: function () { return this._plugins }, notify: function (t, e, n) { var i, o, a, r, s, g = this.descriptors(t), l = g.length; for (i = 0; i < l; ++i)if ("function" == typeof (s = (a = (o = g[i]).plugin)[e]) && ((r = [t].concat(n || [])).push(o.options), !1 === s.apply(a, r))) return !1; return !0 }, descriptors: function (t) { var e = t.$plugins || (t.$plugins = {}); if (e.id === this._cacheId) return e.descriptors; var n = [], i = [], o = t && t.config || {}, a = o.options && o.options.plugins || {}; return this._plugins.concat(o.plugins || []).forEach(function (t) { if (-1 === n.indexOf(t)) { var e = t.id, o = a[e]; !1 !== o && (!0 === o && (o = lt.clone(rt.global.plugins[e])), n.push(t), i.push({ plugin: t, options: o || {} })) } }), e.descriptors = i, e.id = this._cacheId, i }, _invalidate: function (t) { delete t.$plugins } }, Re = { constructors: {}, defaults: {}, registerScaleType: function (t, e, n) { this.constructors[t] = e, this.defaults[t] = lt.clone(n) }, getScaleConstructor: function (t) { return this.constructors.hasOwnProperty(t) ? this.constructors[t] : void 0 }, getScaleDefaults: function (t) { return this.defaults.hasOwnProperty(t) ? lt.merge({}, [rt.scale, this.defaults[t]]) : {} }, updateScaleDefaults: function (t, e) { this.defaults.hasOwnProperty(t) && (this.defaults[t] = lt.extend(this.defaults[t], e)) }, addScalesToLayout: function (t) { lt.each(t.scales, function (e) { e.fullWidth = e.options.fullWidth, e.position = e.options.position, e.weight = e.options.weight, fe.addBox(t, e) }) } }, Ye = lt.valueOrDefault; rt._set("global", { tooltips: { enabled: !0, custom: null, mode: "nearest", position: "average", intersect: !0, backgroundColor: "rgba(0,0,0,0.8)", titleFontStyle: "bold", titleSpacing: 2, titleMarginBottom: 6, titleFontColor: "#fff", titleAlign: "left", bodySpacing: 2, bodyFontColor: "#fff", bodyAlign: "left", footerFontStyle: "bold", footerSpacing: 2, footerMarginTop: 6, footerFontColor: "#fff", footerAlign: "left", yPadding: 6, xPadding: 6, caretPadding: 2, caretSize: 5, cornerRadius: 6, multiKeyBackground: "#fff", displayColors: !0, borderColor: "rgba(0,0,0,0)", borderWidth: 0, callbacks: { beforeTitle: lt.noop, title: function (t, e) { var n = "", i = e.labels, o = i ? i.length : 0; if (0 < t.length) { var a = t[0]; a.label ? n = a.label : a.xLabel ? n = a.xLabel : 0 < o && a.index < o && (n = i[a.index]) } return n }, afterTitle: lt.noop, beforeBody: lt.noop, beforeLabel: lt.noop, label: function (t, e) { var n = e.datasets[t.datasetIndex].label || ""; return n && (n += ": "), lt.isNullOrUndef(t.value) ? n += t.yLabel : n += t.value, n }, labelColor: function (t, e) { var n = e.getDatasetMeta(t.datasetIndex).data[t.index]._view; return { borderColor: n.borderColor, backgroundColor: n.backgroundColor } }, labelTextColor: function () { return this._options.bodyFontColor }, afterLabel: lt.noop, afterBody: lt.noop, beforeFooter: lt.noop, footer: lt.noop, afterFooter: lt.noop } } }); var Oe = { average: function (t) { if (!t.length) return !1; var e, n, i = 0, o = 0, a = 0; for (e = 0, n = t.length; e < n; ++e) { var r = t[e]; if (r && r.hasValue()) { var s = r.tooltipPosition(); i += s.x, o += s.y, ++a } } return { x: i / a, y: o / a } }, nearest: function (t, e) { var n, i, o, a = e.x, r = e.y, s = Number.POSITIVE_INFINITY; for (n = 0, i = t.length; n < i; ++n) { var g = t[n]; if (g && g.hasValue()) { var l = g.getCenterPoint(), c = lt.distanceBetweenPoints(e, l); c < s && (s = c, o = g) } } if (o) { var I = o.tooltipPosition(); a = I.x, r = I.y } return { x: a, y: r } } }; function _e(t, e) { return e && (lt.isArray(e) ? Array.prototype.push.apply(t, e) : t.push(e)), t } function Ve(t) { return ("string" == typeof t || t instanceof String) && -1 < t.indexOf("\n") ? t.split("\n") : t } function Le(t) { var e = rt.global; return { xPadding: t.xPadding, yPadding: t.yPadding, xAlign: t.xAlign, yAlign: t.yAlign, bodyFontColor: t.bodyFontColor, _bodyFontFamily: Ye(t.bodyFontFamily, e.defaultFontFamily), _bodyFontStyle: Ye(t.bodyFontStyle, e.defaultFontStyle), _bodyAlign: t.bodyAlign, bodyFontSize: Ye(t.bodyFontSize, e.defaultFontSize), bodySpacing: t.bodySpacing, titleFontColor: t.titleFontColor, _titleFontFamily: Ye(t.titleFontFamily, e.defaultFontFamily), _titleFontStyle: Ye(t.titleFontStyle, e.defaultFontStyle), titleFontSize: Ye(t.titleFontSize, e.defaultFontSize), _titleAlign: t.titleAlign, titleSpacing: t.titleSpacing, titleMarginBottom: t.titleMarginBottom, footerFontColor: t.footerFontColor, _footerFontFamily: Ye(t.footerFontFamily, e.defaultFontFamily), _footerFontStyle: Ye(t.footerFontStyle, e.defaultFontStyle), footerFontSize: Ye(t.footerFontSize, e.defaultFontSize), _footerAlign: t.footerAlign, footerSpacing: t.footerSpacing, footerMarginTop: t.footerMarginTop, caretSize: t.caretSize, cornerRadius: t.cornerRadius, backgroundColor: t.backgroundColor, opacity: 0, legendColorBackground: t.multiKeyBackground, displayColors: t.displayColors, borderColor: t.borderColor, borderWidth: t.borderWidth } } function Me(t, e) { return "center" === e ? t.x + t.width / 2 : "right" === e ? t.x + t.width - t.xPadding : t.x + t.xPadding } function ze(t) { return _e([], Ve(t)) } var Pe = dt.extend({ initialize: function () { this._model = Le(this._options), this._lastActive = [] }, getTitle: function () { var t = this._options.callbacks, e = t.beforeTitle.apply(this, arguments), n = t.title.apply(this, arguments), i = t.afterTitle.apply(this, arguments), o = []; return _e(o = _e(o = _e(o, Ve(e)), Ve(n)), Ve(i)) }, getBeforeBody: function () { return ze(this._options.callbacks.beforeBody.apply(this, arguments)) }, getBody: function (t, e) { var n = this, i = n._options.callbacks, o = []; return lt.each(t, function (t) { var a = { before: [], lines: [], after: [] }; _e(a.before, Ve(i.beforeLabel.call(n, t, e))), _e(a.lines, i.label.call(n, t, e)), _e(a.after, Ve(i.afterLabel.call(n, t, e))), o.push(a) }), o }, getAfterBody: function () { return ze(this._options.callbacks.afterBody.apply(this, arguments)) }, getFooter: function () { var t = this._options.callbacks, e = t.beforeFooter.apply(this, arguments), n = t.footer.apply(this, arguments), i = t.afterFooter.apply(this, arguments), o = []; return _e(o = _e(o = _e(o, Ve(e)), Ve(n)), Ve(i)) }, update: function (t) { var e, n, i, o, a, r, s, g, l, c, I = this, u = I._options, h = I._model, d = I._model = Le(u), C = I._active, A = I._data, p = { xAlign: h.xAlign, yAlign: h.yAlign }, m = { x: h.x, y: h.y }, f = { width: h.width, height: h.height }, b = { x: h.caretX, y: h.caretY }; if (C.length) { d.opacity = 1; var B = [], y = []; b = Oe[u.position].call(I, C, I._eventPosition); var v = []; for (e = 0, n = C.length; e < n; ++e)v.push((c = l = g = a = o = void 0, o = (i = C[e])._xScale, a = i._yScale || i._scale, r = i._index, s = i._datasetIndex, l = (g = i._chart.getDatasetMeta(s).controller)._getIndexScale(), c = g._getValueScale(), { xLabel: o ? o.getLabelForIndex(r, s) : "", yLabel: a ? a.getLabelForIndex(r, s) : "", label: l ? "" + l.getLabelForIndex(r, s) : "", value: c ? "" + c.getLabelForIndex(r, s) : "", index: r, datasetIndex: s, x: i._model.x, y: i._model.y })); u.filter && (v = v.filter(function (t) { return u.filter(t, A) })), u.itemSort && (v = v.sort(function (t, e) { return u.itemSort(t, e, A) })), lt.each(v, function (t) { B.push(u.callbacks.labelColor.call(I, t, I._chart)), y.push(u.callbacks.labelTextColor.call(I, t, I._chart)) }), d.title = I.getTitle(v, A), d.beforeBody = I.getBeforeBody(v, A), d.body = I.getBody(v, A), d.afterBody = I.getAfterBody(v, A), d.footer = I.getFooter(v, A), d.x = b.x, d.y = b.y, d.caretPadding = u.caretPadding, d.labelColors = B, d.labelTextColors = y, d.dataPoints = v, m = function (t, e, n, i) { var o = t.x, a = t.y, r = t.caretSize, s = t.caretPadding, g = t.cornerRadius, l = n.xAlign, c = n.yAlign, I = r + s, u = g + s; return "right" === l ? o -= e.width : "center" === l && ((o -= e.width / 2) + e.width > i.width && (o = i.width - e.width), o < 0 && (o = 0)), "top" === c ? a += I : a -= "bottom" === c ? e.height + I : e.height / 2, "center" === c ? "left" === l ? o += I : "right" === l && (o -= I) : "left" === l ? o -= u : "right" === l && (o += u), { x: o, y: a } }(d, f = function (t, e) { var n = t._chart.ctx, i = 2 * e.yPadding, o = 0, a = e.body, r = a.reduce(function (t, e) { return t + e.before.length + e.lines.length + e.after.length }, 0); r += e.beforeBody.length + e.afterBody.length; var s = e.title.length, g = e.footer.length, l = e.titleFontSize, c = e.bodyFontSize, I = e.footerFontSize; function u(t) { o = Math.max(o, n.measureText(t).width + h) } i += s * l, i += s ? (s - 1) * e.titleSpacing : 0, i += s ? e.titleMarginBottom : 0, i += r * c, i += r ? (r - 1) * e.bodySpacing : 0, i += g ? e.footerMarginTop : 0, i += g * I, i += g ? (g - 1) * e.footerSpacing : 0; var h = 0; return n.font = lt.fontString(l, e._titleFontStyle, e._titleFontFamily), lt.each(e.title, u), n.font = lt.fontString(c, e._bodyFontStyle, e._bodyFontFamily), lt.each(e.beforeBody.concat(e.afterBody), u), h = e.displayColors ? c + 2 : 0, lt.each(a, function (t) { lt.each(t.before, u), lt.each(t.lines, u), lt.each(t.after, u) }), h = 0, n.font = lt.fontString(I, e._footerFontStyle, e._footerFontFamily), lt.each(e.footer, u), { width: o += 2 * e.xPadding, height: i } }(this, d), p = function (t, e) { var n, i, o, a, r, s = t._model, g = t._chart, l = t._chart.chartArea, c = "center", I = "center"; s.y < e.height ? I = "top" : s.y > g.height - e.height && (I = "bottom"); var u = (l.left + l.right) / 2, h = (l.top + l.bottom) / 2; i = "center" === I ? (n = function (t) { return t <= u }, function (t) { return u < t }) : (n = function (t) { return t <= e.width / 2 }, function (t) { return t >= g.width - e.width / 2 }), o = function (t) { return t + e.width + s.caretSize + s.caretPadding > g.width }, a = function (t) { return t - e.width - s.caretSize - s.caretPadding < 0 }, r = function (t) { return t <= h ? "top" : "bottom" }, n(s.x) ? (c = "left", o(s.x) && (c = "center", I = r(s.y))) : i(s.x) && (c = "right", a(s.x) && (c = "center", I = r(s.y))); var d = t._options; return { xAlign: d.xAlign ? d.xAlign : c, yAlign: d.yAlign ? d.yAlign : I } }(this, f), I._chart) } else d.opacity = 0; return d.xAlign = p.xAlign, d.yAlign = p.yAlign, d.x = m.x, d.y = m.y, d.width = f.width, d.height = f.height, d.caretX = b.x, d.caretY = b.y, I._model = d, t && u.custom && u.custom.call(I, d), I }, drawCaret: function (t, e) { var n = this._chart.ctx, i = this._view, o = this.getCaretPosition(t, e, i); n.lineTo(o.x1, o.y1), n.lineTo(o.x2, o.y2), n.lineTo(o.x3, o.y3) }, getCaretPosition: function (t, e, n) { var i, o, a, r, s, g, l = n.caretSize, c = n.cornerRadius, I = n.xAlign, u = n.yAlign, h = t.x, d = t.y, C = e.width, A = e.height; if ("center" === u) s = d + A / 2, g = "left" === I ? (o = (i = h) - l, a = i, r = s + l, s - l) : (o = (i = h + C) + l, a = i, r = s - l, s + l); else if (i = "left" === I ? (o = h + c + l) - l : "right" === I ? (o = h + C - c - l) - l : (o = n.caretX) - l, a = o + l, "top" === u) s = (r = d) - l, g = r; else { s = (r = d + A) + l, g = r; var p = a; a = i, i = p } return { x1: i, x2: o, x3: a, y1: r, y2: s, y3: g } }, drawTitle: function (t, e, n) { var i = e.title; if (i.length) { t.x = Me(e, e._titleAlign), n.textAlign = e._titleAlign, n.textBaseline = "top"; var o, a, r = e.titleFontSize, s = e.titleSpacing; for (n.fillStyle = e.titleFontColor, n.font = lt.fontString(r, e._titleFontStyle, e._titleFontFamily), o = 0, a = i.length; o < a; ++o)n.fillText(i[o], t.x, t.y), t.y += r + s, o + 1 === i.length && (t.y += e.titleMarginBottom - s) } }, drawBody: function (t, e, n) { var i, o = e.bodyFontSize, a = e.bodySpacing, r = e._bodyAlign, s = e.body, g = e.displayColors, l = e.labelColors, c = 0, I = g ? Me(e, "left") : 0; function u(e) { n.fillText(e, t.x + c, t.y), t.y += o + a } n.textAlign = r, n.textBaseline = "top", n.font = lt.fontString(o, e._bodyFontStyle, e._bodyFontFamily), t.x = Me(e, r), n.fillStyle = e.bodyFontColor, lt.each(e.beforeBody, u), c = g && "right" !== r ? "center" === r ? o / 2 + 1 : o + 2 : 0, lt.each(s, function (a, r) { i = e.labelTextColors[r], n.fillStyle = i, lt.each(a.before, u), lt.each(a.lines, function (a) { g && (n.fillStyle = e.legendColorBackground, n.fillRect(I, t.y, o, o), n.lineWidth = 1, n.strokeStyle = l[r].borderColor, n.strokeRect(I, t.y, o, o), n.fillStyle = l[r].backgroundColor, n.fillRect(I + 1, t.y + 1, o - 2, o - 2), n.fillStyle = i), u(a) }), lt.each(a.after, u) }), c = 0, lt.each(e.afterBody, u), t.y -= a }, drawFooter: function (t, e, n) { var i = e.footer; i.length && (t.x = Me(e, e._footerAlign), t.y += e.footerMarginTop, n.textAlign = e._footerAlign, n.textBaseline = "top", n.fillStyle = e.footerFontColor, n.font = lt.fontString(e.footerFontSize, e._footerFontStyle, e._footerFontFamily), lt.each(i, function (i) { n.fillText(i, t.x, t.y), t.y += e.footerFontSize + e.footerSpacing })) }, drawBackground: function (t, e, n, i) { n.fillStyle = e.backgroundColor, n.strokeStyle = e.borderColor, n.lineWidth = e.borderWidth; var o = e.xAlign, a = e.yAlign, r = t.x, s = t.y, g = i.width, l = i.height, c = e.cornerRadius; n.beginPath(), n.moveTo(r + c, s), "top" === a && this.drawCaret(t, i), n.lineTo(r + g - c, s), n.quadraticCurveTo(r + g, s, r + g, s + c), "center" === a && "right" === o && this.drawCaret(t, i), n.lineTo(r + g, s + l - c), n.quadraticCurveTo(r + g, s + l, r + g - c, s + l), "bottom" === a && this.drawCaret(t, i), n.lineTo(r + c, s + l), n.quadraticCurveTo(r, s + l, r, s + l - c), "center" === a && "left" === o && this.drawCaret(t, i), n.lineTo(r, s + c), n.quadraticCurveTo(r, s, r + c, s), n.closePath(), n.fill(), 0 < e.borderWidth && n.stroke() }, draw: function () { var t = this._chart.ctx, e = this._view; if (0 !== e.opacity) { var n = { width: e.width, height: e.height }, i = { x: e.x, y: e.y }, o = Math.abs(e.opacity < .001) ? 0 : e.opacity, a = e.title.length || e.beforeBody.length || e.body.length || e.afterBody.length || e.footer.length; this._options.enabled && a && (t.save(), t.globalAlpha = o, this.drawBackground(i, e, t, n), i.y += e.yPadding, this.drawTitle(i, e, t), this.drawBody(i, e, t), this.drawFooter(i, e, t), t.restore()) } }, handleEvent: function (t) { var e, n = this, i = n._options; return n._lastActive = n._lastActive || [], "mouseout" === t.type ? n._active = [] : n._active = n._chart.getElementsAtEventForMode(t, i.mode, i), (e = !lt.arrayEquals(n._active, n._lastActive)) && (n._lastActive = n._active, (i.enabled || i.custom) && (n._eventPosition = { x: t.x, y: t.y }, n.update(!0), n.pivot())), e } }), Ke = Oe, Je = Pe; Je.positioners = Ke; var je = lt.valueOrDefault; function $e() { return lt.merge({}, [].slice.call(arguments), { merger: function (t, e, n, i) { if ("xAxes" === t || "yAxes" === t) { var o, a, r, s = n[t].length; for (e[t] || (e[t] = []), o = 0; o < s; ++o)r = n[t][o], a = je(r.type, "xAxes" === t ? "category" : "linear"), o >= e[t].length && e[t].push({}), !e[t][o].type || r.type && r.type !== e[t][o].type ? lt.merge(e[t][o], [Re.getScaleDefaults(a), r]) : lt.merge(e[t][o], r) } else lt._merger(t, e, n, i) } }) } function qe() { return lt.merge({}, [].slice.call(arguments), { merger: function (t, e, n, i) { var o = e[t] || {}, a = n[t]; "scales" === t ? e[t] = $e(o, a) : "scale" === t ? e[t] = lt.merge(o, [Re.getScaleDefaults(a.type), a]) : lt._merger(t, e, n, i) } }) } function tn(t) { return "top" === t || "bottom" === t } function en(t, e) { return this.construct(t, e), this } rt._set("global", { elements: {}, events: ["mousemove", "mouseout", "click", "touchstart", "touchmove"], hover: { onHover: null, mode: "nearest", intersect: !0, animationDuration: 400 }, onClick: null, maintainAspectRatio: !0, responsive: !0, responsiveAnimationDuration: 0 }), lt.extend(en.prototype, { construct: function (t, e) { var n = this; e = function (t) { var e = (t = t || {}).data = t.data || {}; return e.datasets = e.datasets || [], e.labels = e.labels || [], t.options = qe(rt.global, rt[t.type], t.options || {}), t }(e); var i = He.acquireContext(t, e), o = i && i.canvas, a = o && o.height, r = o && o.width; n.id = lt.uid(), n.ctx = i, n.canvas = o, n.config = e, n.width = r, n.height = a, n.aspectRatio = a ? r / a : null, n.options = e.options, n._bufferedRender = !1, (n.chart = n).controller = n, en.instances[n.id] = n, Object.defineProperty(n, "data", { get: function () { return n.config.data }, set: function (t) { n.config.data = t } }), i && o ? (n.initialize(), n.update()) : console.error("Failed to create chart: can't acquire context from the given item") }, initialize: function () { var t = this; return Ee.notify(t, "beforeInit"), lt.retinaScale(t, t.options.devicePixelRatio), t.bindEvents(), t.options.responsive && t.resize(!0), t.ensureScalesHaveIDs(), t.buildOrUpdateScales(), t.initToolTip(), Ee.notify(t, "afterInit"), t }, clear: function () { return lt.canvas.clear(this), this }, stop: function () { return pt.cancelAnimation(this), this }, resize: function (t) { var e = this, n = e.options, i = e.canvas, o = n.maintainAspectRatio && e.aspectRatio || null, a = Math.max(0, Math.floor(lt.getMaximumWidth(i))), r = Math.max(0, Math.floor(o ? a / o : lt.getMaximumHeight(i))); if ((e.width !== a || e.height !== r) && (i.width = e.width = a, i.height = e.height = r, i.style.width = a + "px", i.style.height = r + "px", lt.retinaScale(e, n.devicePixelRatio), !t)) { var s = { width: a, height: r }; Ee.notify(e, "resize", [s]), n.onResize && n.onResize(e, s), e.stop(), e.update({ duration: n.responsiveAnimationDuration }) } }, ensureScalesHaveIDs: function () { var t = this.options, e = t.scales || {}, n = t.scale; lt.each(e.xAxes, function (t, e) { t.id = t.id || "x-axis-" + e }), lt.each(e.yAxes, function (t, e) { t.id = t.id || "y-axis-" + e }), n && (n.id = n.id || "scale") }, buildOrUpdateScales: function () { var t = this, e = t.options, n = t.scales || {}, i = [], o = Object.keys(n).reduce(function (t, e) { return t[e] = !1, t }, {}); e.scales && (i = i.concat((e.scales.xAxes || []).map(function (t) { return { options: t, dtype: "category", dposition: "bottom" } }), (e.scales.yAxes || []).map(function (t) { return { options: t, dtype: "linear", dposition: "left" } }))), e.scale && i.push({ options: e.scale, dtype: "radialLinear", isDefault: !0, dposition: "chartArea" }), lt.each(i, function (e) { var i = e.options, a = i.id, r = je(i.type, e.dtype); tn(i.position) !== tn(e.dposition) && (i.position = e.dposition), o[a] = !0; var s = null; if (a in n && n[a].type === r) (s = n[a]).options = i, s.ctx = t.ctx, s.chart = t; else { var g = Re.getScaleConstructor(r); if (!g) return; s = new g({ id: a, type: r, options: i, ctx: t.ctx, chart: t }), n[s.id] = s } s.mergeTicksOptions(), e.isDefault && (t.scale = s) }), lt.each(o, function (t, e) { t || delete n[e] }), t.scales = n, Re.addScalesToLayout(this) }, buildOrUpdateControllers: function () { var t = this, e = []; return lt.each(t.data.datasets, function (n, i) { var o = t.getDatasetMeta(i), a = n.type || t.config.type; if (o.type && o.type !== a && (t.destroyDatasetMeta(i), o = t.getDatasetMeta(i)), o.type = a, o.controller) o.controller.updateIndex(i), o.controller.linkScales(); else { var r = ge[o.type]; if (void 0 === r) throw new Error('"' + o.type + '" is not a chart type.'); o.controller = new r(t, i), e.push(o.controller) } }, t), e }, resetElements: function () { var t = this; lt.each(t.data.datasets, function (e, n) { t.getDatasetMeta(n).controller.reset() }, t) }, reset: function () { this.resetElements(), this.tooltip.initialize() }, update: function (t) { var e = this; if (t && "object" == typeof t || (t = { duration: t, lazy: arguments[1] }), function (t) { var e = t.options; lt.each(t.scales, function (e) { fe.removeBox(t, e) }), e = qe(rt.global, rt[t.config.type], e), t.options = t.config.options = e, t.ensureScalesHaveIDs(), t.buildOrUpdateScales(), t.tooltip._options = e.tooltips, t.tooltip.initialize() }(e), Ee._invalidate(e), !1 !== Ee.notify(e, "beforeUpdate")) { e.tooltip._data = e.data; var n = e.buildOrUpdateControllers(); lt.each(e.data.datasets, function (t, n) { e.getDatasetMeta(n).controller.buildOrUpdateElements() }, e), e.updateLayout(), e.options.animation && e.options.animation.duration && lt.each(n, function (t) { t.reset() }), e.updateDatasets(), e.tooltip.initialize(), e.lastActive = [], Ee.notify(e, "afterUpdate"), e._bufferedRender ? e._bufferedRequest = { duration: t.duration, easing: t.easing, lazy: t.lazy } : e.render(t) } }, updateLayout: function () { !1 !== Ee.notify(this, "beforeLayout") && (fe.update(this, this.width, this.height), Ee.notify(this, "afterScaleUpdate"), Ee.notify(this, "afterLayout")) }, updateDatasets: function () { if (!1 !== Ee.notify(this, "beforeDatasetsUpdate")) { for (var t = 0, e = this.data.datasets.length; t < e; ++t)this.updateDataset(t); Ee.notify(this, "afterDatasetsUpdate") } }, updateDataset: function (t) { var e = this.getDatasetMeta(t), n = { meta: e, index: t }; !1 !== Ee.notify(this, "beforeDatasetUpdate", [n]) && (e.controller.update(), Ee.notify(this, "afterDatasetUpdate", [n])) }, render: function (t) { var e = this; t && "object" == typeof t || (t = { duration: t, lazy: arguments[1] }); var n = e.options.animation, i = je(t.duration, n && n.duration), o = t.lazy; if (!1 !== Ee.notify(e, "beforeRender")) { var a = function (t) { Ee.notify(e, "afterRender"), lt.callback(n && n.onComplete, [t], e) }; if (n && i) { var r = new At({ numSteps: i / 16.66, easing: t.easing || n.easing, render: function (t, e) { var n = lt.easing.effects[e.easing], i = e.currentStep, o = i / e.numSteps; t.draw(n(o), o, i) }, onAnimationProgress: n.onProgress, onAnimationComplete: a }); pt.addAnimation(e, r, i, o) } else e.draw(), a(new At({ numSteps: 0, chart: e })); return e } }, draw: function (t) { var e = this; e.clear(), lt.isNullOrUndef(t) && (t = 1), e.transition(t), e.width <= 0 || e.height <= 0 || !1 !== Ee.notify(e, "beforeDraw", [t]) && (lt.each(e.boxes, function (t) { t.draw(e.chartArea) }, e), e.drawDatasets(t), e._drawTooltip(t), Ee.notify(e, "afterDraw", [t])) }, transition: function (t) { for (var e = 0, n = (this.data.datasets || []).length; e < n; ++e)this.isDatasetVisible(e) && this.getDatasetMeta(e).controller.transition(t); this.tooltip.transition(t) }, drawDatasets: function (t) { if (!1 !== Ee.notify(this, "beforeDatasetsDraw", [t])) { for (var e = (this.data.datasets || []).length - 1; 0 <= e; --e)this.isDatasetVisible(e) && this.drawDataset(e, t); Ee.notify(this, "afterDatasetsDraw", [t]) } }, drawDataset: function (t, e) { var n = this.getDatasetMeta(t), i = { meta: n, index: t, easingValue: e }; !1 !== Ee.notify(this, "beforeDatasetDraw", [i]) && (n.controller.draw(e), Ee.notify(this, "afterDatasetDraw", [i])) }, _drawTooltip: function (t) { var e = this.tooltip, n = { tooltip: e, easingValue: t }; !1 !== Ee.notify(this, "beforeTooltipDraw", [n]) && (e.draw(), Ee.notify(this, "afterTooltipDraw", [n])) }, getElementAtEvent: function (t) { return Ce.modes.single(this, t) }, getElementsAtEvent: function (t) { return Ce.modes.label(this, t, { intersect: !0 }) }, getElementsAtXAxis: function (t) { return Ce.modes["x-axis"](this, t, { intersect: !0 }) }, getElementsAtEventForMode: function (t, e, n) { var i = Ce.modes[e]; return "function" == typeof i ? i(this, t, n) : [] }, getDatasetAtEvent: function (t) { return Ce.modes.dataset(this, t, { intersect: !0 }) }, getDatasetMeta: function (t) { var e = this.data.datasets[t]; e._meta || (e._meta = {}); var n = e._meta[this.id]; return n || (n = e._meta[this.id] = { type: null, data: [], dataset: null, controller: null, hidden: null, xAxisID: null, yAxisID: null }), n }, getVisibleDatasetCount: function () { for (var t = 0, e = 0, n = this.data.datasets.length; e < n; ++e)this.isDatasetVisible(e) && t++; return t }, isDatasetVisible: function (t) { var e = this.getDatasetMeta(t); return "boolean" == typeof e.hidden ? !e.hidden : !this.data.datasets[t].hidden }, generateLegend: function () { return this.options.legendCallback(this) }, destroyDatasetMeta: function (t) { var e = this.id, n = this.data.datasets[t], i = n._meta && n._meta[e]; i && (i.controller.destroy(), delete n._meta[e]) }, destroy: function () { var t, e, n = this, i = n.canvas; for (n.stop(), t = 0, e = n.data.datasets.length; t < e; ++t)n.destroyDatasetMeta(t); i && (n.unbindEvents(), lt.canvas.clear(n), He.releaseContext(n.ctx), n.canvas = null, n.ctx = null), Ee.notify(n, "destroy"), delete en.instances[n.id] }, toBase64Image: function () { return this.canvas.toDataURL.apply(this.canvas, arguments) }, initToolTip: function () { this.tooltip = new Je({ _chart: this, _chartInstance: this, _data: this.data, _options: this.options.tooltips }, this) }, bindEvents: function () { var t = this, e = t._listeners = {}, n = function () { t.eventHandler.apply(t, arguments) }; lt.each(t.options.events, function (i) { He.addEventListener(t, i, n), e[i] = n }), t.options.responsive && (n = function () { t.resize() }, He.addEventListener(t, "resize", n), e.resize = n) }, unbindEvents: function () { var t = this, e = t._listeners; e && (delete t._listeners, lt.each(e, function (e, n) { He.removeEventListener(t, n, e) })) }, updateHoverStyle: function (t, e, n) { var i, o, a, r = n ? "setHoverStyle" : "removeHoverStyle"; for (o = 0, a = t.length; o < a; ++o)(i = t[o]) && this.getDatasetMeta(i._datasetIndex).controller[r](i) }, eventHandler: function (t) { var e = this, n = e.tooltip; if (!1 !== Ee.notify(e, "beforeEvent", [t])) { e._bufferedRender = !0, e._bufferedRequest = null; var i = e.handleEvent(t); n && (i = n._start ? n.handleEvent(t) : i | n.handleEvent(t)), Ee.notify(e, "afterEvent", [t]); var o = e._bufferedRequest; return o ? e.render(o) : i && !e.animating && (e.stop(), e.render({ duration: e.options.hover.animationDuration, lazy: !0 })), e._bufferedRender = !1, e._bufferedRequest = null, e } }, handleEvent: function (t) { var e, n = this, i = n.options || {}, o = i.hover; return n.lastActive = n.lastActive || [], "mouseout" === t.type ? n.active = [] : n.active = n.getElementsAtEventForMode(t, o.mode, o), lt.callback(i.onHover || i.hover.onHover, [t.native, n.active], n), "mouseup" !== t.type && "click" !== t.type || i.onClick && i.onClick.call(n, t.native, n.active), n.lastActive.length && n.updateHoverStyle(n.lastActive, o.mode, !1), n.active.length && o.mode && n.updateHoverStyle(n.active, o.mode, !0), e = !lt.arrayEquals(n.active, n.lastActive), n.lastActive = n.active, e } }), en.instances = {}; var nn = en; function on() { throw new Error("This method is not implemented: either no adapter can be found or an incomplete integration was provided.") } function an(t) { this.options = t || {} } (en.Controller = en).types = {}, lt.configMerge = qe, lt.scaleMerge = $e, lt.extend(an.prototype, { formats: on, parse: on, format: on, add: on, diff: on, startOf: on, endOf: on, _create: function (t) { return t } }), an.override = function (t) { lt.extend(an.prototype, t) }; var rn = { _date: an }, sn = { formatters: { values: function (t) { return lt.isArray(t) ? t : "" + t }, linear: function (t, e, n) { var i = 3 < n.length ? n[2] - n[1] : n[1] - n[0]; 1 < Math.abs(i) && t !== Math.floor(t) && (i = t - Math.floor(t)); var o = lt.log10(Math.abs(i)), a = ""; if (0 !== t) if (Math.max(Math.abs(n[0]), Math.abs(n[n.length - 1])) < 1e-4) { var r = lt.log10(Math.abs(t)); a = t.toExponential(Math.floor(r) - Math.floor(o)) } else { var s = -1 * Math.floor(o); s = Math.max(Math.min(s, 20), 0), a = t.toFixed(s) } else a = "0"; return a }, logarithmic: function (t, e, n) { var i = t / Math.pow(10, Math.floor(lt.log10(t))); return 0 === t ? "0" : 1 == i || 2 == i || 5 == i || 0 === e || e === n.length - 1 ? t.toExponential() : "" } } }, gn = lt.valueOrDefault, ln = lt.valueAtIndexOrDefault; function cn(t) { var e, n, i = []; for (e = 0, n = t.length; e < n; ++e)i.push(t[e].label); return i } function In(t, e, n) { return lt.isArray(e) ? lt.longestText(t, n, e) : t.measureText(e).width } rt._set("scale", { display: !0, position: "left", offset: !1, gridLines: { display: !0, color: "rgba(0, 0, 0, 0.1)", lineWidth: 1, drawBorder: !0, drawOnChartArea: !0, drawTicks: !0, tickMarkLength: 10, zeroLineWidth: 1, zeroLineColor: "rgba(0,0,0,0.25)", zeroLineBorderDash: [], zeroLineBorderDashOffset: 0, offsetGridLines: !1, borderDash: [], borderDashOffset: 0 }, scaleLabel: { display: !1, labelString: "", padding: { top: 4, bottom: 4 } }, ticks: { beginAtZero: !1, minRotation: 0, maxRotation: 50, mirror: !1, padding: 0, reverse: !1, display: !0, autoSkip: !0, autoSkipPadding: 0, labelOffset: 0, callback: sn.formatters.values, minor: {}, major: {} } }); var un = dt.extend({ getPadding: function () { return { left: this.paddingLeft || 0, top: this.paddingTop || 0, right: this.paddingRight || 0, bottom: this.paddingBottom || 0 } }, getTicks: function () { return this._ticks }, mergeTicksOptions: function () { var t = this.options.ticks; for (var e in !1 === t.minor && (t.minor = { display: !1 }), !1 === t.major && (t.major = { display: !1 }), t) "major" !== e && "minor" !== e && (void 0 === t.minor[e] && (t.minor[e] = t[e]), void 0 === t.major[e] && (t.major[e] = t[e])) }, beforeUpdate: function () { lt.callback(this.options.beforeUpdate, [this]) }, update: function (t, e, n) { var i, o, a, r, s, g, l = this; for (l.beforeUpdate(), l.maxWidth = t, l.maxHeight = e, l.margins = lt.extend({ left: 0, right: 0, top: 0, bottom: 0 }, n), l._maxLabelLines = 0, l.longestLabelWidth = 0, l.longestTextCache = l.longestTextCache || {}, l.beforeSetDimensions(), l.setDimensions(), l.afterSetDimensions(), l.beforeDataLimits(), l.determineDataLimits(), l.afterDataLimits(), l.beforeBuildTicks(), s = l.buildTicks() || [], s = l.afterBuildTicks(s) || s, l.beforeTickToLabelConversion(), a = l.convertTicksToLabels(s) || l.ticks, l.afterTickToLabelConversion(), i = 0, o = (l.ticks = a).length; i < o; ++i)r = a[i], (g = s[i]) ? g.label = r : s.push(g = { label: r, major: !1 }); return l._ticks = s, l.beforeCalculateTickRotation(), l.calculateTickRotation(), l.afterCalculateTickRotation(), l.beforeFit(), l.fit(), l.afterFit(), l.afterUpdate(), l.minSize }, afterUpdate: function () { lt.callback(this.options.afterUpdate, [this]) }, beforeSetDimensions: function () { lt.callback(this.options.beforeSetDimensions, [this]) }, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0 }, afterSetDimensions: function () { lt.callback(this.options.afterSetDimensions, [this]) }, beforeDataLimits: function () { lt.callback(this.options.beforeDataLimits, [this]) }, determineDataLimits: lt.noop, afterDataLimits: function () { lt.callback(this.options.afterDataLimits, [this]) }, beforeBuildTicks: function () { lt.callback(this.options.beforeBuildTicks, [this]) }, buildTicks: lt.noop, afterBuildTicks: function (t) { return lt.isArray(t) && t.length ? lt.callback(this.options.afterBuildTicks, [this, t]) : (this.ticks = lt.callback(this.options.afterBuildTicks, [this, this.ticks]) || this.ticks, t) }, beforeTickToLabelConversion: function () { lt.callback(this.options.beforeTickToLabelConversion, [this]) }, convertTicksToLabels: function () { var t = this.options.ticks; this.ticks = this.ticks.map(t.userCallback || t.callback, this) }, afterTickToLabelConversion: function () { lt.callback(this.options.afterTickToLabelConversion, [this]) }, beforeCalculateTickRotation: function () { lt.callback(this.options.beforeCalculateTickRotation, [this]) }, calculateTickRotation: function () { var t = this, e = t.ctx, n = t.options.ticks, i = cn(t._ticks), o = lt.options._parseFont(n); e.font = o.string; var a = n.minRotation || 0; if (i.length && t.options.display && t.isHorizontal()) for (var r, s = lt.longestText(e, o.string, i, t.longestTextCache), g = s, l = t.getPixelForTick(1) - t.getPixelForTick(0) - 6; l < g && a < n.maxRotation;) { var c = lt.toRadians(a); if (r = Math.cos(c), Math.sin(c) * s > t.maxHeight) { a--; break } a++, g = r * s } t.labelRotation = a }, afterCalculateTickRotation: function () { lt.callback(this.options.afterCalculateTickRotation, [this]) }, beforeFit: function () { lt.callback(this.options.beforeFit, [this]) }, fit: function () { var t = this, e = t.minSize = { width: 0, height: 0 }, n = cn(t._ticks), i = t.options, o = i.ticks, a = i.scaleLabel, r = i.gridLines, s = t._isVisible(), g = i.position, l = t.isHorizontal(), c = lt.options._parseFont, I = c(o), u = i.gridLines.tickMarkLength; if (e.width = l ? t.isFullWidth() ? t.maxWidth - t.margins.left - t.margins.right : t.maxWidth : s && r.drawTicks ? u : 0, e.height = l ? s && r.drawTicks ? u : 0 : t.maxHeight, a.display && s) { var h = c(a), d = lt.options.toPadding(a.padding), C = h.lineHeight + d.height; l ? e.height += C : e.width += C } if (o.display && s) { var A = lt.longestText(t.ctx, I.string, n, t.longestTextCache), p = lt.numberOfLabelLines(n), m = .5 * I.size, f = t.options.ticks.padding; if (t._maxLabelLines = p, t.longestLabelWidth = A, l) { var b = lt.toRadians(t.labelRotation), B = Math.cos(b), y = Math.sin(b) * A + I.lineHeight * p + m; e.height = Math.min(t.maxHeight, e.height + y + f), t.ctx.font = I.string; var v, x, F = In(t.ctx, n[0], I.string), Q = In(t.ctx, n[n.length - 1], I.string), G = t.getPixelForTick(0) - t.left, w = t.right - t.getPixelForTick(n.length - 1); x = 0 !== t.labelRotation ? (v = "bottom" === g ? B * F : B * m, "bottom" === g ? B * m : B * Q) : (v = F / 2, Q / 2), t.paddingLeft = Math.max(v - G, 0) + 3, t.paddingRight = Math.max(x - w, 0) + 3 } else o.mirror ? A = 0 : A += f + m, e.width = Math.min(t.maxWidth, e.width + A), t.paddingTop = I.size / 2, t.paddingBottom = I.size / 2 } t.handleMargins(), t.width = e.width, t.height = e.height }, handleMargins: function () { var t = this; t.margins && (t.paddingLeft = Math.max(t.paddingLeft - t.margins.left, 0), t.paddingTop = Math.max(t.paddingTop - t.margins.top, 0), t.paddingRight = Math.max(t.paddingRight - t.margins.right, 0), t.paddingBottom = Math.max(t.paddingBottom - t.margins.bottom, 0)) }, afterFit: function () { lt.callback(this.options.afterFit, [this]) }, isHorizontal: function () { return "top" === this.options.position || "bottom" === this.options.position }, isFullWidth: function () { return this.options.fullWidth }, getRightValue: function (t) { if (lt.isNullOrUndef(t)) return NaN; if (("number" == typeof t || t instanceof Number) && !isFinite(t)) return NaN; if (t) if (this.isHorizontal()) { if (void 0 !== t.x) return this.getRightValue(t.x) } else if (void 0 !== t.y) return this.getRightValue(t.y); return t }, getLabelForIndex: lt.noop, getPixelForValue: lt.noop, getValueForPixel: lt.noop, getPixelForTick: function (t) { var e = this, n = e.options.offset; if (e.isHorizontal()) { var i = (e.width - (e.paddingLeft + e.paddingRight)) / Math.max(e._ticks.length - (n ? 0 : 1), 1), o = i * t + e.paddingLeft; return n && (o += i / 2), e.left + o + (e.isFullWidth() ? e.margins.left : 0) } var a = e.height - (e.paddingTop + e.paddingBottom); return e.top + t * (a / (e._ticks.length - 1)) }, getPixelForDecimal: function (t) { var e = this; if (e.isHorizontal()) { var n = (e.width - (e.paddingLeft + e.paddingRight)) * t + e.paddingLeft; return e.left + n + (e.isFullWidth() ? e.margins.left : 0) } return e.top + t * e.height }, getBasePixel: function () { return this.getPixelForValue(this.getBaseValue()) }, getBaseValue: function () { var t = this.min, e = this.max; return this.beginAtZero ? 0 : t < 0 && e < 0 ? e : 0 < t && 0 < e ? t : 0 }, _autoSkip: function (t) { var e, n, i = this.isHorizontal(), o = this.options.ticks.minor, a = t.length, r = !1, s = o.maxTicksLimit, g = this._tickSize() * (a - 1), l = i ? this.width - (this.paddingLeft + this.paddingRight) : this.height - (this.paddingTop + this.PaddingBottom), c = []; for (l < g && (r = 1 + Math.floor(g / l)), s < a && (r = Math.max(r, 1 + Math.floor(a / s))), e = 0; e < a; e++)n = t[e], 1 < r && 0 < e % r && delete n.label, c.push(n); return c }, _tickSize: function () { var t = this.isHorizontal(), e = this.options.ticks.minor, n = lt.toRadians(this.labelRotation), i = Math.abs(Math.cos(n)), o = Math.abs(Math.sin(n)), a = e.autoSkipPadding || 0, r = this.longestLabelWidth + a || 0, s = lt.options._parseFont(e), g = this._maxLabelLines * s.lineHeight + a || 0; return t ? r * o < g * i ? r / i : g / o : g * o < r * i ? g / i : r / o }, _isVisible: function () { var t, e, n, i = this.chart, o = this.options.display; if ("auto" !== o) return !!o; for (t = 0, e = i.data.datasets.length; t < e; ++t)if (i.isDatasetVisible(t) && ((n = i.getDatasetMeta(t)).xAxisID === this.id || n.yAxisID === this.id)) return !0; return !1 }, draw: function (t) { var e = this, n = e.options; if (e._isVisible()) { var i, o, a, r = e.chart, s = e.ctx, g = rt.global.defaultFontColor, l = n.ticks.minor, c = n.ticks.major || l, I = n.gridLines, u = n.scaleLabel, h = n.position, d = 0 !== e.labelRotation, C = l.mirror, A = e.isHorizontal(), p = lt.options._parseFont, m = l.display && l.autoSkip ? e._autoSkip(e.getTicks()) : e.getTicks(), f = gn(l.fontColor, g), b = p(l), B = b.lineHeight, y = gn(c.fontColor, g), v = p(c), x = l.padding, F = l.labelOffset, Q = I.drawTicks ? I.tickMarkLength : 0, G = gn(u.fontColor, g), w = p(u), X = lt.options.toPadding(u.padding), S = lt.toRadians(e.labelRotation), k = [], D = I.drawBorder ? ln(I.lineWidth, 0, 0) : 0, Z = lt._alignPixel; if (a = "top" === h ? (i = Z(r, e.bottom, D), o = e.bottom - Q, i - D / 2) : "bottom" === h ? (i = Z(r, e.top, D), o = i + D / 2, e.top + Q) : "left" === h ? (i = Z(r, e.right, D), o = e.right - Q, i - D / 2) : (i = Z(r, e.left, D), o = i + D / 2, e.left + Q), lt.each(m, function (i, s) { if (!lt.isNullOrUndef(i.label)) { var g, l, c, u, p, m, f, b, y, v, G, w, X, U, W, T, N = i.label; u = s === e.zeroLineIndex && n.offset === I.offsetGridLines ? (g = I.zeroLineWidth, l = I.zeroLineColor, c = I.zeroLineBorderDash || [], I.zeroLineBorderDashOffset || 0) : (g = ln(I.lineWidth, s), l = ln(I.color, s), c = I.borderDash || [], I.borderDashOffset || 0); var H = lt.isArray(N) ? N.length : 1, E = function (t, e, n) { var i = t.getPixelForTick(e); return n && (1 === t.getTicks().length ? i -= t.isHorizontal() ? Math.max(i - t.left, t.right - i) : Math.max(i - t.top, t.bottom - i) : i -= 0 === e ? (t.getPixelForTick(1) - i) / 2 : (i - t.getPixelForTick(e - 1)) / 2), i }(e, s, I.offsetGridLines); if (A) { var R = Q + x; E < e.left - 1e-7 && (l = "rgba(0,0,0,0)"), p = f = y = G = Z(r, E, g), m = o, b = a, X = e.getPixelForTick(s) + F, U = "top" === h ? (v = Z(r, t.top, D) + D / 2, w = t.bottom, W = ((d ? 1 : .5) - H) * B, T = d ? "left" : "center", e.bottom - R) : (v = t.top, w = Z(r, t.bottom, D) - D / 2, W = (d ? 0 : .5) * B, T = d ? "right" : "center", e.top + R) } else { var Y = (C ? 0 : Q) + x; E < e.top - 1e-7 && (l = "rgba(0,0,0,0)"), p = o, f = a, m = b = v = w = Z(r, E, g), U = e.getPixelForTick(s) + F, W = (1 - H) * B / 2, X = "left" === h ? (y = Z(r, t.left, D) + D / 2, G = t.right, T = C ? "left" : "right", e.right - Y) : (y = t.left, G = Z(r, t.right, D) - D / 2, T = C ? "right" : "left", e.left + Y) } k.push({ tx1: p, ty1: m, tx2: f, ty2: b, x1: y, y1: v, x2: G, y2: w, labelX: X, labelY: U, glWidth: g, glColor: l, glBorderDash: c, glBorderDashOffset: u, rotation: -1 * S, label: N, major: i.major, textOffset: W, textAlign: T }) } }), lt.each(k, function (t) { var e = t.glWidth, n = t.glColor; if (I.display && e && n && (s.save(), s.lineWidth = e, s.strokeStyle = n, s.setLineDash && (s.setLineDash(t.glBorderDash), s.lineDashOffset = t.glBorderDashOffset), s.beginPath(), I.drawTicks && (s.moveTo(t.tx1, t.ty1), s.lineTo(t.tx2, t.ty2)), I.drawOnChartArea && (s.moveTo(t.x1, t.y1), s.lineTo(t.x2, t.y2)), s.stroke(), s.restore()), l.display) { s.save(), s.translate(t.labelX, t.labelY), s.rotate(t.rotation), s.font = t.major ? v.string : b.string, s.fillStyle = t.major ? y : f, s.textBaseline = "middle", s.textAlign = t.textAlign; var i = t.label, o = t.textOffset; if (lt.isArray(i)) for (var a = 0; a < i.length; ++a)s.fillText("" + i[a], 0, o), o += B; else s.fillText(i, 0, o); s.restore() } }), u.display) { var U, W, T = 0, N = w.lineHeight / 2; if (A) U = e.left + (e.right - e.left) / 2, W = "bottom" === h ? e.bottom - N - X.bottom : e.top + N + X.top; else { var H = "left" === h; U = H ? e.left + N + X.top : e.right - N - X.top, W = e.top + (e.bottom - e.top) / 2, T = H ? -.5 * Math.PI : .5 * Math.PI } s.save(), s.translate(U, W), s.rotate(T), s.textAlign = "center", s.textBaseline = "middle", s.fillStyle = G, s.font = w.string, s.fillText(u.labelString, 0, 0), s.restore() } if (D) { var E, R, Y, O, _ = D, V = ln(I.lineWidth, m.length - 1, 0); A ? (E = Z(r, e.left, _) - _ / 2, R = Z(r, e.right, V) + V / 2, Y = O = i) : (Y = Z(r, e.top, _) - _ / 2, O = Z(r, e.bottom, V) + V / 2, E = R = i), s.lineWidth = D, s.strokeStyle = ln(I.color, 0), s.beginPath(), s.moveTo(E, Y), s.lineTo(R, O), s.stroke() } } } }), hn = un.extend({ getLabels: function () { var t = this.chart.data; return this.options.labels || (this.isHorizontal() ? t.xLabels : t.yLabels) || t.labels }, determineDataLimits: function () { var t, e = this, n = e.getLabels(); e.minIndex = 0, e.maxIndex = n.length - 1, void 0 !== e.options.ticks.min && (t = n.indexOf(e.options.ticks.min), e.minIndex = -1 !== t ? t : e.minIndex), void 0 !== e.options.ticks.max && (t = n.indexOf(e.options.ticks.max), e.maxIndex = -1 !== t ? t : e.maxIndex), e.min = n[e.minIndex], e.max = n[e.maxIndex] }, buildTicks: function () { var t = this.getLabels(); this.ticks = 0 === this.minIndex && this.maxIndex === t.length - 1 ? t : t.slice(this.minIndex, this.maxIndex + 1) }, getLabelForIndex: function (t, e) { var n = this.chart; return n.getDatasetMeta(e).controller._getValueScaleId() === this.id ? this.getRightValue(n.data.datasets[e].data[t]) : this.ticks[t - this.minIndex] }, getPixelForValue: function (t, e) { var n, i = this, o = i.options.offset, a = Math.max(i.maxIndex + 1 - i.minIndex - (o ? 0 : 1), 1); if (null != t && (n = i.isHorizontal() ? t.x : t.y), void 0 !== n || void 0 !== t && isNaN(e)) { t = n || t; var r = i.getLabels().indexOf(t); e = -1 !== r ? r : e } if (i.isHorizontal()) { var s = i.width / a, g = s * (e - i.minIndex); return o && (g += s / 2), i.left + g } var l = i.height / a, c = l * (e - i.minIndex); return o && (c += l / 2), i.top + c }, getPixelForTick: function (t) { return this.getPixelForValue(this.ticks[t], t + this.minIndex, null) }, getValueForPixel: function (t) { var e = this.options.offset, n = Math.max(this._ticks.length - (e ? 0 : 1), 1), i = this.isHorizontal(), o = (i ? this.width : this.height) / n; return t -= i ? this.left : this.top, e && (t -= o / 2), (t <= 0 ? 0 : Math.round(t / o)) + this.minIndex }, getBasePixel: function () { return this.bottom } }); hn._defaults = { position: "bottom" }; var dn = lt.noop, Cn = lt.isNullOrUndef, An = un.extend({ getRightValue: function (t) { return "string" == typeof t ? +t : un.prototype.getRightValue.call(this, t) }, handleTickRangeOptions: function () { var t = this, e = t.options.ticks; if (e.beginAtZero) { var n = lt.sign(t.min), i = lt.sign(t.max); n < 0 && i < 0 ? t.max = 0 : 0 < n && 0 < i && (t.min = 0) } var o = void 0 !== e.min || void 0 !== e.suggestedMin, a = void 0 !== e.max || void 0 !== e.suggestedMax; void 0 !== e.min ? t.min = e.min : void 0 !== e.suggestedMin && (null === t.min ? t.min = e.suggestedMin : t.min = Math.min(t.min, e.suggestedMin)), void 0 !== e.max ? t.max = e.max : void 0 !== e.suggestedMax && (null === t.max ? t.max = e.suggestedMax : t.max = Math.max(t.max, e.suggestedMax)), o != a && t.min >= t.max && (o ? t.max = t.min + 1 : t.min = t.max - 1), t.min === t.max && (t.max++, e.beginAtZero || t.min--) }, getTickLimit: function () { var t, e = this.options.ticks, n = e.stepSize, i = e.maxTicksLimit; return n ? t = Math.ceil(this.max / n) - Math.floor(this.min / n) + 1 : (t = this._computeTickLimit(), i = i || 11), i && (t = Math.min(i, t)), t }, _computeTickLimit: function () { return Number.POSITIVE_INFINITY }, handleDirectionalChanges: dn, buildTicks: function () { var t = this, e = t.options.ticks, n = t.getTickLimit(), i = { maxTicks: n = Math.max(2, n), min: e.min, max: e.max, precision: e.precision, stepSize: lt.valueOrDefault(e.fixedStepSize, e.stepSize) }, o = t.ticks = function (t, e) { var n, i, o, a, r = [], s = t.stepSize, g = s || 1, l = t.maxTicks - 1, c = t.min, I = t.max, u = t.precision, h = e.min, d = e.max, C = lt.niceNum((d - h) / l / g) * g; if (C < 1e-14 && Cn(c) && Cn(I)) return [h, d]; l < (a = Math.ceil(d / C) - Math.floor(h / C)) && (C = lt.niceNum(a * C / l / g) * g), s || Cn(u) ? n = Math.pow(10, lt._decimalPlaces(C)) : (n = Math.pow(10, u), C = Math.ceil(C * n) / n), i = Math.floor(h / C) * C, o = Math.ceil(d / C) * C, s && (!Cn(c) && lt.almostWhole(c / C, C / 1e3) && (i = c), !Cn(I) && lt.almostWhole(I / C, C / 1e3) && (o = I)), a = (o - i) / C, a = lt.almostEquals(a, Math.round(a), C / 1e3) ? Math.round(a) : Math.ceil(a), i = Math.round(i * n) / n, o = Math.round(o * n) / n, r.push(Cn(c) ? i : c); for (var A = 1; A < a; ++A)r.push(Math.round((i + A * C) * n) / n); return r.push(Cn(I) ? o : I), r }(i, t); t.handleDirectionalChanges(), t.max = lt.max(o), t.min = lt.min(o), e.reverse ? (o.reverse(), t.start = t.max, t.end = t.min) : (t.start = t.min, t.end = t.max) }, convertTicksToLabels: function () { this.ticksAsNumbers = this.ticks.slice(), this.zeroLineIndex = this.ticks.indexOf(0), un.prototype.convertTicksToLabels.call(this) } }), pn = { position: "left", ticks: { callback: sn.formatters.linear } }, mn = An.extend({ determineDataLimits: function () { var t = this, e = t.options, n = t.chart, i = n.data.datasets, o = t.isHorizontal(); function a(e) { return o ? e.xAxisID === t.id : e.yAxisID === t.id } t.min = null, t.max = null; var r = e.stacked; if (void 0 === r && lt.each(i, function (t, e) { if (!r) { var i = n.getDatasetMeta(e); n.isDatasetVisible(e) && a(i) && void 0 !== i.stack && (r = !0) } }), e.stacked || r) { var s = {}; lt.each(i, function (i, o) { var r = n.getDatasetMeta(o), g = [r.type, void 0 === e.stacked && void 0 === r.stack ? o : "", r.stack].join("."); void 0 === s[g] && (s[g] = { positiveValues: [], negativeValues: [] }); var l = s[g].positiveValues, c = s[g].negativeValues; n.isDatasetVisible(o) && a(r) && lt.each(i.data, function (n, i) { var o = +t.getRightValue(n); isNaN(o) || r.data[i].hidden || (l[i] = l[i] || 0, c[i] = c[i] || 0, e.relativePoints ? l[i] = 100 : o < 0 ? c[i] += o : l[i] += o) }) }), lt.each(s, function (e) { var n = e.positiveValues.concat(e.negativeValues), i = lt.min(n), o = lt.max(n); t.min = null === t.min ? i : Math.min(t.min, i), t.max = null === t.max ? o : Math.max(t.max, o) }) } else lt.each(i, function (e, i) { var o = n.getDatasetMeta(i); n.isDatasetVisible(i) && a(o) && lt.each(e.data, function (e, n) { var i = +t.getRightValue(e); isNaN(i) || o.data[n].hidden || (null === t.min ? t.min = i : i < t.min && (t.min = i), null === t.max ? t.max = i : i > t.max && (t.max = i)) }) }); t.min = isFinite(t.min) && !isNaN(t.min) ? t.min : 0, t.max = isFinite(t.max) && !isNaN(t.max) ? t.max : 1, this.handleTickRangeOptions() }, _computeTickLimit: function () { var t; return this.isHorizontal() ? Math.ceil(this.width / 40) : (t = lt.options._parseFont(this.options.ticks), Math.ceil(this.height / t.lineHeight)) }, handleDirectionalChanges: function () { this.isHorizontal() || this.ticks.reverse() }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, getPixelForValue: function (t) { var e = this.start, n = +this.getRightValue(t), i = this.end - e; return this.isHorizontal() ? this.left + this.width / i * (n - e) : this.bottom - this.height / i * (n - e) }, getValueForPixel: function (t) { var e = this.isHorizontal(), n = e ? this.width : this.height, i = (e ? t - this.left : this.bottom - t) / n; return this.start + (this.end - this.start) * i }, getPixelForTick: function (t) { return this.getPixelForValue(this.ticksAsNumbers[t]) } }), fn = pn; mn._defaults = fn; var bn = lt.valueOrDefault, Bn = { position: "left", ticks: { callback: sn.formatters.logarithmic } }; function yn(t, e) { return lt.isFinite(t) && 0 <= t ? t : e } var vn = un.extend({ determineDataLimits: function () { var t = this, e = t.options, n = t.chart, i = n.data.datasets, o = t.isHorizontal(); function a(e) { return o ? e.xAxisID === t.id : e.yAxisID === t.id } t.min = null, t.max = null, t.minNotZero = null; var r = e.stacked; if (void 0 === r && lt.each(i, function (t, e) { if (!r) { var i = n.getDatasetMeta(e); n.isDatasetVisible(e) && a(i) && void 0 !== i.stack && (r = !0) } }), e.stacked || r) { var s = {}; lt.each(i, function (i, o) { var r = n.getDatasetMeta(o), g = [r.type, void 0 === e.stacked && void 0 === r.stack ? o : "", r.stack].join("."); n.isDatasetVisible(o) && a(r) && (void 0 === s[g] && (s[g] = []), lt.each(i.data, function (e, n) { var i = s[g], o = +t.getRightValue(e); isNaN(o) || r.data[n].hidden || o < 0 || (i[n] = i[n] || 0, i[n] += o) })) }), lt.each(s, function (e) { if (0 < e.length) { var n = lt.min(e), i = lt.max(e); t.min = null === t.min ? n : Math.min(t.min, n), t.max = null === t.max ? i : Math.max(t.max, i) } }) } else lt.each(i, function (e, i) { var o = n.getDatasetMeta(i); n.isDatasetVisible(i) && a(o) && lt.each(e.data, function (e, n) { var i = +t.getRightValue(e); isNaN(i) || o.data[n].hidden || i < 0 || (null === t.min ? t.min = i : i < t.min && (t.min = i), null === t.max ? t.max = i : i > t.max && (t.max = i), 0 != i && (null === t.minNotZero || i < t.minNotZero) && (t.minNotZero = i)) }) }); this.handleTickRangeOptions() }, handleTickRangeOptions: function () { var t = this, e = t.options.ticks; t.min = yn(e.min, t.min), t.max = yn(e.max, t.max), t.min === t.max && (0 !== t.min && null !== t.min ? (t.min = Math.pow(10, Math.floor(lt.log10(t.min)) - 1), t.max = Math.pow(10, Math.floor(lt.log10(t.max)) + 1)) : (t.min = 1, t.max = 10)), null === t.min && (t.min = Math.pow(10, Math.floor(lt.log10(t.max)) - 1)), null === t.max && (t.max = 0 !== t.min ? Math.pow(10, Math.floor(lt.log10(t.min)) + 1) : 10), null === t.minNotZero && (0 < t.min ? t.minNotZero = t.min : t.max < 1 ? t.minNotZero = Math.pow(10, Math.floor(lt.log10(t.max))) : t.minNotZero = 1) }, buildTicks: function () { var t = this, e = t.options.ticks, n = !t.isHorizontal(), i = { min: yn(e.min), max: yn(e.max) }, o = t.ticks = function (t, e) { var n, i, o = [], a = bn(t.min, Math.pow(10, Math.floor(lt.log10(e.min)))), r = Math.floor(lt.log10(e.max)), s = Math.ceil(e.max / Math.pow(10, r)); 0 === a ? (n = Math.floor(lt.log10(e.minNotZero)), i = Math.floor(e.minNotZero / Math.pow(10, n)), o.push(a), a = i * Math.pow(10, n)) : (n = Math.floor(lt.log10(a)), i = Math.floor(a / Math.pow(10, n))); for (var g = n < 0 ? Math.pow(10, Math.abs(n)) : 1; o.push(a), 10 == ++i && (i = 1, g = 0 <= ++n ? 1 : g), a = Math.round(i * Math.pow(10, n) * g) / g, n < r || n === r && i < s;); var l = bn(t.max, a); return o.push(l), o }(i, t); t.max = lt.max(o), t.min = lt.min(o), e.reverse ? (n = !n, t.start = t.max, t.end = t.min) : (t.start = t.min, t.end = t.max), n && o.reverse() }, convertTicksToLabels: function () { this.tickValues = this.ticks.slice(), un.prototype.convertTicksToLabels.call(this) }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, getPixelForTick: function (t) { return this.getPixelForValue(this.tickValues[t]) }, _getFirstTickValue: function (t) { var e = Math.floor(lt.log10(t)); return Math.floor(t / Math.pow(10, e)) * Math.pow(10, e) }, getPixelForValue: function (t) { var e, n, i, o, a, r = this, s = r.options.ticks, g = s.reverse, l = lt.log10, c = r._getFirstTickValue(r.minNotZero), I = 0; return t = +r.getRightValue(t), a = g ? (i = r.end, o = r.start, -1) : (i = r.start, o = r.end, 1), n = r.isHorizontal() ? (e = r.width, g ? r.right : r.left) : (e = r.height, a *= -1, g ? r.top : r.bottom), t !== i && (0 === i && (e -= I = bn(s.fontSize, rt.global.defaultFontSize), i = c), 0 !== t && (I += e / (l(o) - l(i)) * (l(t) - l(i))), n += a * I), n }, getValueForPixel: function (t) { var e, n, i, o, a = this, r = a.options.ticks, s = r.reverse, g = lt.log10, l = a._getFirstTickValue(a.minNotZero); if (i = s ? (n = a.end, a.start) : (n = a.start, a.end), (o = a.isHorizontal() ? (e = a.width, s ? a.right - t : t - a.left) : (e = a.height, s ? t - a.top : a.bottom - t)) !== n) { if (0 === n) { var c = bn(r.fontSize, rt.global.defaultFontSize); o -= c, e -= c, n = l } o *= g(i) - g(n), o /= e, o = Math.pow(10, g(n) + o) } return o } }), xn = Bn; vn._defaults = xn; var Fn = lt.valueOrDefault, Qn = lt.valueAtIndexOrDefault, Gn = lt.options.resolve, wn = { display: !0, animate: !0, position: "chartArea", angleLines: { display: !0, color: "rgba(0, 0, 0, 0.1)", lineWidth: 1, borderDash: [], borderDashOffset: 0 }, gridLines: { circular: !1 }, ticks: { showLabelBackdrop: !0, backdropColor: "rgba(255,255,255,0.75)", backdropPaddingY: 2, backdropPaddingX: 2, callback: sn.formatters.linear }, pointLabels: { display: !0, fontSize: 10, callback: function (t) { return t } } }; function Xn(t) { var e = t.options; return e.angleLines.display || e.pointLabels.display ? t.chart.data.labels.length : 0 } function Sn(t) { var e = t.ticks; return e.display && t.display ? Fn(e.fontSize, rt.global.defaultFontSize) + 2 * e.backdropPaddingY : 0 } function kn(t, e, n, i, o) { return t === i || t === o ? { start: e - n / 2, end: e + n / 2 } : t < i || o < t ? { start: e - n, end: e } : { start: e, end: e + n } } function Dn(t, e, n, i) { var o, a, r = n.y + i / 2; if (lt.isArray(e)) for (o = 0, a = e.length; o < a; ++o)t.fillText(e[o], n.x, r), r += i; else t.fillText(e, n.x, r) } function Zn(t) { return lt.isNumber(t) ? t : 0 } var Un = An.extend({ setDimensions: function () { var t = this; t.width = t.maxWidth, t.height = t.maxHeight, t.paddingTop = Sn(t.options) / 2, t.xCenter = Math.floor(t.width / 2), t.yCenter = Math.floor((t.height - t.paddingTop) / 2), t.drawingArea = Math.min(t.height - t.paddingTop, t.width) / 2 }, determineDataLimits: function () { var t = this, e = t.chart, n = Number.POSITIVE_INFINITY, i = Number.NEGATIVE_INFINITY; lt.each(e.data.datasets, function (o, a) { if (e.isDatasetVisible(a)) { var r = e.getDatasetMeta(a); lt.each(o.data, function (e, o) { var a = +t.getRightValue(e); isNaN(a) || r.data[o].hidden || (n = Math.min(a, n), i = Math.max(a, i)) }) } }), t.min = n === Number.POSITIVE_INFINITY ? 0 : n, t.max = i === Number.NEGATIVE_INFINITY ? 0 : i, t.handleTickRangeOptions() }, _computeTickLimit: function () { return Math.ceil(this.drawingArea / Sn(this.options)) }, convertTicksToLabels: function () { An.prototype.convertTicksToLabels.call(this), this.pointLabels = this.chart.data.labels.map(this.options.pointLabels.callback, this) }, getLabelForIndex: function (t, e) { return +this.getRightValue(this.chart.data.datasets[e].data[t]) }, fit: function () { var t = this.options; t.display && t.pointLabels.display ? function (t) { var e, n, i, o = lt.options._parseFont(t.options.pointLabels), a = { l: 0, r: t.width, t: 0, b: t.height - t.paddingTop }, r = {}; t.ctx.font = o.string, t._pointLabelSizes = []; var s, g, l, c = Xn(t); for (e = 0; e < c; e++) { i = t.getPointPosition(e, t.drawingArea + 5), s = t.ctx, g = o.lineHeight, l = t.pointLabels[e] || "", n = lt.isArray(l) ? { w: lt.longestText(s, s.font, l), h: l.length * g } : { w: s.measureText(l).width, h: g }, t._pointLabelSizes[e] = n; var I = t.getIndexAngle(e), u = lt.toDegrees(I) % 360, h = kn(u, i.x, n.w, 0, 180), d = kn(u, i.y, n.h, 90, 270); h.start < a.l && (a.l = h.start, r.l = I), h.end > a.r && (a.r = h.end, r.r = I), d.start < a.t && (a.t = d.start, r.t = I), d.end > a.b && (a.b = d.end, r.b = I) } t.setReductions(t.drawingArea, a, r) }(this) : this.setCenterPoint(0, 0, 0, 0) }, setReductions: function (t, e, n) { var i = e.l / Math.sin(n.l), o = Math.max(e.r - this.width, 0) / Math.sin(n.r), a = -e.t / Math.cos(n.t), r = -Math.max(e.b - (this.height - this.paddingTop), 0) / Math.cos(n.b); i = Zn(i), o = Zn(o), a = Zn(a), r = Zn(r), this.drawingArea = Math.min(Math.floor(t - (i + o) / 2), Math.floor(t - (a + r) / 2)), this.setCenterPoint(i, o, a, r) }, setCenterPoint: function (t, e, n, i) { var o = this, a = o.width - e - o.drawingArea, r = t + o.drawingArea, s = n + o.drawingArea, g = o.height - o.paddingTop - i - o.drawingArea; o.xCenter = Math.floor((r + a) / 2 + o.left), o.yCenter = Math.floor((s + g) / 2 + o.top + o.paddingTop) }, getIndexAngle: function (t) { return t * (2 * Math.PI / Xn(this)) + (this.chart.options && this.chart.options.startAngle ? this.chart.options.startAngle : 0) * Math.PI * 2 / 360 }, getDistanceFromCenterForValue: function (t) { if (null === t) return 0; var e = this.drawingArea / (this.max - this.min); return this.options.ticks.reverse ? (this.max - t) * e : (t - this.min) * e }, getPointPosition: function (t, e) { var n = this.getIndexAngle(t) - Math.PI / 2; return { x: Math.cos(n) * e + this.xCenter, y: Math.sin(n) * e + this.yCenter } }, getPointPositionForValue: function (t, e) { return this.getPointPosition(t, this.getDistanceFromCenterForValue(e)) }, getBasePosition: function () { var t = this.min, e = this.max; return this.getPointPositionForValue(0, this.beginAtZero ? 0 : t < 0 && e < 0 ? e : 0 < t && 0 < e ? t : 0) }, draw: function () { var t = this, e = t.options, n = e.gridLines, i = e.ticks; if (e.display) { var o = t.ctx, a = this.getIndexAngle(0), r = lt.options._parseFont(i); (e.angleLines.display || e.pointLabels.display) && function (t) { var e = t.ctx, n = t.options, i = n.angleLines, o = n.gridLines, a = n.pointLabels, r = Fn(i.lineWidth, o.lineWidth), s = Fn(i.color, o.color), g = Sn(n); e.save(), e.lineWidth = r, e.strokeStyle = s, e.setLineDash && (e.setLineDash(Gn([i.borderDash, o.borderDash, []])), e.lineDashOffset = Gn([i.borderDashOffset, o.borderDashOffset, 0])); var l, c, I, u, h = t.getDistanceFromCenterForValue(n.ticks.reverse ? t.min : t.max), d = lt.options._parseFont(a); e.font = d.string, e.textBaseline = "middle"; for (var C = Xn(t) - 1; 0 <= C; C--) { if (i.display && r && s) { var A = t.getPointPosition(C, h); e.beginPath(), e.moveTo(t.xCenter, t.yCenter), e.lineTo(A.x, A.y), e.stroke() } if (a.display) { var p = 0 === C ? g / 2 : 0, m = t.getPointPosition(C, h + p + 5), f = Qn(a.fontColor, C, rt.global.defaultFontColor); e.fillStyle = f; var b = t.getIndexAngle(C), B = lt.toDegrees(b); e.textAlign = 0 === (u = B) || 180 === u ? "center" : u < 180 ? "left" : "right", l = B, c = t._pointLabelSizes[C], I = m, 90 === l || 270 === l ? I.y -= c.h / 2 : (270 < l || l < 90) && (I.y -= c.h), Dn(e, t.pointLabels[C] || "", m, d.lineHeight) } } e.restore() }(t), lt.each(t.ticks, function (e, s) { if (0 < s || i.reverse) { var g = t.getDistanceFromCenterForValue(t.ticksAsNumbers[s]); if (n.display && 0 !== s && function (t, e, n, i) { var o, a = t.ctx, r = e.circular, s = Xn(t), g = Qn(e.color, i - 1), l = Qn(e.lineWidth, i - 1); if ((r || s) && g && l) { if (a.save(), a.strokeStyle = g, a.lineWidth = l, a.setLineDash && (a.setLineDash(e.borderDash || []), a.lineDashOffset = e.borderDashOffset || 0), a.beginPath(), r) a.arc(t.xCenter, t.yCenter, n, 0, 2 * Math.PI); else { o = t.getPointPosition(0, n), a.moveTo(o.x, o.y); for (var c = 1; c < s; c++)o = t.getPointPosition(c, n), a.lineTo(o.x, o.y) } a.closePath(), a.stroke(), a.restore() } }(t, n, g, s), i.display) { var l = Fn(i.fontColor, rt.global.defaultFontColor); if (o.font = r.string, o.save(), o.translate(t.xCenter, t.yCenter), o.rotate(a), i.showLabelBackdrop) { var c = o.measureText(e).width; o.fillStyle = i.backdropColor, o.fillRect(-c / 2 - i.backdropPaddingX, -g - r.size / 2 - i.backdropPaddingY, c + 2 * i.backdropPaddingX, r.size + 2 * i.backdropPaddingY) } o.textAlign = "center", o.textBaseline = "middle", o.fillStyle = l, o.fillText(e, 0, -g), o.restore() } } }) } } }), Wn = wn; Un._defaults = Wn; var Tn = lt.valueOrDefault, Nn = Number.MIN_SAFE_INTEGER || -9007199254740991, Hn = Number.MAX_SAFE_INTEGER || 9007199254740991, En = { millisecond: { common: !0, size: 1, steps: [1, 2, 5, 10, 20, 50, 100, 250, 500] }, second: { common: !0, size: 1e3, steps: [1, 2, 5, 10, 15, 30] }, minute: { common: !0, size: 6e4, steps: [1, 2, 5, 10, 15, 30] }, hour: { common: !0, size: 36e5, steps: [1, 2, 3, 6, 12] }, day: { common: !0, size: 864e5, steps: [1, 2, 5] }, week: { common: !1, size: 6048e5, steps: [1, 2, 3, 4] }, month: { common: !0, size: 2628e6, steps: [1, 2, 3] }, quarter: { common: !1, size: 7884e6, steps: [1, 2, 3, 4] }, year: { common: !0, size: 3154e7 } }, Rn = Object.keys(En); function Yn(t, e) { return t - e } function On(t) { var e, n, i, o = {}, a = []; for (e = 0, n = t.length; e < n; ++e)o[i = t[e]] || (o[i] = !0, a.push(i)); return a } function _n(t, e, n, i) { var o = function (t, e, n) { for (var i, o, a, r = 0, s = t.length - 1; 0 <= r && r <= s;) { if (o = t[(i = r + s >> 1) - 1] || null, a = t[i], !o) return { lo: null, hi: a }; if (a[e] < n) r = 1 + i; else { if (!(o[e] > n)) return { lo: o, hi: a }; s = i - 1 } } return { lo: a, hi: null } }(t, e, n), a = o.lo ? o.hi ? o.lo : t[t.length - 2] : t[0], r = o.lo ? o.hi ? o.hi : t[t.length - 1] : t[1], s = r[e] - a[e], g = s ? (n - a[e]) / s : 0, l = (r[i] - a[i]) * g; return a[i] + l } function Vn(t, e) { var n = t._adapter, i = t.options.time, o = i.parser, a = o || i.format, r = e; return "function" == typeof o && (r = o(r)), lt.isFinite(r) || (r = "string" == typeof a ? n.parse(r, a) : n.parse(r)), null !== r ? +r : (o || "function" != typeof a || (r = a(e), lt.isFinite(r) || (r = n.parse(r))), r) } function Ln(t, e) { if (lt.isNullOrUndef(e)) return null; var n = t.options.time, i = Vn(t, t.getRightValue(e)); return null === i || n.round && (i = +t._adapter.startOf(i, n.round)), i } function Mn(t) { for (var e = Rn.indexOf(t) + 1, n = Rn.length; e < n; ++e)if (En[Rn[e]].common) return Rn[e] } var zn = un.extend({ initialize: function () { this.mergeTicksOptions(), un.prototype.initialize.call(this) }, update: function () { var t = this.options, e = t.time || (t.time = {}), n = this._adapter = new rn._date(t.adapters.date); return e.format && console.warn("options.time.format is deprecated and replaced by options.time.parser."), lt.mergeIf(e.displayFormats, n.formats()), un.prototype.update.apply(this, arguments) }, getRightValue: function (t) { return t && void 0 !== t.t && (t = t.t), un.prototype.getRightValue.call(this, t) }, determineDataLimits: function () { var t, e, n, i, o, a, r = this, s = r.chart, g = r._adapter, l = r.options.time, c = l.unit || "day", I = Hn, u = Nn, h = [], d = [], C = [], A = s.data.labels || []; for (t = 0, n = A.length; t < n; ++t)C.push(Ln(r, A[t])); for (t = 0, n = (s.data.datasets || []).length; t < n; ++t)if (s.isDatasetVisible(t)) if (o = s.data.datasets[t].data, lt.isObject(o[0])) for (d[t] = [], e = 0, i = o.length; e < i; ++e)a = Ln(r, o[e]), h.push(a), d[t][e] = a; else { for (e = 0, i = C.length; e < i; ++e)h.push(C[e]); d[t] = C.slice(0) } else d[t] = []; C.length && (C = On(C).sort(Yn), I = Math.min(I, C[0]), u = Math.max(u, C[C.length - 1])), h.length && (h = On(h).sort(Yn), I = Math.min(I, h[0]), u = Math.max(u, h[h.length - 1])), I = Ln(r, l.min) || I, u = Ln(r, l.max) || u, I = I === Hn ? +g.startOf(Date.now(), c) : I, u = u === Nn ? +g.endOf(Date.now(), c) + 1 : u, r.min = Math.min(I, u), r.max = Math.max(I + 1, u), r._horizontal = r.isHorizontal(), r._table = [], r._timestamps = { data: h, datasets: d, labels: C } }, buildTicks: function () { var t, e, n, i = this, o = i.min, a = i.max, r = i.options, s = r.time, g = [], l = []; switch (r.ticks.source) { case "data": g = i._timestamps.data; break; case "labels": g = i._timestamps.labels; break; case "auto": default: g = function (t, e, n, i) { var o, a = t._adapter, r = t.options, s = r.time, g = s.unit || function (t, e, n, i) { var o, a, r, s = Rn.length; for (o = Rn.indexOf(t); o < s - 1; ++o)if (r = (a = En[Rn[o]]).steps ? a.steps[a.steps.length - 1] : Hn, a.common && Math.ceil((n - e) / (r * a.size)) <= i) return Rn[o]; return Rn[s - 1] }(s.minUnit, e, n, i), l = Mn(g), c = Tn(s.stepSize, s.unitStepSize), I = "week" === g && s.isoWeekday, u = r.ticks.major.enabled, h = En[g], d = e, C = n, A = []; for (c || (c = function (t, e, n, i) { var o, a, r, s = e - t, g = En[n], l = g.size, c = g.steps; if (!c) return Math.ceil(s / (i * l)); for (o = 0, a = c.length; o < a && (r = c[o], !(Math.ceil(s / (l * r)) <= i)); ++o); return r }(e, n, g, i)), I && (d = +a.startOf(d, "isoWeek", I), C = +a.startOf(C, "isoWeek", I)), d = +a.startOf(d, I ? "day" : g), (C = +a.startOf(C, I ? "day" : g)) < n && (C = +a.add(C, 1, g)), o = d, u && l && !I && !s.round && (o = +a.startOf(o, l), o = +a.add(o, ~~((d - o) / (h.size * c)) * c, g)); o < C; o = +a.add(o, c, g))A.push(+o); return A.push(+o), A }(i, o, a, i.getLabelCapacity(o)) }for ("ticks" === r.bounds && g.length && (o = g[0], a = g[g.length - 1]), o = Ln(i, s.min) || o, a = Ln(i, s.max) || a, t = 0, e = g.length; t < e; ++t)o <= (n = g[t]) && n <= a && l.push(n); return i.min = o, i.max = a, i._unit = s.unit || function (t, e, n, i, o) { var a, r; for (a = Rn.length - 1; a >= Rn.indexOf(n); a--)if (r = Rn[a], En[r].common && t._adapter.diff(o, i, r) >= e.length) return r; return Rn[n ? Rn.indexOf(n) : 0] }(i, l, s.minUnit, i.min, i.max), i._majorUnit = Mn(i._unit), i._table = function (t, e, n, i) { if ("linear" === i || !t.length) return [{ time: e, pos: 0 }, { time: n, pos: 1 }]; var o, a, r, s, g, l = [], c = [e]; for (o = 0, a = t.length; o < a; ++o)e < (s = t[o]) && s < n && c.push(s); for (c.push(n), o = 0, a = c.length; o < a; ++o)g = c[o + 1], r = c[o - 1], s = c[o], void 0 !== r && void 0 !== g && Math.round((g + r) / 2) === s || l.push({ time: s, pos: o / (a - 1) }); return l }(i._timestamps.data, o, a, r.distribution), i._offsets = function (t, e, n, i, o) { var a, r, s = 0, g = 0; return o.offset && e.length && (o.time.min || (a = _n(t, "time", e[0], "pos"), s = 1 === e.length ? 1 - a : (_n(t, "time", e[1], "pos") - a) / 2), o.time.max || (r = _n(t, "time", e[e.length - 1], "pos"), g = 1 === e.length ? r : (r - _n(t, "time", e[e.length - 2], "pos")) / 2)), { start: s, end: g } }(i._table, l, 0, 0, r), r.ticks.reverse && l.reverse(), function (t, e, n) { var i, o, a, r, s = []; for (i = 0, o = e.length; i < o; ++i)a = e[i], r = !!n && a === +t._adapter.startOf(a, n), s.push({ value: a, major: r }); return s }(i, l, i._majorUnit) }, getLabelForIndex: function (t, e) { var n = this._adapter, i = this.chart.data, o = this.options.time, a = i.labels && t < i.labels.length ? i.labels[t] : "", r = i.datasets[e].data[t]; return lt.isObject(r) && (a = this.getRightValue(r)), o.tooltipFormat ? n.format(Vn(this, a), o.tooltipFormat) : "string" == typeof a ? a : n.format(Vn(this, a), o.displayFormats.datetime) }, tickFormatFunction: function (t, e, n, i) { var o = this._adapter, a = this.options, r = a.time.displayFormats, s = r[this._unit], g = this._majorUnit, l = r[g], c = +o.startOf(t, g), I = a.ticks.major, u = I.enabled && g && l && t === c, h = o.format(t, i || (u ? l : s)), d = u ? I : a.ticks.minor, C = Tn(d.callback, d.userCallback); return C ? C(h, e, n) : h }, convertTicksToLabels: function (t) { var e, n, i = []; for (e = 0, n = t.length; e < n; ++e)i.push(this.tickFormatFunction(t[e].value, e, t)); return i }, getPixelForOffset: function (t) { var e = this, n = e.options.ticks.reverse, i = e._horizontal ? e.width : e.height, o = e._horizontal ? n ? e.right : e.left : n ? e.bottom : e.top, a = _n(e._table, "time", t, "pos"), r = i * (e._offsets.start + a) / (e._offsets.start + 1 + e._offsets.end); return n ? o - r : o + r }, getPixelForValue: function (t, e, n) { var i = null; if (void 0 !== e && void 0 !== n && (i = this._timestamps.datasets[n][e]), null === i && (i = Ln(this, t)), null !== i) return this.getPixelForOffset(i) }, getPixelForTick: function (t) { var e = this.getTicks(); return 0 <= t && t < e.length ? this.getPixelForOffset(e[t].value) : null }, getValueForPixel: function (t) { var e = this, n = e._horizontal ? e.width : e.height, i = e._horizontal ? e.left : e.top, o = (n ? (t - i) / n : 0) * (e._offsets.start + 1 + e._offsets.start) - e._offsets.end, a = _n(e._table, "pos", o, "time"); return e._adapter._create(a) }, getLabelWidth: function (t) { var e = this.options.ticks, n = this.ctx.measureText(t).width, i = lt.toRadians(e.maxRotation), o = Math.cos(i), a = Math.sin(i); return n * o + Tn(e.fontSize, rt.global.defaultFontSize) * a }, getLabelCapacity: function (t) { var e = this.options.time.displayFormats.millisecond, n = this.tickFormatFunction(t, 0, [], e), i = this.getLabelWidth(n), o = this.isHorizontal() ? this.width : this.height, a = Math.floor(o / i); return 0 < a ? a : 1 } }); zn._defaults = { position: "bottom", distribution: "linear", bounds: "data", adapters: {}, time: { parser: !1, format: !1, unit: !1, round: !1, displayFormat: !1, isoWeekday: !1, minUnit: "millisecond", displayFormats: {} }, ticks: { autoSkip: !1, source: "auto", major: { enabled: !1 } } }; var Pn, Kn = { category: hn, linear: mn, logarithmic: vn, radialLinear: Un, time: zn }, Jn = (function (t, e) { t.exports = function () { var e, n; function i() { return e.apply(null, arguments) } function o(t) { return t instanceof Array || "[object Array]" === Object.prototype.toString.call(t) } function a(t) { return null != t && "[object Object]" === Object.prototype.toString.call(t) } function r(t) { return void 0 === t } function s(t) { return "number" == typeof t || "[object Number]" === Object.prototype.toString.call(t) } function g(t) { return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t) } function l(t, e) { var n, i = []; for (n = 0; n < t.length; ++n)i.push(e(t[n], n)); return i } function c(t, e) { return Object.prototype.hasOwnProperty.call(t, e) } function I(t, e) { for (var n in e) c(e, n) && (t[n] = e[n]); return c(e, "toString") && (t.toString = e.toString), c(e, "valueOf") && (t.valueOf = e.valueOf), t } function u(t, e, n, i) { return Se(t, e, n, i, !0).utc() } function h(t) { return null == t._pf && (t._pf = { empty: !1, unusedTokens: [], unusedInput: [], overflow: -2, charsLeftOver: 0, nullInput: !1, invalidMonth: null, invalidFormat: !1, userInvalidated: !1, iso: !1, parsedDateParts: [], meridiem: null, rfc2822: !1, weekdayMismatch: !1 }), t._pf } function d(t) { if (null == t._isValid) { var e = h(t), i = n.call(e.parsedDateParts, function (t) { return null != t }), o = !isNaN(t._d.getTime()) && e.overflow < 0 && !e.empty && !e.invalidMonth && !e.invalidWeekday && !e.weekdayMismatch && !e.nullInput && !e.invalidFormat && !e.userInvalidated && (!e.meridiem || e.meridiem && i); if (t._strict && (o = o && 0 === e.charsLeftOver && 0 === e.unusedTokens.length && void 0 === e.bigHour), null != Object.isFrozen && Object.isFrozen(t)) return o; t._isValid = o } return t._isValid } function C(t) { var e = u(NaN); return null != t ? I(h(e), t) : h(e).userInvalidated = !0, e } n = Array.prototype.some ? Array.prototype.some : function (t) { for (var e = Object(this), n = e.length >>> 0, i = 0; i < n; i++)if (i in e && t.call(this, e[i], i, e)) return !0; return !1 }; var A = i.momentProperties = []; function p(t, e) { var n, i, o; if (r(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject), r(e._i) || (t._i = e._i), r(e._f) || (t._f = e._f), r(e._l) || (t._l = e._l), r(e._strict) || (t._strict = e._strict), r(e._tzm) || (t._tzm = e._tzm), r(e._isUTC) || (t._isUTC = e._isUTC), r(e._offset) || (t._offset = e._offset), r(e._pf) || (t._pf = h(e)), r(e._locale) || (t._locale = e._locale), 0 < A.length) for (n = 0; n < A.length; n++)r(o = e[i = A[n]]) || (t[i] = o); return t } var m = !1; function f(t) { p(this, t), this._d = new Date(null != t._d ? t._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === m && (m = !0, i.updateOffset(this), m = !1) } function b(t) { return t instanceof f || null != t && null != t._isAMomentObject } function B(t) { return t < 0 ? Math.ceil(t) || 0 : Math.floor(t) } function y(t) { var e = +t, n = 0; return 0 != e && isFinite(e) && (n = B(e)), n } function v(t, e, n) { var i, o = Math.min(t.length, e.length), a = Math.abs(t.length - e.length), r = 0; for (i = 0; i < o; i++)(n && t[i] !== e[i] || !n && y(t[i]) !== y(e[i])) && r++; return r + a } function x(t) { !1 === i.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + t) } function F(t, e) { var n = !0; return I(function () { if (null != i.deprecationHandler && i.deprecationHandler(null, t), n) { for (var o, a = [], r = 0; r < arguments.length; r++) { if (o = "", "object" == typeof arguments[r]) { for (var s in o += "\n[" + r + "] ", arguments[0]) o += s + ": " + arguments[0][s] + ", "; o = o.slice(0, -2) } else o = arguments[r]; a.push(o) } x(t + "\nArguments: " + Array.prototype.slice.call(a).join("") + "\n" + (new Error).stack), n = !1 } return e.apply(this, arguments) }, e) } var Q, G = {}; function w(t, e) { null != i.deprecationHandler && i.deprecationHandler(t, e), G[t] || (x(e), G[t] = !0) } function X(t) { return t instanceof Function || "[object Function]" === Object.prototype.toString.call(t) } function S(t, e) { var n, i = I({}, t); for (n in e) c(e, n) && (a(t[n]) && a(e[n]) ? (i[n] = {}, I(i[n], t[n]), I(i[n], e[n])) : null != e[n] ? i[n] = e[n] : delete i[n]); for (n in t) c(t, n) && !c(e, n) && a(t[n]) && (i[n] = I({}, i[n])); return i } function k(t) { null != t && this.set(t) } i.suppressDeprecationWarnings = !1, i.deprecationHandler = null, Q = Object.keys ? Object.keys : function (t) { var e, n = []; for (e in t) c(t, e) && n.push(e); return n }; var D = {}; function Z(t, e) { var n = t.toLowerCase(); D[n] = D[n + "s"] = D[e] = t } function U(t) { return "string" == typeof t ? D[t] || D[t.toLowerCase()] : void 0 } function W(t) { var e, n, i = {}; for (n in t) c(t, n) && (e = U(n)) && (i[e] = t[n]); return i } var T = {}; function N(t, e) { T[t] = e } function H(t, e, n) { var i = "" + Math.abs(t), o = e - i.length; return (0 <= t ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, o)).toString().substr(1) + i } var E = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g, R = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g, Y = {}, O = {}; function _(t, e, n, i) { var o = i; "string" == typeof i && (o = function () { return this[i]() }), t && (O[t] = o), e && (O[e[0]] = function () { return H(o.apply(this, arguments), e[1], e[2]) }), n && (O[n] = function () { return this.localeData().ordinal(o.apply(this, arguments), t) }) } function V(t) { return t.match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "") } function L(t, e) { return t.isValid() ? (e = M(e, t.localeData()), Y[e] = Y[e] || function (t) { var e, n, i = t.match(E); for (e = 0, n = i.length; e < n; e++)O[i[e]] ? i[e] = O[i[e]] : i[e] = V(i[e]); return function (e) { var o, a = ""; for (o = 0; o < n; o++)a += X(i[o]) ? i[o].call(e, t) : i[o]; return a } }(e), Y[e](t)) : t.localeData().invalidDate() } function M(t, e) { var n = 5; function i(t) { return e.longDateFormat(t) || t } for (R.lastIndex = 0; 0 <= n && R.test(t);)t = t.replace(R, i), R.lastIndex = 0, n -= 1; return t } var z = /\d/, P = /\d\d/, K = /\d{3}/, J = /\d{4}/, j = /[+-]?\d{6}/, $ = /\d\d?/, q = /\d\d\d\d?/, tt = /\d\d\d\d\d\d?/, et = /\d{1,3}/, nt = /\d{1,4}/, it = /[+-]?\d{1,6}/, ot = /\d+/, at = /[+-]?\d+/, rt = /Z|[+-]\d\d:?\d\d/gi, st = /Z|[+-]\d\d(?::?\d\d)?/gi, gt = /[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i, lt = {}; function ct(t, e, n) { lt[t] = X(e) ? e : function (t, i) { return t && n ? n : e } } function It(t, e) { return c(lt, t) ? lt[t](e._strict, e._locale) : new RegExp(function (t) { return ut(t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function (t, e, n, i, o) { return e || n || i || o })) }(t)) } function ut(t) { return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&") } var ht = {}; function dt(t, e) { var n, i = e; for ("string" == typeof t && (t = [t]), s(e) && (i = function (t, n) { n[e] = y(t) }), n = 0; n < t.length; n++)ht[t[n]] = i } function Ct(t, e) { dt(t, function (t, n, i, o) { i._w = i._w || {}, e(t, i._w, i, o) }) } function At(t, e, n) { null != e && c(ht, t) && ht[t](e, n._a, n, t) } var pt = 0, mt = 1, ft = 2, bt = 3, Bt = 4, yt = 5, vt = 6, xt = 7, Ft = 8; function Qt(t) { return Gt(t) ? 366 : 365 } function Gt(t) { return t % 4 == 0 && t % 100 != 0 || t % 400 == 0 } _("Y", 0, 0, function () { var t = this.year(); return t <= 9999 ? "" + t : "+" + t }), _(0, ["YY", 2], 0, function () { return this.year() % 100 }), _(0, ["YYYY", 4], 0, "year"), _(0, ["YYYYY", 5], 0, "year"), _(0, ["YYYYYY", 6, !0], 0, "year"), Z("year", "y"), N("year", 1), ct("Y", at), ct("YY", $, P), ct("YYYY", nt, J), ct("YYYYY", it, j), ct("YYYYYY", it, j), dt(["YYYYY", "YYYYYY"], pt), dt("YYYY", function (t, e) { e[pt] = 2 === t.length ? i.parseTwoDigitYear(t) : y(t) }), dt("YY", function (t, e) { e[pt] = i.parseTwoDigitYear(t) }), dt("Y", function (t, e) { e[pt] = parseInt(t, 10) }), i.parseTwoDigitYear = function (t) { return y(t) + (68 < y(t) ? 1900 : 2e3) }; var wt, Xt = St("FullYear", !0); function St(t, e) { return function (n) { return null != n ? (Dt(this, t, n), i.updateOffset(this, e), this) : kt(this, t) } } function kt(t, e) { return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN } function Dt(t, e, n) { t.isValid() && !isNaN(n) && ("FullYear" === e && Gt(t.year()) && 1 === t.month() && 29 === t.date() ? t._d["set" + (t._isUTC ? "UTC" : "") + e](n, t.month(), Zt(n, t.month())) : t._d["set" + (t._isUTC ? "UTC" : "") + e](n)) } function Zt(t, e) { if (isNaN(t) || isNaN(e)) return NaN; var n = function (t, e) { return (t % 12 + 12) % 12 }(e); return t += (e - n) / 12, 1 === n ? Gt(t) ? 29 : 28 : 31 - n % 7 % 2 } wt = Array.prototype.indexOf ? Array.prototype.indexOf : function (t) { var e; for (e = 0; e < this.length; ++e)if (this[e] === t) return e; return -1 }, _("M", ["MM", 2], "Mo", function () { return this.month() + 1 }), _("MMM", 0, 0, function (t) { return this.localeData().monthsShort(this, t) }), _("MMMM", 0, 0, function (t) { return this.localeData().months(this, t) }), Z("month", "M"), N("month", 8), ct("M", $), ct("MM", $, P), ct("MMM", function (t, e) { return e.monthsShortRegex(t) }), ct("MMMM", function (t, e) { return e.monthsRegex(t) }), dt(["M", "MM"], function (t, e) { e[mt] = y(t) - 1 }), dt(["MMM", "MMMM"], function (t, e, n, i) { var o = n._locale.monthsParse(t, i, n._strict); null != o ? e[mt] = o : h(n).invalidMonth = t }); var Ut = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/, Wt = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"), Tt = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"); function Nt(t, e) { var n; if (!t.isValid()) return t; if ("string" == typeof e) if (/^\d+$/.test(e)) e = y(e); else if (!s(e = t.localeData().monthsParse(e))) return t; return n = Math.min(t.date(), Zt(t.year(), e)), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, n), t } function Ht(t) { return null != t ? (Nt(this, t), i.updateOffset(this, !0), this) : kt(this, "Month") } var Et = gt, Rt = gt; function Yt() { function t(t, e) { return e.length - t.length } var e, n, i = [], o = [], a = []; for (e = 0; e < 12; e++)n = u([2e3, e]), i.push(this.monthsShort(n, "")), o.push(this.months(n, "")), a.push(this.months(n, "")), a.push(this.monthsShort(n, "")); for (i.sort(t), o.sort(t), a.sort(t), e = 0; e < 12; e++)i[e] = ut(i[e]), o[e] = ut(o[e]); for (e = 0; e < 24; e++)a[e] = ut(a[e]); this._monthsRegex = new RegExp("^(" + a.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + i.join("|") + ")", "i") } function Ot(t) { var e; if (t < 100 && 0 <= t) { var n = Array.prototype.slice.call(arguments); n[0] = t + 400, e = new Date(Date.UTC.apply(null, n)), isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t) } else e = new Date(Date.UTC.apply(null, arguments)); return e } function _t(t, e, n) { var i = 7 + e - n; return i - (7 + Ot(t, 0, i).getUTCDay() - e) % 7 - 1 } function Vt(t, e, n, i, o) { var a, r, s = 1 + 7 * (e - 1) + (7 + n - i) % 7 + _t(t, i, o); return r = s <= 0 ? Qt(a = t - 1) + s : s > Qt(t) ? (a = t + 1, s - Qt(t)) : (a = t, s), { year: a, dayOfYear: r } } function Lt(t, e, n) { var i, o, a = _t(t.year(), e, n), r = Math.floor((t.dayOfYear() - a - 1) / 7) + 1; return r < 1 ? i = r + Mt(o = t.year() - 1, e, n) : r > Mt(t.year(), e, n) ? (i = r - Mt(t.year(), e, n), o = t.year() + 1) : (o = t.year(), i = r), { week: i, year: o } } function Mt(t, e, n) { var i = _t(t, e, n), o = _t(t + 1, e, n); return (Qt(t) - i + o) / 7 } function zt(t, e) { return t.slice(e, 7).concat(t.slice(0, e)) } _("w", ["ww", 2], "wo", "week"), _("W", ["WW", 2], "Wo", "isoWeek"), Z("week", "w"), Z("isoWeek", "W"), N("week", 5), N("isoWeek", 5), ct("w", $), ct("ww", $, P), ct("W", $), ct("WW", $, P), Ct(["w", "ww", "W", "WW"], function (t, e, n, i) { e[i.substr(0, 1)] = y(t) }), _("d", 0, "do", "day"), _("dd", 0, 0, function (t) { return this.localeData().weekdaysMin(this, t) }), _("ddd", 0, 0, function (t) { return this.localeData().weekdaysShort(this, t) }), _("dddd", 0, 0, function (t) { return this.localeData().weekdays(this, t) }), _("e", 0, 0, "weekday"), _("E", 0, 0, "isoWeekday"), Z("day", "d"), Z("weekday", "e"), Z("isoWeekday", "E"), N("day", 11), N("weekday", 11), N("isoWeekday", 11), ct("d", $), ct("e", $), ct("E", $), ct("dd", function (t, e) { return e.weekdaysMinRegex(t) }), ct("ddd", function (t, e) { return e.weekdaysShortRegex(t) }), ct("dddd", function (t, e) { return e.weekdaysRegex(t) }), Ct(["dd", "ddd", "dddd"], function (t, e, n, i) { var o = n._locale.weekdaysParse(t, i, n._strict); null != o ? e.d = o : h(n).invalidWeekday = t }), Ct(["d", "e", "E"], function (t, e, n, i) { e[i] = y(t) }); var Pt = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"), Kt = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"), Jt = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"); var jt = gt, $t = gt, qt = gt; function te() { function t(t, e) { return e.length - t.length } var e, n, i, o, a, r = [], s = [], g = [], l = []; for (e = 0; e < 7; e++)n = u([2e3, 1]).day(e), i = this.weekdaysMin(n, ""), o = this.weekdaysShort(n, ""), a = this.weekdays(n, ""), r.push(i), s.push(o), g.push(a), l.push(i), l.push(o), l.push(a); for (r.sort(t), s.sort(t), g.sort(t), l.sort(t), e = 0; e < 7; e++)s[e] = ut(s[e]), g[e] = ut(g[e]), l[e] = ut(l[e]); this._weekdaysRegex = new RegExp("^(" + l.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + g.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + s.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + r.join("|") + ")", "i") } function ee() { return this.hours() % 12 || 12 } function ne(t, e) { _(t, 0, 0, function () { return this.localeData().meridiem(this.hours(), this.minutes(), e) }) } function ie(t, e) { return e._meridiemParse } _("H", ["HH", 2], 0, "hour"), _("h", ["hh", 2], 0, ee), _("k", ["kk", 2], 0, function () { return this.hours() || 24 }), _("hmm", 0, 0, function () { return "" + ee.apply(this) + H(this.minutes(), 2) }), _("hmmss", 0, 0, function () { return "" + ee.apply(this) + H(this.minutes(), 2) + H(this.seconds(), 2) }), _("Hmm", 0, 0, function () { return "" + this.hours() + H(this.minutes(), 2) }), _("Hmmss", 0, 0, function () { return "" + this.hours() + H(this.minutes(), 2) + H(this.seconds(), 2) }), ne("a", !0), ne("A", !1), Z("hour", "h"), N("hour", 13), ct("a", ie), ct("A", ie), ct("H", $), ct("h", $), ct("k", $), ct("HH", $, P), ct("hh", $, P), ct("kk", $, P), ct("hmm", q), ct("hmmss", tt), ct("Hmm", q), ct("Hmmss", tt), dt(["H", "HH"], bt), dt(["k", "kk"], function (t, e, n) { var i = y(t); e[bt] = 24 === i ? 0 : i }), dt(["a", "A"], function (t, e, n) { n._isPm = n._locale.isPM(t), n._meridiem = t }), dt(["h", "hh"], function (t, e, n) { e[bt] = y(t), h(n).bigHour = !0 }), dt("hmm", function (t, e, n) { var i = t.length - 2; e[bt] = y(t.substr(0, i)), e[Bt] = y(t.substr(i)), h(n).bigHour = !0 }), dt("hmmss", function (t, e, n) { var i = t.length - 4, o = t.length - 2; e[bt] = y(t.substr(0, i)), e[Bt] = y(t.substr(i, 2)), e[yt] = y(t.substr(o)), h(n).bigHour = !0 }), dt("Hmm", function (t, e, n) { var i = t.length - 2; e[bt] = y(t.substr(0, i)), e[Bt] = y(t.substr(i)) }), dt("Hmmss", function (t, e, n) { var i = t.length - 4, o = t.length - 2; e[bt] = y(t.substr(0, i)), e[Bt] = y(t.substr(i, 2)), e[yt] = y(t.substr(o)) }); var oe, ae = St("Hours", !0), re = { calendar: { sameDay: "[Today at] LT", nextDay: "[Tomorrow at] LT", nextWeek: "dddd [at] LT", lastDay: "[Yesterday at] LT", lastWeek: "[Last] dddd [at] LT", sameElse: "L" }, longDateFormat: { LTS: "h:mm:ss A", LT: "h:mm A", L: "MM/DD/YYYY", LL: "MMMM D, YYYY", LLL: "MMMM D, YYYY h:mm A", LLLL: "dddd, MMMM D, YYYY h:mm A" }, invalidDate: "Invalid date", ordinal: "%d", dayOfMonthOrdinalParse: /\d{1,2}/, relativeTime: { future: "in %s", past: "%s ago", s: "a few seconds", ss: "%d seconds", m: "a minute", mm: "%d minutes", h: "an hour", hh: "%d hours", d: "a day", dd: "%d days", M: "a month", MM: "%d months", y: "a year", yy: "%d years" }, months: Wt, monthsShort: Tt, week: { dow: 0, doy: 6 }, weekdays: Pt, weekdaysMin: Jt, weekdaysShort: Kt, meridiemParse: /[ap]\.?m?\.?/i }, se = {}, ge = {}; function le(t) { return t ? t.toLowerCase().replace("_", "-") : t } function ce(e) { var n = null; if (!se[e] && t && t.exports) try { n = oe._abbr, be("./locale/" + e), Ie(n) } catch (e) { } return se[e] } function Ie(t, e) { var n; return t && ((n = r(e) ? he(t) : ue(t, e)) ? oe = n : "undefined" != typeof console && console.warn && console.warn("Locale " + t + " not found. Did you forget to load it?")), oe._abbr } function ue(t, e) { if (null === e) return delete se[t], null; var n, i = re; if (e.abbr = t, null != se[t]) w("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), i = se[t]._config; else if (null != e.parentLocale) if (null != se[e.parentLocale]) i = se[e.parentLocale]._config; else { if (null == (n = ce(e.parentLocale))) return ge[e.parentLocale] || (ge[e.parentLocale] = []), ge[e.parentLocale].push({ name: t, config: e }), null; i = n._config } return se[t] = new k(S(i, e)), ge[t] && ge[t].forEach(function (t) { ue(t.name, t.config) }), Ie(t), se[t] } function he(t) { var e; if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t) return oe; if (!o(t)) { if (e = ce(t)) return e; t = [t] } return function (t) { for (var e, n, i, o, a = 0; a < t.length;) { for (e = (o = le(t[a]).split("-")).length, n = (n = le(t[a + 1])) ? n.split("-") : null; 0 < e;) { if (i = ce(o.slice(0, e).join("-"))) return i; if (n && n.length >= e && v(o, n, !0) >= e - 1) break; e-- } a++ } return oe }(t) } function de(t) { var e, n = t._a; return n && -2 === h(t).overflow && (e = n[mt] < 0 || 11 < n[mt] ? mt : n[ft] < 1 || n[ft] > Zt(n[pt], n[mt]) ? ft : n[bt] < 0 || 24 < n[bt] || 24 === n[bt] && (0 !== n[Bt] || 0 !== n[yt] || 0 !== n[vt]) ? bt : n[Bt] < 0 || 59 < n[Bt] ? Bt : n[yt] < 0 || 59 < n[yt] ? yt : n[vt] < 0 || 999 < n[vt] ? vt : -1, h(t)._overflowDayOfYear && (e < pt || ft < e) && (e = ft), h(t)._overflowWeeks && -1 === e && (e = xt), h(t)._overflowWeekday && -1 === e && (e = Ft), h(t).overflow = e), t } function Ce(t, e, n) { return null != t ? t : null != e ? e : n } function Ae(t) { var e, n, o, a, r, s = []; if (!t._d) { for (o = function (t) { var e = new Date(i.now()); return t._useUTC ? [e.getUTCFullYear(), e.getUTCMonth(), e.getUTCDate()] : [e.getFullYear(), e.getMonth(), e.getDate()] }(t), t._w && null == t._a[ft] && null == t._a[mt] && function (t) { var e, n, i, o, a, r, s, g; if (null != (e = t._w).GG || null != e.W || null != e.E) a = 1, r = 4, n = Ce(e.GG, t._a[pt], Lt(ke(), 1, 4).year), i = Ce(e.W, 1), ((o = Ce(e.E, 1)) < 1 || 7 < o) && (g = !0); else { a = t._locale._week.dow, r = t._locale._week.doy; var l = Lt(ke(), a, r); n = Ce(e.gg, t._a[pt], l.year), i = Ce(e.w, l.week), null != e.d ? ((o = e.d) < 0 || 6 < o) && (g = !0) : null != e.e ? (o = e.e + a, (e.e < 0 || 6 < e.e) && (g = !0)) : o = a } i < 1 || i > Mt(n, a, r) ? h(t)._overflowWeeks = !0 : null != g ? h(t)._overflowWeekday = !0 : (s = Vt(n, i, o, a, r), t._a[pt] = s.year, t._dayOfYear = s.dayOfYear) }(t), null != t._dayOfYear && (r = Ce(t._a[pt], o[pt]), (t._dayOfYear > Qt(r) || 0 === t._dayOfYear) && (h(t)._overflowDayOfYear = !0), n = Ot(r, 0, t._dayOfYear), t._a[mt] = n.getUTCMonth(), t._a[ft] = n.getUTCDate()), e = 0; e < 3 && null == t._a[e]; ++e)t._a[e] = s[e] = o[e]; for (; e < 7; e++)t._a[e] = s[e] = null == t._a[e] ? 2 === e ? 1 : 0 : t._a[e]; 24 === t._a[bt] && 0 === t._a[Bt] && 0 === t._a[yt] && 0 === t._a[vt] && (t._nextDay = !0, t._a[bt] = 0), t._d = (t._useUTC ? Ot : function (t, e, n, i, o, a, r) { var s; return t < 100 && 0 <= t ? (s = new Date(t + 400, e, n, i, o, a, r), isFinite(s.getFullYear()) && s.setFullYear(t)) : s = new Date(t, e, n, i, o, a, r), s }).apply(null, s), a = t._useUTC ? t._d.getUTCDay() : t._d.getDay(), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[bt] = 24), t._w && void 0 !== t._w.d && t._w.d !== a && (h(t).weekdayMismatch = !0) } } var pe = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, me = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/, fe = /Z|[+-]\d\d(?::?\d\d)?/, Be = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]], ye = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]], ve = /^\/?Date\((\-?\d+)/i; function xe(t) { var e, n, i, o, a, r, s = t._i, g = pe.exec(s) || me.exec(s); if (g) { for (h(t).iso = !0, e = 0, n = Be.length; e < n; e++)if (Be[e][1].exec(g[1])) { o = Be[e][0], i = !1 !== Be[e][2]; break } if (null == o) return void (t._isValid = !1); if (g[3]) { for (e = 0, n = ye.length; e < n; e++)if (ye[e][1].exec(g[3])) { a = (g[2] || " ") + ye[e][0]; break } if (null == a) return void (t._isValid = !1) } if (!i && null != a) return void (t._isValid = !1); if (g[4]) { if (!fe.exec(g[4])) return void (t._isValid = !1); r = "Z" } t._f = o + (a || "") + (r || ""), we(t) } else t._isValid = !1 } var Fe = /^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/; var Qe = { UT: 0, GMT: 0, EDT: -240, EST: -300, CDT: -300, CST: -360, MDT: -360, MST: -420, PDT: -420, PST: -480 }; function Ge(t) { var e = Fe.exec(function (t) { return t.replace(/\([^)]*\)|[\n\t]/g, " ").replace(/(\s\s+)/g, " ").replace(/^\s\s*/, "").replace(/\s\s*$/, "") }(t._i)); if (e) { var n = function (t, e, n, i, o, a) { var r = [function (t) { var e = parseInt(t, 10); return e <= 49 ? 2e3 + e : e <= 999 ? 1900 + e : e }(t), Tt.indexOf(e), parseInt(n, 10), parseInt(i, 10), parseInt(o, 10)]; return a && r.push(parseInt(a, 10)), r }(e[4], e[3], e[2], e[5], e[6], e[7]); if (!function (t, e, n) { if (t && Kt.indexOf(t) !== new Date(e[0], e[1], e[2]).getDay()) return h(n).weekdayMismatch = !0, n._isValid = !1; return !0 }(e[1], n, t)) return; t._a = n, t._tzm = function (t, e, n) { if (t) return Qe[t]; if (e) return 0; var i = parseInt(n, 10), o = i % 100; return (i - o) / 100 * 60 + o }(e[8], e[9], e[10]), t._d = Ot.apply(null, t._a), t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), h(t).rfc2822 = !0 } else t._isValid = !1 } function we(t) { if (t._f !== i.ISO_8601) if (t._f !== i.RFC_2822) { t._a = [], h(t).empty = !0; var e, n, o, a, r, s = "" + t._i, g = s.length, l = 0; for (o = M(t._f, t._locale).match(E) || [], e = 0; e < o.length; e++)a = o[e], (n = (s.match(It(a, t)) || [])[0]) && (0 < (r = s.substr(0, s.indexOf(n))).length && h(t).unusedInput.push(r), s = s.slice(s.indexOf(n) + n.length), l += n.length), O[a] ? (n ? h(t).empty = !1 : h(t).unusedTokens.push(a), At(a, n, t)) : t._strict && !n && h(t).unusedTokens.push(a); h(t).charsLeftOver = g - l, 0 < s.length && h(t).unusedInput.push(s), t._a[bt] <= 12 && !0 === h(t).bigHour && 0 < t._a[bt] && (h(t).bigHour = void 0), h(t).parsedDateParts = t._a.slice(0), h(t).meridiem = t._meridiem, t._a[bt] = function (t, e, n) { var i; return null == n ? e : null != t.meridiemHour ? t.meridiemHour(e, n) : (null != t.isPM && ((i = t.isPM(n)) && e < 12 && (e += 12), i || 12 !== e || (e = 0)), e) }(t._locale, t._a[bt], t._meridiem), Ae(t), de(t) } else Ge(t); else xe(t) } function Xe(t) { var e = t._i, n = t._f; return t._locale = t._locale || he(t._l), null === e || void 0 === n && "" === e ? C({ nullInput: !0 }) : ("string" == typeof e && (t._i = e = t._locale.preparse(e)), b(e) ? new f(de(e)) : (g(e) ? t._d = e : o(n) ? function (t) { var e, n, i, o, a; if (0 === t._f.length) return h(t).invalidFormat = !0, t._d = new Date(NaN); for (o = 0; o < t._f.length; o++)a = 0, e = p({}, t), null != t._useUTC && (e._useUTC = t._useUTC), e._f = t._f[o], we(e), d(e) && (a += h(e).charsLeftOver, a += 10 * h(e).unusedTokens.length, h(e).score = a, (null == i || a < i) && (i = a, n = e)); I(t, n || e) }(t) : n ? we(t) : function (t) { var e = t._i; r(e) ? t._d = new Date(i.now()) : g(e) ? t._d = new Date(e.valueOf()) : "string" == typeof e ? function (t) { var e = ve.exec(t._i); if (null !== e) return t._d = new Date(+e[1]); xe(t), !1 === t._isValid && (delete t._isValid, Ge(t), !1 === t._isValid && (delete t._isValid, i.createFromInputFallback(t))) }(t) : o(e) ? (t._a = l(e.slice(0), function (t) { return parseInt(t, 10) }), Ae(t)) : a(e) ? function (t) { if (!t._d) { var e = W(t._i); t._a = l([e.year, e.month, e.day || e.date, e.hour, e.minute, e.second, e.millisecond], function (t) { return t && parseInt(t, 10) }), Ae(t) } }(t) : s(e) ? t._d = new Date(e) : i.createFromInputFallback(t) }(t), d(t) || (t._d = null), t)) } function Se(t, e, n, i, r) { var s = {}; return !0 !== n && !1 !== n || (i = n, n = void 0), (a(t) && function (t) { if (Object.getOwnPropertyNames) return 0 === Object.getOwnPropertyNames(t).length; var e; for (e in t) if (t.hasOwnProperty(e)) return !1; return !0 }(t) || o(t) && 0 === t.length) && (t = void 0), s._isAMomentObject = !0, s._useUTC = s._isUTC = r, s._l = n, s._i = t, s._f = e, s._strict = i, function (t) { var e = new f(de(Xe(s))); return e._nextDay && (e.add(1, "d"), e._nextDay = void 0), e }() } function ke(t, e, n, i) { return Se(t, e, n, i, !1) } i.createFromInputFallback = F("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function (t) { t._d = new Date(t._i + (t._useUTC ? " UTC" : "")) }), i.ISO_8601 = function () { }, i.RFC_2822 = function () { }; var De = F("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var t = ke.apply(null, arguments); return this.isValid() && t.isValid() ? t < this ? this : t : C() }), Ze = F("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function () { var t = ke.apply(null, arguments); return this.isValid() && t.isValid() ? this < t ? this : t : C() }); function Ue(t, e) { var n, i; if (1 === e.length && o(e[0]) && (e = e[0]), !e.length) return ke(); for (n = e[0], i = 1; i < e.length; ++i)e[i].isValid() && !e[i][t](n) || (n = e[i]); return n } var We = ["year", "quarter", "month", "week", "day", "hour", "minute", "second", "millisecond"]; function Te(t) { var e = W(t), n = e.year || 0, i = e.quarter || 0, o = e.month || 0, a = e.week || e.isoWeek || 0, r = e.day || 0, s = e.hour || 0, g = e.minute || 0, l = e.second || 0, c = e.millisecond || 0; this._isValid = function (t) { for (var e in t) if (-1 === wt.call(We, e) || null != t[e] && isNaN(t[e])) return !1; for (var n = !1, i = 0; i < We.length; ++i)if (t[We[i]]) { if (n) return !1; parseFloat(t[We[i]]) !== y(t[We[i]]) && (n = !0) } return !0 }(e), this._milliseconds = +c + 1e3 * l + 6e4 * g + 1e3 * s * 60 * 60, this._days = +r + 7 * a, this._months = +o + 3 * i + 12 * n, this._data = {}, this._locale = he(), this._bubble() } function Ne(t) { return t instanceof Te } function He(t) { return t < 0 ? -1 * Math.round(-1 * t) : Math.round(t) } function Ee(t, e) { _(t, 0, 0, function () { var t = this.utcOffset(), n = "+"; return t < 0 && (t = -t, n = "-"), n + H(~~(t / 60), 2) + e + H(~~t % 60, 2) }) } Ee("Z", ":"), Ee("ZZ", ""), ct("Z", st), ct("ZZ", st), dt(["Z", "ZZ"], function (t, e, n) { n._useUTC = !0, n._tzm = Ye(st, t) }); var Re = /([\+\-]|\d\d)/gi; function Ye(t, e) { var n = (e || "").match(t); if (null === n) return null; var i = ((n[n.length - 1] || []) + "").match(Re) || ["-", 0, 0], o = 60 * i[1] + y(i[2]); return 0 === o ? 0 : "+" === i[0] ? o : -o } function Oe(t, e) { var n, o; return e._isUTC ? (n = e.clone(), o = (b(t) || g(t) ? t.valueOf() : ke(t).valueOf()) - n.valueOf(), n._d.setTime(n._d.valueOf() + o), i.updateOffset(n, !1), n) : ke(t).local() } function _e(t) { return 15 * -Math.round(t._d.getTimezoneOffset() / 15) } function Ve() { return !!this.isValid() && this._isUTC && 0 === this._offset } i.updateOffset = function () { }; var Le = /^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/, Me = /^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/; function ze(t, e) { var n, i, o, a = t, r = null; return Ne(t) ? a = { ms: t._milliseconds, d: t._days, M: t._months } : s(t) ? (a = {}, e ? a[e] = t : a.milliseconds = t) : (r = Le.exec(t)) ? (n = "-" === r[1] ? -1 : 1, a = { y: 0, d: y(r[ft]) * n, h: y(r[bt]) * n, m: y(r[Bt]) * n, s: y(r[yt]) * n, ms: y(He(1e3 * r[vt])) * n }) : (r = Me.exec(t)) ? (n = "-" === r[1] ? -1 : 1, a = { y: Pe(r[2], n), M: Pe(r[3], n), w: Pe(r[4], n), d: Pe(r[5], n), h: Pe(r[6], n), m: Pe(r[7], n), s: Pe(r[8], n) }) : null == a ? a = {} : "object" == typeof a && ("from" in a || "to" in a) && (o = function (t, e) { var n; return t.isValid() && e.isValid() ? (e = Oe(e, t), t.isBefore(e) ? n = Ke(t, e) : ((n = Ke(e, t)).milliseconds = -n.milliseconds, n.months = -n.months), n) : { milliseconds: 0, months: 0 } }(ke(a.from), ke(a.to)), (a = {}).ms = o.milliseconds, a.M = o.months), i = new Te(a), Ne(t) && c(t, "_locale") && (i._locale = t._locale), i } function Pe(t, e) { var n = t && parseFloat(t.replace(",", ".")); return (isNaN(n) ? 0 : n) * e } function Ke(t, e) { var n = {}; return n.months = e.month() - t.month() + 12 * (e.year() - t.year()), t.clone().add(n.months, "M").isAfter(e) && --n.months, n.milliseconds = +e - +t.clone().add(n.months, "M"), n } function Je(t, e) { return function (n, i) { var o; return null === i || isNaN(+i) || (w(e, "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), o = n, n = i, i = o), je(this, ze(n = "string" == typeof n ? +n : n, i), t), this } } function je(t, e, n, o) { var a = e._milliseconds, r = He(e._days), s = He(e._months); t.isValid() && (o = null == o || o, s && Nt(t, kt(t, "Month") + s * n), r && Dt(t, "Date", kt(t, "Date") + r * n), a && t._d.setTime(t._d.valueOf() + a * n), o && i.updateOffset(t, r || s)) } ze.fn = Te.prototype, ze.invalid = function () { return ze(NaN) }; var $e = Je(1, "add"), qe = Je(-1, "subtract"); function tn(t, e) { var n = 12 * (e.year() - t.year()) + (e.month() - t.month()), i = t.clone().add(n, "months"); return -(n + (e - i < 0 ? (e - i) / (i - t.clone().add(n - 1, "months")) : (e - i) / (t.clone().add(1 + n, "months") - i))) || 0 } function en(t) { var e; return void 0 === t ? this._locale._abbr : (null != (e = he(t)) && (this._locale = e), this) } i.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", i.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]"; var nn = F("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function (t) { return void 0 === t ? this.localeData() : this.locale(t) }); function on() { return this._locale } var an = 126227808e5; function rn(t, e) { return (t % e + e) % e } function sn(t, e, n) { return t < 100 && 0 <= t ? new Date(t + 400, e, n) - an : new Date(t, e, n).valueOf() } function gn(t, e, n) { return t < 100 && 0 <= t ? Date.UTC(t + 400, e, n) - an : Date.UTC(t, e, n) } function ln(t, e) { _(0, [t, t.length], 0, e) } function cn(t, e, n, i, o) { var a; return null == t ? Lt(this, i, o).year : ((a = Mt(t, i, o)) < e && (e = a), function (t, e, n, i, o) { var a = Vt(t, e, n, i, o), r = Ot(a.year, 0, a.dayOfYear); return this.year(r.getUTCFullYear()), this.month(r.getUTCMonth()), this.date(r.getUTCDate()), this }.call(this, t, e, n, i, o)) } _(0, ["gg", 2], 0, function () { return this.weekYear() % 100 }), _(0, ["GG", 2], 0, function () { return this.isoWeekYear() % 100 }), ln("gggg", "weekYear"), ln("ggggg", "weekYear"), ln("GGGG", "isoWeekYear"), ln("GGGGG", "isoWeekYear"), Z("weekYear", "gg"), Z("isoWeekYear", "GG"), N("weekYear", 1), N("isoWeekYear", 1), ct("G", at), ct("g", at), ct("GG", $, P), ct("gg", $, P), ct("GGGG", nt, J), ct("gggg", nt, J), ct("GGGGG", it, j), ct("ggggg", it, j), Ct(["gggg", "ggggg", "GGGG", "GGGGG"], function (t, e, n, i) { e[i.substr(0, 2)] = y(t) }), Ct(["gg", "GG"], function (t, e, n, o) { e[o] = i.parseTwoDigitYear(t) }), _("Q", 0, "Qo", "quarter"), Z("quarter", "Q"), N("quarter", 7), ct("Q", z), dt("Q", function (t, e) { e[mt] = 3 * (y(t) - 1) }), _("D", ["DD", 2], "Do", "date"), Z("date", "D"), N("date", 9), ct("D", $), ct("DD", $, P), ct("Do", function (t, e) { return t ? e._dayOfMonthOrdinalParse || e._ordinalParse : e._dayOfMonthOrdinalParseLenient }), dt(["D", "DD"], ft), dt("Do", function (t, e) { e[ft] = y(t.match($)[0]) }); var In = St("Date", !0); _("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), Z("dayOfYear", "DDD"), N("dayOfYear", 4), ct("DDD", et), ct("DDDD", K), dt(["DDD", "DDDD"], function (t, e, n) { n._dayOfYear = y(t) }), _("m", ["mm", 2], 0, "minute"), Z("minute", "m"), N("minute", 14), ct("m", $), ct("mm", $, P), dt(["m", "mm"], Bt); var un = St("Minutes", !1); _("s", ["ss", 2], 0, "second"), Z("second", "s"), N("second", 15), ct("s", $), ct("ss", $, P), dt(["s", "ss"], yt); var hn, dn = St("Seconds", !1); for (_("S", 0, 0, function () { return ~~(this.millisecond() / 100) }), _(0, ["SS", 2], 0, function () { return ~~(this.millisecond() / 10) }), _(0, ["SSS", 3], 0, "millisecond"), _(0, ["SSSS", 4], 0, function () { return 10 * this.millisecond() }), _(0, ["SSSSS", 5], 0, function () { return 100 * this.millisecond() }), _(0, ["SSSSSS", 6], 0, function () { return 1e3 * this.millisecond() }), _(0, ["SSSSSSS", 7], 0, function () { return 1e4 * this.millisecond() }), _(0, ["SSSSSSSS", 8], 0, function () { return 1e5 * this.millisecond() }), _(0, ["SSSSSSSSS", 9], 0, function () { return 1e6 * this.millisecond() }), Z("millisecond", "ms"), N("millisecond", 16), ct("S", et, z), ct("SS", et, P), ct("SSS", et, K), hn = "SSSS"; hn.length <= 9; hn += "S")ct(hn, ot); function Cn(t, e) { e[vt] = y(1e3 * ("0." + t)) } for (hn = "S"; hn.length <= 9; hn += "S")dt(hn, Cn); var An = St("Milliseconds", !1); _("z", 0, 0, "zoneAbbr"), _("zz", 0, 0, "zoneName"); var pn = f.prototype; function mn(t) { return t } pn.add = $e, pn.calendar = function (t, e) { var n = t || ke(), o = Oe(n, this).startOf("day"), a = i.calendarFormat(this, o) || "sameElse", r = e && (X(e[a]) ? e[a].call(this, n) : e[a]); return this.format(r || this.localeData().calendar(a, this, ke(n))) }, pn.clone = function () { return new f(this) }, pn.diff = function (t, e, n) { var i, o, a; if (!this.isValid()) return NaN; if (!(i = Oe(t, this)).isValid()) return NaN; switch (o = 6e4 * (i.utcOffset() - this.utcOffset()), e = U(e)) { case "year": a = tn(this, i) / 12; break; case "month": a = tn(this, i); break; case "quarter": a = tn(this, i) / 3; break; case "second": a = (this - i) / 1e3; break; case "minute": a = (this - i) / 6e4; break; case "hour": a = (this - i) / 36e5; break; case "day": a = (this - i - o) / 864e5; break; case "week": a = (this - i - o) / 6048e5; break; default: a = this - i }return n ? a : B(a) }, pn.endOf = function (t) { var e; if (void 0 === (t = U(t)) || "millisecond" === t || !this.isValid()) return this; var n = this._isUTC ? gn : sn; switch (t) { case "year": e = n(this.year() + 1, 0, 1) - 1; break; case "quarter": e = n(this.year(), this.month() - this.month() % 3 + 3, 1) - 1; break; case "month": e = n(this.year(), this.month() + 1, 1) - 1; break; case "week": e = n(this.year(), this.month(), this.date() - this.weekday() + 7) - 1; break; case "isoWeek": e = n(this.year(), this.month(), this.date() - (this.isoWeekday() - 1) + 7) - 1; break; case "day": case "date": e = n(this.year(), this.month(), this.date() + 1) - 1; break; case "hour": e = this._d.valueOf(), e += 36e5 - rn(e + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5) - 1; break; case "minute": e = this._d.valueOf(), e += 6e4 - rn(e, 6e4) - 1; break; case "second": e = this._d.valueOf(), e += 1e3 - rn(e, 1e3) - 1 }return this._d.setTime(e), i.updateOffset(this, !0), this }, pn.format = function (t) { t || (t = this.isUtc() ? i.defaultFormatUtc : i.defaultFormat); var e = L(this, t); return this.localeData().postformat(e) }, pn.from = function (t, e) { return this.isValid() && (b(t) && t.isValid() || ke(t).isValid()) ? ze({ to: this, from: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() }, pn.fromNow = function (t) { return this.from(ke(), t) }, pn.to = function (t, e) { return this.isValid() && (b(t) && t.isValid() || ke(t).isValid()) ? ze({ from: this, to: t }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate() }, pn.toNow = function (t) { return this.to(ke(), t) }, pn.get = function (t) { return X(this[t = U(t)]) ? this[t]() : this }, pn.invalidAt = function () { return h(this).overflow }, pn.isAfter = function (t, e) { var n = b(t) ? t : ke(t); return !(!this.isValid() || !n.isValid()) && ("millisecond" === (e = U(e) || "millisecond") ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(e).valueOf()) }, pn.isBefore = function (t, e) { var n = b(t) ? t : ke(t); return !(!this.isValid() || !n.isValid()) && ("millisecond" === (e = U(e) || "millisecond") ? this.valueOf() < n.valueOf() : this.clone().endOf(e).valueOf() < n.valueOf()) }, pn.isBetween = function (t, e, n, i) { var o = b(t) ? t : ke(t), a = b(e) ? e : ke(e); return !!(this.isValid() && o.isValid() && a.isValid()) && ("(" === (i = i || "()")[0] ? this.isAfter(o, n) : !this.isBefore(o, n)) && (")" === i[1] ? this.isBefore(a, n) : !this.isAfter(a, n)) }, pn.isSame = function (t, e) { var n, i = b(t) ? t : ke(t); return !(!this.isValid() || !i.isValid()) && ("millisecond" === (e = U(e) || "millisecond") ? this.valueOf() === i.valueOf() : (n = i.valueOf(), this.clone().startOf(e).valueOf() <= n && n <= this.clone().endOf(e).valueOf())) }, pn.isSameOrAfter = function (t, e) { return this.isSame(t, e) || this.isAfter(t, e) }, pn.isSameOrBefore = function (t, e) { return this.isSame(t, e) || this.isBefore(t, e) }, pn.isValid = function () { return d(this) }, pn.lang = nn, pn.locale = en, pn.localeData = on, pn.max = Ze, pn.min = De, pn.parsingFlags = function () { return I({}, h(this)) }, pn.set = function (t, e) { if ("object" == typeof t) for (var n = function (t) { var e = []; for (var n in t) e.push({ unit: n, priority: T[n] }); return e.sort(function (t, e) { return t.priority - e.priority }), e }(t = W(t)), i = 0; i < n.length; i++)this[n[i].unit](t[n[i].unit]); else if (X(this[t = U(t)])) return this[t](e); return this }, pn.startOf = function (t) { var e; if (void 0 === (t = U(t)) || "millisecond" === t || !this.isValid()) return this; var n = this._isUTC ? gn : sn; switch (t) { case "year": e = n(this.year(), 0, 1); break; case "quarter": e = n(this.year(), this.month() - this.month() % 3, 1); break; case "month": e = n(this.year(), this.month(), 1); break; case "week": e = n(this.year(), this.month(), this.date() - this.weekday()); break; case "isoWeek": e = n(this.year(), this.month(), this.date() - (this.isoWeekday() - 1)); break; case "day": case "date": e = n(this.year(), this.month(), this.date()); break; case "hour": e = this._d.valueOf(), e -= rn(e + (this._isUTC ? 0 : 6e4 * this.utcOffset()), 36e5); break; case "minute": e = this._d.valueOf(), e -= rn(e, 6e4); break; case "second": e = this._d.valueOf(), e -= rn(e, 1e3) }return this._d.setTime(e), i.updateOffset(this, !0), this }, pn.subtract = qe, pn.toArray = function () { return [this.year(), this.month(), this.date(), this.hour(), this.minute(), this.second(), this.millisecond()] }, pn.toObject = function () { return { years: this.year(), months: this.month(), date: this.date(), hours: this.hours(), minutes: this.minutes(), seconds: this.seconds(), milliseconds: this.milliseconds() } }, pn.toDate = function () { return new Date(this.valueOf()) }, pn.toISOString = function (t) { if (!this.isValid()) return null; var e = !0 !== t, n = e ? this.clone().utc() : this; return n.year() < 0 || 9999 < n.year() ? L(n, e ? "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYYYY-MM-DD[T]HH:mm:ss.SSSZ") : X(Date.prototype.toISOString) ? e ? this.toDate().toISOString() : new Date(this.valueOf() + 60 * this.utcOffset() * 1e3).toISOString().replace("Z", L(n, "Z")) : L(n, e ? "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]" : "YYYY-MM-DD[T]HH:mm:ss.SSSZ") }, pn.inspect = function () { if (!this.isValid()) return "moment.invalid(/* " + this._i + " */)"; var t = "moment", e = ""; this.isLocal() || (t = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", e = "Z"); var n = "[" + t + '("]', i = 0 <= this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY", o = e + '[")]'; return this.format(n + i + "-MM-DD[T]HH:mm:ss.SSS" + o) }, pn.toJSON = function () { return this.isValid() ? this.toISOString() : null }, pn.toString = function () { return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ") }, pn.unix = function () { return Math.floor(this.valueOf() / 1e3) }, pn.valueOf = function () { return this._d.valueOf() - 6e4 * (this._offset || 0) }, pn.creationData = function () { return { input: this._i, format: this._f, locale: this._locale, isUTC: this._isUTC, strict: this._strict } }, pn.year = Xt, pn.isLeapYear = function () { return Gt(this.year()) }, pn.weekYear = function (t) { return cn.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy) }, pn.isoWeekYear = function (t) { return cn.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4) }, pn.quarter = pn.quarters = function (t) { return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + this.month() % 3) }, pn.month = Ht, pn.daysInMonth = function () { return Zt(this.year(), this.month()) }, pn.week = pn.weeks = function (t) { var e = this.localeData().week(this); return null == t ? e : this.add(7 * (t - e), "d") }, pn.isoWeek = pn.isoWeeks = function (t) { var e = Lt(this, 1, 4).week; return null == t ? e : this.add(7 * (t - e), "d") }, pn.weeksInYear = function () { var t = this.localeData()._week; return Mt(this.year(), t.dow, t.doy) }, pn.isoWeeksInYear = function () { return Mt(this.year(), 1, 4) }, pn.date = In, pn.day = pn.days = function (t) { if (!this.isValid()) return null != t ? this : NaN; var e, n, i = this._isUTC ? this._d.getUTCDay() : this._d.getDay(); return null != t ? (e = t, n = this.localeData(), t = "string" == typeof e ? isNaN(e) ? "number" != typeof (e = n.weekdaysParse(e)) ? null : e : parseInt(e, 10) : e, this.add(t - i, "d")) : i }, pn.weekday = function (t) { if (!this.isValid()) return null != t ? this : NaN; var e = (this.day() + 7 - this.localeData()._week.dow) % 7; return null == t ? e : this.add(t - e, "d") }, pn.isoWeekday = function (t) { if (!this.isValid()) return null != t ? this : NaN; if (null == t) return this.day() || 7; var e, n, i = (e = t, n = this.localeData(), "string" != typeof e ? isNaN(e) ? null : e : n.weekdaysParse(e) % 7 || 7); return this.day(this.day() % 7 ? i : i - 7) }, pn.dayOfYear = function (t) { var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1; return null == t ? e : this.add(t - e, "d") }, pn.hour = pn.hours = ae, pn.minute = pn.minutes = un, pn.second = pn.seconds = dn, pn.millisecond = pn.milliseconds = An, pn.utcOffset = function (t, e, n) { var o, a = this._offset || 0; if (!this.isValid()) return null != t ? this : NaN; if (null == t) return this._isUTC ? a : _e(this); if ("string" == typeof t) { if (null === (t = Ye(st, t))) return this } else Math.abs(t) < 16 && !n && (t *= 60); return !this._isUTC && e && (o = _e(this)), this._offset = t, this._isUTC = !0, null != o && this.add(o, "m"), a !== t && (!e || this._changeInProgress ? je(this, ze(t - a, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, i.updateOffset(this, !0), this._changeInProgress = null)), this }, pn.utc = function (t) { return this.utcOffset(0, t) }, pn.local = function (t) { return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(_e(this), "m")), this }, pn.parseZone = function () { if (null != this._tzm) this.utcOffset(this._tzm, !1, !0); else if ("string" == typeof this._i) { var t = Ye(rt, this._i); null != t ? this.utcOffset(t) : this.utcOffset(0, !0) } return this }, pn.hasAlignedHourOffset = function (t) { return !!this.isValid() && (t = t ? ke(t).utcOffset() : 0, (this.utcOffset() - t) % 60 == 0) }, pn.isDST = function () { return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset() }, pn.isLocal = function () { return !!this.isValid() && !this._isUTC }, pn.isUtcOffset = function () { return !!this.isValid() && this._isUTC }, pn.isUtc = Ve, pn.isUTC = Ve, pn.zoneAbbr = function () { return this._isUTC ? "UTC" : "" }, pn.zoneName = function () { return this._isUTC ? "Coordinated Universal Time" : "" }, pn.dates = F("dates accessor is deprecated. Use date instead.", In), pn.months = F("months accessor is deprecated. Use month instead", Ht), pn.years = F("years accessor is deprecated. Use year instead", Xt), pn.zone = F("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", function (t, e) { return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset() }), pn.isDSTShifted = F("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", function () { if (!r(this._isDSTShifted)) return this._isDSTShifted; var t = {}; if (p(t, this), (t = Xe(t))._a) { var e = t._isUTC ? u(t._a) : ke(t._a); this._isDSTShifted = this.isValid() && 0 < v(t._a, e.toArray()) } else this._isDSTShifted = !1; return this._isDSTShifted }); var fn = k.prototype; function bn(t, e, n, i) { var o = he(), a = u().set(i, e); return o[n](a, t) } function Bn(t, e, n) { if (s(t) && (e = t, t = void 0), t = t || "", null != e) return bn(t, e, n, "month"); var i, o = []; for (i = 0; i < 12; i++)o[i] = bn(t, i, n, "month"); return o } function yn(t, e, n, i) { "boolean" == typeof t ? s(e) && (n = e, e = void 0) : (e = t, t = !1, s(n = e) && (n = e, e = void 0)), e = e || ""; var o, a = he(), r = t ? a._week.dow : 0; if (null != n) return bn(e, (n + r) % 7, i, "day"); var g = []; for (o = 0; o < 7; o++)g[o] = bn(e, (o + r) % 7, i, "day"); return g } fn.calendar = function (t, e, n) { var i = this._calendar[t] || this._calendar.sameElse; return X(i) ? i.call(e, n) : i }, fn.longDateFormat = function (t) { var e = this._longDateFormat[t], n = this._longDateFormat[t.toUpperCase()]; return !e && n ? (this._longDateFormat[t] = n.replace(/MMMM|MM|DD|dddd/g, function (t) { return t.slice(1) }), this._longDateFormat[t]) : e }, fn.invalidDate = function () { return this._invalidDate }, fn.ordinal = function (t) { return this._ordinal.replace("%d", t) }, fn.preparse = mn, fn.postformat = mn, fn.relativeTime = function (t, e, n, i) { var o = this._relativeTime[n]; return X(o) ? o(t, e, n, i) : o.replace(/%d/i, t) }, fn.pastFuture = function (t, e) { var n = this._relativeTime[0 < t ? "future" : "past"]; return X(n) ? n(e) : n.replace(/%s/i, e) }, fn.set = function (t) { var e, n; for (n in t) X(e = t[n]) ? this[n] = e : this["_" + n] = e; this._config = t, this._dayOfMonthOrdinalParseLenient = new RegExp((this._dayOfMonthOrdinalParse.source || this._ordinalParse.source) + "|" + /\d{1,2}/.source) }, fn.months = function (t, e) { return t ? o(this._months) ? this._months[t.month()] : this._months[(this._months.isFormat || Ut).test(e) ? "format" : "standalone"][t.month()] : o(this._months) ? this._months : this._months.standalone }, fn.monthsShort = function (t, e) { return t ? o(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[Ut.test(e) ? "format" : "standalone"][t.month()] : o(this._monthsShort) ? this._monthsShort : this._monthsShort.standalone }, fn.monthsParse = function (t, e, n) { var i, o, a; if (this._monthsParseExact) return function (t, e, n) { var i, o, a, r = t.toLocaleLowerCase(); if (!this._monthsParse) for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], i = 0; i < 12; ++i)a = u([2e3, i]), this._shortMonthsParse[i] = this.monthsShort(a, "").toLocaleLowerCase(), this._longMonthsParse[i] = this.months(a, "").toLocaleLowerCase(); return n ? "MMM" === e ? -1 !== (o = wt.call(this._shortMonthsParse, r)) ? o : null : -1 !== (o = wt.call(this._longMonthsParse, r)) ? o : null : "MMM" === e ? -1 !== (o = wt.call(this._shortMonthsParse, r)) ? o : -1 !== (o = wt.call(this._longMonthsParse, r)) ? o : null : -1 !== (o = wt.call(this._longMonthsParse, r)) ? o : -1 !== (o = wt.call(this._shortMonthsParse, r)) ? o : null }.call(this, t, e, n); for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; i < 12; i++) { if (o = u([2e3, i]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(o, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(o, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (a = "^" + this.months(o, "") + "|^" + this.monthsShort(o, ""), this._monthsParse[i] = new RegExp(a.replace(".", ""), "i")), n && "MMMM" === e && this._longMonthsParse[i].test(t)) return i; if (n && "MMM" === e && this._shortMonthsParse[i].test(t)) return i; if (!n && this._monthsParse[i].test(t)) return i } }, fn.monthsRegex = function (t) { return this._monthsParseExact ? (c(this, "_monthsRegex") || Yt.call(this), t ? this._monthsStrictRegex : this._monthsRegex) : (c(this, "_monthsRegex") || (this._monthsRegex = Rt), this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex) }, fn.monthsShortRegex = function (t) { return this._monthsParseExact ? (c(this, "_monthsRegex") || Yt.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex) : (c(this, "_monthsShortRegex") || (this._monthsShortRegex = Et), this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex) }, fn.week = function (t) { return Lt(t, this._week.dow, this._week.doy).week }, fn.firstDayOfYear = function () { return this._week.doy }, fn.firstDayOfWeek = function () { return this._week.dow }, fn.weekdays = function (t, e) { var n = o(this._weekdays) ? this._weekdays : this._weekdays[t && !0 !== t && this._weekdays.isFormat.test(e) ? "format" : "standalone"]; return !0 === t ? zt(n, this._week.dow) : t ? n[t.day()] : n }, fn.weekdaysMin = function (t) { return !0 === t ? zt(this._weekdaysMin, this._week.dow) : t ? this._weekdaysMin[t.day()] : this._weekdaysMin }, fn.weekdaysShort = function (t) { return !0 === t ? zt(this._weekdaysShort, this._week.dow) : t ? this._weekdaysShort[t.day()] : this._weekdaysShort }, fn.weekdaysParse = function (t, e, n) { var i, o, a; if (this._weekdaysParseExact) return function (t, e, n) { var i, o, a, r = t.toLocaleLowerCase(); if (!this._weekdaysParse) for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], i = 0; i < 7; ++i)a = u([2e3, 1]).day(i), this._minWeekdaysParse[i] = this.weekdaysMin(a, "").toLocaleLowerCase(), this._shortWeekdaysParse[i] = this.weekdaysShort(a, "").toLocaleLowerCase(), this._weekdaysParse[i] = this.weekdays(a, "").toLocaleLowerCase(); return n ? "dddd" === e ? -1 !== (o = wt.call(this._weekdaysParse, r)) ? o : null : "ddd" === e ? -1 !== (o = wt.call(this._shortWeekdaysParse, r)) ? o : null : -1 !== (o = wt.call(this._minWeekdaysParse, r)) ? o : null : "dddd" === e ? -1 !== (o = wt.call(this._weekdaysParse, r)) ? o : -1 !== (o = wt.call(this._shortWeekdaysParse, r)) ? o : -1 !== (o = wt.call(this._minWeekdaysParse, r)) ? o : null : "ddd" === e ? -1 !== (o = wt.call(this._shortWeekdaysParse, r)) ? o : -1 !== (o = wt.call(this._weekdaysParse, r)) ? o : -1 !== (o = wt.call(this._minWeekdaysParse, r)) ? o : null : -1 !== (o = wt.call(this._minWeekdaysParse, r)) ? o : -1 !== (o = wt.call(this._weekdaysParse, r)) ? o : -1 !== (o = wt.call(this._shortWeekdaysParse, r)) ? o : null }.call(this, t, e, n); for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), i = 0; i < 7; i++) { if (o = u([2e3, 1]).day(i), n && !this._fullWeekdaysParse[i] && (this._fullWeekdaysParse[i] = new RegExp("^" + this.weekdays(o, "").replace(".", "\\.?") + "$", "i"), this._shortWeekdaysParse[i] = new RegExp("^" + this.weekdaysShort(o, "").replace(".", "\\.?") + "$", "i"), this._minWeekdaysParse[i] = new RegExp("^" + this.weekdaysMin(o, "").replace(".", "\\.?") + "$", "i")), this._weekdaysParse[i] || (a = "^" + this.weekdays(o, "") + "|^" + this.weekdaysShort(o, "") + "|^" + this.weekdaysMin(o, ""), this._weekdaysParse[i] = new RegExp(a.replace(".", ""), "i")), n && "dddd" === e && this._fullWeekdaysParse[i].test(t)) return i; if (n && "ddd" === e && this._shortWeekdaysParse[i].test(t)) return i; if (n && "dd" === e && this._minWeekdaysParse[i].test(t)) return i; if (!n && this._weekdaysParse[i].test(t)) return i } }, fn.weekdaysRegex = function (t) { return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || te.call(this), t ? this._weekdaysStrictRegex : this._weekdaysRegex) : (c(this, "_weekdaysRegex") || (this._weekdaysRegex = jt), this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex) }, fn.weekdaysShortRegex = function (t) { return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || te.call(this), t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (c(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = $t), this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) }, fn.weekdaysMinRegex = function (t) { return this._weekdaysParseExact ? (c(this, "_weekdaysRegex") || te.call(this), t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (c(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = qt), this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) }, fn.isPM = function (t) { return "p" === (t + "").toLowerCase().charAt(0) }, fn.meridiem = function (t, e, n) { return 11 < t ? n ? "pm" : "PM" : n ? "am" : "AM" }, Ie("en", { dayOfMonthOrdinalParse: /\d{1,2}(th|st|nd|rd)/, ordinal: function (t) { var e = t % 10; return t + (1 === y(t % 100 / 10) ? "th" : 1 == e ? "st" : 2 == e ? "nd" : 3 == e ? "rd" : "th") } }), i.lang = F("moment.lang is deprecated. Use moment.locale instead.", Ie), i.langData = F("moment.langData is deprecated. Use moment.localeData instead.", he); var vn = Math.abs; function xn(t, e, n, i) { var o = ze(e, n); return t._milliseconds += i * o._milliseconds, t._days += i * o._days, t._months += i * o._months, t._bubble() } function Fn(t) { return t < 0 ? Math.floor(t) : Math.ceil(t) } function Qn(t) { return 4800 * t / 146097 } function Gn(t) { return 146097 * t / 4800 } function wn(t) { return function () { return this.as(t) } } var Xn = wn("ms"), Sn = wn("s"), kn = wn("m"), Dn = wn("h"), Zn = wn("d"), Un = wn("w"), Wn = wn("M"), Tn = wn("Q"), Nn = wn("y"); function Hn(t) { return function () { return this.isValid() ? this._data[t] : NaN } } var En = Hn("milliseconds"), Rn = Hn("seconds"), Yn = Hn("minutes"), On = Hn("hours"), _n = Hn("days"), Vn = Hn("months"), Ln = Hn("years"), Mn = Math.round, zn = { ss: 44, s: 45, m: 45, h: 22, d: 26, M: 11 }, Pn = Math.abs; function Kn(t) { return (0 < t) - (t < 0) || +t } function Jn() { if (!this.isValid()) return this.localeData().invalidDate(); var t, e, n = Pn(this._milliseconds) / 1e3, i = Pn(this._days), o = Pn(this._months); t = B(n / 60), e = B(t / 60), n %= 60, t %= 60; var a = B(o / 12), r = o %= 12, s = i, g = e, l = t, c = n ? n.toFixed(3).replace(/\.?0+$/, "") : "", I = this.asSeconds(); if (!I) return "P0D"; var u = I < 0 ? "-" : "", h = Kn(this._months) !== Kn(I) ? "-" : "", d = Kn(this._days) !== Kn(I) ? "-" : "", C = Kn(this._milliseconds) !== Kn(I) ? "-" : ""; return u + "P" + (a ? h + a + "Y" : "") + (r ? h + r + "M" : "") + (s ? d + s + "D" : "") + (g || l || c ? "T" : "") + (g ? C + g + "H" : "") + (l ? C + l + "M" : "") + (c ? C + c + "S" : "") } var jn = Te.prototype; return jn.isValid = function () { return this._isValid }, jn.abs = function () { var t = this._data; return this._milliseconds = vn(this._milliseconds), this._days = vn(this._days), this._months = vn(this._months), t.milliseconds = vn(t.milliseconds), t.seconds = vn(t.seconds), t.minutes = vn(t.minutes), t.hours = vn(t.hours), t.months = vn(t.months), t.years = vn(t.years), this }, jn.add = function (t, e) { return xn(this, t, e, 1) }, jn.subtract = function (t, e) { return xn(this, t, e, -1) }, jn.as = function (t) { if (!this.isValid()) return NaN; var e, n, i = this._milliseconds; if ("month" === (t = U(t)) || "quarter" === t || "year" === t) switch (e = this._days + i / 864e5, n = this._months + Qn(e), t) { case "month": return n; case "quarter": return n / 3; case "year": return n / 12 } else switch (e = this._days + Math.round(Gn(this._months)), t) { case "week": return e / 7 + i / 6048e5; case "day": return e + i / 864e5; case "hour": return 24 * e + i / 36e5; case "minute": return 1440 * e + i / 6e4; case "second": return 86400 * e + i / 1e3; case "millisecond": return Math.floor(864e5 * e) + i; default: throw new Error("Unknown unit " + t) } }, jn.asMilliseconds = Xn, jn.asSeconds = Sn, jn.asMinutes = kn, jn.asHours = Dn, jn.asDays = Zn, jn.asWeeks = Un, jn.asMonths = Wn, jn.asQuarters = Tn, jn.asYears = Nn, jn.valueOf = function () { return this.isValid() ? this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * y(this._months / 12) : NaN }, jn._bubble = function () { var t, e, n, i, o, a = this._milliseconds, r = this._days, s = this._months, g = this._data; return 0 <= a && 0 <= r && 0 <= s || a <= 0 && r <= 0 && s <= 0 || (a += 864e5 * Fn(Gn(s) + r), s = r = 0), g.milliseconds = a % 1e3, t = B(a / 1e3), g.seconds = t % 60, e = B(t / 60), g.minutes = e % 60, n = B(e / 60), g.hours = n % 24, r += B(n / 24), s += o = B(Qn(r)), r -= Fn(Gn(o)), i = B(s / 12), s %= 12, g.days = r, g.months = s, g.years = i, this }, jn.clone = function () { return ze(this) }, jn.get = function (t) { return t = U(t), this.isValid() ? this[t + "s"]() : NaN }, jn.milliseconds = En, jn.seconds = Rn, jn.minutes = Yn, jn.hours = On, jn.days = _n, jn.weeks = function () { return B(this.days() / 7) }, jn.months = Vn, jn.years = Ln, jn.humanize = function (t) { if (!this.isValid()) return this.localeData().invalidDate(); var e = this.localeData(), n = function (t, e, n) { var i = ze(t).abs(), o = Mn(i.as("s")), a = Mn(i.as("m")), r = Mn(i.as("h")), s = Mn(i.as("d")), g = Mn(i.as("M")), l = Mn(i.as("y")), c = o <= zn.ss && ["s", o] || o < zn.s && ["ss", o] || a <= 1 && ["m"] || a < zn.m && ["mm", a] || r <= 1 && ["h"] || r < zn.h && ["hh", r] || s <= 1 && ["d"] || s < zn.d && ["dd", s] || g <= 1 && ["M"] || g < zn.M && ["MM", g] || l <= 1 && ["y"] || ["yy", l]; return c[2] = e, c[3] = 0 < +t, c[4] = n, function (t, e, n, i, o) { return o.relativeTime(e || 1, !!n, t, i) }.apply(null, c) }(this, !t, e); return t && (n = e.pastFuture(+this, n)), e.postformat(n) }, jn.toISOString = Jn, jn.toString = Jn, jn.toJSON = Jn, jn.locale = en, jn.localeData = on, jn.toIsoString = F("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", Jn), jn.lang = nn, _("X", 0, 0, "unix"), _("x", 0, 0, "valueOf"), ct("x", at), ct("X", /[+-]?\d+(\.\d{1,3})?/), dt("X", function (t, e, n) { n._d = new Date(1e3 * parseFloat(t, 10)) }), dt("x", function (t, e, n) { n._d = new Date(y(t)) }), i.version = "2.24.0", e = ke, i.fn = pn, i.min = function () { return Ue("isBefore", [].slice.call(arguments, 0)) }, i.max = function () { return Ue("isAfter", [].slice.call(arguments, 0)) }, i.now = function () { return Date.now ? Date.now() : +new Date }, i.utc = u, i.unix = function (t) { return ke(1e3 * t) }, i.months = function (t, e) { return Bn(t, e, "months") }, i.isDate = g, i.locale = Ie, i.invalid = C, i.duration = ze, i.isMoment = b, i.weekdays = function (t, e, n) { return yn(t, e, n, "weekdays") }, i.parseZone = function () { return ke.apply(null, arguments).parseZone() }, i.localeData = he, i.isDuration = Ne, i.monthsShort = function (t, e) { return Bn(t, e, "monthsShort") }, i.weekdaysMin = function (t, e, n) { return yn(t, e, n, "weekdaysMin") }, i.defineLocale = ue, i.updateLocale = function (t, e) { if (null != e) { var n, i, o = re; null != (i = ce(t)) && (o = i._config), (n = new k(e = S(o, e))).parentLocale = se[t], se[t] = n, Ie(t) } else null != se[t] && (null != se[t].parentLocale ? se[t] = se[t].parentLocale : null != se[t] && delete se[t]); return se[t] }, i.locales = function () { return Q(se) }, i.weekdaysShort = function (t, e, n) { return yn(t, e, n, "weekdaysShort") }, i.normalizeUnits = U, i.relativeTimeRounding = function (t) { return void 0 !== t ? "function" == typeof t && (Mn = t, !0) : Mn }, i.relativeTimeThreshold = function (t, e) { return void 0 !== zn[t] && (void 0 === e ? zn[t] : (zn[t] = e, "s" === t && (zn.ss = e - 1), !0)) }, i.calendarFormat = function (t, e) { var n = t.diff(e, "days", !0); return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse" }, i.prototype = pn, i.HTML5_FMT = { DATETIME_LOCAL: "YYYY-MM-DDTHH:mm", DATETIME_LOCAL_SECONDS: "YYYY-MM-DDTHH:mm:ss", DATETIME_LOCAL_MS: "YYYY-MM-DDTHH:mm:ss.SSS", DATE: "YYYY-MM-DD", TIME: "HH:mm", TIME_SECONDS: "HH:mm:ss", TIME_MS: "HH:mm:ss.SSS", WEEK: "GGGG-[W]WW", MONTH: "YYYY-MM" }, i }() }(Pn = { exports: {} }), Pn.exports), jn = { datetime: "MMM D, YYYY, h:mm:ss a", millisecond: "h:mm:ss.SSS a", second: "h:mm:ss a", minute: "h:mm a", hour: "hA", day: "MMM D", week: "ll", month: "MMM YYYY", quarter: "[Q]Q - YYYY", year: "YYYY" }; rn._date.override("function" == typeof Jn ? { _id: "moment", formats: function () { return jn }, parse: function (t, e) { return "string" == typeof t && "string" == typeof e ? t = Jn(t, e) : t instanceof Jn || (t = Jn(t)), t.isValid() ? t.valueOf() : null }, format: function (t, e) { return Jn(t).format(e) }, add: function (t, e, n) { return Jn(t).add(e, n).valueOf() }, diff: function (t, e, n) { return Jn.duration(Jn(t).diff(Jn(e))).as(n) }, startOf: function (t, e, n) { return t = Jn(t), "isoWeek" === e ? t.isoWeekday(n).valueOf() : t.startOf(e).valueOf() }, endOf: function (t, e) { return Jn(t).endOf(e).valueOf() }, _create: function (t) { return Jn(t) } } : {}), rt._set("global", { plugins: { filler: { propagate: !0 } } }); var $n = { dataset: function (t) { var e = t.fill, n = t.chart, i = n.getDatasetMeta(e), o = i && n.isDatasetVisible(e) && i.dataset._children || [], a = o.length || 0; return a ? function (t, e) { return e < a && o[e]._view || null } : null }, boundary: function (t) { var e = t.boundary, n = e ? e.x : null, i = e ? e.y : null; return function (t) { return { x: null === n ? t.x : n, y: null === i ? t.y : i } } } }; function qn(t, e, n) { var i, o = t._model || {}, a = o.fill; if (void 0 === a && (a = !!o.backgroundColor), !1 === a || null === a) return !1; if (!0 === a) return "origin"; if (i = parseFloat(a, 10), isFinite(i) && Math.floor(i) === i) return "-" !== a[0] && "+" !== a[0] || (i = e + i), !(i === e || i < 0 || n <= i) && i; switch (a) { case "bottom": return "start"; case "top": return "end"; case "zero": return "origin"; case "origin": case "start": case "end": return a; default: return !1 } } function ti(t) { var e, n = t.el._model || {}, i = t.el._scale || {}, o = t.fill, a = null; if (isFinite(o)) return null; if ("start" === o ? a = void 0 === n.scaleBottom ? i.bottom : n.scaleBottom : "end" === o ? a = void 0 === n.scaleTop ? i.top : n.scaleTop : void 0 !== n.scaleZero ? a = n.scaleZero : i.getBasePosition ? a = i.getBasePosition() : i.getBasePixel && (a = i.getBasePixel()), null != a) { if (void 0 !== a.x && void 0 !== a.y) return a; if (lt.isFinite(a)) return { x: (e = i.isHorizontal()) ? a : null, y: e ? null : a } } return null } function ei(t, e, n) { var i, o = t[e].fill, a = [e]; if (!n) return o; for (; !1 !== o && -1 === a.indexOf(o);) { if (!isFinite(o)) return o; if (!(i = t[o])) return !1; if (i.visible) return o; a.push(o), o = i.fill } return !1 } function ni(t) { return t && !t.skip } function ii(t, e, n, i, o) { var a; if (i && o) { for (t.moveTo(e[0].x, e[0].y), a = 1; a < i; ++a)lt.canvas.lineTo(t, e[a - 1], e[a]); for (t.lineTo(n[o - 1].x, n[o - 1].y), a = o - 1; 0 < a; --a)lt.canvas.lineTo(t, n[a], n[a - 1], !0) } } var oi = { id: "filler", afterDatasetsUpdate: function (t, e) { var n, i, o, a, r, s, g, l = (t.data.datasets || []).length, c = e.propagate, I = []; for (i = 0; i < l; ++i)a = null, (o = (n = t.getDatasetMeta(i)).dataset) && o._model && o instanceof Nt.Line && (a = { visible: t.isDatasetVisible(i), fill: qn(o, i, l), chart: t, el: o }), n.$filler = a, I.push(a); for (i = 0; i < l; ++i)(a = I[i]) && (a.fill = ei(I, i, c), a.boundary = ti(a), a.mapper = (g = void 0, !(g = "dataset") === (s = (r = a).fill) ? null : (isFinite(s) || (g = "boundary"), $n[g](r)))) }, beforeDatasetDraw: function (t, e) { var n = e.meta.$filler; if (n) { var i = t.ctx, o = n.el, a = o._view, r = o._children || [], s = n.mapper, g = a.backgroundColor || rt.global.defaultColor; s && g && r.length && (lt.canvas.clipArea(i, t.chartArea), function (t, e, n, i, o, a) { var r, s, g, l, c, I, u, h = e.length, d = i.spanGaps, C = [], A = [], p = 0, m = 0; for (t.beginPath(), r = 0, s = h + !!a; r < s; ++r)c = n(l = e[g = r % h]._view, g, i), I = ni(l), u = ni(c), I && u ? (p = C.push(l), m = A.push(c)) : p && m && (d ? (I && C.push(l), u && A.push(c)) : (ii(t, C, A, p, m), p = m = 0, C = [], A = [])); ii(t, C, A, p, m), t.closePath(), t.fillStyle = o, t.fill() }(i, r, s, a, g, o._loop), lt.canvas.unclipArea(i)) } } }, ai = lt.noop, ri = lt.valueOrDefault; function si(t, e) { return t.usePointStyle && t.boxWidth > e ? e : t.boxWidth } rt._set("global", { legend: { display: !0, position: "top", fullWidth: !0, reverse: !1, weight: 1e3, onClick: function (t, e) { var n = e.datasetIndex, i = this.chart, o = i.getDatasetMeta(n); o.hidden = null === o.hidden ? !i.data.datasets[n].hidden : null, i.update() }, onHover: null, onLeave: null, labels: { boxWidth: 40, padding: 10, generateLabels: function (t) { var e = t.data; return lt.isArray(e.datasets) ? e.datasets.map(function (e, n) { return { text: e.label, fillStyle: lt.isArray(e.backgroundColor) ? e.backgroundColor[0] : e.backgroundColor, hidden: !t.isDatasetVisible(n), lineCap: e.borderCapStyle, lineDash: e.borderDash, lineDashOffset: e.borderDashOffset, lineJoin: e.borderJoinStyle, lineWidth: e.borderWidth, strokeStyle: e.borderColor, pointStyle: e.pointStyle, datasetIndex: n } }, this) : [] } } }, legendCallback: function (t) { var e = []; e.push('<ul class="' + t.id + '-legend">'); for (var n = 0; n < t.data.datasets.length; n++)e.push('<li><span style="background-color:' + t.data.datasets[n].backgroundColor + '"></span>'), t.data.datasets[n].label && e.push(t.data.datasets[n].label), e.push("</li>"); return e.push("</ul>"), e.join("") } }); var gi = dt.extend({ initialize: function (t) { lt.extend(this, t), this.legendHitBoxes = [], this._hoveredItem = null, this.doughnutMode = !1 }, beforeUpdate: ai, update: function (t, e, n) { var i = this; return i.beforeUpdate(), i.maxWidth = t, i.maxHeight = e, i.margins = n, i.beforeSetDimensions(), i.setDimensions(), i.afterSetDimensions(), i.beforeBuildLabels(), i.buildLabels(), i.afterBuildLabels(), i.beforeFit(), i.fit(), i.afterFit(), i.afterUpdate(), i.minSize }, afterUpdate: ai, beforeSetDimensions: ai, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0, t.minSize = { width: 0, height: 0 } }, afterSetDimensions: ai, beforeBuildLabels: ai, buildLabels: function () { var t = this, e = t.options.labels || {}, n = lt.callback(e.generateLabels, [t.chart], t) || []; e.filter && (n = n.filter(function (n) { return e.filter(n, t.chart.data) })), t.options.reverse && n.reverse(), t.legendItems = n }, afterBuildLabels: ai, beforeFit: ai, fit: function () { var t = this, e = t.options, n = e.labels, i = e.display, o = t.ctx, a = lt.options._parseFont(n), r = a.size, s = t.legendHitBoxes = [], g = t.minSize, l = t.isHorizontal(); if (l ? (g.width = t.maxWidth, g.height = i ? 10 : 0) : (g.width = i ? 10 : 0, g.height = t.maxHeight), i) if (o.font = a.string, l) { var c = t.lineWidths = [0], I = 0; o.textAlign = "left", o.textBaseline = "top", lt.each(t.legendItems, function (t, e) { var i = si(n, r) + r / 2 + o.measureText(t.text).width; (0 === e || c[c.length - 1] + i + n.padding > g.width) && (I += r + n.padding, c[c.length - (0 < e ? 0 : 1)] = n.padding), s[e] = { left: 0, top: 0, width: i, height: r }, c[c.length - 1] += i + n.padding }), g.height += I } else { var u = n.padding, h = t.columnWidths = [], d = n.padding, C = 0, A = 0, p = r + u; lt.each(t.legendItems, function (t, e) { var i = si(n, r) + r / 2 + o.measureText(t.text).width; 0 < e && A + p > g.height - u && (d += C + n.padding, h.push(C), A = C = 0), C = Math.max(C, i), A += p, s[e] = { left: 0, top: 0, width: i, height: r } }), d += C, h.push(C), g.width += d } t.width = g.width, t.height = g.height }, afterFit: ai, isHorizontal: function () { return "top" === this.options.position || "bottom" === this.options.position }, draw: function () { var t = this, e = t.options, n = e.labels, i = rt.global, o = i.defaultColor, a = i.elements.line, r = t.width, s = t.lineWidths; if (e.display) { var g, l = t.ctx, c = ri(n.fontColor, i.defaultFontColor), I = lt.options._parseFont(n), u = I.size; l.textAlign = "left", l.textBaseline = "middle", l.lineWidth = .5, l.strokeStyle = c, l.fillStyle = c, l.font = I.string; var h = si(n, u), d = t.legendHitBoxes, C = t.isHorizontal(); g = C ? { x: t.left + (r - s[0]) / 2 + n.padding, y: t.top + n.padding, line: 0 } : { x: t.left + n.padding, y: t.top + n.padding, line: 0 }; var A = u + n.padding; lt.each(t.legendItems, function (i, c) { var I = l.measureText(i.text).width, p = h + u / 2 + I, m = g.x, f = g.y; C ? 0 < c && m + p + n.padding > t.left + t.minSize.width && (f = g.y += A, g.line++, m = g.x = t.left + (r - s[g.line]) / 2 + n.padding) : 0 < c && f + A > t.top + t.minSize.height && (m = g.x = m + t.columnWidths[g.line] + n.padding, f = g.y = t.top + n.padding, g.line++), function (t, n, i) { if (!(isNaN(h) || h <= 0)) { l.save(); var r = ri(i.lineWidth, a.borderWidth); if (l.fillStyle = ri(i.fillStyle, o), l.lineCap = ri(i.lineCap, a.borderCapStyle), l.lineDashOffset = ri(i.lineDashOffset, a.borderDashOffset), l.lineJoin = ri(i.lineJoin, a.borderJoinStyle), l.lineWidth = r, l.strokeStyle = ri(i.strokeStyle, o), l.setLineDash && l.setLineDash(ri(i.lineDash, a.borderDash)), e.labels && e.labels.usePointStyle) { var s = h * Math.SQRT2 / 2, g = t + h / 2, c = n + u / 2; lt.canvas.drawPoint(l, i.pointStyle, s, g, c) } else 0 !== r && l.strokeRect(t, n, h, u), l.fillRect(t, n, h, u); l.restore() } }(m, f, i), function (t, e, n, i) { var o = u / 2, a = h + o + t, r = e + o; l.fillText(n.text, a, r), n.hidden && (l.beginPath(), l.lineWidth = 2, l.moveTo(a, r), l.lineTo(a + i, r), l.stroke()) }(d[c].left = m, d[c].top = f, i, I), C ? g.x += p + n.padding : g.y += A }) } }, _getLegendItemAt: function (t, e) { var n, i, o; if (t >= this.left && t <= this.right && e >= this.top && e <= this.bottom) for (o = this.legendHitBoxes, n = 0; n < o.length; ++n)if (t >= (i = o[n]).left && t <= i.left + i.width && e >= i.top && e <= i.top + i.height) return this.legendItems[n]; return null }, handleEvent: function (t) { var e, n = this.options, i = "mouseup" === t.type ? "click" : t.type; if ("mousemove" === i) { if (!n.onHover && !n.onLeave) return } else { if ("click" !== i) return; if (!n.onClick) return } e = this._getLegendItemAt(t.x, t.y), "click" === i ? e && n.onClick && n.onClick.call(this, t.native, e) : (n.onLeave && e !== this._hoveredItem && (this._hoveredItem && n.onLeave.call(this, t.native, this._hoveredItem), this._hoveredItem = e), n.onHover && e && n.onHover.call(this, t.native, e)) } }); function li(t, e) { var n = new gi({ ctx: t.ctx, options: e, chart: t }); fe.configure(t, n, e), fe.addBox(t, n), t.legend = n } var ci = { id: "legend", _element: gi, beforeInit: function (t) { var e = t.options.legend; e && li(t, e) }, beforeUpdate: function (t) { var e = t.options.legend, n = t.legend; e ? (lt.mergeIf(e, rt.global.legend), n ? (fe.configure(t, n, e), n.options = e) : li(t, e)) : n && (fe.removeBox(t, n), delete t.legend) }, afterEvent: function (t, e) { var n = t.legend; n && n.handleEvent(e) } }, Ii = lt.noop; rt._set("global", { title: { display: !1, fontStyle: "bold", fullWidth: !0, padding: 10, position: "top", text: "", weight: 2e3 } }); var ui = dt.extend({ initialize: function (t) { lt.extend(this, t), this.legendHitBoxes = [] }, beforeUpdate: Ii, update: function (t, e, n) { var i = this; return i.beforeUpdate(), i.maxWidth = t, i.maxHeight = e, i.margins = n, i.beforeSetDimensions(), i.setDimensions(), i.afterSetDimensions(), i.beforeBuildLabels(), i.buildLabels(), i.afterBuildLabels(), i.beforeFit(), i.fit(), i.afterFit(), i.afterUpdate(), i.minSize }, afterUpdate: Ii, beforeSetDimensions: Ii, setDimensions: function () { var t = this; t.isHorizontal() ? (t.width = t.maxWidth, t.left = 0, t.right = t.width) : (t.height = t.maxHeight, t.top = 0, t.bottom = t.height), t.paddingLeft = 0, t.paddingTop = 0, t.paddingRight = 0, t.paddingBottom = 0, t.minSize = { width: 0, height: 0 } }, afterSetDimensions: Ii, beforeBuildLabels: Ii, buildLabels: Ii, afterBuildLabels: Ii, beforeFit: Ii, fit: function () { var t = this.options, e = t.display, n = this.minSize, i = lt.isArray(t.text) ? t.text.length : 1, o = lt.options._parseFont(t), a = e ? i * o.lineHeight + 2 * t.padding : 0; this.isHorizontal() ? (n.width = this.maxWidth, n.height = a) : (n.width = a, n.height = this.maxHeight), this.width = n.width, this.height = n.height }, afterFit: Ii, isHorizontal: function () { var t = this.options.position; return "top" === t || "bottom" === t }, draw: function () { var t = this.ctx, e = this.options; if (e.display) { var n, i, o, a = lt.options._parseFont(e), r = a.lineHeight, s = r / 2 + e.padding, g = 0, l = this.top, c = this.left, I = this.bottom, u = this.right; t.fillStyle = lt.valueOrDefault(e.fontColor, rt.global.defaultFontColor), t.font = a.string, this.isHorizontal() ? (i = c + (u - c) / 2, o = l + s, n = u - c) : (i = "left" === e.position ? c + s : u - s, o = l + (I - l) / 2, n = I - l, g = Math.PI * ("left" === e.position ? -.5 : .5)), t.save(), t.translate(i, o), t.rotate(g), t.textAlign = "center", t.textBaseline = "middle"; var h = e.text; if (lt.isArray(h)) for (var d = 0, C = 0; C < h.length; ++C)t.fillText(h[C], 0, d, n), d += r; else t.fillText(h, 0, 0, n); t.restore() } } }); function hi(t, e) { var n = new ui({ ctx: t.ctx, options: e, chart: t }); fe.configure(t, n, e), fe.addBox(t, n), t.titleBlock = n } var di = {}, Ci = oi, Ai = ci, pi = { id: "title", _element: ui, beforeInit: function (t) { var e = t.options.title; e && hi(t, e) }, beforeUpdate: function (t) { var e = t.options.title, n = t.titleBlock; e ? (lt.mergeIf(e, rt.global.title), n ? (fe.configure(t, n, e), n.options = e) : hi(t, e)) : n && (fe.removeBox(t, n), delete t.titleBlock) } }; function mi(t, e, n) { var i; return "string" == typeof t ? (i = parseInt(t, 10), -1 !== t.indexOf("%") && (i = i / 100 * e.parentNode[n])) : i = t, i } function fi(t) { return null != t && "none" !== t } function bi(t, e, n) { var i = document.defaultView, o = lt._getParentNode(t), a = i.getComputedStyle(t)[e], r = i.getComputedStyle(o)[e], s = fi(a), g = fi(r), l = Number.POSITIVE_INFINITY; return s || g ? Math.min(s ? mi(a, t, n) : l, g ? mi(r, o, n) : l) : "none" } for (var Bi in di.filler = Ci, di.legend = Ai, di.title = pi, (nn.helpers = lt).where = function (t, e) { if (lt.isArray(t) && Array.prototype.filter) return t.filter(e); var n = []; return lt.each(t, function (t) { e(t) && n.push(t) }), n }, lt.findIndex = Array.prototype.findIndex ? function (t, e, n) { return t.findIndex(e, n) } : function (t, e, n) { n = void 0 === n ? t : n; for (var i = 0, o = t.length; i < o; ++i)if (e.call(n, t[i], i, t)) return i; return -1 }, lt.findNextWhere = function (t, e, n) { lt.isNullOrUndef(n) && (n = -1); for (var i = n + 1; i < t.length; i++) { var o = t[i]; if (e(o)) return o } }, lt.findPreviousWhere = function (t, e, n) { lt.isNullOrUndef(n) && (n = t.length); for (var i = n - 1; 0 <= i; i--) { var o = t[i]; if (e(o)) return o } }, lt.isNumber = function (t) { return !isNaN(parseFloat(t)) && isFinite(t) }, lt.almostEquals = function (t, e, n) { return Math.abs(t - e) < n }, lt.almostWhole = function (t, e) { var n = Math.round(t); return n - e < t && t < n + e }, lt.max = function (t) { return t.reduce(function (t, e) { return isNaN(e) ? t : Math.max(t, e) }, Number.NEGATIVE_INFINITY) }, lt.min = function (t) { return t.reduce(function (t, e) { return isNaN(e) ? t : Math.min(t, e) }, Number.POSITIVE_INFINITY) }, lt.sign = Math.sign ? function (t) { return Math.sign(t) } : function (t) { return 0 == (t = +t) || isNaN(t) ? t : 0 < t ? 1 : -1 }, lt.log10 = Math.log10 ? function (t) { return Math.log10(t) } : function (t) { var e = Math.log(t) * Math.LOG10E, n = Math.round(e); return t === Math.pow(10, n) ? n : e }, lt.toRadians = function (t) { return t * (Math.PI / 180) }, lt.toDegrees = function (t) { return t * (180 / Math.PI) }, lt._decimalPlaces = function (t) { if (lt.isFinite(t)) { for (var e = 1, n = 0; Math.round(t * e) / e !== t;)e *= 10, n++; return n } }, lt.getAngleFromPoint = function (t, e) { var n = e.x - t.x, i = e.y - t.y, o = Math.sqrt(n * n + i * i), a = Math.atan2(i, n); return a < -.5 * Math.PI && (a += 2 * Math.PI), { angle: a, distance: o } }, lt.distanceBetweenPoints = function (t, e) { return Math.sqrt(Math.pow(e.x - t.x, 2) + Math.pow(e.y - t.y, 2)) }, lt.aliasPixel = function (t) { return t % 2 == 0 ? 0 : .5 }, lt._alignPixel = function (t, e, n) { var i = t.currentDevicePixelRatio, o = n / 2; return Math.round((e - o) * i) / i + o }, lt.splineCurve = function (t, e, n, i) { var o = t.skip ? e : t, a = e, r = n.skip ? e : n, s = Math.sqrt(Math.pow(a.x - o.x, 2) + Math.pow(a.y - o.y, 2)), g = Math.sqrt(Math.pow(r.x - a.x, 2) + Math.pow(r.y - a.y, 2)), l = s / (s + g), c = g / (s + g), I = i * (l = isNaN(l) ? 0 : l), u = i * (c = isNaN(c) ? 0 : c); return { previous: { x: a.x - I * (r.x - o.x), y: a.y - I * (r.y - o.y) }, next: { x: a.x + u * (r.x - o.x), y: a.y + u * (r.y - o.y) } } }, lt.EPSILON = Number.EPSILON || 1e-14, lt.splineCurveMonotone = function (t) { var e, n, i, o, a, r, s, g, l, c = (t || []).map(function (t) { return { model: t._model, deltaK: 0, mK: 0 } }), I = c.length; for (e = 0; e < I; ++e)if (!(i = c[e]).model.skip) { if (n = 0 < e ? c[e - 1] : null, (o = e < I - 1 ? c[e + 1] : null) && !o.model.skip) { var u = o.model.x - i.model.x; i.deltaK = 0 != u ? (o.model.y - i.model.y) / u : 0 } !n || n.model.skip ? i.mK = i.deltaK : !o || o.model.skip ? i.mK = n.deltaK : this.sign(n.deltaK) !== this.sign(i.deltaK) ? i.mK = 0 : i.mK = (n.deltaK + i.deltaK) / 2 } for (e = 0; e < I - 1; ++e)i = c[e], o = c[e + 1], i.model.skip || o.model.skip || (lt.almostEquals(i.deltaK, 0, this.EPSILON) ? i.mK = o.mK = 0 : (a = i.mK / i.deltaK, r = o.mK / i.deltaK, (g = Math.pow(a, 2) + Math.pow(r, 2)) <= 9 || (s = 3 / Math.sqrt(g), i.mK = a * s * i.deltaK, o.mK = r * s * i.deltaK))); for (e = 0; e < I; ++e)(i = c[e]).model.skip || (n = 0 < e ? c[e - 1] : null, o = e < I - 1 ? c[e + 1] : null, n && !n.model.skip && (l = (i.model.x - n.model.x) / 3, i.model.controlPointPreviousX = i.model.x - l, i.model.controlPointPreviousY = i.model.y - l * i.mK), o && !o.model.skip && (l = (o.model.x - i.model.x) / 3, i.model.controlPointNextX = i.model.x + l, i.model.controlPointNextY = i.model.y + l * i.mK)) }, lt.nextItem = function (t, e, n) { return n ? e >= t.length - 1 ? t[0] : t[e + 1] : e >= t.length - 1 ? t[t.length - 1] : t[e + 1] }, lt.previousItem = function (t, e, n) { return n ? e <= 0 ? t[t.length - 1] : t[e - 1] : e <= 0 ? t[0] : t[e - 1] }, lt.niceNum = function (t, e) { var n = Math.floor(lt.log10(t)), i = t / Math.pow(10, n); return (e ? i < 1.5 ? 1 : i < 3 ? 2 : i < 7 ? 5 : 10 : i <= 1 ? 1 : i <= 2 ? 2 : i <= 5 ? 5 : 10) * Math.pow(10, n) }, lt.requestAnimFrame = "undefined" == typeof window ? function (t) { t() } : window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function (t) { return window.setTimeout(t, 1e3 / 60) }, lt.getRelativePosition = function (t, e) { var n, i, o = t.originalEvent || t, a = t.target || t.srcElement, r = a.getBoundingClientRect(), s = o.touches; i = s && 0 < s.length ? (n = s[0].clientX, s[0].clientY) : (n = o.clientX, o.clientY); var g = parseFloat(lt.getStyle(a, "padding-left")), l = parseFloat(lt.getStyle(a, "padding-top")), c = parseFloat(lt.getStyle(a, "padding-right")), I = parseFloat(lt.getStyle(a, "padding-bottom")), u = r.right - r.left - g - c, h = r.bottom - r.top - l - I; return { x: n = Math.round((n - r.left - g) / u * a.width / e.currentDevicePixelRatio), y: i = Math.round((i - r.top - l) / h * a.height / e.currentDevicePixelRatio) } }, lt.getConstraintWidth = function (t) { return bi(t, "max-width", "clientWidth") }, lt.getConstraintHeight = function (t) { return bi(t, "max-height", "clientHeight") }, lt._calculatePadding = function (t, e, n) { return -1 < (e = lt.getStyle(t, e)).indexOf("%") ? n * parseInt(e, 10) / 100 : parseInt(e, 10) }, lt._getParentNode = function (t) { var e = t.parentNode; return e && "[object ShadowRoot]" === e.toString() && (e = e.host), e }, lt.getMaximumWidth = function (t) { var e = lt._getParentNode(t); if (!e) return t.clientWidth; var n = e.clientWidth, i = n - lt._calculatePadding(e, "padding-left", n) - lt._calculatePadding(e, "padding-right", n), o = lt.getConstraintWidth(t); return isNaN(o) ? i : Math.min(i, o) }, lt.getMaximumHeight = function (t) { var e = lt._getParentNode(t); if (!e) return t.clientHeight; var n = e.clientHeight, i = n - lt._calculatePadding(e, "padding-top", n) - lt._calculatePadding(e, "padding-bottom", n), o = lt.getConstraintHeight(t); return isNaN(o) ? i : Math.min(i, o) }, lt.getStyle = function (t, e) { return t.currentStyle ? t.currentStyle[e] : document.defaultView.getComputedStyle(t, null).getPropertyValue(e) }, lt.retinaScale = function (t, e) { var n = t.currentDevicePixelRatio = e || "undefined" != typeof window && window.devicePixelRatio || 1; if (1 !== n) { var i = t.canvas, o = t.height, a = t.width; i.height = o * n, i.width = a * n, t.ctx.scale(n, n), i.style.height || i.style.width || (i.style.height = o + "px", i.style.width = a + "px") } }, lt.fontString = function (t, e, n) { return e + " " + t + "px " + n }, lt.longestText = function (t, e, n, i) { var o = (i = i || {}).data = i.data || {}, a = i.garbageCollect = i.garbageCollect || []; i.font !== e && (o = i.data = {}, a = i.garbageCollect = [], i.font = e), t.font = e; var r = 0; lt.each(n, function (e) { null != e && !0 !== lt.isArray(e) ? r = lt.measureText(t, o, a, r, e) : lt.isArray(e) && lt.each(e, function (e) { null == e || lt.isArray(e) || (r = lt.measureText(t, o, a, r, e)) }) }); var s = a.length / 2; if (s > n.length) { for (var g = 0; g < s; g++)delete o[a[g]]; a.splice(0, s) } return r }, lt.measureText = function (t, e, n, i, o) { var a = e[o]; return a || (a = e[o] = t.measureText(o).width, n.push(o)), i < a && (i = a), i }, lt.numberOfLabelLines = function (t) { var e = 1; return lt.each(t, function (t) { lt.isArray(t) && t.length > e && (e = t.length) }), e }, lt.color = M ? function (t) { return t instanceof CanvasGradient && (t = rt.global.defaultColor), M(t) } : function (t) { return console.error("Color.js not found!"), t }, lt.getHoverColor = function (t) { return t instanceof CanvasPattern || t instanceof CanvasGradient ? t : lt.color(t).saturate(.5).darken(.1).rgbString() }, nn._adapters = rn, nn.Animation = At, nn.animationService = pt, nn.controllers = ge, nn.DatasetController = yt, nn.defaults = rt, nn.Element = dt, nn.elements = Nt, nn.Interaction = Ce, nn.layouts = fe, nn.platform = He, nn.plugins = Ee, nn.Scale = un, nn.scaleService = Re, nn.Ticks = sn, nn.Tooltip = Je, nn.helpers.each(Kn, function (t, e) { nn.scaleService.registerScaleType(e, t, t._defaults) }), di) di.hasOwnProperty(Bi) && nn.plugins.register(di[Bi]); nn.platform.initialize(); var yi = nn; return "undefined" != typeof window && (window.Chart = nn), (nn.Chart = nn).Legend = di.legend._element, nn.Title = di.title._element, nn.pluginService = nn.plugins, nn.PluginBase = nn.Element.extend({}), nn.canvasHelpers = nn.helpers.canvas, nn.layoutService = nn.layouts, nn.LinearScaleBase = An, nn.helpers.each(["Bar", "Bubble", "Doughnut", "Line", "PolarArea", "Radar", "Scatter"], function (t) { nn[t] = function (e, n) { return new nn(e, nn.helpers.merge(n || {}, { type: t.charAt(0).toLowerCase() + t.slice(1) })) } }), yi }), function (t) { "use strict"; t.sessionTimeout = function (e) { function n() { clearTimeout(o), (r.countdownMessage || r.countdownBar) && i("session", !0), "function" == typeof r.onStart && r.onStart(r), r.keepAlive && (I || (t.ajax({ type: r.ajaxType, url: r.keepAliveUrl, data: r.ajaxData }), I = !0, setTimeout(function () { I = !1 }, r.keepAliveInterval))), o = setTimeout(function () { "function" != typeof r.onWarn ? t("#session-timeout-dialog").modal("show") : r.onWarn(r), clearTimeout(o), t("#session-timeout-dialog").hasClass("in") || !r.countdownMessage && !r.countdownBar || i("dialog", !0), o = setTimeout(function () { "function" != typeof r.onRedir ? window.location = r.redirUrl : r.onRedir(r) }, r.redirAfter - r.warnAfter) }, r.warnAfter) } function i(e, n) { clearTimeout(s.timer), "dialog" === e && n ? s.timeLeft = Math.floor((r.redirAfter - r.warnAfter) / 1e3) : "session" === e && n && (s.timeLeft = Math.floor(r.redirAfter / 1e3)), r.countdownBar && "dialog" === e ? s.percentLeft = Math.floor(s.timeLeft / ((r.redirAfter - r.warnAfter) / 1e3) * 100) : r.countdownBar && "session" === e && (s.percentLeft = Math.floor(s.timeLeft / (r.redirAfter / 1e3) * 100)); var o = t(".countdown-holder"), a = 0 <= s.timeLeft ? s.timeLeft : 0; if (r.countdownSmart) { var g = Math.floor(a / 60), l = a % 60, c = 0 < g ? g + "m" : ""; 0 < c.length && (c += " "), c += l + "s", o.text(c) } else o.text(a + "s"); r.countdownBar && t(".countdown-bar").css("width", s.percentLeft + "%"), s.timeLeft = s.timeLeft - 1, s.timer = setTimeout(function () { i(e) }, 1e3) } var o, a = { title: "Your Session is About to Expire!", message: "Your session is about to expire.", logoutButton: "Logout", keepAliveButton: "Stay Connected", keepAliveUrl: "/keep-alive", ajaxType: "POST", ajaxData: "", redirUrl: "/timed-out", logoutUrl: "/log-out", warnAfter: 9e5, redirAfter: 12e5, keepAliveInterval: 5e3, keepAlive: !0, ignoreUserActivity: !1, onStart: !1, onWarn: !1, onRedir: !1, countdownMessage: !1, countdownBar: !1, countdownSmart: !1 }, r = a, s = {}; if (e && (r = t.extend(a, e)), r.warnAfter >= r.redirAfter) return console.error('Bootstrap-session-timeout plugin is miss-configured. Option "redirAfter" must be equal or greater than "warnAfter".'), !1; if ("function" != typeof r.onWarn) { var g = r.countdownMessage ? "<p>" + r.countdownMessage.replace(/{timer}/g, '<span class="countdown-holder"></span>') + "</p>" : "", l = r.countdownBar ? '<div class="progress">                   <div class="progress-bar progress-bar-striped countdown-bar active" role="progressbar" style="min-width: 15px; width: 100%;">                     <span class="countdown-holder"></span>                   </div>                 </div>' : ""; t("body").append('<div class="modal fade" id="session-timeout-dialog">               <div class="modal-dialog">                 <div class="modal-content">                   <div class="modal-header">                     <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>                     <h4 class="modal-title">' + r.title + '</h4>                   </div>                   <div class="modal-body">                     <p>' + r.message + "</p>                     " + g + "                     " + l + '                   </div>                   <div class="modal-footer">                     <button id="session-timeout-dialog-logout" type="button" class="btn btn-default">' + r.logoutButton + '</button>                     <button id="session-timeout-dialog-keepalive" type="button" class="btn btn-primary" data-dismiss="modal">' + r.keepAliveButton + "</button>                   </div>                 </div>               </div>              </div>"), t("#session-timeout-dialog-logout").on("click", function () { window.location = r.logoutUrl }), t("#session-timeout-dialog").on("hide.bs.modal", function () { n() }) } if (!r.ignoreUserActivity) { var c = [-1, -1]; t(document).on("keyup mouseup mousemove touchend touchmove", function (e) { if ("mousemove" === e.type) { if (e.clientX === c[0] && e.clientY === c[1]) return; c[0] = e.clientX, c[1] = e.clientY } n(), 0 < t("#session-timeout-dialog").length && t("#session-timeout-dialog").data("bs.modal") && t("#session-timeout-dialog").data("bs.modal").isShown && (t("#session-timeout-dialog").modal("hide"), t("body").removeClass("modal-open"), t("div.modal-backdrop").remove()) }) } var I = !1; n() } }(jQuery), function (t) { t.idleTimer = function (e, n) { var i; function o(e) { var i = t.data(n, "idleTimerObj") || {}; i.idle = !i.idle, i.olddate = +new Date; var o = t.Event((i.idle ? "idle" : "active") + ".idleTimer"); t(n).trigger(o, [n, t.extend({}, i), e]) } function a(e) { var i = t.data(n, "idleTimerObj") || {}; if (("storage" !== e.type || e.originalEvent.key === i.timerSyncId) && null == i.remaining) { if ("mousemove" === e.type) { if (e.pageX === i.pageX && e.pageY === i.pageY) return; if (void 0 === e.pageX && void 0 === e.pageY) return; if (+new Date - i.olddate < 200) return } clearTimeout(i.tId), i.idle && o(e), i.lastActive = +new Date, i.pageX = e.pageX, i.pageY = e.pageY, "storage" !== e.type && i.timerSyncId && "undefined" != typeof localStorage && localStorage.setItem(i.timerSyncId, i.lastActive), i.tId = setTimeout(o, i.timeout) } } function r() { var e = t.data(n, "idleTimerObj") || {}; e.idle = e.idleBackup, e.olddate = +new Date, e.lastActive = e.olddate, e.remaining = null, clearTimeout(e.tId), e.idle || (e.tId = setTimeout(o, e.timeout)) } "object" == typeof e ? (i = e, e = null) : "number" == typeof e && (i = { timeout: e }, e = null), n = n || document, i = t.extend({ idle: !1, timeout: 3e4, events: "mousemove keydown wheel DOMMouseScroll mousewheel mousedown touchstart touchmove MSPointerDown MSPointerMove" }, i); var s, g, l, c = t(n), I = c.data("idleTimerObj") || {}; if (null === e && void 0 !== I.idle) return r(), c; if (null === e); else { if (null !== e && void 0 === I.idle) return !1; if ("destroy" === e) return l = t.data(n, "idleTimerObj") || {}, clearTimeout(l.tId), c.removeData("idleTimerObj"), c.off("._idleTimer"), c; if ("pause" === e) return null == (g = t.data(n, "idleTimerObj") || {}).remaining && (g.remaining = g.timeout - (+new Date - g.olddate), clearTimeout(g.tId)), c; if ("resume" === e) return null != (s = t.data(n, "idleTimerObj") || {}).remaining && (s.idle || (s.tId = setTimeout(o, s.remaining)), s.remaining = null), c; if ("reset" === e) return r(), c; if ("getRemainingTime" === e) return function () { var e = t.data(n, "idleTimerObj") || {}; if (e.idle) return 0; if (null != e.remaining) return e.remaining; var i = e.timeout - (+new Date - e.lastActive); return i < 0 && (i = 0), i }(); if ("getElapsedTime" === e) return +new Date - I.olddate; if ("getLastActiveTime" === e) return I.lastActive; if ("isIdle" === e) return I.idle } return c.on(t.trim((i.events + " ").split(" ").join("._idleTimer ")), function (t) { a(t) }), i.timerSyncId && t(window).bind("storage", a), (I = t.extend({}, { olddate: +new Date, lastActive: +new Date, idle: i.idle, idleBackup: i.idle, timeout: i.timeout, remaining: null, timerSyncId: i.timerSyncId, tId: null, pageX: null, pageY: null })).idle || (I.tId = setTimeout(o, I.timeout)), t.data(n, "idleTimerObj", I), c }, t.fn.idleTimer = function (e) { return this[0] ? t.idleTimer(e, this[0]) : this } }(jQuery), function () { "use strict"; var t = 0, e = {}; function n(i) { if (!i) throw new Error("No options passed to Waypoint constructor"); if (!i.element) throw new Error("No element option passed to Waypoint constructor"); if (!i.handler) throw new Error("No handler option passed to Waypoint constructor"); this.key = "waypoint-" + t, this.options = n.Adapter.extend({}, n.defaults, i), this.element = this.options.element, this.adapter = new n.Adapter(this.element), this.callback = i.handler, this.axis = this.options.horizontal ? "horizontal" : "vertical", this.enabled = this.options.enabled, this.triggerPoint = null, this.group = n.Group.findOrCreate({ name: this.options.group, axis: this.axis }), this.context = n.Context.findOrCreateByElement(this.options.context), n.offsetAliases[this.options.offset] && (this.options.offset = n.offsetAliases[this.options.offset]), this.group.add(this), this.context.add(this), e[this.key] = this, t += 1 } n.prototype.queueTrigger = function (t) { this.group.queueTrigger(this, t) }, n.prototype.trigger = function (t) { this.enabled && this.callback && this.callback.apply(this, t) }, n.prototype.destroy = function () { this.context.remove(this), this.group.remove(this), delete e[this.key] }, n.prototype.disable = function () { return this.enabled = !1, this }, n.prototype.enable = function () { return this.context.refresh(), this.enabled = !0, this }, n.prototype.next = function () { return this.group.next(this) }, n.prototype.previous = function () { return this.group.previous(this) }, n.invokeAll = function (t) { var n = []; for (var i in e) n.push(e[i]); for (var o = 0, a = n.length; o < a; o++)n[o][t]() }, n.destroyAll = function () { n.invokeAll("destroy") }, n.disableAll = function () { n.invokeAll("disable") }, n.enableAll = function () { for (var t in n.Context.refreshAll(), e) e[t].enabled = !0; return this }, n.refreshAll = function () { n.Context.refreshAll() }, n.viewportHeight = function () { return window.innerHeight || document.documentElement.clientHeight }, n.viewportWidth = function () { return document.documentElement.clientWidth }, n.adapters = [], n.defaults = { context: window, continuous: !0, enabled: !0, group: "default", horizontal: !1, offset: 0 }, n.offsetAliases = { "bottom-in-view": function () { return this.context.innerHeight() - this.adapter.outerHeight() }, "right-in-view": function () { return this.context.innerWidth() - this.adapter.outerWidth() } }, window.Waypoint = n }(), function () { "use strict"; var t = 0, e = {}, n = window.Waypoint, i = window.onload; function o(i) { this.element = i, this.Adapter = n.Adapter, this.adapter = new this.Adapter(i), this.key = "waypoint-context-" + t, this.didScroll = !1, this.didResize = !1, this.oldScroll = { x: this.adapter.scrollLeft(), y: this.adapter.scrollTop() }, this.waypoints = { vertical: {}, horizontal: {} }, i.waypointContextKey = this.key, e[i.waypointContextKey] = this, t += 1, n.windowContext || (n.windowContext = !0, n.windowContext = new o(window)), this.createThrottledScrollHandler(), this.createThrottledResizeHandler() } o.prototype.add = function (t) { var e = t.options.horizontal ? "horizontal" : "vertical"; this.waypoints[e][t.key] = t, this.refresh() }, o.prototype.checkEmpty = function () { var t = this.Adapter.isEmptyObject(this.waypoints.horizontal), n = this.Adapter.isEmptyObject(this.waypoints.vertical), i = this.element == this.element.window; t && n && !i && (this.adapter.off(".waypoints"), delete e[this.key]) }, o.prototype.createThrottledResizeHandler = function () { var t = this; function e() { t.handleResize(), t.didResize = !1 } this.adapter.on("resize.waypoints", function () { t.didResize || (t.didResize = !0, n.requestAnimationFrame(e)) }) }, o.prototype.createThrottledScrollHandler = function () { var t = this; function e() { t.handleScroll(), t.didScroll = !1 } this.adapter.on("scroll.waypoints", function () { t.didScroll && !n.isTouch || (t.didScroll = !0, n.requestAnimationFrame(e)) }) }, o.prototype.handleResize = function () { n.Context.refreshAll() }, o.prototype.handleScroll = function () { var t = {}, e = { horizontal: { newScroll: this.adapter.scrollLeft(), oldScroll: this.oldScroll.x, forward: "right", backward: "left" }, vertical: { newScroll: this.adapter.scrollTop(), oldScroll: this.oldScroll.y, forward: "down", backward: "up" } }; for (var n in e) { var i = e[n], o = i.newScroll > i.oldScroll ? i.forward : i.backward; for (var a in this.waypoints[n]) { var r = this.waypoints[n][a]; if (null !== r.triggerPoint) { var s = i.oldScroll < r.triggerPoint, g = i.newScroll >= r.triggerPoint; (s && g || !s && !g) && (r.queueTrigger(o), t[r.group.id] = r.group) } } } for (var l in t) t[l].flushTriggers(); this.oldScroll = { x: e.horizontal.newScroll, y: e.vertical.newScroll } }, o.prototype.innerHeight = function () { return this.element == this.element.window ? n.viewportHeight() : this.adapter.innerHeight() }, o.prototype.remove = function (t) { delete this.waypoints[t.axis][t.key], this.checkEmpty() }, o.prototype.innerWidth = function () { return this.element == this.element.window ? n.viewportWidth() : this.adapter.innerWidth() }, o.prototype.destroy = function () { var t = []; for (var e in this.waypoints) for (var n in this.waypoints[e]) t.push(this.waypoints[e][n]); for (var i = 0, o = t.length; i < o; i++)t[i].destroy() }, o.prototype.refresh = function () { var t, e = this.element == this.element.window, i = e ? void 0 : this.adapter.offset(), o = {}; for (var a in this.handleScroll(), t = { horizontal: { contextOffset: e ? 0 : i.left, contextScroll: e ? 0 : this.oldScroll.x, contextDimension: this.innerWidth(), oldScroll: this.oldScroll.x, forward: "right", backward: "left", offsetProp: "left" }, vertical: { contextOffset: e ? 0 : i.top, contextScroll: e ? 0 : this.oldScroll.y, contextDimension: this.innerHeight(), oldScroll: this.oldScroll.y, forward: "down", backward: "up", offsetProp: "top" } }) { var r = t[a]; for (var s in this.waypoints[a]) { var g, l, c, I, u = this.waypoints[a][s], h = u.options.offset, d = u.triggerPoint, C = 0, A = null == d; u.element !== u.element.window && (C = u.adapter.offset()[r.offsetProp]), "function" == typeof h ? h = h.apply(u) : "string" == typeof h && (h = parseFloat(h), -1 < u.options.offset.indexOf("%") && (h = Math.ceil(r.contextDimension * h / 100))), g = r.contextScroll - r.contextOffset, u.triggerPoint = Math.floor(C + g - h), l = d < r.oldScroll, c = u.triggerPoint >= r.oldScroll, I = !l && !c, !A && l && c ? (u.queueTrigger(r.backward), o[u.group.id] = u.group) : !A && I ? (u.queueTrigger(r.forward), o[u.group.id] = u.group) : A && r.oldScroll >= u.triggerPoint && (u.queueTrigger(r.forward), o[u.group.id] = u.group) } } return n.requestAnimationFrame(function () { for (var t in o) o[t].flushTriggers() }), this }, o.findOrCreateByElement = function (t) { return o.findByElement(t) || new o(t) }, o.refreshAll = function () { for (var t in e) e[t].refresh() }, o.findByElement = function (t) { return e[t.waypointContextKey] }, window.onload = function () { i && i(), o.refreshAll() }, n.requestAnimationFrame = function (t) { (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || function (t) { window.setTimeout(t, 1e3 / 60) }).call(window, t) }, n.Context = o }(), function () { "use strict"; function t(t, e) { return t.triggerPoint - e.triggerPoint } function e(t, e) { return e.triggerPoint - t.triggerPoint } var n = { vertical: {}, horizontal: {} }, i = window.Waypoint; function o(t) { this.name = t.name, this.axis = t.axis, this.id = this.name + "-" + this.axis, this.waypoints = [], this.clearTriggerQueues(), n[this.axis][this.name] = this } o.prototype.add = function (t) { this.waypoints.push(t) }, o.prototype.clearTriggerQueues = function () { this.triggerQueues = { up: [], down: [], left: [], right: [] } }, o.prototype.flushTriggers = function () { for (var n in this.triggerQueues) { var i = this.triggerQueues[n], o = "up" === n || "left" === n; i.sort(o ? e : t); for (var a = 0, r = i.length; a < r; a += 1) { var s = i[a]; !s.options.continuous && a !== i.length - 1 || s.trigger([n]) } } this.clearTriggerQueues() }, o.prototype.next = function (e) { this.waypoints.sort(t); var n = i.Adapter.inArray(e, this.waypoints); return n === this.waypoints.length - 1 ? null : this.waypoints[n + 1] }, o.prototype.previous = function (e) { this.waypoints.sort(t); var n = i.Adapter.inArray(e, this.waypoints); return n ? this.waypoints[n - 1] : null }, o.prototype.queueTrigger = function (t, e) { this.triggerQueues[e].push(t) }, o.prototype.remove = function (t) { var e = i.Adapter.inArray(t, this.waypoints); -1 < e && this.waypoints.splice(e, 1) }, o.prototype.first = function () { return this.waypoints[0] }, o.prototype.last = function () { return this.waypoints[this.waypoints.length - 1] }, o.findOrCreate = function (t) { return n[t.axis][t.name] || new o(t) }, i.Group = o }(), function () { "use strict"; var t = window.jQuery, e = window.Waypoint; function n(e) { this.$element = t(e) } t.each(["innerHeight", "innerWidth", "off", "offset", "on", "outerHeight", "outerWidth", "scrollLeft", "scrollTop"], function (t, e) { n.prototype[e] = function () { var t = Array.prototype.slice.call(arguments); return this.$element[e].apply(this.$element, t) } }), t.each(["extend", "inArray", "isEmptyObject"], function (e, i) { n[i] = t[i] }), e.adapters.push({ name: "jquery", Adapter: n }), e.Adapter = n }(), function () { "use strict"; var t = window.Waypoint; function e(e) { return function () { var n = [], i = arguments[0]; return e.isFunction(arguments[0]) && ((i = e.extend({}, arguments[1])).handler = arguments[0]), this.each(function () { var o = e.extend({}, i, { element: this }); "string" == typeof o.context && (o.context = e(this).closest(o.context)[0]), n.push(new t(o)) }), n } } window.jQuery && (window.jQuery.fn.waypoint = e(window.jQuery)), window.Zepto && (window.Zepto.fn.waypoint = e(window.Zepto)) }(), function (t) { "use strict"; t.fn.counterUp = function (e) { var n = t.extend({ time: 400, delay: 10 }, e); return this.each(function () { var e = t(this), i = n; e.waypoint(function () { var t = i.time / i.delay, n = e.attr("data-value"), o = [n], a = /[0-9]+,[0-9]+/.test(n); n = n.replace(/,/g, ""); for (var r = (/^[0-9]+$/.test(n), /^[0-9]+\.[0-9]+$/.test(n)), s = r ? (n.split(".")[1] || []).length : 0, g = t; 1 <= g; g--) { var l = parseInt(n / t * g); if (r && (l = parseFloat(n / t * g).toFixed(s)), a) for (; /(\d+)(\d{3})/.test(l.toString());)l = l.toString().replace(/(\d+)(\d{3})/, "$1,$2"); o.unshift(l) } e.data("counterup-nums", o), e.text("0"), e.data("counterup-func", function () { e.data("counterup-nums") && (e.text(e.data("counterup-nums").shift()), e.data("counterup-nums").length ? setTimeout(e.data("counterup-func"), i.delay) : (e.data("counterup-nums"), e.data("counterup-nums", null), e.data("counterup-func", null))) }), setTimeout(e.data("counterup-func"), i.delay) }, { offset: "100%", triggerOnce: !0 }) }) } }(jQuery), function (t) { function e() { for (var t = 0; t < y.length; t++)y[t][0](y[t][1]); A = !(y = []) } function n(t, n) { y.push([t, n]), A || (A = !0, B(e, 0)) } function i(t) { var e = (n = t.owner).state_, n = n.data_, i = t[e]; if (t = t.then, "function" == typeof i) { e = f; try { n = i(n) } catch (e) { s(t, e) } } o(t, n) || (e === f && a(t, n), e === b && s(t, n)) } function o(t, e) { var n; try { if (t === e) throw new TypeError("A promises callback cannot return that same promise."); if (e && ("function" == typeof e || "object" == typeof e)) { var i = e.then; if ("function" == typeof i) return i.call(e, function (i) { n || (n = !0, e !== i ? a(t, i) : r(t, i)) }, function (e) { n || (n = !0, s(t, e)) }), !0 } } catch (i) { return n || s(t, i), !0 } return !1 } function a(t, e) { t !== e && o(t, e) || r(t, e) } function r(t, e) { t.state_ === p && (t.state_ = m, t.data_ = e, n(l, t)) } function s(t, e) { t.state_ === p && (t.state_ = m, t.data_ = e, n(c, t)) } function g(t) { var e = t.then_; for (t.then_ = void 0, t = 0; t < e.length; t++)i(e[t]) } function l(t) { t.state_ = f, g(t) } function c(t) { t.state_ = b, g(t) } function I(t) { if ("function" != typeof t) throw new TypeError("Promise constructor takes a function argument"); if (0 == this instanceof I) throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function."); this.then_ = [], function (t, e) { function n(t) { s(e, t) } try { t(function (t) { a(e, t) }, n) } catch (t) { n(t) } }(t, this) } var u, h = t.Promise, d = h && "resolve" in h && "reject" in h && "all" in h && "race" in h && (new h(function (t) { u = t }), "function" == typeof u); function C() { } "undefined" != typeof exports && exports ? (exports.Promise = d ? h : I, exports.Polyfill = I) : "function" == typeof define && define.amd ? define(function () { return d ? h : I }) : d || (t.Promise = I); var A, p = "pending", m = "sealed", f = "fulfilled", b = "rejected", B = "undefined" != typeof setImmediate ? setImmediate : setTimeout, y = []; I.prototype = { constructor: I, state_: p, then_: null, data_: void 0, then: function (t, e) { var o = { owner: this, then: new this.constructor(C), fulfilled: t, rejected: e }; return this.state_ === f || this.state_ === b ? n(i, o) : this.then_.push(o), o.then }, catch: function (t) { return this.then(null, t) } }, I.all = function (t) { if ("[object Array]" !== Object.prototype.toString.call(t)) throw new TypeError("You must pass an array to Promise.all()."); return new this(function (e, n) { function i(t) { return r++, function (n) { a[t] = n, --r || e(a) } } for (var o, a = [], r = 0, s = 0; s < t.length; s++)(o = t[s]) && "function" == typeof o.then ? o.then(i(s), n) : a[s] = o; r || e(a) }) }, I.race = function (t) { if ("[object Array]" !== Object.prototype.toString.call(t)) throw new TypeError("You must pass an array to Promise.race()."); return new this(function (e, n) { for (var i, o = 0; o < t.length; o++)(i = t[o]) && "function" == typeof i.then ? i.then(e, n) : e(i) }) }, I.resolve = function (t) { return t && "object" == typeof t && t.constructor === this ? t : new this(function (e) { e(t) }) }, I.reject = function (t) { return new this(function (e, n) { n(t) }) } }("undefined" != typeof window ? window : "undefined" != typeof global ? global : "undefined" != typeof self ? self : this), function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Sweetalert2 = e() }(this, function () { "use strict"; function t(e) { return (t = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t })(e) } function e(t, e) { if (!(t instanceof e)) throw new TypeError("Cannot call a class as a function") } function n(t, e) { for (var n = 0; n < e.length; n++) { var i = e[n]; i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i) } } function i(t, e, i) { return e && n(t.prototype, e), i && n(t, i), t } function o() { return (o = Object.assign || function (t) { for (var e = 1; e < arguments.length; e++) { var n = arguments[e]; for (var i in n) Object.prototype.hasOwnProperty.call(n, i) && (t[i] = n[i]) } return t }).apply(this, arguments) } function a(t) { return (a = Object.setPrototypeOf ? Object.getPrototypeOf : function (t) { return t.__proto__ || Object.getPrototypeOf(t) })(t) } function r(t, e) { return (r = Object.setPrototypeOf || function (t, e) { return t.__proto__ = e, t })(t, e) } function s(t, e, n) { return (s = function () { if ("undefined" == typeof Reflect || !Reflect.construct) return !1; if (Reflect.construct.sham) return !1; if ("function" == typeof Proxy) return !0; try { return Date.prototype.toString.call(Reflect.construct(Date, [], function () { })), !0 } catch (t) { return !1 } }() ? Reflect.construct : function (t, e, n) { var i = [null]; i.push.apply(i, e); var o = new (Function.bind.apply(t, i)); return n && r(o, n.prototype), o }).apply(null, arguments) } function g(t, e, n) { return (g = "undefined" != typeof Reflect && Reflect.get ? Reflect.get : function (t, e, n) { var i = function (t, e) { for (; !Object.prototype.hasOwnProperty.call(t, e) && null !== (t = a(t));); return t }(t, e); if (i) { var o = Object.getOwnPropertyDescriptor(i, e); return o.get ? o.get.call(n) : o.value } })(t, e, n || t) } function l(t) { return Object.keys(t).map(function (e) { return t[e] }) } function c(t) { return Array.prototype.slice.call(t) } function I(t) { console.warn("".concat(m, " ").concat(t)) } function u(t) { console.error("".concat(m, " ").concat(t)) } function h(t, e) { var n; n = '"'.concat(t, '" is deprecated and will be removed in the next major release. Please use "').concat(e, '" instead.'), -1 === f.indexOf(n) && (f.push(n), I(n)) } function d(t) { return "function" == typeof t ? t() : t } function C(t) { return t && Promise.resolve(t) === t } function A(t) { var e = {}; for (var n in t) e[t[n]] = "swal2-" + t[n]; return e } function p(t, e, n) { c(t.classList).forEach(function (e) { -1 === l(B).indexOf(e) && -1 === l(y).indexOf(e) && t.classList.remove(e) }), e && e[n] && nt(t, e[n]) } var m = "SweetAlert2:", f = [], b = Object.freeze({ cancel: "cancel", backdrop: "backdrop", close: "close", esc: "esc", timer: "timer" }), B = A(["container", "shown", "height-auto", "iosfix", "popup", "modal", "no-backdrop", "toast", "toast-shown", "toast-column", "fade", "show", "hide", "noanimation", "close", "title", "header", "content", "actions", "confirm", "cancel", "footer", "icon", "image", "input", "file", "range", "select", "radio", "checkbox", "label", "textarea", "inputerror", "validation-message", "progress-steps", "active-progress-step", "progress-step", "progress-step-line", "loading", "styled", "top", "top-start", "top-end", "top-left", "top-right", "center", "center-start", "center-end", "center-left", "center-right", "bottom", "bottom-start", "bottom-end", "bottom-left", "bottom-right", "grow-row", "grow-column", "grow-fullscreen", "rtl"]), y = A(["success", "warning", "info", "question", "error"]), v = { previousBodyPadding: null }, x = function (t, e) { return t.classList.contains(e) }; function F(t, e) { if (!e) return null; switch (e) { case "select": case "textarea": case "file": return w(t, B[e]); case "checkbox": return t.querySelector(".".concat(B.checkbox, " input")); case "radio": return t.querySelector(".".concat(B.radio, " input:checked")) || t.querySelector(".".concat(B.radio, " input:first-child")); case "range": return t.querySelector(".".concat(B.range, " input")); default: return w(t, B.input) } } function Q(t) { if (t.focus(), "file" !== t.type) { var e = t.value; t.value = "", t.value = e } } function G(t, e, n) { t && e && ("string" == typeof e && (e = e.split(/\s+/).filter(Boolean)), e.forEach(function (e) { t.forEach ? t.forEach(function (t) { n ? t.classList.add(e) : t.classList.remove(e) }) : n ? t.classList.add(e) : t.classList.remove(e) })) } function w(t, e) { for (var n = 0; n < t.childNodes.length; n++)if (x(t.childNodes[n], e)) return t.childNodes[n] } function X(t, e, n) { n || 0 === parseInt(n) ? t.style[e] = "number" == typeof n ? n + "px" : n : t.style.removeProperty(e) } function S(t) { var e = 1 < arguments.length && void 0 !== arguments[1] ? arguments[1] : "flex"; t.style.opacity = "", t.style.display = e } function k(t) { t.style.opacity = "", t.style.display = "none" } function D(t, e, n) { e ? S(t, n) : k(t) } function Z(t) { return !(!t || !(t.offsetWidth || t.offsetHeight || t.getClientRects().length)) } function U() { return document.body.querySelector("." + B.container) } function W(t) { var e = U(); return e ? e.querySelector(t) : null } function T(t) { return W("." + t) } function N() { return T(B.popup) } function H() { return c(N().querySelectorAll("." + B.icon)) } function E() { var t = H().filter(function (t) { return Z(t) }); return t.length ? t[0] : null } function R() { return T(B.title) } function Y() { return T(B.content) } function O() { return T(B.image) } function _() { return T(B["progress-steps"]) } function V() { return T(B["validation-message"]) } function L() { return W("." + B.actions + " ." + B.confirm) } function M() { return W("." + B.actions + " ." + B.cancel) } function z() { return T(B.actions) } function P() { return T(B.header) } function K() { return T(B.footer) } function J() { return T(B.close) } function j() { var t = c(N().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort(function (t, e) { return t = parseInt(t.getAttribute("tabindex")), (e = parseInt(e.getAttribute("tabindex"))) < t ? 1 : t < e ? -1 : 0 }), e = c(N().querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex="0"], [contenteditable], audio[controls], video[controls]')).filter(function (t) { return "-1" !== t.getAttribute("tabindex") }); return function (t) { for (var e = [], n = 0; n < t.length; n++)-1 === e.indexOf(t[n]) && e.push(t[n]); return e }(t.concat(e)).filter(function (t) { return Z(t) }) } function $() { return "undefined" == typeof window || "undefined" == typeof document } function q(t) { Jt.isVisible() && et !== t.target.value && Jt.resetValidationMessage(), et = t.target.value } function tt(e, n) { e instanceof HTMLElement ? n.appendChild(e) : "object" === t(e) ? st(n, e) : e && (n.innerHTML = e) } var et, nt = function (t, e) { G(t, e, !0) }, it = function (t, e) { G(t, e, !1) }, ot = function () { return !at() && !document.body.classList.contains(B["no-backdrop"]) }, at = function () { return document.body.classList.contains(B["toast-shown"]) }, rt = '\n <div aria-labelledby="'.concat(B.title, '" aria-describedby="').concat(B.content, '" class="').concat(B.popup, '" tabindex="-1">\n   <div class="').concat(B.header, '">\n     <ul class="').concat(B["progress-steps"], '"></ul>\n     <div class="').concat(B.icon, " ").concat(y.error, '">\n       <span class="swal2-x-mark"><span class="swal2-x-mark-line-left"></span><span class="swal2-x-mark-line-right"></span></span>\n     </div>\n     <div class="').concat(B.icon, " ").concat(y.question, '"></div>\n     <div class="').concat(B.icon, " ").concat(y.warning, '"></div>\n     <div class="').concat(B.icon, " ").concat(y.info, '"></div>\n     <div class="').concat(B.icon, " ").concat(y.success, '">\n       <div class="swal2-success-circular-line-left"></div>\n       <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n       <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n       <div class="swal2-success-circular-line-right"></div>\n     </div>\n     <img class="').concat(B.image, '" />\n     <h2 class="').concat(B.title, '" id="').concat(B.title, '"></h2>\n     <button type="button" class="').concat(B.close, '">&times;</button>\n   </div>\n   <div class="').concat(B.content, '">\n     <div id="').concat(B.content, '"></div>\n     <input class="').concat(B.input, '" />\n     <input type="file" class="').concat(B.file, '" />\n     <div class="').concat(B.range, '">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(B.select, '"></select>\n     <div class="').concat(B.radio, '"></div>\n     <label for="').concat(B.checkbox, '" class="').concat(B.checkbox, '">\n       <input type="checkbox" />\n       <span class="').concat(B.label, '"></span>\n     </label>\n     <textarea class="').concat(B.textarea, '"></textarea>\n     <div class="').concat(B["validation-message"], '" id="').concat(B["validation-message"], '"></div>\n   </div>\n   <div class="').concat(B.actions, '">\n     <button type="button" class="').concat(B.confirm, '">OK</button>\n     <button type="button" class="').concat(B.cancel, '">Cancel</button>\n   </div>\n   <div class="').concat(B.footer, '">\n   </div>\n </div>\n').replace(/(^|\n)\s*/g, ""), st = function (t, e) { if (t.innerHTML = "", 0 in e) for (var n = 0; n in e; n++)t.appendChild(e[n].cloneNode(!0)); else t.appendChild(e.cloneNode(!0)) }, gt = function () { if ($()) return !1; var t = document.createElement("div"), e = { WebkitAnimation: "webkitAnimationEnd", OAnimation: "oAnimationEnd oanimationend", animation: "animationend" }; for (var n in e) if (e.hasOwnProperty(n) && void 0 !== t.style[n]) return e[n]; return !1 }(); function lt(t, e, n) { D(t, n["showC" + e.substring(1) + "Button"], "inline-block"), t.innerHTML = n[e + "ButtonText"], t.setAttribute("aria-label", n[e + "ButtonAriaLabel"]), t.className = B[e], p(t, n.customClass, e + "Button"), nt(t, n[e + "ButtonClass"]) } function ct(t, e) { var n = F(Y(), t); if (n) for (var i in function (t) { for (var e = 0; e < t.attributes.length; e++) { var n = t.attributes[e].name; -1 === ["type", "value", "style"].indexOf(n) && t.removeAttribute(n) } }(n), e) "range" === t && "placeholder" === i || n.setAttribute(i, e[i]) } function It(t, e) { t.placeholder && !e.inputPlaceholder || (t.placeholder = e.inputPlaceholder) } var ut = { promise: new WeakMap, innerParams: new WeakMap, domCache: new WeakMap }, ht = {}; function dt(t, e) { var n = _(); if (!e.progressSteps || 0 === e.progressSteps.length) return k(n); S(n), n.innerHTML = ""; var i = parseInt(null === e.currentProgressStep ? Jt.getQueueStep() : e.currentProgressStep); i >= e.progressSteps.length && I("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"), e.progressSteps.forEach(function (t, o) { var a, r, s, g, l = (a = t, r = document.createElement("li"), nt(r, B["progress-step"]), r.innerHTML = a, r); if (n.appendChild(l), o === i && nt(l, B["active-progress-step"]), o !== e.progressSteps.length - 1) { var c = (s = t, g = document.createElement("li"), nt(g, B["progress-step-line"]), s.progressStepsDistance && (g.style.width = s.progressStepsDistance), g); n.appendChild(c) } }) } function Ct(t, e) { var n, i, o, a; o = e, X(a = N(), "width", o.width), X(a, "padding", o.padding), o.background && (a.style.background = o.background), a.className = B.popup, o.toast ? (nt([document.documentElement, document.body], B["toast-shown"]), nt(a, B.toast)) : nt(a, B.modal), p(a, o.customClass, "popup"), "string" == typeof o.customClass && nt(a, o.customClass), G(a, B.noanimation, !o.animation), function (t, e) { var n, i, o, a, r = U(); r && (o = r, "string" == typeof (a = e.backdrop) ? o.style.background = a : a || nt([document.documentElement, document.body], B["no-backdrop"]), !e.backdrop && e.allowOutsideClick && I('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'), n = r, (i = e.position) in B ? nt(n, B[i]) : (I('The "position" parameter is not valid, defaulting to "center"'), nt(n, B.center)), function (t, e) { if (e && "string" == typeof e) { var n = "grow-" + e; n in B && nt(t, B[n]) } }(r, e.grow), p(r, e.customClass, "container"), e.customContainerClass && nt(r, e.customContainerClass)) }(0, e), function (t, e) { var n, i, o, a; p(P(), e.customClass, "header"), dt(0, e), function (t, e) { var n = ut.innerParams.get(t); if (n && e.type === n.type && E()) p(E(), e.customClass, "icon"); else if (function () { for (var t = H(), e = 0; e < t.length; e++)k(t[e]) }(), e.type) if (function () { for (var t = N(), e = window.getComputedStyle(t).getPropertyValue("background-color"), n = t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"), i = 0; i < n.length; i++)n[i].style.backgroundColor = e }(), -1 !== Object.keys(y).indexOf(e.type)) { var i = W(".".concat(B.icon, ".").concat(y[e.type])); S(i), p(i, e.customClass, "icon"), G(i, "swal2-animate-".concat(e.type, "-icon"), e.animation) } else u('Unknown type! Expected "success", "error", "warning", "info" or "question", got "'.concat(e.type, '"')) }(t, e), function (t, e) { var n = O(); if (!e.imageUrl) return k(n); S(n), n.setAttribute("src", e.imageUrl), n.setAttribute("alt", e.imageAlt), X(n, "width", e.imageWidth), X(n, "height", e.imageHeight), n.className = B.image, p(n, e.customClass, "image"), e.imageClass && nt(n, e.imageClass) }(0, e), o = e, D(a = R(), o.title || o.titleText), o.title && tt(o.title, a), o.titleText && (a.innerText = o.titleText), p(a, o.customClass, "title"), n = e, p(i = J(), n.customClass, "closeButton"), D(i, n.showCloseButton), i.setAttribute("aria-label", n.closeButtonAriaLabel) }(t, e), function (t, e) { var n = Y().querySelector("#" + B.content); e.html ? (tt(e.html, n), S(n, "block")) : e.text ? (n.textContent = e.text, S(n, "block")) : k(n), function (t, e) { for (var n = ut.innerParams.get(t), i = !n || e.input !== n.input, o = Y(), a = ["input", "file", "range", "select", "radio", "checkbox", "textarea"], r = 0; r < a.length; r++) { var s = B[a[r]], g = w(o, s); ct(a[r], e.inputAttributes), c = s, I = e, (l = g).className = c, I.inputClass && nt(l, I.inputClass), I.customClass && nt(l, I.customClass.input), i && k(g) } var l, c, I; if (e.input) { if (!ht[e.input]) return u('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input, '"')); if (i) S(ht[e.input](e)) } }(t, e), p(Y(), e.customClass, "content") }(t, e), function (t, e) { var n = z(), i = L(), o = M(); e.showConfirmButton || e.showCancelButton ? S(n) : k(n), p(n, e.customClass, "actions"), lt(i, "confirm", e), lt(o, "cancel", e), e.buttonsStyling ? function (t, e, n) { nt([t, e], B.styled), n.confirmButtonColor && (t.style.backgroundColor = n.confirmButtonColor), n.cancelButtonColor && (e.style.backgroundColor = n.cancelButtonColor); var i = window.getComputedStyle(t).getPropertyValue("background-color"); t.style.borderLeftColor = i, t.style.borderRightColor = i }(i, o, e) : (it([i, o], B.styled), i.style.backgroundColor = i.style.borderLeftColor = i.style.borderRightColor = "", o.style.backgroundColor = o.style.borderLeftColor = o.style.borderRightColor = "") }(0, e), n = e, D(i = K(), n.footer), n.footer && tt(n.footer, i), p(i, n.customClass, "footer") } function At() { var t = N(); t || Jt.fire(""), t = N(); var e = z(), n = L(), i = M(); S(e), S(n), nt([t, e], B.loading), n.disabled = !0, i.disabled = !0, t.setAttribute("data-loading", !0), t.setAttribute("aria-busy", !0), t.focus() } function pt(t) { return yt.hasOwnProperty(t) } function mt(t) { return xt[t] } ht.text = ht.email = ht.password = ht.number = ht.tel = ht.url = function (e) { var n = w(Y(), B.input); return "string" == typeof e.inputValue || "number" == typeof e.inputValue ? n.value = e.inputValue : C(e.inputValue) || I('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(t(e.inputValue), '"')), It(n, e), n.type = e.input, n }, ht.file = function (t) { var e = w(Y(), B.file); return It(e, t), e.type = t.input, e }, ht.range = function (t) { var e = w(Y(), B.range), n = e.querySelector("input"), i = e.querySelector("output"); return n.value = t.inputValue, n.type = t.input, i.value = t.inputValue, e }, ht.select = function (t) { var e = w(Y(), B.select); if (e.innerHTML = "", t.inputPlaceholder) { var n = document.createElement("option"); n.innerHTML = t.inputPlaceholder, n.value = "", n.disabled = !0, n.selected = !0, e.appendChild(n) } return e }, ht.radio = function () { var t = w(Y(), B.radio); return t.innerHTML = "", t }, ht.checkbox = function (t) { var e = w(Y(), B.checkbox), n = F(Y(), "checkbox"); return n.type = "checkbox", n.value = 1, n.id = B.checkbox, n.checked = Boolean(t.inputValue), e.querySelector("span").innerHTML = t.inputPlaceholder, e }, ht.textarea = function (t) { var e = w(Y(), B.textarea); return e.value = t.inputValue, It(e, t), e }; var ft = [], bt = {}, Bt = function () { return new Promise(function (t) { var e = window.scrollX, n = window.scrollY; bt.restoreFocusTimeout = setTimeout(function () { bt.previousActiveElement && bt.previousActiveElement.focus ? (bt.previousActiveElement.focus(), bt.previousActiveElement = null) : document.body && document.body.focus(), t() }, 100), void 0 !== e && void 0 !== n && window.scrollTo(e, n) }) }, yt = { title: "", titleText: "", text: "", html: "", footer: "", type: null, toast: !1, customClass: "", customContainerClass: "", target: "body", backdrop: !0, animation: !0, heightAuto: !0, allowOutsideClick: !0, allowEscapeKey: !0, allowEnterKey: !0, stopKeydownPropagation: !0, keydownListenerCapture: !1, showConfirmButton: !0, showCancelButton: !1, preConfirm: null, confirmButtonText: "OK", confirmButtonAriaLabel: "", confirmButtonColor: null, confirmButtonClass: "", cancelButtonText: "Cancel", cancelButtonAriaLabel: "", cancelButtonColor: null, cancelButtonClass: "", buttonsStyling: !0, reverseButtons: !1, focusConfirm: !0, focusCancel: !1, showCloseButton: !1, closeButtonAriaLabel: "Close this dialog", showLoaderOnConfirm: !1, imageUrl: null, imageWidth: null, imageHeight: null, imageAlt: "", imageClass: "", timer: null, width: null, padding: null, background: null, input: null, inputPlaceholder: "", inputValue: "", inputOptions: {}, inputAutoTrim: !0, inputClass: "", inputAttributes: {}, inputValidator: null, validationMessage: null, grow: !1, position: "center", progressSteps: [], currentProgressStep: null, progressStepsDistance: null, onBeforeOpen: null, onAfterClose: null, onOpen: null, onClose: null, scrollbarPadding: !0 }, vt = ["title", "titleText", "text", "html", "type", "customClass", "showConfirmButton", "showCancelButton", "confirmButtonText", "confirmButtonAriaLabel", "confirmButtonColor", "confirmButtonClass", "cancelButtonText", "cancelButtonAriaLabel", "cancelButtonColor", "cancelButtonClass", "buttonsStyling", "reverseButtons", "imageUrl", "imageWidth", "imageHeigth", "imageAlt", "imageClass", "progressSteps", "currentProgressStep"], xt = { customContainerClass: "customClass", confirmButtonClass: "customClass", cancelButtonClass: "customClass", imageClass: "customClass", inputClass: "customClass" }, Ft = ["allowOutsideClick", "allowEnterKey", "backdrop", "focusConfirm", "focusCancel", "heightAuto", "keydownListenerCapture"], Qt = Object.freeze({ isValidParameter: pt, isUpdatableParameter: function (t) { return -1 !== vt.indexOf(t) }, isDeprecatedParameter: mt, argsToParams: function (e) { var n = {}; switch (t(e[0])) { case "object": o(n, e[0]); break; default: ["title", "html", "type"].forEach(function (i, o) { switch (t(e[o])) { case "string": n[i] = e[o]; break; case "undefined": break; default: u("Unexpected type of ".concat(i, '! Expected "string", got ').concat(t(e[o]))) } }) }return n }, isVisible: function () { return Z(N()) }, clickConfirm: function () { return L() && L().click() }, clickCancel: function () { return M() && M().click() }, getContainer: U, getPopup: N, getTitle: R, getContent: Y, getImage: O, getIcon: E, getIcons: H, getCloseButton: J, getActions: z, getConfirmButton: L, getCancelButton: M, getHeader: P, getFooter: K, getFocusableElements: j, getValidationMessage: V, isLoading: function () { return N().hasAttribute("data-loading") }, fire: function () { for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; return s(this, e) }, mixin: function (t) { return function (t, e) { if ("function" != typeof e && null !== e) throw new TypeError("Super expression must either be null or a function"); t.prototype = Object.create(e && e.prototype, { constructor: { value: t, writable: !0, configurable: !0 } }), e && r(t, e) }(n, this), i(n, [{ key: "_main", value: function (e) { return g(a(n.prototype), "_main", this).call(this, o({}, t, e)) } }]), n; function n() { return e(this, n), t = this, !(i = a(n).apply(this, arguments)) || "object" != typeof i && "function" != typeof i ? function (t) { if (void 0 === t) throw new ReferenceError("this hasn't been initialised - super() hasn't been called"); return t }(t) : i; var t, i } }, queue: function (t) { var e = this; function n(t, e) { ft = [], document.body.removeAttribute("data-swal2-queue-step"), t(e) } ft = t; var i = []; return new Promise(function (t) { !function o(a, r) { a < ft.length ? (document.body.setAttribute("data-swal2-queue-step", a), e.fire(ft[a]).then(function (e) { void 0 !== e.value ? (i.push(e.value), o(a + 1, r)) : n(t, { dismiss: e.dismiss }) })) : n(t, { value: i }) }(0) }) }, getQueueStep: function () { return document.body.getAttribute("data-swal2-queue-step") }, insertQueueStep: function (t, e) { return e && e < ft.length ? ft.splice(e, 0, t) : ft.push(t) }, deleteQueueStep: function (t) { void 0 !== ft[t] && ft.splice(t, 1) }, showLoading: At, enableLoading: At, getTimerLeft: function () { return bt.timeout && bt.timeout.getTimerLeft() }, stopTimer: function () { return bt.timeout && bt.timeout.stop() }, resumeTimer: function () { return bt.timeout && bt.timeout.start() }, toggleTimer: function () { var t = bt.timeout; return t && (t.running ? t.stop() : t.start()) }, increaseTimer: function (t) { return bt.timeout && bt.timeout.increase(t) }, isTimerRunning: function () { return bt.timeout && bt.timeout.isRunning() } }); function Gt() { var t = ut.innerParams.get(this), e = ut.domCache.get(this); t.showConfirmButton || (k(e.confirmButton), t.showCancelButton || k(e.actions)), it([e.popup, e.actions], B.loading), e.popup.removeAttribute("aria-busy"), e.popup.removeAttribute("data-loading"), e.confirmButton.disabled = !1, e.cancelButton.disabled = !1 } function wt() { return !!window.MSInputMethodContext && !!document.documentMode } function Xt() { var t = U(), e = N(); t.style.removeProperty("align-items"), e.offsetTop < 0 && (t.style.alignItems = "flex-start") } var St = function () { null !== v.previousBodyPadding && (document.body.style.paddingRight = v.previousBodyPadding + "px", v.previousBodyPadding = null) }, kt = function () { if (x(document.body, B.iosfix)) { var t = parseInt(document.body.style.top, 10); it(document.body, B.iosfix), document.body.style.top = "", document.body.scrollTop = -1 * t } }, Dt = function () { "undefined" != typeof window && wt() && window.removeEventListener("resize", Xt) }, Zt = function () { c(document.body.children).forEach(function (t) { t.hasAttribute("data-previous-aria-hidden") ? (t.setAttribute("aria-hidden", t.getAttribute("data-previous-aria-hidden")), t.removeAttribute("data-previous-aria-hidden")) : t.removeAttribute("aria-hidden") }) }, Ut = { swalPromiseResolve: new WeakMap }; function Wt(t, e) { at() ? Ht(e) : (Bt().then(function () { return Ht(e) }), bt.keydownTarget.removeEventListener("keydown", bt.keydownHandler, { capture: bt.keydownListenerCapture }), bt.keydownHandlerAdded = !1), t.parentNode && t.parentNode.removeChild(t), it([document.documentElement, document.body], [B.shown, B["height-auto"], B["no-backdrop"], B["toast-shown"], B["toast-column"]]), ot() && (St(), kt(), Dt(), Zt()) } function Tt(t, e, n) { t.removeEventListener(gt, Tt), x(t, B.hide) && Wt(e, n) } function Nt(t) { var e = U(), n = N(), i = ut.innerParams.get(this), o = Ut.swalPromiseResolve.get(this), a = i.onClose, r = i.onAfterClose; n && (null !== a && "function" == typeof a && a(n), it(n, B.show), nt(n, B.hide), gt && !x(n, B.noanimation) ? n.addEventListener(gt, Tt.bind(null, n, e, r)) : Wt(e, r), o(t || {})) } var Ht = function (t) { null !== t && "function" == typeof t && setTimeout(function () { t() }) }; function Et(t, e, n) { var i = ut.domCache.get(t); e.forEach(function (t) { i[t].disabled = n }) } function Rt(t, e) { if (!t) return !1; if ("radio" === t.type) for (var n = t.parentNode.parentNode.querySelectorAll("input"), i = 0; i < n.length; i++)n[i].disabled = e; else t.disabled = e } var Yt = (i(_t, [{ key: "start", value: function () { return this.running || (this.running = !0, this.started = new Date, this.id = setTimeout(this.callback, this.remaining)), this.remaining } }, { key: "stop", value: function () { return this.running && (this.running = !1, clearTimeout(this.id), this.remaining -= new Date - this.started), this.remaining } }, { key: "increase", value: function (t) { var e = this.running; return e && this.stop(), this.remaining += t, e && this.start(), this.remaining } }, { key: "getTimerLeft", value: function () { return this.running && (this.stop(), this.start()), this.remaining } }, { key: "isRunning", value: function () { return this.running } }]), _t), Ot = { email: function (t, e) { return /^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(t) ? Promise.resolve() : Promise.resolve(e || "Invalid email address") }, url: function (t, e) { return /^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&\/\/=]*)$/.test(t) ? Promise.resolve() : Promise.resolve(e || "Invalid URL") } }; function _t(t, n) { e(this, _t), this.callback = t, this.remaining = n, this.running = !1, this.start() } function Vt(t, e) { t.removeEventListener(gt, Vt), e.style.overflowY = "auto" } function Lt(t) { var e = U(), n = N(); null !== t.onBeforeOpen && "function" == typeof t.onBeforeOpen && t.onBeforeOpen(n), t.animation && (nt(n, B.show), nt(e, B.fade)), S(n), gt && !x(n, B.noanimation) ? (e.style.overflowY = "hidden", n.addEventListener(gt, Vt.bind(null, n, e))) : e.style.overflowY = "auto", nt([document.documentElement, document.body, e], B.shown), t.heightAuto && t.backdrop && !t.toast && nt([document.documentElement, document.body], B["height-auto"]), ot() && (!t.scrollbarPadding || null === v.previousBodyPadding && document.body.scrollHeight > window.innerHeight && (v.previousBodyPadding = parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")), document.body.style.paddingRight = v.previousBodyPadding + function () { if ("ontouchstart" in window || navigator.msMaxTouchPoints) return 0; var t = document.createElement("div"); t.style.width = "50px", t.style.height = "50px", t.style.overflow = "scroll", document.body.appendChild(t); var e = t.offsetWidth - t.clientWidth; return document.body.removeChild(t), e }() + "px"), function () { if (/iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream && !x(document.body, B.iosfix)) { var t = document.body.scrollTop; document.body.style.top = -1 * t + "px", nt(document.body, B.iosfix) } }(), "undefined" != typeof window && wt() && (Xt(), window.addEventListener("resize", Xt)), c(document.body.children).forEach(function (t) { t === U() || function (t, e) { if ("function" == typeof t.contains) return t.contains(e) }(t, U()) || (t.hasAttribute("aria-hidden") && t.setAttribute("data-previous-aria-hidden", t.getAttribute("aria-hidden")), t.setAttribute("aria-hidden", "true")) }), setTimeout(function () { e.scrollTop = 0 })), at() || bt.previousActiveElement || (bt.previousActiveElement = document.activeElement), null !== t.onOpen && "function" == typeof t.onOpen && setTimeout(function () { t.onOpen(n) }) } var Mt, zt = { select: function (t, e, n) { var i = w(t, B.select); e.forEach(function (t) { var e = t[0], o = t[1], a = document.createElement("option"); a.value = e, a.innerHTML = o, n.inputValue.toString() === e.toString() && (a.selected = !0), i.appendChild(a) }), i.focus() }, radio: function (t, e, n) { var i = w(t, B.radio); e.forEach(function (t) { var e = t[0], o = t[1], a = document.createElement("input"), r = document.createElement("label"); a.type = "radio", a.name = B.radio, a.value = e, n.inputValue.toString() === e.toString() && (a.checked = !0); var s = document.createElement("span"); s.innerHTML = o, s.className = B.label, r.appendChild(a), r.appendChild(s), i.appendChild(r) }); var o = i.querySelectorAll("input"); o.length && o[0].focus() } }, Pt = Object.freeze({ hideLoading: Gt, disableLoading: Gt, getInput: function (t) { var e = ut.innerParams.get(t || this); return F(ut.domCache.get(t || this).content, e.input) }, close: Nt, closePopup: Nt, closeModal: Nt, closeToast: Nt, enableButtons: function () { Et(this, ["confirmButton", "cancelButton"], !1) }, disableButtons: function () { Et(this, ["confirmButton", "cancelButton"], !0) }, enableConfirmButton: function () { h("Swal.disableConfirmButton()", "Swal.getConfirmButton().removeAttribute('disabled')"), Et(this, ["confirmButton"], !1) }, disableConfirmButton: function () { h("Swal.enableConfirmButton()", "Swal.getConfirmButton().setAttribute('disabled', '')"), Et(this, ["confirmButton"], !0) }, enableInput: function () { return Rt(this.getInput(), !1) }, disableInput: function () { return Rt(this.getInput(), !0) }, showValidationMessage: function (t) { var e = ut.domCache.get(this); e.validationMessage.innerHTML = t; var n = window.getComputedStyle(e.popup); e.validationMessage.style.marginLeft = "-".concat(n.getPropertyValue("padding-left")), e.validationMessage.style.marginRight = "-".concat(n.getPropertyValue("padding-right")), S(e.validationMessage); var i = this.getInput(); i && (i.setAttribute("aria-invalid", !0), i.setAttribute("aria-describedBy", B["validation-message"]), Q(i), nt(i, B.inputerror)) }, resetValidationMessage: function () { var t = ut.domCache.get(this); t.validationMessage && k(t.validationMessage); var e = this.getInput(); e && (e.removeAttribute("aria-invalid"), e.removeAttribute("aria-describedBy"), it(e, B.inputerror)) }, getProgressSteps: function () { return h("Swal.getProgressSteps()", "const swalInstance = Swal.fire({progressSteps: ['1', '2', '3']}); const progressSteps = swalInstance.params.progressSteps"), ut.innerParams.get(this).progressSteps }, setProgressSteps: function (t) { h("Swal.setProgressSteps()", "Swal.update()"); var e = o({}, ut.innerParams.get(this), { progressSteps: t }); dt(0, e), ut.innerParams.set(this, e) }, showProgressSteps: function () { S(ut.domCache.get(this).progressSteps) }, hideProgressSteps: function () { k(ut.domCache.get(this).progressSteps) }, _main: function (e) { var n = this; !function (t) { for (var e in t) pt(i = e) || I('Unknown parameter "'.concat(i, '"')), t.toast && (n = e, -1 !== Ft.indexOf(n) && I('The parameter "'.concat(n, '" is incompatible with toasts'))), mt(void 0) && h(void 0, mt(void 0)); var n, i }(e); var i = o({}, yt, e); !function (t) { t.inputValidator || Object.keys(Ot).forEach(function (e) { t.input === e && (t.inputValidator = Ot[e]) }), t.showLoaderOnConfirm && !t.preConfirm && I("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"), t.animation = d(t.animation), t.target && ("string" != typeof t.target || document.querySelector(t.target)) && ("string" == typeof t.target || t.target.appendChild) || (I('Target parameter is not valid, defaulting to "body"'), t.target = "body"), "string" == typeof t.title && (t.title = t.title.split("\n").join("<br />")); var e = N(), n = "string" == typeof t.target ? document.querySelector(t.target) : t.target; (!e || e && n && e.parentNode !== n.parentNode) && function (t) { if ((A = U()) && (A.parentNode.removeChild(A), it([document.documentElement, document.body], [B["no-backdrop"], B["toast-shown"], B["has-column"]])), $()) u("SweetAlert2 requires document to initialize"); else { var e = document.createElement("div"); e.className = B.container, e.innerHTML = rt; var n = "string" == typeof (C = t.target) ? document.querySelector(C) : C; n.appendChild(e), h = t, (d = N()).setAttribute("role", h.toast ? "alert" : "dialog"), d.setAttribute("aria-live", h.toast ? "polite" : "assertive"), h.toast || d.setAttribute("aria-modal", "true"), I = n, "rtl" === window.getComputedStyle(I).direction && nt(U(), B.rtl), o = w(i = Y(), B.input), a = w(i, B.file), r = i.querySelector(".".concat(B.range, " input")), s = i.querySelector(".".concat(B.range, " output")), g = w(i, B.select), l = i.querySelector(".".concat(B.checkbox, " input")), c = w(i, B.textarea), o.oninput = q, a.onchange = q, g.onchange = q, l.onchange = q, c.oninput = q, r.oninput = function (t) { q(t), s.value = r.value }, r.onchange = function (t) { q(t), r.nextSibling.value = r.value } } var i, o, a, r, s, g, l, c, I, h, d, C, A }(t) }(i), Object.freeze(i), bt.timeout && (bt.timeout.stop(), delete bt.timeout), clearTimeout(bt.restoreFocusTimeout); var a = { popup: N(), container: U(), content: Y(), actions: z(), confirmButton: L(), cancelButton: M(), closeButton: J(), validationMessage: V(), progressSteps: _() }; ut.domCache.set(this, a), Ct(this, i), ut.innerParams.set(this, i); var r = this.constructor; return new Promise(function (e) { function o(t) { n.closePopup({ value: t }) } function s(t) { n.closePopup({ dismiss: t }) } Ut.swalPromiseResolve.set(n, e), i.timer && (bt.timeout = new Yt(function () { s("timer"), delete bt.timeout }, i.timer)), i.input && setTimeout(function () { var t = n.getInput(); t && Q(t) }, 0); for (var g = function (t) { i.showLoaderOnConfirm && r.showLoading(), i.preConfirm ? (n.resetValidationMessage(), Promise.resolve().then(function () { return i.preConfirm(t, i.validationMessage) }).then(function (e) { Z(a.validationMessage) || !1 === e ? n.hideLoading() : o(void 0 === e ? t : e) })) : o(t) }, l = function (t) { var e = t.target, o = a.confirmButton, l = a.cancelButton, c = o && (o === e || o.contains(e)), I = l && (l === e || l.contains(e)); switch (t.type) { case "click": if (c) if (n.disableButtons(), i.input) { var u = function () { var t = n.getInput(); if (!t) return null; switch (i.input) { case "checkbox": return t.checked ? 1 : 0; case "radio": return t.checked ? t.value : null; case "file": return t.files.length ? t.files[0] : null; default: return i.inputAutoTrim ? t.value.trim() : t.value } }(); i.inputValidator ? (n.disableInput(), Promise.resolve().then(function () { return i.inputValidator(u, i.validationMessage) }).then(function (t) { n.enableButtons(), n.enableInput(), t ? n.showValidationMessage(t) : g(u) })) : n.getInput().checkValidity() ? g(u) : (n.enableButtons(), n.showValidationMessage(i.validationMessage)) } else g(!0); else I && (n.disableButtons(), s(r.DismissReason.cancel)) } }, c = a.popup.querySelectorAll("button"), I = 0; I < c.length; I++)c[I].onclick = l, c[I].onmouseover = l, c[I].onmouseout = l, c[I].onmousedown = l; if (a.closeButton.onclick = function () { s(r.DismissReason.close) }, i.toast) a.popup.onclick = function () { i.showConfirmButton || i.showCancelButton || i.showCloseButton || i.input || s(r.DismissReason.close) }; else { var h = !1; a.popup.onmousedown = function () { a.container.onmouseup = function (t) { a.container.onmouseup = void 0, t.target === a.container && (h = !0) } }, a.container.onmousedown = function () { a.popup.onmouseup = function (t) { a.popup.onmouseup = void 0, t.target !== a.popup && !a.popup.contains(t.target) || (h = !0) } }, a.container.onclick = function (t) { h ? h = !1 : t.target === a.container && d(i.allowOutsideClick) && s(r.DismissReason.backdrop) } } function A(t, e) { for (var n = j(i.focusCancel), o = 0; o < n.length; o++)return (t += e) === n.length ? t = 0 : -1 === t && (t = n.length - 1), n[t].focus(); a.popup.focus() } var p, m, f, b, y, v; function x(t) { return zt[y.input](v, (e = t, n = [], "undefined" != typeof Map && e instanceof Map ? e.forEach(function (t, e) { n.push([e, t]) }) : Object.keys(e).forEach(function (t) { n.push([t, e[t]]) }), n), y); var e, n } i.reverseButtons ? a.confirmButton.parentNode.insertBefore(a.cancelButton, a.confirmButton) : a.confirmButton.parentNode.insertBefore(a.confirmButton, a.cancelButton), bt.keydownHandlerAdded && (bt.keydownTarget.removeEventListener("keydown", bt.keydownHandler, { capture: bt.keydownListenerCapture }), bt.keydownHandlerAdded = !1), i.toast || (bt.keydownHandler = function (t) { return function (t, e) { if (e.stopKeydownPropagation && t.stopPropagation(), "Enter" !== t.key || t.isComposing) if ("Tab" === t.key) { for (var i = t.target, o = j(e.focusCancel), g = -1, l = 0; l < o.length; l++)if (i === o[l]) { g = l; break } t.shiftKey ? A(g, -1) : A(g, 1), t.stopPropagation(), t.preventDefault() } else -1 !== ["ArrowLeft", "ArrowRight", "ArrowUp", "ArrowDown", "Left", "Right", "Up", "Down"].indexOf(t.key) ? document.activeElement === a.confirmButton && Z(a.cancelButton) ? a.cancelButton.focus() : document.activeElement === a.cancelButton && Z(a.confirmButton) && a.confirmButton.focus() : "Escape" !== t.key && "Esc" !== t.key || !0 !== d(e.allowEscapeKey) || (t.preventDefault(), s(r.DismissReason.esc)); else if (t.target && n.getInput() && t.target.outerHTML === n.getInput().outerHTML) { if (-1 !== ["textarea", "file"].indexOf(e.input)) return; r.clickConfirm(), t.preventDefault() } }(t, i) }, bt.keydownTarget = i.keydownListenerCapture ? window : a.popup, bt.keydownListenerCapture = i.keydownListenerCapture, bt.keydownTarget.addEventListener("keydown", bt.keydownHandler, { capture: bt.keydownListenerCapture }), bt.keydownHandlerAdded = !0), n.enableButtons(), n.hideLoading(), n.resetValidationMessage(), i.toast && (i.input || i.footer || i.showCloseButton) ? nt(document.body, B["toast-column"]) : it(document.body, B["toast-column"]), "select" === i.input || "radio" === i.input ? (b = n, y = i, v = Y(), C(y.inputOptions) ? (At(), y.inputOptions.then(function (t) { b.hideLoading(), x(t) })) : "object" === t(y.inputOptions) ? x(y.inputOptions) : u("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(t(y.inputOptions)))) : -1 !== ["text", "email", "number", "tel", "textarea"].indexOf(i.input) && C(i.inputValue) && (m = i, k(f = (p = n).getInput()), m.inputValue.then(function (t) { f.value = "number" === m.input ? parseFloat(t) || 0 : t + "", S(f), f.focus(), p.hideLoading() }).catch(function (t) { u("Error in inputValue promise: " + t), f.value = "", S(f), f.focus(), (void 0).hideLoading() })), Lt(i), i.toast || (d(i.allowEnterKey) ? i.focusCancel && Z(a.cancelButton) ? a.cancelButton.focus() : i.focusConfirm && Z(a.confirmButton) ? a.confirmButton.focus() : A(-1, 1) : document.activeElement && "function" == typeof document.activeElement.blur && document.activeElement.blur()), a.container.scrollTop = 0 }) }, update: function (t) { var e = {}; Object.keys(t).forEach(function (n) { Jt.isUpdatableParameter(n) ? e[n] = t[n] : I('Invalid parameter to update: "'.concat(n, '". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js')) }); var n = o({}, ut.innerParams.get(this), e); Ct(this, n), ut.innerParams.set(this, n), Object.defineProperties(this, { params: { value: o({}, this.params, t), writable: !1, enumerable: !0 } }) } }); function Kt() { if ("undefined" != typeof window) { "undefined" == typeof Promise && u("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"), Mt = this; for (var t = arguments.length, e = new Array(t), n = 0; n < t; n++)e[n] = arguments[n]; var i = Object.freeze(this.constructor.argsToParams(e)); Object.defineProperties(this, { params: { value: i, writable: !1, enumerable: !0, configurable: !0 } }); var o = this._main(this.params); ut.promise.set(this, o) } } Kt.prototype.then = function (t) { return ut.promise.get(this).then(t) }, Kt.prototype.finally = function (t) { return ut.promise.get(this).finally(t) }, o(Kt.prototype, Pt), o(Kt, Qt), Object.keys(Pt).forEach(function (t) { Kt[t] = function () { var e; if (Mt) return (e = Mt)[t].apply(e, arguments) } }), Kt.DismissReason = b, Kt.version = "8.8.7"; var Jt = Kt; return Jt.default = Jt }), "undefined" != typeof window && window.Sweetalert2 && (window.swal = window.sweetAlert = window.Swal = window.SweetAlert = window.Sweetalert2), swal.mixin({ width: 400, heightAuto: !1, padding: "2.5rem", buttonsStyling: !1, confirmButtonClass: "btn btn-success", confirmButtonColor: null, cancelButtonClass: "btn btn-secondary", cancelButtonColor: null }); var identity = function (t) { return t }, isArray = function (t) { return $.isArray(t) }, isObject = function (t) { return !isArray(t) && t instanceof Object }, isNumber = function (t) { return t instanceof Number }, isFunction = function (t) { return t instanceof Function }, indexOf = function (t, e) { return $.inArray(e, t) }, inArray = function (t, e) { return -1 !== indexOf(t, e) }, foreach = function (t, e) { for (var n in t) t.hasOwnProperty(n) && e(t[n], n, t) }, last = function (t) { return t[t.length - 1] }, argumentsToArray = function (t) { return Array.prototype.slice.call(t) }, extend = function () { var t = {}; return foreach(argumentsToArray(arguments), function (e) { foreach(e, function (e, n) { t[n] = e }) }), t }, mapToArray = function (t, e) { var n = []; return foreach(t, function (t, i, o) { n.push(e(t, i, o)) }), n }, mapToObject = function (t, e, n) { var i = {}; return foreach(t, function (t, o, a) { o = n ? n(o, t) : o, i[o] = e(t, o, a) }), i }, map = function (t, e, n) { return isArray(t) ? mapToArray(t, e) : mapToObject(t, e, n) }, pluck = function (t, e) { return map(t, function (t) { return t[e] }) }, filter = function (t, e) { var n; return isArray(t) ? (n = [], foreach(t, function (t, i, o) { e(t, i, o) && n.push(t) })) : (n = {}, foreach(t, function (t, i, o) { e(t, i, o) && (n[i] = t) })), n }, call = function (t, e, n) { return map(t, function (t, i) { return t[e].apply(t, n || []) }) }, throttle = function (t, e) { var n = null; return function () { var i = arguments; null === n && (n = setTimeout(function () { n = null }, t), e.apply(this, i)) } }, mixinPubSub = function (t) { var e = {}; return (t = t || {}).publish = function (t, n) { foreach(e[t], function (t) { t(n) }) }, t.subscribe = function (t, n) { e[t] = e[t] || [], e[t].push(n) }, t.unsubscribe = function (t) { foreach(e, function (e) { var n = indexOf(e, t); -1 !== n && e.splice(n, 1) }) }, t }; !function (t) { "use strict"; function e(t, e) { var n, i = mixinPubSub(), o = t.$; return i.getType = function () { throw 'implement me (return type. "text", "radio", etc.)' }, i.$ = function (t) { return t ? o.find(t) : o }, i.disable = function () { i.$().prop("disabled", !0), i.publish("isEnabled", !1) }, i.enable = function () { i.$().prop("disabled", !1), i.publish("isEnabled", !0) }, e.equalTo = function (t, e) { return t === e }, e.publishChange = function (t, o) { var a = i.get(); e.equalTo(a, n) || i.publish("change", { e: t, domElement: o }), n = a }, i } function n(t, n) { var i = e(t, n); return i.get = function () { return i.$().val() }, i.set = function (t) { i.$().val(t) }, i.clear = function () { i.set("") }, n.buildSetter = function (t) { return function (e) { t.call(i, e) } }, i } function i(t, e) { t = isArray(t) ? t : [t], e = isArray(e) ? e : [e]; var n = !0; return t.length !== e.length ? n = !1 : foreach(t, function (t) { inArray(e, t) || (n = !1) }), n } function o(t) { var e = {}, i = n(t, e); return i.getType = function () { return "button" }, i.$().on("change", function (t) { e.publishChange(t, this) }), i } function a(e) { var o = {}, a = n(e, o); return a.getType = function () { return "checkbox" }, a.get = function () { var e = []; return a.$().filter(":checked").each(function () { e.push(t(this).val()) }), e }, a.set = function (e) { e = isArray(e) ? e : [e], a.$().each(function () { t(this).prop("checked", !1) }), foreach(e, function (t) { a.$().filter('[value="' + t + '"]').prop("checked", !0) }) }, o.equalTo = i, a.$().change(function (t) { o.publishChange(t, this) }), a } function r(t) { var e = m(t, {}); return e.getType = function () { return "email" }, e } function s(n) { var i = {}, o = e(n, i); return o.getType = function () { return "file" }, o.get = function () { return last(o.$().val().split("\\")) }, o.clear = function () { this.$().each(function () { t(this).wrap("<form>").closest("form").get(0).reset(), t(this).unwrap() }) }, o.$().change(function (t) { i.publishChange(t, this) }), o } function g(t) { var e = {}, i = n(t, e); return i.getType = function () { return "hidden" }, i.$().change(function (t) { e.publishChange(t, this) }), i } function l(n) { var i = {}, o = e(n, i); return o.getType = function () { return "file[multiple]" }, o.get = function () { var t, e = o.$().get(0).files || [], n = []; for (t = 0; t < (e.length || 0); t += 1)n.push(e[t].name); return n }, o.clear = function () { this.$().each(function () { t(this).wrap("<form>").closest("form").get(0).reset(), t(this).unwrap() }) }, o.$().change(function (t) { i.publishChange(t, this) }), o } function c(t) { var e = {}, o = n(t, e); return o.getType = function () { return "select[multiple]" }, o.get = function () { return o.$().val() || [] }, o.set = function (t) { o.$().val("" === t ? [] : isArray(t) ? t : [t]) }, e.equalTo = i, o.$().change(function (t) { e.publishChange(t, this) }), o } function I(t) { var e = m(t, {}); return e.getType = function () { return "password" }, e } function u(e) { var i = {}, o = n(e, i); return o.getType = function () { return "radio" }, o.get = function () { return o.$().filter(":checked").val() || null }, o.set = function (e) { e ? o.$().filter('[value="' + e + '"]').prop("checked", !0) : o.$().each(function () { t(this).prop("checked", !1) }) }, o.$().change(function (t) { i.publishChange(t, this) }), o } function h(t) { var e = {}, i = n(t, e); return i.getType = function () { return "range" }, i.$().change(function (t) { e.publishChange(t, this) }), i } function d(t) { var e = {}, i = n(t, e); return i.getType = function () { return "select" }, i.$().change(function (t) { e.publishChange(t, this) }), i } function C(t) { var e = {}, i = n(t, e); return i.getType = function () { return "textarea" }, i.$().on("change keyup keydown", function (t) { e.publishChange(t, this) }), i } function A(t) { var e = m(t, {}); return e.getType = function () { return "url" }, e } function p(e) { function n(e, n) { (isObject(n) ? n : f.find(n)).each(function () { var n = t(this).attr("name"); p[n] = b[e]({ $: t(this) }) }) } function i(e, n) { var i = [], o = isObject(n) ? n : f.find(n); isObject(n) ? p[o.attr("name")] = b[e]({ $: o }) : (o.each(function () { -1 === indexOf(i, t(this).attr("name")) && i.push(t(this).attr("name")) }), foreach(i, function (t) { p[t] = b[e]({ $: f.find('input[name="' + t + '"]') }) })) } var p = {}, f = e.$, b = e.constructorOverride || { button: o, text: m, url: A, email: r, password: I, range: h, textarea: C, select: d, "select[multiple]": c, radio: u, checkbox: a, file: s, "file[multiple]": l, hidden: g }; return f.is("input, select, textarea") ? f.is('input[type="button"], button, input[type="submit"]') ? n("button", f) : f.is("textarea") ? n("textarea", f) : f.is('input[type="text"]') || f.is("input") && !f.attr("type") ? n("text", f) : f.is('input[type="password"]') ? n("password", f) : f.is('input[type="email"]') ? n("email", f) : f.is('input[type="url"]') ? n("url", f) : f.is('input[type="range"]') ? n("range", f) : f.is("select") ? f.is("[multiple]") ? n("select[multiple]", f) : n("select", f) : f.is('input[type="file"]') ? f.is("[multiple]") ? n("file[multiple]", f) : n("file", f) : f.is('input[type="hidden"]') ? n("hidden", f) : f.is('input[type="radio"]') ? i("radio", f) : f.is('input[type="checkbox"]') ? i("checkbox", f) : n("text", f) : (n("button", 'input[type="button"], button, input[type="submit"]'), n("text", 'input[type="text"]'), n("password", 'input[type="password"]'), n("email", 'input[type="email"]'), n("url", 'input[type="url"]'), n("range", 'input[type="range"]'), n("textarea", "textarea"), n("select", "select:not([multiple])"), n("select[multiple]", "select[multiple]"), n("file", 'input[type="file"]:not([multiple])'), n("file[multiple]", 'input[type="file"][multiple]'), n("hidden", 'input[type="hidden"]'), i("radio", 'input[type="radio"]'), i("checkbox", 'input[type="checkbox"]')), p } var m = function (t) { var e = {}, i = n(t, e); return i.getType = function () { return "text" }, i.$().on("change keyup keydown", function (t) { e.publishChange(t, this) }), i }; t.fn.inputVal = function (e) { var n = t(this), i = p({ $: n }); return n.is("input, textarea, select") ? void 0 === e ? i[n.attr("name")].get() : (i[n.attr("name")].set(e), n) : void 0 === e ? call(i, "get") : (foreach(e, function (t, e) { i[e].set(t) }), n) }, t.fn.inputOnChange = function (e) { var n = t(this), i = p({ $: n }); return foreach(i, function (t) { t.subscribe("change", function (t) { e.call(t.domElement, t.e) }) }), n }, t.fn.inputDisable = function () { var e = t(this); return call(p({ $: e }), "disable"), e }, t.fn.inputEnable = function () { var e = t(this); return call(p({ $: e }), "enable"), e }, t.fn.inputClear = function () { var e = t(this); return call(p({ $: e }), "clear"), e } }(jQuery), $.fn.repeaterVal = function () { var t, e, n = function (t) { if (1 === t.length && (0 === t[0].key.length || 1 === t[0].key.length && !t[0].key[0])) return t[0].val; foreach(t, function (t) { t.head = t.key.shift() }); var e, i, o = (e = {}, foreach(t, function (t) { e[t.head] || (e[t.head] = []), e[t.head].push(t) }), e); return /^[0-9]+$/.test(t[0].head) ? (i = [], foreach(o, function (t) { i.push(n(t)) })) : (i = {}, foreach(o, function (t, e) { i[e] = n(t) })), i }; return n((t = $(this).inputVal(), e = [], foreach(t, function (t, n) { var i = []; "undefined" !== n && (i.push(n.match(/^[^\[]*/)[0]), i = i.concat(map(n.match(/\[[^\]]*\]/g), function (t) { return t.replace(/[\[\]]/g, "") })), e.push({ val: t, key: i })) }), e)) }, $.fn.repeater = function (t) { var e; return t = t || {}, $(this).each(function () { function n(t, e) { return t.filter(function () { return !e || 0 === $(this).closest(pluck(e, "selector").join(",")).length }) } function i() { return n(s.find("[data-repeater-item]"), t.repeaters) } var o = $(this), a = t.show || function () { $(this).show() }, r = t.hide || function (t) { t() }, s = o.find("[data-repeater-list]").first(), g = s.find("[data-repeater-item]").first().clone().hide(), l = n(n($(this).find("[data-repeater-item]"), t.repeaters).first().find("[data-repeater-delete]"), t.repeaters); function c() { var e = s.data("repeater-list"); return t.$parent ? t.$parent.data("item-name") + "[" + e + "]" : e } function I(e) { t.repeaters && e.each(function () { var e = $(this); foreach(t.repeaters, function (t) { e.find(t.selector).repeater(extend(t, { $parent: e })) }) }) } function u(t, e, n) { t && foreach(t, function (t) { n.call(e.find(t.selector)[0], t) }) } t.isFirstItemUndeletable && l && l.remove(); var h = function (t, e, i) { t.each(function (t) { var o = $(this); o.data("item-name", e + "[" + t + "]"), n(o.find("[name]"), i).each(function () { var a = $(this), r = a.attr("name").match(/\[[^\]]+\]/g), s = r ? last(r).replace(/\[|\]/g, "") : a.attr("name"), g = e + "[" + t + "][" + s + "]" + (a.is(":checkbox") || a.attr("multiple") ? "[]" : ""); a.attr("name", g), u(i, o, function (i) { var o = $(this); h(n(o.find("[data-repeater-item]"), i.repeaters || []), e + "[" + t + "][" + o.find("[data-repeater-list]").first().data("repeater-list") + "]", i.repeaters) }) }) }), s.find("input[name][checked]").removeAttr("checked").prop("checked", !0) }; function d(e) { var n = g.clone(); A(n, e), t.repeaters && I(n), a.call(n.get(0)) } h(i(), c(), t.repeaters), I(i()), t.initEmpty && i().remove(), t.ready && t.ready(function () { h(i(), c(), t.repeaters) }); var C, A = (C = function (e, i, o) { if (i || t.defaultValues) { var a = {}; n(e.find("[name]"), o).each(function () { var t = $(this).attr("name").match(/\[([^\]]*)(\]|\]\[\])$/)[1]; a[t] = $(this).attr("name") }), e.inputVal(map(filter(i || t.defaultValues, function (t, e) { return a[e] }), identity, function (t) { return a[t] })) } u(o, e, function (t) { var e = $(this); n(e.find("[data-repeater-item]"), t.repeaters).each(function () { var n = e.find("[data-repeater-list]").data("repeater-list"); if (i && i[n]) { var o = $(this).clone(); e.find("[data-repeater-item]").remove(), foreach(i[n], function (n) { var i = o.clone(); C(i, n, t.repeaters || []), e.find("[data-repeater-list]").append(i) }) } else C($(this), t.defaultValues, t.repeaters || []) }) }) }, function (e, n) { s.append(e), h(i(), c(), t.repeaters), e.find("[name]").each(function () { $(this).inputClear() }), C(e, n || t.defaultValues, t.repeaters) }); e = function (t) { i().remove(), foreach(t, d) }, n(o.find("[data-repeater-create]"), t.repeaters).click(function () { d() }), s.on("click", "[data-repeater-delete]", function () { var e = $(this).closest("[data-repeater-item]").get(0); r.call(e, function () { $(e).remove(), h(i(), c(), t.repeaters) }) }) }), this.setList = e, this }, function (t, e) { "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.DOMPurify = e() }(this, function () { "use strict"; var t = Object.freeze || function (t) { return t }, e = t(["a", "abbr", "acronym", "address", "area", "article", "aside", "audio", "b", "bdi", "bdo", "big", "blink", "blockquote", "body", "br", "button", "canvas", "caption", "center", "cite", "code", "col", "colgroup", "content", "data", "datalist", "dd", "decorator", "del", "details", "dfn", "dir", "div", "dl", "dt", "element", "em", "fieldset", "figcaption", "figure", "font", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "img", "input", "ins", "kbd", "label", "legend", "li", "main", "map", "mark", "marquee", "menu", "menuitem", "meter", "nav", "nobr", "ol", "optgroup", "option", "output", "p", "pre", "progress", "q", "rp", "rt", "ruby", "s", "samp", "section", "select", "shadow", "small", "source", "spacer", "span", "strike", "strong", "style", "sub", "summary", "sup", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "tr", "track", "tt", "u", "ul", "var", "video", "wbr"]), n = t(["svg", "a", "altglyph", "altglyphdef", "altglyphitem", "animatecolor", "animatemotion", "animatetransform", "audio", "canvas", "circle", "clippath", "defs", "desc", "ellipse", "filter", "font", "g", "glyph", "glyphref", "hkern", "image", "line", "lineargradient", "marker", "mask", "metadata", "mpath", "path", "pattern", "polygon", "polyline", "radialgradient", "rect", "stop", "style", "switch", "symbol", "text", "textpath", "title", "tref", "tspan", "video", "view", "vkern"]), i = t(["feBlend", "feColorMatrix", "feComponentTransfer", "feComposite", "feConvolveMatrix", "feDiffuseLighting", "feDisplacementMap", "feDistantLight", "feFlood", "feFuncA", "feFuncB", "feFuncG", "feFuncR", "feGaussianBlur", "feMerge", "feMergeNode", "feMorphology", "feOffset", "fePointLight", "feSpecularLighting", "feSpotLight", "feTile", "feTurbulence"]), o = t(["math", "menclose", "merror", "mfenced", "mfrac", "mglyph", "mi", "mlabeledtr", "mmultiscripts", "mn", "mo", "mover", "mpadded", "mphantom", "mroot", "mrow", "ms", "mspace", "msqrt", "mstyle", "msub", "msup", "msubsup", "mtable", "mtd", "mtext", "mtr", "munder", "munderover"]), a = t(["#text"]), r = Object.freeze || function (t) { return t }, s = r(["accept", "action", "align", "alt", "autocomplete", "background", "bgcolor", "border", "cellpadding", "cellspacing", "checked", "cite", "class", "clear", "color", "cols", "colspan", "coords", "crossorigin", "datetime", "default", "dir", "disabled", "download", "enctype", "face", "for", "headers", "height", "hidden", "high", "href", "hreflang", "id", "integrity", "ismap", "label", "lang", "list", "loop", "low", "max", "maxlength", "media", "method", "min", "multiple", "name", "noshade", "novalidate", "nowrap", "open", "optimum", "pattern", "placeholder", "poster", "preload", "pubdate", "radiogroup", "readonly", "rel", "required", "rev", "reversed", "role", "rows", "rowspan", "spellcheck", "scope", "selected", "shape", "size", "sizes", "span", "srclang", "start", "src", "srcset", "step", "style", "summary", "tabindex", "title", "type", "usemap", "valign", "value", "width", "xmlns"]), g = r(["accent-height", "accumulate", "additive", "alignment-baseline", "ascent", "attributename", "attributetype", "azimuth", "basefrequency", "baseline-shift", "begin", "bias", "by", "class", "clip", "clip-path", "clip-rule", "color", "color-interpolation", "color-interpolation-filters", "color-profile", "color-rendering", "cx", "cy", "d", "dx", "dy", "diffuseconstant", "direction", "display", "divisor", "dur", "edgemode", "elevation", "end", "fill", "fill-opacity", "fill-rule", "filter", "flood-color", "flood-opacity", "font-family", "font-size", "font-size-adjust", "font-stretch", "font-style", "font-variant", "font-weight", "fx", "fy", "g1", "g2", "glyph-name", "glyphref", "gradientunits", "gradienttransform", "height", "href", "id", "image-rendering", "in", "in2", "k", "k1", "k2", "k3", "k4", "kerning", "keypoints", "keysplines", "keytimes", "lang", "lengthadjust", "letter-spacing", "kernelmatrix", "kernelunitlength", "lighting-color", "local", "marker-end", "marker-mid", "marker-start", "markerheight", "markerunits", "markerwidth", "maskcontentunits", "maskunits", "max", "mask", "media", "method", "mode", "min", "name", "numoctaves", "offset", "operator", "opacity", "order", "orient", "orientation", "origin", "overflow", "paint-order", "path", "pathlength", "patterncontentunits", "patterntransform", "patternunits", "points", "preservealpha", "preserveaspectratio", "r", "rx", "ry", "radius", "refx", "refy", "repeatcount", "repeatdur", "restart", "result", "rotate", "scale", "seed", "shape-rendering", "specularconstant", "specularexponent", "spreadmethod", "stddeviation", "stitchtiles", "stop-color", "stop-opacity", "stroke-dasharray", "stroke-dashoffset", "stroke-linecap", "stroke-linejoin", "stroke-miterlimit", "stroke-opacity", "stroke", "stroke-width", "style", "surfacescale", "tabindex", "targetx", "targety", "transform", "text-anchor", "text-decoration", "text-rendering", "textlength", "type", "u1", "u2", "unicode", "values", "viewbox", "visibility", "version", "vert-adv-y", "vert-origin-x", "vert-origin-y", "width", "word-spacing", "wrap", "writing-mode", "xchannelselector", "ychannelselector", "x", "x1", "x2", "xmlns", "y", "y1", "y2", "z", "zoomandpan"]), l = r(["accent", "accentunder", "align", "bevelled", "close", "columnsalign", "columnlines", "columnspan", "denomalign", "depth", "dir", "display", "displaystyle", "fence", "frame", "height", "href", "id", "largeop", "length", "linethickness", "lspace", "lquote", "mathbackground", "mathcolor", "mathsize", "mathvariant", "maxsize", "minsize", "movablelimits", "notation", "numalign", "open", "rowalign", "rowlines", "rowspacing", "rowspan", "rspace", "rquote", "scriptlevel", "scriptminsize", "scriptsizemultiplier", "selection", "separator", "separators", "stretchy", "subscriptshift", "supscriptshift", "symmetric", "voffset", "width", "xmlns"]), c = r(["xlink:href", "xml:id", "xlink:title", "xml:space", "xmlns:xlink"]), I = Object.hasOwnProperty, u = Object.setPrototypeOf, h = ("undefined" != typeof Reflect && Reflect).apply; function d(t, e) { u && u(t, null); for (var n = e.length; n--;) { var i = e[n]; if ("string" == typeof i) { var o = i.toLowerCase(); o !== i && (Object.isFrozen(e) || (e[n] = o), i = o) } t[i] = !0 } return t } function C(t) { var e = {}, n = void 0; for (n in t) h(I, t, [n]) && (e[n] = t[n]); return e } h || (h = function (t, e, n) { return t.apply(e, n) }); var A = Object.seal || function (t) { return t }, p = A(/\{\{[\s\S]*|[\s\S]*\}\}/gm), m = A(/<%[\s\S]*|[\s\S]*%>/gm), f = A(/^data-[\-\w.\u00B7-\uFFFF]/), b = A(/^aria-[\-\w]+$/), B = A(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i), y = A(/^(?:\w+script|data):/i), v = A(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g), x = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function (t) { return typeof t } : function (t) { return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t }; function F(t) { if (Array.isArray(t)) { for (var e = 0, n = Array(t.length); e < t.length; e++)n[e] = t[e]; return n } return Array.from(t) } var Q = ("undefined" != typeof Reflect && Reflect).apply, G = Array.prototype.slice, w = Object.freeze; Q || (Q = function (t, e, n) { return t.apply(e, n) }); return function t(r) { function I(e) { return t(e) } var u = 0 < arguments.length && void 0 !== r ? r : "undefined" == typeof window ? null : window; if (I.version = "1.0.10", I.removed = [], !u || !u.document || 9 !== u.document.nodeType) return I.isSupported = !1, I; var h = u.document, A = !1, X = !1, S = u.document, k = u.DocumentFragment, D = u.HTMLTemplateElement, Z = u.Node, U = u.NodeFilter, W = u.NamedNodeMap, T = void 0 === W ? u.NamedNodeMap || u.MozNamedAttrMap : W, N = u.Text, H = u.Comment, E = u.DOMParser, R = u.TrustedTypes; if ("function" == typeof D) { var Y = S.createElement("template"); Y.content && Y.content.ownerDocument && (S = Y.content.ownerDocument) } var O = function (t, e) { if ("object" !== (void 0 === t ? "undefined" : x(t)) || "function" != typeof t.createPolicy) return null; var n = null, i = "data-tt-policy-suffix"; e.currentScript && e.currentScript.hasAttribute(i) && (n = e.currentScript.getAttribute(i)); var o = "dompurify" + (n ? "#" + n : ""); try { return t.createPolicy(o, { createHTML: function (t) { return t } }) } catch (t) { return console.warn("TrustedTypes policy " + o + " could not be created."), null } }(R, h), _ = O ? O.createHTML("") : "", V = S, L = V.implementation, M = V.createNodeIterator, z = V.getElementsByTagName, P = V.createDocumentFragment, K = h.importNode, J = {}; function j(t) { Dt && Dt === t || (t && "object" === (void 0 === t ? "undefined" : x(t)) || (t = {}), gt = "ALLOWED_TAGS" in t ? d({}, t.ALLOWED_TAGS) : lt, ct = "ALLOWED_ATTR" in t ? d({}, t.ALLOWED_ATTR) : It, ut = "FORBID_TAGS" in t ? d({}, t.FORBID_TAGS) : {}, ht = "FORBID_ATTR" in t ? d({}, t.FORBID_ATTR) : {}, wt = "USE_PROFILES" in t && t.USE_PROFILES, dt = !1 !== t.ALLOW_ARIA_ATTR, Ct = !1 !== t.ALLOW_DATA_ATTR, At = t.ALLOW_UNKNOWN_PROTOCOLS || !1, pt = t.SAFE_FOR_JQUERY || !1, mt = t.SAFE_FOR_TEMPLATES || !1, ft = t.WHOLE_DOCUMENT || !1, yt = t.RETURN_DOM || !1, vt = t.RETURN_DOM_FRAGMENT || !1, xt = t.RETURN_DOM_IMPORT || !1, Bt = t.FORCE_BODY || !1, Ft = !1 !== t.SANITIZE_DOM, Qt = !1 !== t.KEEP_CONTENT, Gt = t.IN_PLACE || !1, st = t.ALLOWED_URI_REGEXP || st, mt && (Ct = !1), vt && (yt = !0), wt && (gt = d({}, [].concat(F(a))), ct = [], !0 === wt.html && (d(gt, e), d(ct, s)), !0 === wt.svg && (d(gt, n), d(ct, g), d(ct, c)), !0 === wt.svgFilters && (d(gt, i), d(ct, g), d(ct, c)), !0 === wt.mathMl && (d(gt, o), d(ct, l), d(ct, c))), t.ADD_TAGS && (gt === lt && (gt = C(gt)), d(gt, t.ADD_TAGS)), t.ADD_ATTR && (ct === It && (ct = C(ct)), d(ct, t.ADD_ATTR)), t.ADD_URI_SAFE_ATTR && d(kt, t.ADD_URI_SAFE_ATTR), Qt && (gt["#text"] = !0), ft && d(gt, ["html", "head", "body"]), gt.table && d(gt, ["tbody"]), w && w(t), Dt = t) } function $(t) { I.removed.push({ element: t }); try { t.parentNode.removeChild(t) } catch (e) { t.outerHTML = _ } } function q(t, e) { try { I.removed.push({ attribute: e.getAttributeNode(t), from: e }) } catch (t) { I.removed.push({ attribute: null, from: e }) } e.removeAttribute(t) } function tt(t) { var e = void 0, n = void 0; if (Bt) t = "<remove></remove>" + t; else { var i = t.match(/^[\s]+/); (n = i && i[0]) && (t = t.slice(n.length)) } if (A) try { e = (new E).parseFromString(t, "text/html") } catch (t) { } if (X && d(ut, ["title"]), !e || !e.documentElement) { var o = (e = L.createHTMLDocument("")).body; o.parentNode.removeChild(o.parentNode.firstElementChild), o.outerHTML = O ? O.createHTML(t) : t } return n && e.body.insertBefore(S.createTextNode(n), e.body.childNodes[0] || null), z.call(e, ft ? "html" : "body")[0] } I.isSupported = L && void 0 !== L.createHTMLDocument && 9 !== S.documentMode; var et = p, nt = m, it = f, ot = b, at = y, rt = v, st = B, gt = null, lt = d({}, [].concat(F(e), F(n), F(i), F(o), F(a))), ct = null, It = d({}, [].concat(F(s), F(g), F(l), F(c))), ut = null, ht = null, dt = !0, Ct = !0, At = !1, pt = !1, mt = !1, ft = !1, bt = !1, Bt = !1, yt = !1, vt = !1, xt = !1, Ft = !0, Qt = !0, Gt = !1, wt = {}, Xt = d({}, ["audio", "head", "math", "script", "style", "template", "svg", "video"]), St = d({}, ["audio", "video", "img", "source", "image"]), kt = d({}, ["alt", "class", "for", "id", "label", "name", "pattern", "placeholder", "summary", "title", "value", "style", "xmlns"]), Dt = null, Zt = S.createElement("form"); function Ut(t) { return M.call(t.ownerDocument || t, t, U.SHOW_ELEMENT | U.SHOW_COMMENT | U.SHOW_TEXT, function () { return U.FILTER_ACCEPT }, !1) } function Wt(t) { return "object" === (void 0 === Z ? "undefined" : x(Z)) ? t instanceof Z : t && "object" === (void 0 === t ? "undefined" : x(t)) && "number" == typeof t.nodeType && "string" == typeof t.nodeName } function Tt(t, e, n) { J[t] && J[t].forEach(function (t) { t.call(I, e, n, Dt) }) } function Nt(t) { var e = void 0; if (Tt("beforeSanitizeElements", t, null), function (t) { return !(t instanceof N || t instanceof H || "string" == typeof t.nodeName && "string" == typeof t.textContent && "function" == typeof t.removeChild && t.attributes instanceof T && "function" == typeof t.removeAttribute && "function" == typeof t.setAttribute) }(t)) return $(t), !0; var n = t.nodeName.toLowerCase(); if (Tt("uponSanitizeElement", t, { tagName: n, allowedTags: gt }), gt[n] && !ut[n]) return "noscript" === n && t.innerHTML.match(/<\/noscript/i) ? ($(t), !0) : "noembed" === n && t.innerHTML.match(/<\/noembed/i) ? ($(t), !0) : (!pt || t.firstElementChild || t.content && t.content.firstElementChild || !/</g.test(t.textContent) || (I.removed.push({ element: t.cloneNode() }), t.innerHTML ? t.innerHTML = t.innerHTML.replace(/</g, "&lt;") : t.innerHTML = t.textContent.replace(/</g, "&lt;")), mt && 3 === t.nodeType && (e = (e = (e = t.textContent).replace(et, " ")).replace(nt, " "), t.textContent !== e && (I.removed.push({ element: t.cloneNode() }), t.textContent = e)), Tt("afterSanitizeElements", t, null), !1); if (Qt && !Xt[n] && "function" == typeof t.insertAdjacentHTML) try { var i = t.innerHTML; t.insertAdjacentHTML("AfterEnd", O ? O.createHTML(i) : i) } catch (t) { } return $(t), !0 } function Ht(t, e, n) { if (Ft && ("id" === e || "name" === e) && (n in S || n in Zt)) return !1; if (Ct && it.test(e)); else if (dt && ot.test(e)); else { if (!ct[e] || ht[e]) return !1; if (kt[e]); else if (st.test(n.replace(rt, ""))); else if ("src" !== e && "xlink:href" !== e || "script" === t || 0 !== n.indexOf("data:") || !St[t]) if (At && !at.test(n.replace(rt, ""))); else if (n) return !1 } return !0 } function Et(t) { var e = void 0, n = void 0, i = void 0, o = void 0, a = void 0; Tt("beforeSanitizeAttributes", t, null); var r = t.attributes; if (r) { var s = { attrName: "", attrValue: "", keepAttr: !0, allowedAttributes: ct }; for (a = r.length; a--;) { var g = e = r[a], l = g.name, c = g.namespaceURI; if (n = e.value.trim(), i = l.toLowerCase(), s.attrName = i, s.attrValue = n, s.keepAttr = !0, Tt("uponSanitizeAttribute", t, s), n = s.attrValue, "name" === i && "IMG" === t.nodeName && r.id) o = r.id, r = Q(G, r, []), q("id", t), q(l, t), r.indexOf(o) > a && t.setAttribute("id", o.value); else { if ("INPUT" === t.nodeName && "type" === i && "file" === n && (ct[i] || !ht[i])) continue; "id" === l && t.setAttribute(l, ""), q(l, t) } if (s.keepAttr) if (mt && (n = (n = n.replace(et, " ")).replace(nt, " ")), Ht(t.nodeName.toLowerCase(), i, n)) try { c ? t.setAttributeNS(c, l, n) : t.setAttribute(l, n), I.removed.pop() } catch (t) { } } Tt("afterSanitizeAttributes", t, null) } } function Rt(t) { var e = void 0, n = Ut(t); for (Tt("beforeSanitizeShadowDOM", t, null); e = n.nextNode();)Tt("uponSanitizeShadowNode", e, null), Nt(e) || (e.content instanceof k && Rt(e.content), Et(e)); Tt("afterSanitizeShadowDOM", t, null) } return I.isSupported && (function () { try { tt('<svg><p><style><img src="</style><img src=x onerror=1//">').querySelector("svg img") && (A = !0) } catch (t) { } }(), function () { try { tt("<x/><title>&lt;/title&gt;&lt;img&gt;").querySelector("title").innerHTML.match(/<\/title/) && (X = !0) } catch (t) { } }()), I.sanitize = function (t, e) { var n = void 0, i = void 0, o = void 0, a = void 0, r = void 0; if (t || (t = "\x3c!--\x3e"), "string" != typeof t && !Wt(t)) { if ("function" != typeof t.toString) throw new TypeError("toString is not a function"); if ("string" != typeof (t = t.toString())) throw new TypeError("dirty is not a string, aborting") } if (!I.isSupported) { if ("object" === x(u.toStaticHTML) || "function" == typeof u.toStaticHTML) { if ("string" == typeof t) return u.toStaticHTML(t); if (Wt(t)) return u.toStaticHTML(t.outerHTML) } return t } if (bt || j(e), I.removed = [], Gt); else if (t instanceof Z) 1 === (i = (n = tt("\x3c!--\x3e")).ownerDocument.importNode(t, !0)).nodeType && "BODY" === i.nodeName ? n = i : n.appendChild(i); else { if (!yt && !mt && !ft && -1 === t.indexOf("<")) return O ? O.createHTML(t) : t; if (!(n = tt(t))) return yt ? null : _ } n && Bt && $(n.firstChild); for (var s = Ut(Gt ? t : n); o = s.nextNode();)3 === o.nodeType && o === a || Nt(o) || (o.content instanceof k && Rt(o.content), Et(o), a = o); if (a = null, Gt) return t; if (yt) { if (vt) for (r = P.call(n.ownerDocument); n.firstChild;)r.appendChild(n.firstChild); else r = n; return xt && (r = K.call(h, r, !0)), r } var g = ft ? n.outerHTML : n.innerHTML; return mt && (g = (g = g.replace(et, " ")).replace(nt, " ")), O ? O.createHTML(g) : g }, I.setConfig = function (t) { j(t), bt = !0 }, I.clearConfig = function () { Dt = null, bt = !1 }, I.isValidAttribute = function (t, e, n) { return Dt || j({}), Ht(t.toLowerCase(), e.toLowerCase(), n) }, I.addHook = function (t, e) { "function" == typeof e && (J[t] = J[t] || [], J[t].push(e)) }, I.removeHook = function (t) { J[t] && J[t].pop() }, I.removeHooks = function (t) { J[t] && (J[t] = []) }, I.removeAllHooks = function () { J = {} }, I }() });